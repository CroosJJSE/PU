/**
* @vue/shared v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
function t(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return t=>t in e}!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver(t=>{for(const n of t)if("childList"===n.type)for(const t of n.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)}).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),"use-credentials"===t.crossOrigin?e.credentials="include":"anonymous"===t.crossOrigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();const e={},n=[],r=()=>{},i=()=>!1,s=t=>111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),a=t=>t.startsWith("onUpdate:"),o=Object.assign,l=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},c=Object.prototype.hasOwnProperty,u=(t,e)=>c.call(t,e),h=Array.isArray,d=t=>"[object Map]"===_(t),f=t=>"[object Set]"===_(t),p=t=>"[object Date]"===_(t),g=t=>"function"==typeof t,m=t=>"string"==typeof t,v=t=>"symbol"==typeof t,y=t=>null!==t&&"object"==typeof t,b=t=>(y(t)||g(t))&&g(t.then)&&g(t.catch),w=Object.prototype.toString,_=t=>w.call(t),x=t=>"[object Object]"===_(t),S=t=>m(t)&&"NaN"!==t&&"-"!==t[0]&&""+parseInt(t,10)===t,A=t(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),N=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},E=/-\w/g,L=N(t=>t.replace(E,t=>t.slice(1).toUpperCase())),k=/\B([A-Z])/g,C=N(t=>t.replace(k,"-$1").toLowerCase()),T=N(t=>t.charAt(0).toUpperCase()+t.slice(1)),P=N(t=>t?`on${T(t)}`:""),I=(t,e)=>!Object.is(t,e),D=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},F=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},M=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let O;const R=()=>O||(O="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{});function j(t){if(h(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=m(r)?V(r):j(r);if(i)for(const t in i)e[t]=i[t]}return e}if(m(t)||y(t))return t}const B=/;(?![^(]*\))/g,q=/:([^]+)/,U=/\/\*[^]*?\*\//g;function V(t){const e={};return t.replace(U,"").split(B).forEach(t=>{if(t){const n=t.split(q);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function z(t){let e="";if(m(t))e=t;else if(h(t))for(let n=0;n<t.length;n++){const r=z(t[n]);r&&(e+=r+" ")}else if(y(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const H=t("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function W(t){return!!t||""===t}function $(t,e){if(t===e)return!0;let n=p(t),r=p(e);if(n||r)return!(!n||!r)&&t.getTime()===e.getTime();if(n=v(t),r=v(e),n||r)return t===e;if(n=h(t),r=h(e),n||r)return!(!n||!r)&&function(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=$(t[r],e[r]);return n}(t,e);if(n=y(t),r=y(e),n||r){if(!n||!r)return!1;if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t){const r=t.hasOwnProperty(n),i=e.hasOwnProperty(n);if(r&&!i||!r&&i||!$(t[n],e[n]))return!1}}return String(t)===String(e)}function G(t,e){return t.findIndex(t=>$(t,e))}const K=t=>!(!t||!0!==t.__v_isRef),Y=t=>m(t)?t:null==t?"":h(t)||y(t)&&(t.toString===w||!g(t.toString))?K(t)?Y(t.value):JSON.stringify(t,X,2):String(t),X=(t,e)=>K(e)?X(t,e.value):d(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[e,n],r)=>(t[Q(e,r)+" =>"]=n,t),{})}:f(e)?{[`Set(${e.size})`]:[...e.values()].map(t=>Q(t))}:v(e)?Q(e):!y(e)||h(e)||x(e)?e:String(e),Q=(t,e="")=>{var n;return v(t)?`Symbol(${null!=(n=t.description)?n:e})`:t};
/**
* @vue/reactivity v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
let J,Z;class tt{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=J,!t&&J&&(this.index=(J.scopes||(J.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){let t,e;if(this._isPaused=!0,this.scopes)for(t=0,e=this.scopes.length;t<e;t++)this.scopes[t].pause();for(t=0,e=this.effects.length;t<e;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){let t,e;if(this._isPaused=!1,this.scopes)for(t=0,e=this.scopes.length;t<e;t++)this.scopes[t].resume();for(t=0,e=this.effects.length;t<e;t++)this.effects[t].resume()}}run(t){if(this._active){const e=J;try{return J=this,t()}finally{J=e}}}on(){1===++this._on&&(this.prevScope=J,J=this)}off(){this._on>0&&0===--this._on&&(J=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){let e,n;for(this._active=!1,e=0,n=this.effects.length;e<n;e++)this.effects[e].stop();for(this.effects.length=0,e=0,n=this.cleanups.length;e<n;e++)this.cleanups[e]();if(this.cleanups.length=0,this.scopes){for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const t=this.parent.scopes.pop();t&&t!==this&&(this.parent.scopes[this.index]=t,t.index=this.index)}this.parent=void 0}}}const et=new WeakSet;class nt{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,J&&J.active&&J.effects.push(this)}pause(){this.flags|=64}resume(){64&this.flags&&(this.flags&=-65,et.has(this)&&(et.delete(this),this.trigger()))}notify(){2&this.flags&&!(32&this.flags)||8&this.flags||at(this)}run(){if(!(1&this.flags))return this.fn();this.flags|=2,bt(this),ct(this);const t=Z,e=gt;Z=this,gt=!0;try{return this.fn()}finally{ut(this),Z=t,gt=e,this.flags&=-3}}stop(){if(1&this.flags){for(let t=this.deps;t;t=t.nextDep)ft(t);this.deps=this.depsTail=void 0,bt(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){64&this.flags?et.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ht(this)&&this.run()}get dirty(){return ht(this)}}let rt,it,st=0;function at(t,e=!1){if(t.flags|=8,e)return t.next=it,void(it=t);t.next=rt,rt=t}function ot(){st++}function lt(){if(--st>0)return;if(it){let t=it;for(it=void 0;t;){const e=t.next;t.next=void 0,t.flags&=-9,t=e}}let t;for(;rt;){let n=rt;for(rt=void 0;n;){const r=n.next;if(n.next=void 0,n.flags&=-9,1&n.flags)try{n.trigger()}catch(e){t||(t=e)}n=r}}if(t)throw t}function ct(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function ut(t){let e,n=t.depsTail,r=n;for(;r;){const t=r.prevDep;-1===r.version?(r===n&&(n=t),ft(r),pt(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=t}t.deps=e,t.depsTail=n}function ht(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(dt(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function dt(t){if(4&t.flags&&!(16&t.flags))return;if(t.flags&=-17,t.globalVersion===wt)return;if(t.globalVersion=wt,!t.isSSR&&128&t.flags&&(!t.deps&&!t._dirty||!ht(t)))return;t.flags|=2;const e=t.dep,n=Z,r=gt;Z=t,gt=!0;try{ct(t);const n=t.fn(t._value);(0===e.version||I(n,t._value))&&(t.flags|=128,t._value=n,e.version++)}catch(i){throw e.version++,i}finally{Z=n,gt=r,ut(t),t.flags&=-3}}function ft(t,e=!1){const{dep:n,prevSub:r,nextSub:i}=t;if(r&&(r.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let t=n.computed.deps;t;t=t.nextDep)ft(t,!0)}e||--n.sc||!n.map||n.map.delete(n.key)}function pt(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let gt=!0;const mt=[];function vt(){mt.push(gt),gt=!1}function yt(){const t=mt.pop();gt=void 0===t||t}function bt(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const t=Z;Z=void 0;try{e()}finally{Z=t}}}let wt=0;class _t{constructor(t,e){this.sub=t,this.dep=e,this.version=e.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class xt{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Z||!gt||Z===this.computed)return;let e=this.activeLink;if(void 0===e||e.sub!==Z)e=this.activeLink=new _t(Z,this),Z.deps?(e.prevDep=Z.depsTail,Z.depsTail.nextDep=e,Z.depsTail=e):Z.deps=Z.depsTail=e,St(e);else if(-1===e.version&&(e.version=this.version,e.nextDep)){const t=e.nextDep;t.prevDep=e.prevDep,e.prevDep&&(e.prevDep.nextDep=t),e.prevDep=Z.depsTail,e.nextDep=void 0,Z.depsTail.nextDep=e,Z.depsTail=e,Z.deps===e&&(Z.deps=t)}return e}trigger(t){this.version++,wt++,this.notify(t)}notify(t){ot();try{0;for(let t=this.subs;t;t=t.prevSub)t.sub.notify()&&t.sub.dep.notify()}finally{lt()}}}function St(t){if(t.dep.sc++,4&t.sub.flags){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let t=e.deps;t;t=t.nextDep)St(t)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const At=new WeakMap,Nt=Symbol(""),Et=Symbol(""),Lt=Symbol("");function kt(t,e,n){if(gt&&Z){let e=At.get(t);e||At.set(t,e=new Map);let r=e.get(n);r||(e.set(n,r=new xt),r.map=e,r.key=n),r.track()}}function Ct(t,e,n,r,i,s){const a=At.get(t);if(!a)return void wt++;const o=t=>{t&&t.trigger()};if(ot(),"clear"===e)a.forEach(o);else{const i=h(t),s=i&&S(n);if(i&&"length"===n){const t=Number(r);a.forEach((e,n)=>{("length"===n||n===Lt||!v(n)&&n>=t)&&o(e)})}else switch((void 0!==n||a.has(void 0))&&o(a.get(n)),s&&o(a.get(Lt)),e){case"add":i?s&&o(a.get("length")):(o(a.get(Nt)),d(t)&&o(a.get(Et)));break;case"delete":i||(o(a.get(Nt)),d(t)&&o(a.get(Et)));break;case"set":d(t)&&o(a.get(Nt))}}lt()}function Tt(t){const e=ge(t);return e===t?e:(kt(e,0,Lt),fe(t)?e:e.map(me))}function Pt(t){return kt(t=ge(t),0,Lt),t}const It={__proto__:null,[Symbol.iterator](){return Dt(this,Symbol.iterator,me)},concat(...t){return Tt(this).concat(...t.map(t=>h(t)?Tt(t):t))},entries(){return Dt(this,"entries",t=>(t[1]=me(t[1]),t))},every(t,e){return Mt(this,"every",t,e,void 0,arguments)},filter(t,e){return Mt(this,"filter",t,e,t=>t.map(me),arguments)},find(t,e){return Mt(this,"find",t,e,me,arguments)},findIndex(t,e){return Mt(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Mt(this,"findLast",t,e,me,arguments)},findLastIndex(t,e){return Mt(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Mt(this,"forEach",t,e,void 0,arguments)},includes(...t){return Rt(this,"includes",t)},indexOf(...t){return Rt(this,"indexOf",t)},join(t){return Tt(this).join(t)},lastIndexOf(...t){return Rt(this,"lastIndexOf",t)},map(t,e){return Mt(this,"map",t,e,void 0,arguments)},pop(){return jt(this,"pop")},push(...t){return jt(this,"push",t)},reduce(t,...e){return Ot(this,"reduce",t,e)},reduceRight(t,...e){return Ot(this,"reduceRight",t,e)},shift(){return jt(this,"shift")},some(t,e){return Mt(this,"some",t,e,void 0,arguments)},splice(...t){return jt(this,"splice",t)},toReversed(){return Tt(this).toReversed()},toSorted(t){return Tt(this).toSorted(t)},toSpliced(...t){return Tt(this).toSpliced(...t)},unshift(...t){return jt(this,"unshift",t)},values(){return Dt(this,"values",me)}};function Dt(t,e,n){const r=Pt(t),i=r[e]();return r===t||fe(t)||(i._next=i.next,i.next=()=>{const t=i._next();return t.value&&(t.value=n(t.value)),t}),i}const Ft=Array.prototype;function Mt(t,e,n,r,i,s){const a=Pt(t),o=a!==t&&!fe(t),l=a[e];if(l!==Ft[e]){const e=l.apply(t,s);return o?me(e):e}let c=n;a!==t&&(o?c=function(e,r){return n.call(this,me(e),r,t)}:n.length>2&&(c=function(e,r){return n.call(this,e,r,t)}));const u=l.call(a,c,r);return o&&i?i(u):u}function Ot(t,e,n,r){const i=Pt(t);let s=n;return i!==t&&(fe(t)?n.length>3&&(s=function(e,r,i){return n.call(this,e,r,i,t)}):s=function(e,r,i){return n.call(this,e,me(r),i,t)}),i[e](s,...r)}function Rt(t,e,n){const r=ge(t);kt(r,0,Lt);const i=r[e](...n);return-1!==i&&!1!==i||!pe(n[0])?i:(n[0]=ge(n[0]),r[e](...n))}function jt(t,e,n=[]){vt(),ot();const r=ge(t)[e].apply(t,n);return lt(),yt(),r}const Bt=t("__proto__,__v_isRef,__isVue"),qt=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>"arguments"!==t&&"caller"!==t).map(t=>Symbol[t]).filter(v));function Ut(t){v(t)||(t=String(t));const e=ge(this);return kt(e,0,t),e.hasOwnProperty(t)}class Vt{constructor(t=!1,e=!1){this._isReadonly=t,this._isShallow=e}get(t,e,n){if("__v_skip"===e)return t.__v_skip;const r=this._isReadonly,i=this._isShallow;if("__v_isReactive"===e)return!r;if("__v_isReadonly"===e)return r;if("__v_isShallow"===e)return i;if("__v_raw"===e)return n===(r?i?se:ie:i?re:ne).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const s=h(t);if(!r){let t;if(s&&(t=It[e]))return t;if("hasOwnProperty"===e)return Ut}const a=Reflect.get(t,e,ye(t)?t:n);return(v(e)?qt.has(e):Bt(e))?a:(r||kt(t,0,e),i?a:ye(a)?s&&S(e)?a:a.value:y(a)?r?ce(a):oe(a):a)}}class zt extends Vt{constructor(t=!1){super(!1,t)}set(t,e,n,r){let i=t[e];if(!this._isShallow){const e=de(i);if(fe(n)||de(n)||(i=ge(i),n=ge(n)),!h(t)&&ye(i)&&!ye(n))return e||(i.value=n),!0}const s=h(t)&&S(e)?Number(e)<t.length:u(t,e),a=Reflect.set(t,e,n,ye(t)?t:r);return t===ge(r)&&(s?I(n,i)&&Ct(t,"set",e,n):Ct(t,"add",e,n)),a}deleteProperty(t,e){const n=u(t,e);t[e];const r=Reflect.deleteProperty(t,e);return r&&n&&Ct(t,"delete",e,void 0),r}has(t,e){const n=Reflect.has(t,e);return v(e)&&qt.has(e)||kt(t,0,e),n}ownKeys(t){return kt(t,0,h(t)?"length":Nt),Reflect.ownKeys(t)}}class Ht extends Vt{constructor(t=!1){super(!0,t)}set(t,e){return!0}deleteProperty(t,e){return!0}}const Wt=new zt,$t=new Ht,Gt=new zt(!0),Kt=t=>t,Yt=t=>Reflect.getPrototypeOf(t);function Xt(t){return function(...e){return"delete"!==t&&("clear"===t?void 0:this)}}function Qt(t,e){const n={get(n){const r=this.__v_raw,i=ge(r),s=ge(n);t||(I(n,s)&&kt(i,0,n),kt(i,0,s));const{has:a}=Yt(i),o=e?Kt:t?ve:me;return a.call(i,n)?o(r.get(n)):a.call(i,s)?o(r.get(s)):void(r!==i&&r.get(n))},get size(){const e=this.__v_raw;return!t&&kt(ge(e),0,Nt),e.size},has(e){const n=this.__v_raw,r=ge(n),i=ge(e);return t||(I(e,i)&&kt(r,0,e),kt(r,0,i)),e===i?n.has(e):n.has(e)||n.has(i)},forEach(n,r){const i=this,s=i.__v_raw,a=ge(s),o=e?Kt:t?ve:me;return!t&&kt(a,0,Nt),s.forEach((t,e)=>n.call(r,o(t),o(e),i))}};o(n,t?{add:Xt("add"),set:Xt("set"),delete:Xt("delete"),clear:Xt("clear")}:{add(t){e||fe(t)||de(t)||(t=ge(t));const n=ge(this);return Yt(n).has.call(n,t)||(n.add(t),Ct(n,"add",t,t)),this},set(t,n){e||fe(n)||de(n)||(n=ge(n));const r=ge(this),{has:i,get:s}=Yt(r);let a=i.call(r,t);a||(t=ge(t),a=i.call(r,t));const o=s.call(r,t);return r.set(t,n),a?I(n,o)&&Ct(r,"set",t,n):Ct(r,"add",t,n),this},delete(t){const e=ge(this),{has:n,get:r}=Yt(e);let i=n.call(e,t);i||(t=ge(t),i=n.call(e,t)),r&&r.call(e,t);const s=e.delete(t);return i&&Ct(e,"delete",t,void 0),s},clear(){const t=ge(this),e=0!==t.size,n=t.clear();return e&&Ct(t,"clear",void 0,void 0),n}});return["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=function(t,e,n){return function(...r){const i=this.__v_raw,s=ge(i),a=d(s),o="entries"===t||t===Symbol.iterator&&a,l="keys"===t&&a,c=i[t](...r),u=n?Kt:e?ve:me;return!e&&kt(s,0,l?Et:Nt),{next(){const{value:t,done:e}=c.next();return e?{value:t,done:e}:{value:o?[u(t[0]),u(t[1])]:u(t),done:e}},[Symbol.iterator](){return this}}}}(r,t,e)}),n}function Jt(t,e){const n=Qt(t,e);return(e,r,i)=>"__v_isReactive"===r?!t:"__v_isReadonly"===r?t:"__v_raw"===r?e:Reflect.get(u(n,r)&&r in e?n:e,r,i)}const Zt={get:Jt(!1,!1)},te={get:Jt(!1,!0)},ee={get:Jt(!0,!1)},ne=new WeakMap,re=new WeakMap,ie=new WeakMap,se=new WeakMap;function ae(t){return t.__v_skip||!Object.isExtensible(t)?0:function(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((t=>_(t).slice(8,-1))(t))}function oe(t){return de(t)?t:ue(t,!1,Wt,Zt,ne)}function le(t){return ue(t,!1,Gt,te,re)}function ce(t){return ue(t,!0,$t,ee,ie)}function ue(t,e,n,r,i){if(!y(t))return t;if(t.__v_raw&&(!e||!t.__v_isReactive))return t;const s=ae(t);if(0===s)return t;const a=i.get(t);if(a)return a;const o=new Proxy(t,2===s?r:n);return i.set(t,o),o}function he(t){return de(t)?he(t.__v_raw):!(!t||!t.__v_isReactive)}function de(t){return!(!t||!t.__v_isReadonly)}function fe(t){return!(!t||!t.__v_isShallow)}function pe(t){return!!t&&!!t.__v_raw}function ge(t){const e=t&&t.__v_raw;return e?ge(e):t}const me=t=>y(t)?oe(t):t,ve=t=>y(t)?ce(t):t;function ye(t){return!!t&&!0===t.__v_isRef}function be(t,e){return ye(t)?t:new we(t,e)}class we{constructor(t,e){this.dep=new xt,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=e?t:ge(t),this._value=e?t:me(t),this.__v_isShallow=e}get value(){return this.dep.track(),this._value}set value(t){const e=this._rawValue,n=this.__v_isShallow||fe(t)||de(t);t=n?t:ge(t),I(t,e)&&(this._rawValue=t,this._value=n?t:me(t),this.dep.trigger())}}function _e(t){return ye(t)?t.value:t}const xe={get:(t,e,n)=>"__v_raw"===e?t:_e(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return ye(i)&&!ye(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function Se(t){return he(t)?t:new Proxy(t,xe)}class Ae{constructor(t,e,n){this.fn=t,this.setter=e,this._value=void 0,this.dep=new xt(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=wt-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!e,this.isSSR=n}notify(){if(this.flags|=16,!(8&this.flags)&&Z!==this)return at(this,!0),!0}get value(){const t=this.dep.track();return dt(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}const Ne={},Ee=new WeakMap;let Le;function ke(t,n,i=e){const{immediate:s,deep:a,once:o,scheduler:c,augmentJob:u,call:d}=i,f=t=>a?t:fe(t)||!1===a||0===a?Ce(t,1):Ce(t);let p,m,v,y,b=!1,w=!1;if(ye(t)?(m=()=>t.value,b=fe(t)):he(t)?(m=()=>f(t),b=!0):h(t)?(w=!0,b=t.some(t=>he(t)||fe(t)),m=()=>t.map(t=>ye(t)?t.value:he(t)?f(t):g(t)?d?d(t,2):t():void 0)):m=g(t)?n?d?()=>d(t,2):t:()=>{if(v){vt();try{v()}finally{yt()}}const e=Le;Le=p;try{return d?d(t,3,[y]):t(y)}finally{Le=e}}:r,n&&a){const t=m,e=!0===a?1/0:a;m=()=>Ce(t(),e)}const _=J,x=()=>{p.stop(),_&&_.active&&l(_.effects,p)};if(o&&n){const t=n;n=(...e)=>{t(...e),x()}}let S=w?new Array(t.length).fill(Ne):Ne;const A=t=>{if(1&p.flags&&(p.dirty||t))if(n){const t=p.run();if(a||b||(w?t.some((t,e)=>I(t,S[e])):I(t,S))){v&&v();const e=Le;Le=p;try{const e=[t,S===Ne?void 0:w&&S[0]===Ne?[]:S,y];S=t,d?d(n,3,e):n(...e)}finally{Le=e}}}else p.run()};return u&&u(A),p=new nt(m),p.scheduler=c?()=>c(A,!1):A,y=t=>function(t,e=!1,n=Le){if(n){let e=Ee.get(n);e||Ee.set(n,e=[]),e.push(t)}}(t,!1,p),v=p.onStop=()=>{const t=Ee.get(p);if(t){if(d)d(t,4);else for(const e of t)e();Ee.delete(p)}},n?s?A(!0):S=p.run():c?c(A.bind(null,!0),!0):p.run(),x.pause=p.pause.bind(p),x.resume=p.resume.bind(p),x.stop=x,x}function Ce(t,e=1/0,n){if(e<=0||!y(t)||t.__v_skip)return t;if(((n=n||new Map).get(t)||0)>=e)return t;if(n.set(t,e),e--,ye(t))Ce(t.value,e,n);else if(h(t))for(let r=0;r<t.length;r++)Ce(t[r],e,n);else if(f(t)||d(t))t.forEach(t=>{Ce(t,e,n)});else if(x(t)){for(const r in t)Ce(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Ce(t[r],e,n)}return t}
/**
* @vue/runtime-core v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Te(t,e,n,r){try{return r?t(...r):t()}catch(i){Ie(i,e,n)}}function Pe(t,e,n,r){if(g(t)){const i=Te(t,e,n,r);return i&&b(i)&&i.catch(t=>{Ie(t,e,n)}),i}if(h(t)){const i=[];for(let s=0;s<t.length;s++)i.push(Pe(t[s],e,n,r));return i}}function Ie(t,n,r,i=!0){n&&n.vnode;const{errorHandler:s,throwUnhandledErrorInProduction:a}=n&&n.appContext.config||e;if(n){let e=n.parent;const i=n.proxy,a=`https://vuejs.org/error-reference/#runtime-${r}`;for(;e;){const n=e.ec;if(n)for(let e=0;e<n.length;e++)if(!1===n[e](t,i,a))return;e=e.parent}if(s)return vt(),Te(s,null,10,[t,i,a]),void yt()}!function(t,e,n,r=!0,i=!1){if(i)throw t;console.error(t)}(t,0,0,i,a)}const De=[];let Fe=-1;const Me=[];let Oe=null,Re=0;const je=Promise.resolve();let Be=null;function qe(t){const e=Be||je;return t?e.then(this?t.bind(this):t):e}function Ue(t){if(!(1&t.flags)){const e=We(t),n=De[De.length-1];!n||!(2&t.flags)&&e>=We(n)?De.push(t):De.splice(function(t){let e=Fe+1,n=De.length;for(;e<n;){const r=e+n>>>1,i=De[r],s=We(i);s<t||s===t&&2&i.flags?e=r+1:n=r}return e}(e),0,t),t.flags|=1,Ve()}}function Ve(){Be||(Be=je.then($e))}function ze(t,e,n=Fe+1){for(;n<De.length;n++){const e=De[n];if(e&&2&e.flags){if(t&&e.id!==t.uid)continue;De.splice(n,1),n--,4&e.flags&&(e.flags&=-2),e(),4&e.flags||(e.flags&=-2)}}}function He(t){if(Me.length){const t=[...new Set(Me)].sort((t,e)=>We(t)-We(e));if(Me.length=0,Oe)return void Oe.push(...t);for(Oe=t,Re=0;Re<Oe.length;Re++){const t=Oe[Re];4&t.flags&&(t.flags&=-2),8&t.flags||t(),t.flags&=-2}Oe=null,Re=0}}const We=t=>null==t.id?2&t.flags?-1:1/0:t.id;function $e(t){try{for(Fe=0;Fe<De.length;Fe++){const t=De[Fe];!t||8&t.flags||(4&t.flags&&(t.flags&=-2),Te(t,t.i,t.i?15:14),4&t.flags||(t.flags&=-2))}}finally{for(;Fe<De.length;Fe++){const t=De[Fe];t&&(t.flags&=-2)}Fe=-1,De.length=0,He(),Be=null,(De.length||Me.length)&&$e()}}let Ge=null,Ke=null;function Ye(t){const e=Ge;return Ge=t,Ke=t&&t.type.__scopeId||null,e}function Xe(t,e=Ge,n){if(!e)return t;if(t._n)return t;const r=(...n)=>{r._d&&Hr(-1);const i=Ye(e);let s;try{s=t(...n)}finally{Ye(i),r._d&&Hr(1)}return s};return r._n=!0,r._c=!0,r._d=!0,r}function Qe(t,n){if(null===Ge)return t;const r=wi(Ge),i=t.dirs||(t.dirs=[]);for(let s=0;s<n.length;s++){let[t,a,o,l=e]=n[s];t&&(g(t)&&(t={mounted:t,updated:t}),t.deep&&Ce(a),i.push({dir:t,instance:r,value:a,oldValue:void 0,arg:o,modifiers:l}))}return t}function Je(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let a=0;a<i.length;a++){const o=i[a];s&&(o.oldValue=s[a].value);let l=o.dir[r];l&&(vt(),Pe(l,n,8,[t.el,o,t,e]),yt())}}const Ze=Symbol("_vte"),tn=Symbol("_leaveCb");function en(t,e){6&t.shapeFlag&&t.component?(t.transition=e,en(t.component.subTree,e)):128&t.shapeFlag?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function nn(t,e){return g(t)?(()=>o({name:t.name},e,{setup:t}))():t}function rn(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const sn=new WeakMap;function an(t,n,r,s,a=!1){if(h(t))return void t.forEach((t,e)=>an(t,n&&(h(n)?n[e]:n),r,s,a));if(ln(s)&&!a)return void(512&s.shapeFlag&&s.type.__asyncResolved&&s.component.subTree.component&&an(t,n,r,s.component.subTree));const o=4&s.shapeFlag?wi(s.component):s.el,c=a?null:o,{i:d,r:f}=t,p=n&&n.r,v=d.refs===e?d.refs={}:d.refs,y=d.setupState,b=ge(y),w=y===e?i:t=>u(b,t);if(null!=p&&p!==f)if(on(n),m(p))v[p]=null,w(p)&&(y[p]=null);else if(ye(p)){p.value=null;const t=n;t.k&&(v[t.k]=null)}if(g(f))Te(f,d,12,[c,v]);else{const e=m(f),n=ye(f);if(e||n){const i=()=>{if(t.f){const n=e?w(f)?y[f]:v[f]:f.value;if(a)h(n)&&l(n,o);else if(h(n))n.includes(o)||n.push(o);else if(e)v[f]=[o],w(f)&&(y[f]=v[f]);else{const e=[o];f.value=e,t.k&&(v[t.k]=e)}}else e?(v[f]=c,w(f)&&(y[f]=c)):n&&(f.value=c,t.k&&(v[t.k]=c))};if(c){const e=()=>{i(),sn.delete(t)};e.id=-1,sn.set(t,e),fr(e,r)}else on(t),i()}}}function on(t){const e=sn.get(t);e&&(e.flags|=8,sn.delete(t))}R().requestIdleCallback,R().cancelIdleCallback;const ln=t=>!!t.type.__asyncLoader,cn=t=>t.type.__isKeepAlive;function un(t,e){dn(t,"a",e)}function hn(t,e){dn(t,"da",e)}function dn(t,e,n=ci){const r=t.__wdc||(t.__wdc=()=>{let e=n;for(;e;){if(e.isDeactivated)return;e=e.parent}return t()});if(pn(e,r,n),n){let t=n.parent;for(;t&&t.parent;)cn(t.parent.vnode)&&fn(r,e,n,t),t=t.parent}}function fn(t,e,n,r){const i=pn(e,t,r,!0);_n(()=>{l(r[e],i)},n)}function pn(t,e,n=ci,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...r)=>{vt();const i=fi(n),s=Pe(e,n,t,r);return i(),yt(),s});return r?i.unshift(s):i.push(s),s}}const gn=t=>(e,n=ci)=>{mi&&"sp"!==t||pn(t,(...t)=>e(...t),n)},mn=gn("bm"),vn=gn("m"),yn=gn("bu"),bn=gn("u"),wn=gn("bum"),_n=gn("um"),xn=gn("sp"),Sn=gn("rtg"),An=gn("rtc");function Nn(t,e=ci){pn("ec",t,e)}function En(t,e){return function(t,e,n=!0,r=!1){const i=Ge||ci;if(i){const n=i.type;{const t=_i(n,!1);if(t&&(t===e||t===L(e)||t===T(L(e))))return n}const s=kn(i[t]||n[t],e)||kn(i.appContext[t],e);return!s&&r?n:s}}("components",t,!0,e)||t}const Ln=Symbol.for("v-ndc");function kn(t,e){return t&&(t[e]||t[L(e)]||t[T(L(e))])}function Cn(t,e,n,r){let i;const s=n,a=h(t);if(a||m(t)){let n=!1,r=!1;a&&he(t)&&(n=!fe(t),r=de(t),t=Pt(t)),i=new Array(t.length);for(let a=0,o=t.length;a<o;a++)i[a]=e(n?r?ve(me(t[a])):me(t[a]):t[a],a,void 0,s)}else if("number"==typeof t){i=new Array(t);for(let n=0;n<t;n++)i[n]=e(n+1,n,void 0,s)}else if(y(t))if(t[Symbol.iterator])i=Array.from(t,(t,n)=>e(t,n,void 0,s));else{const n=Object.keys(t);i=new Array(n.length);for(let r=0,a=n.length;r<a;r++){const a=n[r];i[r]=e(t[a],a,r,s)}}else i=[];return i}const Tn=t=>t?gi(t)?wi(t):Tn(t.parent):null,Pn=o(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Tn(t.parent),$root:t=>Tn(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Bn(t),$forceUpdate:t=>t.f||(t.f=()=>{Ue(t.update)}),$nextTick:t=>t.n||(t.n=qe.bind(t.proxy)),$watch:t=>Ar.bind(t)}),In=(t,n)=>t!==e&&!t.__isScriptSetup&&u(t,n),Dn={get({_:t},n){if("__v_skip"===n)return!0;const{ctx:r,setupState:i,data:s,props:a,accessCache:o,type:l,appContext:c}=t;let h;if("$"!==n[0]){const l=o[n];if(void 0!==l)switch(l){case 1:return i[n];case 2:return s[n];case 4:return r[n];case 3:return a[n]}else{if(In(i,n))return o[n]=1,i[n];if(s!==e&&u(s,n))return o[n]=2,s[n];if((h=t.propsOptions[0])&&u(h,n))return o[n]=3,a[n];if(r!==e&&u(r,n))return o[n]=4,r[n];Mn&&(o[n]=0)}}const d=Pn[n];let f,p;return d?("$attrs"===n&&kt(t.attrs,0,""),d(t)):(f=l.__cssModules)&&(f=f[n])?f:r!==e&&u(r,n)?(o[n]=4,r[n]):(p=c.config.globalProperties,u(p,n)?p[n]:void 0)},set({_:t},n,r){const{data:i,setupState:s,ctx:a}=t;return In(s,n)?(s[n]=r,!0):i!==e&&u(i,n)?(i[n]=r,!0):!u(t.props,n)&&(("$"!==n[0]||!(n.slice(1)in t))&&(a[n]=r,!0))},has({_:{data:t,setupState:n,accessCache:r,ctx:i,appContext:s,propsOptions:a,type:o}},l){let c,h;return!!(r[l]||t!==e&&"$"!==l[0]&&u(t,l)||In(n,l)||(c=a[0])&&u(c,l)||u(i,l)||u(Pn,l)||u(s.config.globalProperties,l)||(h=o.__cssModules)&&h[l])},defineProperty(t,e,n){return null!=n.get?t._.accessCache[e]=0:u(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Fn(t){return h(t)?t.reduce((t,e)=>(t[e]=null,t),{}):t}let Mn=!0;function On(t){const e=Bn(t),n=t.proxy,i=t.ctx;Mn=!1,e.beforeCreate&&Rn(e.beforeCreate,t,"bc");const{data:s,computed:a,methods:o,watch:l,provide:c,inject:u,created:d,beforeMount:f,mounted:p,beforeUpdate:m,updated:v,activated:b,deactivated:w,beforeDestroy:_,beforeUnmount:x,destroyed:S,unmounted:A,render:N,renderTracked:E,renderTriggered:L,errorCaptured:k,serverPrefetch:C,expose:T,inheritAttrs:P,components:I,directives:D,filters:F}=e;if(u&&function(t,e){h(t)&&(t=zn(t));for(const n in t){const r=t[n];let i;i=y(r)?"default"in r?Jn(r.from||n,r.default,!0):Jn(r.from||n):Jn(r),ye(i)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:t=>i.value=t}):e[n]=i}}(u,i,null),o)for(const r in o){const t=o[r];g(t)&&(i[r]=t.bind(n))}if(s){const e=s.call(n,n);y(e)&&(t.data=oe(e))}if(Mn=!0,a)for(const h in a){const t=a[h],e=g(t)?t.bind(n,n):g(t.get)?t.get.bind(n,n):r,s=!g(t)&&g(t.set)?t.set.bind(n):r,o=xi({get:e,set:s});Object.defineProperty(i,h,{enumerable:!0,configurable:!0,get:()=>o.value,set:t=>o.value=t})}if(l)for(const r in l)jn(l[r],i,n,r);if(c){const t=g(c)?c.call(n):c;Reflect.ownKeys(t).forEach(e=>{Qn(e,t[e])})}function M(t,e){h(e)?e.forEach(e=>t(e.bind(n))):e&&t(e.bind(n))}if(d&&Rn(d,t,"c"),M(mn,f),M(vn,p),M(yn,m),M(bn,v),M(un,b),M(hn,w),M(Nn,k),M(An,E),M(Sn,L),M(wn,x),M(_n,A),M(xn,C),h(T))if(T.length){const e=t.exposed||(t.exposed={});T.forEach(t=>{Object.defineProperty(e,t,{get:()=>n[t],set:e=>n[t]=e,enumerable:!0})})}else t.exposed||(t.exposed={});N&&t.render===r&&(t.render=N),null!=P&&(t.inheritAttrs=P),I&&(t.components=I),D&&(t.directives=D),C&&rn(t)}function Rn(t,e,n){Pe(h(t)?t.map(t=>t.bind(e.proxy)):t.bind(e.proxy),e,n)}function jn(t,e,n,r){let i=r.includes(".")?Nr(n,r):()=>n[r];if(m(t)){const n=e[t];g(n)&&xr(i,n)}else if(g(t))xr(i,t.bind(n));else if(y(t))if(h(t))t.forEach(t=>jn(t,e,n,r));else{const r=g(t.handler)?t.handler.bind(n):e[t.handler];g(r)&&xr(i,r,t)}}function Bn(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:a}}=t.appContext,o=s.get(e);let l;return o?l=o:i.length||n||r?(l={},i.length&&i.forEach(t=>qn(l,t,a,!0)),qn(l,e,a)):l=e,y(e)&&s.set(e,l),l}function qn(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&qn(t,s,n,!0),i&&i.forEach(e=>qn(t,e,n,!0));for(const a in e)if(r&&"expose"===a);else{const r=Un[a]||n&&n[a];t[a]=r?r(t[a],e[a]):e[a]}return t}const Un={data:Vn,props:$n,emits:$n,methods:Wn,computed:Wn,beforeCreate:Hn,created:Hn,beforeMount:Hn,mounted:Hn,beforeUpdate:Hn,updated:Hn,beforeDestroy:Hn,beforeUnmount:Hn,destroyed:Hn,unmounted:Hn,activated:Hn,deactivated:Hn,errorCaptured:Hn,serverPrefetch:Hn,components:Wn,directives:Wn,watch:function(t,e){if(!t)return e;if(!e)return t;const n=o(Object.create(null),t);for(const r in e)n[r]=Hn(t[r],e[r]);return n},provide:Vn,inject:function(t,e){return Wn(zn(t),zn(e))}};function Vn(t,e){return e?t?function(){return o(g(t)?t.call(this,this):t,g(e)?e.call(this,this):e)}:e:t}function zn(t){if(h(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Hn(t,e){return t?[...new Set([].concat(t,e))]:e}function Wn(t,e){return t?o(Object.create(null),t,e):e}function $n(t,e){return t?h(t)&&h(e)?[...new Set([...t,...e])]:o(Object.create(null),Fn(t),Fn(null!=e?e:{})):e}function Gn(){return{app:null,config:{isNativeTag:i,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Kn=0;function Yn(t,e){return function(e,n=null){g(e)||(e=o({},e)),null==n||y(n)||(n=null);const r=Gn(),i=new WeakSet,s=[];let a=!1;const l=r.app={_uid:Kn++,_component:e,_props:n,_container:null,_context:r,_instance:null,version:Ai,get config(){return r.config},set config(t){},use:(t,...e)=>(i.has(t)||(t&&g(t.install)?(i.add(t),t.install(l,...e)):g(t)&&(i.add(t),t(l,...e))),l),mixin:t=>(r.mixins.includes(t)||r.mixins.push(t),l),component:(t,e)=>e?(r.components[t]=e,l):r.components[t],directive:(t,e)=>e?(r.directives[t]=e,l):r.directives[t],mount(i,s,o){if(!a){const s=l._ceVNode||Jr(e,n);return s.appContext=r,!0===o?o="svg":!1===o&&(o=void 0),t(s,i,o),a=!0,l._container=i,i.__vue_app__=l,wi(s.component)}},onUnmount(t){s.push(t)},unmount(){a&&(Pe(s,l._instance,16),t(null,l._container),delete l._container.__vue_app__)},provide:(t,e)=>(r.provides[t]=e,l),runWithContext(t){const e=Xn;Xn=l;try{return t()}finally{Xn=e}}};return l}}let Xn=null;function Qn(t,e){if(ci){let n=ci.provides;const r=ci.parent&&ci.parent.provides;r===n&&(n=ci.provides=Object.create(r)),n[t]=e}else;}function Jn(t,e,n=!1){const r=ui();if(r||Xn){let i=Xn?Xn._context.provides:r?null==r.parent||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&g(e)?e.call(r&&r.proxy):e}}const Zn={},tr=()=>Object.create(Zn),er=t=>Object.getPrototypeOf(t)===Zn;function nr(t,n,r,i){const[s,a]=t.propsOptions;let o,l=!1;if(n)for(let e in n){if(A(e))continue;const c=n[e];let h;s&&u(s,h=L(e))?a&&a.includes(h)?(o||(o={}))[h]=c:r[h]=c:Tr(t.emitsOptions,e)||e in i&&c===i[e]||(i[e]=c,l=!0)}if(a){const n=ge(r),i=o||e;for(let e=0;e<a.length;e++){const o=a[e];r[o]=rr(s,n,o,i[o],t,!u(i,o))}}return l}function rr(t,e,n,r,i,s){const a=t[n];if(null!=a){const t=u(a,"default");if(t&&void 0===r){const t=a.default;if(a.type!==Function&&!a.skipFactory&&g(t)){const{propsDefaults:s}=i;if(n in s)r=s[n];else{const a=fi(i);r=s[n]=t.call(null,e),a()}}else r=t;i.ce&&i.ce._setProp(n,r)}a[0]&&(s&&!t?r=!1:!a[1]||""!==r&&r!==C(n)||(r=!0))}return r}const ir=new WeakMap;function sr(t,r,i=!1){const s=i?ir:r.propsCache,a=s.get(t);if(a)return a;const l=t.props,c={},d=[];let f=!1;if(!g(t)){const e=t=>{f=!0;const[e,n]=sr(t,r,!0);o(c,e),n&&d.push(...n)};!i&&r.mixins.length&&r.mixins.forEach(e),t.extends&&e(t.extends),t.mixins&&t.mixins.forEach(e)}if(!l&&!f)return y(t)&&s.set(t,n),n;if(h(l))for(let n=0;n<l.length;n++){const t=L(l[n]);ar(t)&&(c[t]=e)}else if(l)for(const e in l){const t=L(e);if(ar(t)){const n=l[e],r=c[t]=h(n)||g(n)?{type:n}:o({},n),i=r.type;let s=!1,a=!0;if(h(i))for(let t=0;t<i.length;++t){const e=i[t],n=g(e)&&e.name;if("Boolean"===n){s=!0;break}"String"===n&&(a=!1)}else s=g(i)&&"Boolean"===i.name;r[0]=s,r[1]=a,(s||u(r,"default"))&&d.push(t)}}const p=[c,d];return y(t)&&s.set(t,p),p}function ar(t){return"$"!==t[0]&&!A(t)}const or=t=>"_"===t||"_ctx"===t||"$stable"===t,lr=t=>h(t)?t.map(ri):[ri(t)],cr=(t,e,n)=>{if(e._n)return e;const r=Xe((...t)=>lr(e(...t)),n);return r._c=!1,r},ur=(t,e,n)=>{const r=t._ctx;for(const i in t){if(or(i))continue;const n=t[i];if(g(n))e[i]=cr(0,n,r);else if(null!=n){const t=lr(n);e[i]=()=>t}}},hr=(t,e)=>{const n=lr(e);t.slots.default=()=>n},dr=(t,e,n)=>{for(const r in e)!n&&or(r)||(t[r]=e[r])},fr=function(t,e){e&&e.pendingBranch?h(t)?e.effects.push(...t):e.effects.push(t):(h(n=t)?Me.push(...n):Oe&&-1===n.id?Oe.splice(Re+1,0,n):1&n.flags||(Me.push(n),n.flags|=1),Ve());var n};function pr(t){return function(t){R().__VUE__=!0;const{insert:i,remove:s,patchProp:a,createElement:o,createText:l,createComment:c,setText:h,setElementText:d,parentNode:f,nextSibling:p,setScopeId:g=r,insertStaticContent:m}=t,v=(t,e,n,r=null,i=null,s=null,a=void 0,o=null,l=!!e.dynamicChildren)=>{if(t===e)return;t&&!Kr(t,e)&&(r=J(t),G(t,i,s,!0),t=null),-2===e.patchFlag&&(l=!1,e.dynamicChildren=null);const{type:c,ref:u,shapeFlag:h}=e;switch(c){case Rr:y(t,e,n,r);break;case jr:w(t,e,n,r);break;case Br:null==t&&_(e,n,r,a);break;case Or:O(t,e,n,r,i,s,a,o,l);break;default:1&h?N(t,e,n,r,i,s,a,o,l):6&h?j(t,e,n,r,i,s,a,o,l):(64&h||128&h)&&c.process(t,e,n,r,i,s,a,o,l,rt)}null!=u&&i?an(u,t&&t.ref,s,e||t,!e):null==u&&t&&null!=t.ref&&an(t.ref,null,s,t,!0)},y=(t,e,n,r)=>{if(null==t)i(e.el=l(e.children),n,r);else{const n=e.el=t.el;e.children!==t.children&&h(n,e.children)}},w=(t,e,n,r)=>{null==t?i(e.el=c(e.children||""),n,r):e.el=t.el},_=(t,e,n,r)=>{[t.el,t.anchor]=m(t.children,e,n,r,t.el,t.anchor)},x=({el:t,anchor:e},n,r)=>{let s;for(;t&&t!==e;)s=p(t),i(t,n,r),t=s;i(e,n,r)},S=({el:t,anchor:e})=>{let n;for(;t&&t!==e;)n=p(t),s(t),t=n;s(e)},N=(t,e,n,r,i,s,a,o,l)=>{"svg"===e.type?a="svg":"math"===e.type&&(a="mathml"),null==t?E(e,n,r,i,s,a,o,l):P(t,e,i,s,a,o,l)},E=(t,e,n,r,s,l,c,u)=>{let h,f;const{props:p,shapeFlag:g,transition:m,dirs:v}=t;if(h=t.el=o(t.type,l,p&&p.is,p),8&g?d(h,t.children):16&g&&T(t.children,h,null,r,s,gr(t,l),c,u),v&&Je(t,null,r,"created"),k(h,t,t.scopeId,c,r),p){for(const t in p)"value"===t||A(t)||a(h,t,null,p[t],l,r);"value"in p&&a(h,"value",null,p.value,l),(f=p.onVnodeBeforeMount)&&ai(f,r,t)}v&&Je(t,null,r,"beforeMount");const y=function(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}(s,m);y&&m.beforeEnter(h),i(h,e,n),((f=p&&p.onVnodeMounted)||y||v)&&fr(()=>{f&&ai(f,r,t),y&&m.enter(h),v&&Je(t,null,r,"mounted")},s)},k=(t,e,n,r,i)=>{if(n&&g(t,n),r)for(let s=0;s<r.length;s++)g(t,r[s]);if(i){let n=i.subTree;if(e===n||Mr(n.type)&&(n.ssContent===e||n.ssFallback===e)){const e=i.vnode;k(t,e,e.scopeId,e.slotScopeIds,i.parent)}}},T=(t,e,n,r,i,s,a,o,l=0)=>{for(let c=l;c<t.length;c++){const l=t[c]=o?ii(t[c]):ri(t[c]);v(null,l,e,n,r,i,s,a,o)}},P=(t,n,r,i,s,o,l)=>{const c=n.el=t.el;let{patchFlag:u,dynamicChildren:h,dirs:f}=n;u|=16&t.patchFlag;const p=t.props||e,g=n.props||e;let m;if(r&&mr(r,!1),(m=g.onVnodeBeforeUpdate)&&ai(m,r,n,t),f&&Je(n,t,r,"beforeUpdate"),r&&mr(r,!0),(p.innerHTML&&null==g.innerHTML||p.textContent&&null==g.textContent)&&d(c,""),h?I(t.dynamicChildren,h,c,r,i,gr(n,s),o):l||z(t,n,c,null,r,i,gr(n,s),o,!1),u>0){if(16&u)M(c,p,g,r,s);else if(2&u&&p.class!==g.class&&a(c,"class",null,g.class,s),4&u&&a(c,"style",p.style,g.style,s),8&u){const t=n.dynamicProps;for(let e=0;e<t.length;e++){const n=t[e],i=p[n],o=g[n];o===i&&"value"!==n||a(c,n,i,o,s,r)}}1&u&&t.children!==n.children&&d(c,n.children)}else l||null!=h||M(c,p,g,r,s);((m=g.onVnodeUpdated)||f)&&fr(()=>{m&&ai(m,r,n,t),f&&Je(n,t,r,"updated")},i)},I=(t,e,n,r,i,s,a)=>{for(let o=0;o<e.length;o++){const l=t[o],c=e[o],u=l.el&&(l.type===Or||!Kr(l,c)||198&l.shapeFlag)?f(l.el):n;v(l,c,u,null,r,i,s,a,!0)}},M=(t,n,r,i,s)=>{if(n!==r){if(n!==e)for(const e in n)A(e)||e in r||a(t,e,n[e],null,s,i);for(const e in r){if(A(e))continue;const o=r[e],l=n[e];o!==l&&"value"!==e&&a(t,e,l,o,s,i)}"value"in r&&a(t,"value",n.value,r.value,s)}},O=(t,e,n,r,s,a,o,c,u)=>{const h=e.el=t?t.el:l(""),d=e.anchor=t?t.anchor:l("");let{patchFlag:f,dynamicChildren:p,slotScopeIds:g}=e;g&&(c=c?c.concat(g):g),null==t?(i(h,n,r),i(d,n,r),T(e.children||[],n,d,s,a,o,c,u)):f>0&&64&f&&p&&t.dynamicChildren?(I(t.dynamicChildren,p,n,s,a,o,c),(null!=e.key||s&&e===s.subTree)&&vr(t,e,!0)):z(t,e,n,d,s,a,o,c,u)},j=(t,e,n,r,i,s,a,o,l)=>{e.slotScopeIds=o,null==t?512&e.shapeFlag?i.ctx.activate(e,n,r,a,l):B(e,n,r,i,s,a,l):q(t,e,l)},B=(t,n,r,i,s,a,o)=>{const l=t.component=function(t,n,r){const i=t.type,s=(n?n.appContext:t.appContext)||oi,a={uid:li++,vnode:t,type:i,parent:n,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new tt(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:n?n.provides:Object.create(s.provides),ids:n?n.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:sr(i,s),emitsOptions:Cr(i,s),emit:null,emitted:null,propsDefaults:e,inheritAttrs:i.inheritAttrs,ctx:e,data:e,props:e,attrs:e,slots:e,refs:e,setupState:e,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};a.ctx={_:a},a.root=n?n.root:a,a.emit=Lr.bind(null,a),t.ce&&t.ce(a);return a}(t,i,s);if(cn(t)&&(l.ctx.renderer=rt),function(t,e=!1,n=!1){e&&di(e);const{props:r,children:i}=t.vnode,s=gi(t);(function(t,e,n,r=!1){const i={},s=tr();t.propsDefaults=Object.create(null),nr(t,e,i,s);for(const a in t.propsOptions[0])a in i||(i[a]=void 0);n?t.props=r?i:le(i):t.type.props?t.props=i:t.props=s,t.attrs=s})(t,r,s,e),((t,e,n)=>{const r=t.slots=tr();if(32&t.vnode.shapeFlag){const t=e._;t?(dr(r,e,n),n&&F(r,"_",t,!0)):ur(e,r)}else e&&hr(t,e)})(t,i,n||e);const a=s?function(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Dn);const{setup:r}=n;if(r){vt();const n=t.setupContext=r.length>1?function(t){const e=e=>{t.exposed=e||{}};return{attrs:new Proxy(t.attrs,bi),slots:t.slots,emit:t.emit,expose:e}}(t):null,i=fi(t),s=Te(r,t,0,[t.props,n]),a=b(s);if(yt(),i(),!a&&!t.sp||ln(t)||rn(t),a){if(s.then(pi,pi),e)return s.then(e=>{vi(t,e)}).catch(e=>{Ie(e,t,0)});t.asyncDep=s}else vi(t,s)}else yi(t)}(t,e):void 0;e&&di(!1)}(l,!1,o),l.asyncDep){if(s&&s.registerDep(l,U,o),!t.el){const e=l.subTree=Jr(jr);w(null,e,n,r),t.placeholder=e.el}}else U(l,t,n,r,s,a,o)},q=(t,e,n)=>{const r=e.component=t.component;if(function(t,e,n){const{props:r,children:i,component:s}=t,{props:a,children:o,patchFlag:l}=e,c=s.emitsOptions;if(e.dirs||e.transition)return!0;if(!(n&&l>=0))return!(!i&&!o||o&&o.$stable)||r!==a&&(r?!a||Fr(r,a,c):!!a);if(1024&l)return!0;if(16&l)return r?Fr(r,a,c):!!a;if(8&l){const t=e.dynamicProps;for(let e=0;e<t.length;e++){const n=t[e];if(a[n]!==r[n]&&!Tr(c,n))return!0}}return!1}(t,e,n)){if(r.asyncDep&&!r.asyncResolved)return void V(r,e,n);r.next=e,r.update()}else e.el=t.el,r.vnode=e},U=(t,e,n,r,i,s,a)=>{const o=()=>{if(t.isMounted){let{next:e,bu:n,u:r,parent:l,vnode:c}=t;{const n=yr(t);if(n)return e&&(e.el=c.el,V(t,e,a)),void n.asyncDep.then(()=>{t.isUnmounted||o()})}let u,h=e;mr(t,!1),e?(e.el=c.el,V(t,e,a)):e=c,n&&D(n),(u=e.props&&e.props.onVnodeBeforeUpdate)&&ai(u,l,e,c),mr(t,!0);const d=Pr(t),p=t.subTree;t.subTree=d,v(p,d,f(p.el),J(p),t,i,s),e.el=d.el,null===h&&function({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r!==t)break;(t=e.vnode).el=n,e=e.parent}}(t,d.el),r&&fr(r,i),(u=e.props&&e.props.onVnodeUpdated)&&fr(()=>ai(u,l,e,c),i)}else{let a;const{el:o,props:l}=e,{bm:c,m:u,parent:h,root:d,type:f}=t,p=ln(e);mr(t,!1),c&&D(c),!p&&(a=l&&l.onVnodeBeforeMount)&&ai(a,h,e),mr(t,!0);{d.ce&&!1!==d.ce._def.shadowRoot&&d.ce._injectChildStyle(f);const a=t.subTree=Pr(t);v(null,a,n,r,t,i,s),e.el=a.el}if(u&&fr(u,i),!p&&(a=l&&l.onVnodeMounted)){const t=e;fr(()=>ai(a,h,t),i)}(256&e.shapeFlag||h&&ln(h.vnode)&&256&h.vnode.shapeFlag)&&t.a&&fr(t.a,i),t.isMounted=!0,e=n=r=null}};t.scope.on();const l=t.effect=new nt(o);t.scope.off();const c=t.update=l.run.bind(l),u=t.job=l.runIfDirty.bind(l);u.i=t,u.id=t.uid,l.scheduler=()=>Ue(u),mr(t,!0),c()},V=(t,n,r)=>{n.component=t;const i=t.vnode.props;t.vnode=n,t.next=null,function(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:a}}=t,o=ge(i),[l]=t.propsOptions;let c=!1;if(!(r||a>0)||16&a){let r;nr(t,e,i,s)&&(c=!0);for(const s in o)e&&(u(e,s)||(r=C(s))!==s&&u(e,r))||(l?!n||void 0===n[s]&&void 0===n[r]||(i[s]=rr(l,o,s,void 0,t,!0)):delete i[s]);if(s!==o)for(const t in s)e&&u(e,t)||(delete s[t],c=!0)}else if(8&a){const n=t.vnode.dynamicProps;for(let r=0;r<n.length;r++){let a=n[r];if(Tr(t.emitsOptions,a))continue;const h=e[a];if(l)if(u(s,a))h!==s[a]&&(s[a]=h,c=!0);else{const e=L(a);i[e]=rr(l,o,e,h,t,!1)}else h!==s[a]&&(s[a]=h,c=!0)}}c&&Ct(t.attrs,"set","")}(t,n.props,i,r),((t,n,r)=>{const{vnode:i,slots:s}=t;let a=!0,o=e;if(32&i.shapeFlag){const t=n._;t?r&&1===t?a=!1:dr(s,n,r):(a=!n.$stable,ur(n,s)),o=n}else n&&(hr(t,n),o={default:1});if(a)for(const e in s)or(e)||null!=o[e]||delete s[e]})(t,n.children,r),vt(),ze(t),yt()},z=(t,e,n,r,i,s,a,o,l=!1)=>{const c=t&&t.children,u=t?t.shapeFlag:0,h=e.children,{patchFlag:f,shapeFlag:p}=e;if(f>0){if(128&f)return void W(c,h,n,r,i,s,a,o,l);if(256&f)return void H(c,h,n,r,i,s,a,o,l)}8&p?(16&u&&Q(c,i,s),h!==c&&d(n,h)):16&u?16&p?W(c,h,n,r,i,s,a,o,l):Q(c,i,s,!0):(8&u&&d(n,""),16&p&&T(h,n,r,i,s,a,o,l))},H=(t,e,r,i,s,a,o,l,c)=>{e=e||n;const u=(t=t||n).length,h=e.length,d=Math.min(u,h);let f;for(f=0;f<d;f++){const n=e[f]=c?ii(e[f]):ri(e[f]);v(t[f],n,r,null,s,a,o,l,c)}u>h?Q(t,s,a,!0,!1,d):T(e,r,i,s,a,o,l,c,d)},W=(t,e,r,i,s,a,o,l,c)=>{let u=0;const h=e.length;let d=t.length-1,f=h-1;for(;u<=d&&u<=f;){const n=t[u],i=e[u]=c?ii(e[u]):ri(e[u]);if(!Kr(n,i))break;v(n,i,r,null,s,a,o,l,c),u++}for(;u<=d&&u<=f;){const n=t[d],i=e[f]=c?ii(e[f]):ri(e[f]);if(!Kr(n,i))break;v(n,i,r,null,s,a,o,l,c),d--,f--}if(u>d){if(u<=f){const t=f+1,n=t<h?e[t].el:i;for(;u<=f;)v(null,e[u]=c?ii(e[u]):ri(e[u]),r,n,s,a,o,l,c),u++}}else if(u>f)for(;u<=d;)G(t[u],s,a,!0),u++;else{const p=u,g=u,m=new Map;for(u=g;u<=f;u++){const t=e[u]=c?ii(e[u]):ri(e[u]);null!=t.key&&m.set(t.key,u)}let y,b=0;const w=f-g+1;let _=!1,x=0;const S=new Array(w);for(u=0;u<w;u++)S[u]=0;for(u=p;u<=d;u++){const n=t[u];if(b>=w){G(n,s,a,!0);continue}let i;if(null!=n.key)i=m.get(n.key);else for(y=g;y<=f;y++)if(0===S[y-g]&&Kr(n,e[y])){i=y;break}void 0===i?G(n,s,a,!0):(S[i-g]=u+1,i>=x?x=i:_=!0,v(n,e[i],r,null,s,a,o,l,c),b++)}const A=_?function(t){const e=t.slice(),n=[0];let r,i,s,a,o;const l=t.length;for(r=0;r<l;r++){const l=t[r];if(0!==l){if(i=n[n.length-1],t[i]<l){e[r]=i,n.push(r);continue}for(s=0,a=n.length-1;s<a;)o=s+a>>1,t[n[o]]<l?s=o+1:a=o;l<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}s=n.length,a=n[s-1];for(;s-- >0;)n[s]=a,a=e[a];return n}(S):n;for(y=A.length-1,u=w-1;u>=0;u--){const t=g+u,n=e[t],d=e[t+1],f=t+1<h?d.el||d.placeholder:i;0===S[u]?v(null,n,r,f,s,a,o,l,c):_&&(y<0||u!==A[y]?$(n,r,f,2):y--)}}},$=(t,e,n,r,a=null)=>{const{el:o,type:l,transition:c,children:u,shapeFlag:h}=t;if(6&h)return void $(t.component.subTree,e,n,r);if(128&h)return void t.suspense.move(e,n,r);if(64&h)return void l.move(t,e,n,rt);if(l===Or){i(o,e,n);for(let t=0;t<u.length;t++)$(u[t],e,n,r);return void i(t.anchor,e,n)}if(l===Br)return void x(t,e,n);if(2!==r&&1&h&&c)if(0===r)c.beforeEnter(o),i(o,e,n),fr(()=>c.enter(o),a);else{const{leave:r,delayLeave:a,afterLeave:l}=c,u=()=>{t.ctx.isUnmounted?s(o):i(o,e,n)},h=()=>{o._isLeaving&&o[tn](!0),r(o,()=>{u(),l&&l()})};a?a(o,u,h):h()}else i(o,e,n)},G=(t,e,n,r=!1,i=!1)=>{const{type:s,props:a,ref:o,children:l,dynamicChildren:c,shapeFlag:u,patchFlag:h,dirs:d,cacheIndex:f}=t;if(-2===h&&(i=!1),null!=o&&(vt(),an(o,null,n,t,!0),yt()),null!=f&&(e.renderCache[f]=void 0),256&u)return void e.ctx.deactivate(t);const p=1&u&&d,g=!ln(t);let m;if(g&&(m=a&&a.onVnodeBeforeUnmount)&&ai(m,e,t),6&u)X(t.component,n,r);else{if(128&u)return void t.suspense.unmount(n,r);p&&Je(t,null,e,"beforeUnmount"),64&u?t.type.remove(t,e,n,rt,r):c&&!c.hasOnce&&(s!==Or||h>0&&64&h)?Q(c,e,n,!1,!0):(s===Or&&384&h||!i&&16&u)&&Q(l,e,n),r&&K(t)}(g&&(m=a&&a.onVnodeUnmounted)||p)&&fr(()=>{m&&ai(m,e,t),p&&Je(t,null,e,"unmounted")},n)},K=t=>{const{type:e,el:n,anchor:r,transition:i}=t;if(e===Or)return void Y(n,r);if(e===Br)return void S(t);const a=()=>{s(n),i&&!i.persisted&&i.afterLeave&&i.afterLeave()};if(1&t.shapeFlag&&i&&!i.persisted){const{leave:e,delayLeave:r}=i,s=()=>e(n,a);r?r(t.el,a,s):s()}else a()},Y=(t,e)=>{let n;for(;t!==e;)n=p(t),s(t),t=n;s(e)},X=(t,e,n)=>{const{bum:r,scope:i,job:s,subTree:a,um:o,m:l,a:c}=t;br(l),br(c),r&&D(r),i.stop(),s&&(s.flags|=8,G(a,t,e,n)),o&&fr(o,e),fr(()=>{t.isUnmounted=!0},e)},Q=(t,e,n,r=!1,i=!1,s=0)=>{for(let a=s;a<t.length;a++)G(t[a],e,n,r,i)},J=t=>{if(6&t.shapeFlag)return J(t.component.subTree);if(128&t.shapeFlag)return t.suspense.next();const e=p(t.anchor||t.el),n=e&&e[Ze];return n?p(n):e};let Z=!1;const et=(t,e,n)=>{null==t?e._vnode&&G(e._vnode,null,null,!0):v(e._vnode||null,t,e,null,null,null,n),e._vnode=t,Z||(Z=!0,ze(),He(),Z=!1)},rt={p:v,um:G,m:$,r:K,mt:B,mc:T,pc:z,pbc:I,n:J,o:t};let it;return{render:et,hydrate:it,createApp:Yn(et)}}(t)}function gr({type:t,props:e},n){return"svg"===n&&"foreignObject"===t||"mathml"===n&&"annotation-xml"===t&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function mr({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function vr(t,e,n=!1){const r=t.children,i=e.children;if(h(r)&&h(i))for(let s=0;s<r.length;s++){const t=r[s];let e=i[s];1&e.shapeFlag&&!e.dynamicChildren&&((e.patchFlag<=0||32===e.patchFlag)&&(e=i[s]=ii(i[s]),e.el=t.el),n||-2===e.patchFlag||vr(t,e)),e.type===Rr&&-1!==e.patchFlag&&(e.el=t.el),e.type!==jr||e.el||(e.el=t.el)}}function yr(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:yr(e)}function br(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const wr=Symbol.for("v-scx"),_r=()=>Jn(wr);function xr(t,e,n){return Sr(t,e,n)}function Sr(t,n,i=e){const{immediate:s,deep:a,flush:l,once:c}=i,u=o({},i),h=n&&s||!n&&"post"!==l;let d;if(mi)if("sync"===l){const t=_r();d=t.__watcherHandles||(t.__watcherHandles=[])}else if(!h){const t=()=>{};return t.stop=r,t.resume=r,t.pause=r,t}const f=ci;u.call=(t,e,n)=>Pe(t,f,e,n);let p=!1;"post"===l?u.scheduler=t=>{fr(t,f&&f.suspense)}:"sync"!==l&&(p=!0,u.scheduler=(t,e)=>{e?t():Ue(t)}),u.augmentJob=t=>{n&&(t.flags|=4),p&&(t.flags|=2,f&&(t.id=f.uid,t.i=f))};const g=ke(t,n,u);return mi&&(d?d.push(g):h&&g()),g}function Ar(t,e,n){const r=this.proxy,i=m(t)?t.includes(".")?Nr(r,t):()=>r[t]:t.bind(r,r);let s;g(e)?s=e:(s=e.handler,n=e);const a=fi(this),o=Sr(i,s.bind(r),n);return a(),o}function Nr(t,e){const n=e.split(".");return()=>{let e=t;for(let t=0;t<n.length&&e;t++)e=e[n[t]];return e}}const Er=(t,e)=>"modelValue"===e||"model-value"===e?t.modelModifiers:t[`${e}Modifiers`]||t[`${L(e)}Modifiers`]||t[`${C(e)}Modifiers`];function Lr(t,n,...r){if(t.isUnmounted)return;const i=t.vnode.props||e;let s=r;const a=n.startsWith("update:"),o=a&&Er(i,n.slice(7));let l;o&&(o.trim&&(s=r.map(t=>m(t)?t.trim():t)),o.number&&(s=r.map(M)));let c=i[l=P(n)]||i[l=P(L(n))];!c&&a&&(c=i[l=P(C(n))]),c&&Pe(c,t,6,s);const u=i[l+"Once"];if(u){if(t.emitted){if(t.emitted[l])return}else t.emitted={};t.emitted[l]=!0,Pe(u,t,6,s)}}const kr=new WeakMap;function Cr(t,e,n=!1){const r=n?kr:e.emitsCache,i=r.get(t);if(void 0!==i)return i;const s=t.emits;let a={},l=!1;if(!g(t)){const r=t=>{const n=Cr(t,e,!0);n&&(l=!0,o(a,n))};!n&&e.mixins.length&&e.mixins.forEach(r),t.extends&&r(t.extends),t.mixins&&t.mixins.forEach(r)}return s||l?(h(s)?s.forEach(t=>a[t]=null):o(a,s),y(t)&&r.set(t,a),a):(y(t)&&r.set(t,null),null)}function Tr(t,e){return!(!t||!s(e))&&(e=e.slice(2).replace(/Once$/,""),u(t,e[0].toLowerCase()+e.slice(1))||u(t,C(e))||u(t,e))}function Pr(t){const{type:e,vnode:n,proxy:r,withProxy:i,propsOptions:[s],slots:o,attrs:l,emit:c,render:u,renderCache:h,props:d,data:f,setupState:p,ctx:g,inheritAttrs:m}=t,v=Ye(t);let y,b;try{if(4&n.shapeFlag){const t=i||r,e=t;y=ri(u.call(e,t,h,d,p,f,g)),b=l}else{const t=e;0,y=ri(t.length>1?t(d,{attrs:l,slots:o,emit:c}):t(d,null)),b=e.props?l:Ir(l)}}catch(_){qr.length=0,Ie(_,t,1),y=Jr(jr)}let w=y;if(b&&!1!==m){const t=Object.keys(b),{shapeFlag:e}=w;t.length&&7&e&&(s&&t.some(a)&&(b=Dr(b,s)),w=Zr(w,b,!1,!0))}return n.dirs&&(w=Zr(w,null,!1,!0),w.dirs=w.dirs?w.dirs.concat(n.dirs):n.dirs),n.transition&&en(w,n.transition),y=w,Ye(v),y}const Ir=t=>{let e;for(const n in t)("class"===n||"style"===n||s(n))&&((e||(e={}))[n]=t[n]);return e},Dr=(t,e)=>{const n={};for(const r in t)a(r)&&r.slice(9)in e||(n[r]=t[r]);return n};function Fr(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!Tr(n,s))return!0}return!1}const Mr=t=>t.__isSuspense;const Or=Symbol.for("v-fgt"),Rr=Symbol.for("v-txt"),jr=Symbol.for("v-cmt"),Br=Symbol.for("v-stc"),qr=[];let Ur=null;function Vr(t=!1){qr.push(Ur=t?null:[])}let zr=1;function Hr(t,e=!1){zr+=t,t<0&&Ur&&e&&(Ur.hasOnce=!0)}function Wr(t){return t.dynamicChildren=zr>0?Ur||n:null,qr.pop(),Ur=qr[qr.length-1]||null,zr>0&&Ur&&Ur.push(t),t}function $r(t,e,n,r,i,s){return Wr(Qr(t,e,n,r,i,s,!0))}function Gr(t){return!!t&&!0===t.__v_isVNode}function Kr(t,e){return t.type===e.type&&t.key===e.key}const Yr=({key:t})=>null!=t?t:null,Xr=({ref:t,ref_key:e,ref_for:n})=>("number"==typeof t&&(t=""+t),null!=t?m(t)||ye(t)||g(t)?{i:Ge,r:t,k:e,f:!!n}:t:null);function Qr(t,e=null,n=null,r=0,i=null,s=(t===Or?0:1),a=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Yr(e),ref:e&&Xr(e),scopeId:Ke,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Ge};return o?(si(l,n),128&s&&t.normalize(l)):n&&(l.shapeFlag|=m(n)?8:16),zr>0&&!a&&Ur&&(l.patchFlag>0||6&s)&&32!==l.patchFlag&&Ur.push(l),l}const Jr=function(t,e=null,n=null,r=0,i=null,s=!1){t&&t!==Ln||(t=jr);if(Gr(t)){const r=Zr(t,e,!0);return n&&si(r,n),zr>0&&!s&&Ur&&(6&r.shapeFlag?Ur[Ur.indexOf(t)]=r:Ur.push(r)),r.patchFlag=-2,r}a=t,g(a)&&"__vccOpts"in a&&(t=t.__vccOpts);var a;if(e){e=function(t){return t?pe(t)||er(t)?o({},t):t:null}(e);let{class:t,style:n}=e;t&&!m(t)&&(e.class=z(t)),y(n)&&(pe(n)&&!h(n)&&(n=o({},n)),e.style=j(n))}const l=m(t)?1:Mr(t)?128:(t=>t.__isTeleport)(t)?64:y(t)?4:g(t)?2:0;return Qr(t,e,n,r,i,l,s,!0)};function Zr(t,e,n=!1,r=!1){const{props:i,ref:a,patchFlag:o,children:l,transition:c}=t,u=e?function(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const t in r)if("class"===t)e.class!==r.class&&(e.class=z([e.class,r.class]));else if("style"===t)e.style=j([e.style,r.style]);else if(s(t)){const n=e[t],i=r[t];!i||n===i||h(n)&&n.includes(i)||(e[t]=n?[].concat(n,i):i)}else""!==t&&(e[t]=r[t])}return e}(i||{},e):i,d={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&Yr(u),ref:e&&e.ref?n&&a?h(a)?a.concat(Xr(e)):[a,Xr(e)]:Xr(e):a,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Or?-1===o?16:16|o:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:c,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Zr(t.ssContent),ssFallback:t.ssFallback&&Zr(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c&&r&&en(d,c.clone(d)),d}function ti(t=" ",e=0){return Jr(Rr,null,t,e)}function ei(t,e){const n=Jr(Br,null,t);return n.staticCount=e,n}function ni(t="",e=!1){return e?(Vr(),Wr(Jr(jr,null,t,n,r,!0))):Jr(jr,null,t);var n,r}function ri(t){return null==t||"boolean"==typeof t?Jr(jr):h(t)?Jr(Or,null,t.slice()):Gr(t)?ii(t):Jr(Rr,null,String(t))}function ii(t){return null===t.el&&-1!==t.patchFlag||t.memo?t:Zr(t)}function si(t,e){let n=0;const{shapeFlag:r}=t;if(null==e)e=null;else if(h(e))n=16;else if("object"==typeof e){if(65&r){const n=e.default;return void(n&&(n._c&&(n._d=!1),si(t,n()),n._c&&(n._d=!0)))}{n=32;const r=e._;r||er(e)?3===r&&Ge&&(1===Ge.slots._?e._=1:(e._=2,t.patchFlag|=1024)):e._ctx=Ge}}else g(e)?(e={default:e,_ctx:Ge},n=32):(e=String(e),64&r?(n=16,e=[ti(e)]):n=8);t.children=e,t.shapeFlag|=n}function ai(t,e,n,r=null){Pe(t,e,7,[n,r])}const oi=Gn();let li=0;let ci=null;const ui=()=>ci||Ge;let hi,di;{const t=R(),e=(e,n)=>{let r;return(r=t[e])||(r=t[e]=[]),r.push(n),t=>{r.length>1?r.forEach(e=>e(t)):r[0](t)}};hi=e("__VUE_INSTANCE_SETTERS__",t=>ci=t),di=e("__VUE_SSR_SETTERS__",t=>mi=t)}const fi=t=>{const e=ci;return hi(t),t.scope.on(),()=>{t.scope.off(),hi(e)}},pi=()=>{ci&&ci.scope.off(),hi(null)};function gi(t){return 4&t.vnode.shapeFlag}let mi=!1;function vi(t,e,n){g(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:y(e)&&(t.setupState=Se(e)),yi(t)}function yi(t,e,n){const i=t.type;t.render||(t.render=i.render||r);{const e=fi(t);vt();try{On(t)}finally{yt(),e()}}}const bi={get:(t,e)=>(kt(t,0,""),t[e])};function wi(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Se((e=t.exposed,!u(e,"__v_skip")&&Object.isExtensible(e)&&F(e,"__v_skip",!0),e)),{get:(e,n)=>n in e?e[n]:n in Pn?Pn[n](t):void 0,has:(t,e)=>e in t||e in Pn})):t.proxy;var e}function _i(t,e=!0){return g(t)?t.displayName||t.name:t.name||e&&t.__name}const xi=(t,e)=>{const n=function(t,e,n=!1){let r,i;return g(t)?r=t:(r=t.get,i=t.set),new Ae(r,i,n)}(t,0,mi);return n};function Si(t,e,n){const r=(t,e,n)=>{Hr(-1);try{return Jr(t,e,n)}finally{Hr(1)}},i=arguments.length;return 2===i?y(e)&&!h(e)?Gr(e)?r(t,null,[e]):r(t,e):r(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):3===i&&Gr(n)&&(n=[n]),r(t,e,n))}const Ai="3.5.21";
/**
* @vue/runtime-dom v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ni;const Ei="undefined"!=typeof window&&window.trustedTypes;if(Ei)try{Ni=Ei.createPolicy("vue",{createHTML:t=>t})}catch(AA){}const Li=Ni?t=>Ni.createHTML(t):t=>t,ki="undefined"!=typeof document?document:null,Ci=ki&&ki.createElement("template"),Ti={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i="svg"===e?ki.createElementNS("http://www.w3.org/2000/svg",t):"mathml"===e?ki.createElementNS("http://www.w3.org/1998/Math/MathML",t):n?ki.createElement(t,{is:n}):ki.createElement(t);return"select"===t&&r&&null!=r.multiple&&i.setAttribute("multiple",r.multiple),i},createText:t=>ki.createTextNode(t),createComment:t=>ki.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ki.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const a=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),i!==s&&(i=i.nextSibling););else{Ci.innerHTML=Li("svg"===r?`<svg>${t}</svg>`:"mathml"===r?`<math>${t}</math>`:t);const i=Ci.content;if("svg"===r||"mathml"===r){const t=i.firstChild;for(;t.firstChild;)i.appendChild(t.firstChild);i.removeChild(t)}e.insertBefore(i,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Pi=Symbol("_vtc");const Ii=Symbol("_vod"),Di=Symbol("_vsh"),Fi={name:"show",beforeMount(t,{value:e},{transition:n}){t[Ii]="none"===t.style.display?"":t.style.display,n&&e?n.beforeEnter(t):Mi(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),Mi(t,!0),r.enter(t)):r.leave(t,()=>{Mi(t,!1)}):Mi(t,e))},beforeUnmount(t,{value:e}){Mi(t,e)}};function Mi(t,e){t.style.display=e?t[Ii]:"none",t[Di]=!e}const Oi=Symbol(""),Ri=/(?:^|;)\s*display\s*:/;const ji=/\s*!important$/;function Bi(t,e,n){if(h(n))n.forEach(n=>Bi(t,e,n));else if(null==n&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=function(t,e){const n=Ui[e];if(n)return n;let r=L(e);if("filter"!==r&&r in t)return Ui[e]=r;r=T(r);for(let i=0;i<qi.length;i++){const n=qi[i]+r;if(n in t)return Ui[e]=n}return e}(t,e);ji.test(n)?t.setProperty(C(r),n.replace(ji,""),"important"):t[r]=n}}const qi=["Webkit","Moz","ms"],Ui={};const Vi="http://www.w3.org/1999/xlink";function zi(t,e,n,r,i,s=H(e)){r&&e.startsWith("xlink:")?null==n?t.removeAttributeNS(Vi,e.slice(6,e.length)):t.setAttributeNS(Vi,e,n):null==n||s&&!W(n)?t.removeAttribute(e):t.setAttribute(e,s?"":v(n)?String(n):n)}function Hi(t,e,n,r,i){if("innerHTML"===e||"textContent"===e)return void(null!=n&&(t[e]="innerHTML"===e?Li(n):n));const s=t.tagName;if("value"===e&&"PROGRESS"!==s&&!s.includes("-")){const r="OPTION"===s?t.getAttribute("value")||"":t.value,i=null==n?"checkbox"===t.type?"on":"":String(n);return r===i&&"_value"in t||(t.value=i),null==n&&t.removeAttribute(e),void(t._value=n)}let a=!1;if(""===n||null==n){const r=typeof t[e];"boolean"===r?n=W(n):null==n&&"string"===r?(n="",a=!0):"number"===r&&(n=0,a=!0)}try{t[e]=n}catch(AA){}a&&t.removeAttribute(i||e)}function Wi(t,e,n,r){t.addEventListener(e,n,r)}const $i=Symbol("_vei");function Gi(t,e,n,r,i=null){const s=t[$i]||(t[$i]={}),a=s[e];if(r&&a)a.value=r;else{const[n,o]=function(t){let e;if(Ki.test(t)){let n;for(e={};n=t.match(Ki);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}const n=":"===t[2]?t.slice(3):C(t.slice(2));return[n,e]}(e);if(r){const a=s[e]=function(t,e){const n=t=>{if(t._vts){if(t._vts<=n.attached)return}else t._vts=Date.now();Pe(function(t,e){if(h(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(t=>e=>!e._stopped&&t&&t(e))}return e}(t,n.value),e,5,[t])};return n.value=t,n.attached=Qi(),n}(r,i);Wi(t,n,a,o)}else a&&(!function(t,e,n,r){t.removeEventListener(e,n,r)}(t,n,a,o),s[e]=void 0)}}const Ki=/(?:Once|Passive|Capture)$/;let Yi=0;const Xi=Promise.resolve(),Qi=()=>Yi||(Xi.then(()=>Yi=0),Yi=Date.now());const Ji=t=>111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123;const Zi=t=>{const e=t.props["onUpdate:modelValue"]||!1;return h(e)?t=>D(e,t):e};function ts(t){t.target.composing=!0}function es(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const ns=Symbol("_assign"),rs={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t[ns]=Zi(i);const s=r||i.props&&"number"===i.props.type;Wi(t,e?"change":"input",e=>{if(e.target.composing)return;let r=t.value;n&&(r=r.trim()),s&&(r=M(r)),t[ns](r)}),n&&Wi(t,"change",()=>{t.value=t.value.trim()}),e||(Wi(t,"compositionstart",ts),Wi(t,"compositionend",es),Wi(t,"change",es))},mounted(t,{value:e}){t.value=null==e?"":e},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:i,number:s}},a){if(t[ns]=Zi(a),t.composing)return;const o=null==e?"":e;if((!s&&"number"!==t.type||/^0\d/.test(t.value)?t.value:M(t.value))!==o){if(document.activeElement===t&&"range"!==t.type){if(r&&e===n)return;if(i&&t.value.trim()===o)return}t.value=o}}},is={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const i=f(e);Wi(t,"change",()=>{const e=Array.prototype.filter.call(t.options,t=>t.selected).map(t=>n?M(as(t)):as(t));t[ns](t.multiple?i?new Set(e):e:e[0]),t._assigning=!0,qe(()=>{t._assigning=!1})}),t[ns]=Zi(r)},mounted(t,{value:e}){ss(t,e)},beforeUpdate(t,e,n){t[ns]=Zi(n)},updated(t,{value:e}){t._assigning||ss(t,e)}};function ss(t,e){const n=t.multiple,r=h(e);if(!n||r||f(e)){for(let i=0,s=t.options.length;i<s;i++){const s=t.options[i],a=as(s);if(n)if(r){const t=typeof a;s.selected="string"===t||"number"===t?e.some(t=>String(t)===String(a)):G(e,a)>-1}else s.selected=e.has(a);else if($(as(s),e))return void(t.selectedIndex!==i&&(t.selectedIndex=i))}n||-1===t.selectedIndex||(t.selectedIndex=-1)}}function as(t){return"_value"in t?t._value:t.value}const os=["ctrl","shift","alt","meta"],ls={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&0!==t.button,middle:t=>"button"in t&&1!==t.button,right:t=>"button"in t&&2!==t.button,exact:(t,e)=>os.some(n=>t[`${n}Key`]&&!e.includes(n))},cs=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(n,...r)=>{for(let t=0;t<e.length;t++){const r=ls[e[t]];if(r&&r(n,e))return}return t(n,...r)})},us=o({patchProp:(t,e,n,r,i,o)=>{const l="svg"===i;"class"===e?function(t,e,n){const r=t[Pi];r&&(e=(e?[e,...r]:[...r]).join(" ")),null==e?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}(t,r,l):"style"===e?function(t,e,n){const r=t.style,i=m(n);let s=!1;if(n&&!i){if(e)if(m(e))for(const t of e.split(";")){const e=t.slice(0,t.indexOf(":")).trim();null==n[e]&&Bi(r,e,"")}else for(const t in e)null==n[t]&&Bi(r,t,"");for(const t in n)"display"===t&&(s=!0),Bi(r,t,n[t])}else if(i){if(e!==n){const t=r[Oi];t&&(n+=";"+t),r.cssText=n,s=Ri.test(n)}}else e&&t.removeAttribute("style");Ii in t&&(t[Ii]=s?r.display:"",t[Di]&&(r.display="none"))}(t,n,r):s(e)?a(e)||Gi(t,e,0,r,o):("."===e[0]?(e=e.slice(1),1):"^"===e[0]?(e=e.slice(1),0):function(t,e,n,r){if(r)return"innerHTML"===e||"textContent"===e||!!(e in t&&Ji(e)&&g(n));if("spellcheck"===e||"draggable"===e||"translate"===e||"autocorrect"===e)return!1;if("form"===e)return!1;if("list"===e&&"INPUT"===t.tagName)return!1;if("type"===e&&"TEXTAREA"===t.tagName)return!1;if("width"===e||"height"===e){const e=t.tagName;if("IMG"===e||"VIDEO"===e||"CANVAS"===e||"SOURCE"===e)return!1}if(Ji(e)&&m(n))return!1;return e in t}(t,e,r,l))?(Hi(t,e,r),t.tagName.includes("-")||"value"!==e&&"checked"!==e&&"selected"!==e||zi(t,e,r,l,0,"value"!==e)):!t._isVueCE||!/[A-Z]/.test(e)&&m(r)?("true-value"===e?t._trueValue=r:"false-value"===e&&(t._falseValue=r),zi(t,e,r,l)):Hi(t,L(e),r,0,e)}},Ti);let hs;const ds=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},fs={id:"app"};const ps=ds({name:"App"},[["render",function(t,e,n,r,i,s){const a=En("router-view");return Vr(),$r("div",fs,[Jr(a)])}]]),gs="undefined"!=typeof document;
/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */function ms(t){return"object"==typeof t||"displayName"in t||"props"in t||"__vccOpts"in t}const vs=Object.assign;function ys(t,e){const n={};for(const r in e){const i=e[r];n[r]=ws(i)?i.map(t):t(i)}return n}const bs=()=>{},ws=Array.isArray,_s=/#/g,xs=/&/g,Ss=/\//g,As=/=/g,Ns=/\?/g,Es=/\+/g,Ls=/%5B/g,ks=/%5D/g,Cs=/%5E/g,Ts=/%60/g,Ps=/%7B/g,Is=/%7C/g,Ds=/%7D/g,Fs=/%20/g;function Ms(t){return encodeURI(""+t).replace(Is,"|").replace(Ls,"[").replace(ks,"]")}function Os(t){return Ms(t).replace(Es,"%2B").replace(Fs,"+").replace(_s,"%23").replace(xs,"%26").replace(Ts,"`").replace(Ps,"{").replace(Ds,"}").replace(Cs,"^")}function Rs(t){return Os(t).replace(As,"%3D")}function js(t){return null==t?"":function(t){return Ms(t).replace(_s,"%23").replace(Ns,"%3F")}(t).replace(Ss,"%2F")}function Bs(t){try{return decodeURIComponent(""+t)}catch(e){}return""+t}const qs=/\/$/;function Us(t,e,n="/"){let r,i={},s="",a="";const o=e.indexOf("#");let l=e.indexOf("?");return o<l&&o>=0&&(l=-1),l>-1&&(r=e.slice(0,l),s=e.slice(l+1,o>-1?o:e.length),i=t(s)),o>-1&&(r=r||e.slice(0,o),a=e.slice(o,e.length)),r=function(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];".."!==i&&"."!==i||r.push("");let s,a,o=n.length-1;for(s=0;s<r.length;s++)if(a=r[s],"."!==a){if(".."!==a)break;o>1&&o--}return n.slice(0,o).join("/")+"/"+r.slice(s).join("/")}(null!=r?r:e,n),{fullPath:r+(s&&"?")+s+a,path:r,query:i,hash:Bs(a)}}function Vs(t,e){return e&&t.toLowerCase().startsWith(e.toLowerCase())?t.slice(e.length)||"/":t}function zs(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Hs(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!Ws(t[n],e[n]))return!1;return!0}function Ws(t,e){return ws(t)?$s(t,e):ws(e)?$s(e,t):t===e}function $s(t,e){return ws(e)?t.length===e.length&&t.every((t,n)=>t===e[n]):1===t.length&&t[0]===e}const Gs={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Ks,Ys,Xs,Qs;function Js(t){if(!t)if(gs){const e=document.querySelector("base");t=(t=e&&e.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return"/"!==t[0]&&"#"!==t[0]&&(t="/"+t),t.replace(qs,"")}(Ys=Ks||(Ks={})).pop="pop",Ys.push="push",(Qs=Xs||(Xs={})).back="back",Qs.forward="forward",Qs.unknown="";const Zs=/^[^#]+#/;function ta(t,e){return t.replace(Zs,"#")+e}const ea=()=>({left:window.scrollX,top:window.scrollY});function na(t){let e;if("el"in t){const n=t.el,r="string"==typeof n&&n.startsWith("#"),i="string"==typeof n?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=function(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(null!=e.left?e.left:window.scrollX,null!=e.top?e.top:window.scrollY)}function ra(t,e){return(history.state?history.state.position-e:-1)+t}const ia=new Map;function sa(t,e){const{pathname:n,search:r,hash:i}=e,s=t.indexOf("#");if(s>-1){let e=i.includes(t.slice(s))?t.slice(s).length:1,n=i.slice(e);return"/"!==n[0]&&(n="/"+n),Vs(n,"")}return Vs(n,t)+r+i}function aa(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?ea():null}}function oa(t){const{history:e,location:n}=window,r={value:sa(t,n)},i={value:e.state};function s(r,s,a){const o=t.indexOf("#"),l=o>-1?(n.host&&document.querySelector("base")?t:t.slice(o))+r:location.protocol+"//"+location.host+t+r;try{e[a?"replaceState":"pushState"](s,"",l),i.value=s}catch(c){console.error(c),n[a?"replace":"assign"](l)}}return i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0),{location:r,state:i,push:function(t,n){const a=vs({},i.value,e.state,{forward:t,scroll:ea()});s(a.current,a,!0),s(t,vs({},aa(r.value,t,null),{position:a.position+1},n),!1),r.value=t},replace:function(t,n){s(t,vs({},e.state,aa(i.value.back,t,i.value.forward,!0),n,{position:i.value.position}),!0),r.value=t}}}function la(t){return"string"==typeof t||"symbol"==typeof t}const ca=Symbol("");var ua,ha;function da(t,e){return vs(new Error,{type:t,[ca]:!0},e)}function fa(t,e){return t instanceof Error&&ca in t&&(null==e||!!(t.type&e))}(ha=ua||(ua={}))[ha.aborted=4]="aborted",ha[ha.cancelled=8]="cancelled",ha[ha.duplicated=16]="duplicated";const pa="[^/]+?",ga={sensitive:!1,strict:!1,start:!0,end:!0},ma=/[.+*?^${}()[\]/\\]/g;function va(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?1===t.length&&80===t[0]?-1:1:t.length>e.length?1===e.length&&80===e[0]?1:-1:0}function ya(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const t=va(r[n],i[n]);if(t)return t;n++}if(1===Math.abs(i.length-r.length)){if(ba(r))return 1;if(ba(i))return-1}return i.length-r.length}function ba(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const wa={type:0,value:""},_a=/[a-zA-Z0-9_]/;function xa(t,e,n){const r=function(t,e){const n=vs({},ga,e),r=[];let i=n.start?"^":"";const s=[];for(const l of t){const t=l.length?[]:[90];n.strict&&!l.length&&(i+="/");for(let e=0;e<l.length;e++){const r=l[e];let a=40+(n.sensitive?.25:0);if(0===r.type)e||(i+="/"),i+=r.value.replace(ma,"\\$&"),a+=40;else if(1===r.type){const{value:t,repeatable:n,optional:c,regexp:u}=r;s.push({name:t,repeatable:n,optional:c});const h=u||pa;if(h!==pa){a+=10;try{new RegExp(`(${h})`)}catch(o){throw new Error(`Invalid custom RegExp for param "${t}" (${h}): `+o.message)}}let d=n?`((?:${h})(?:/(?:${h}))*)`:`(${h})`;e||(d=c&&l.length<2?`(?:/${d})`:"/"+d),c&&(d+="?"),i+=d,a+=20,c&&(a+=-8),n&&(a+=-20),".*"===h&&(a+=-50)}t.push(a)}r.push(t)}if(n.strict&&n.end){const t=r.length-1;r[t][r[t].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const a=new RegExp(i,n.sensitive?"":"i");return{re:a,score:r,keys:s,parse:function(t){const e=t.match(a),n={};if(!e)return null;for(let r=1;r<e.length;r++){const t=e[r]||"",i=s[r-1];n[i.name]=t&&i.repeatable?t.split("/"):t}return n},stringify:function(e){let n="",r=!1;for(const i of t){r&&n.endsWith("/")||(n+="/"),r=!1;for(const t of i)if(0===t.type)n+=t.value;else if(1===t.type){const{value:s,repeatable:a,optional:o}=t,l=s in e?e[s]:"";if(ws(l)&&!a)throw new Error(`Provided param "${s}" is an array but it is not repeatable (* or + modifiers)`);const c=ws(l)?l.join("/"):l;if(!c){if(!o)throw new Error(`Missing required param "${s}"`);i.length<2&&(n.endsWith("/")?n=n.slice(0,-1):r=!0)}n+=c}}return n||"/"}}}(function(t){if(!t)return[[]];if("/"===t)return[[wa]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(t){throw new Error(`ERR (${n})/"${c}": ${t}`)}let n=0,r=n;const i=[];let s;function a(){s&&i.push(s),s=[]}let o,l=0,c="",u="";function h(){c&&(0===n?s.push({type:0,value:c}):1===n||2===n||3===n?(s.length>1&&("*"===o||"+"===o)&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:c,regexp:u,repeatable:"*"===o||"+"===o,optional:"*"===o||"?"===o})):e("Invalid state to consume buffer"),c="")}function d(){c+=o}for(;l<t.length;)if(o=t[l++],"\\"!==o||2===n)switch(n){case 0:"/"===o?(c&&h(),a()):":"===o?(h(),n=1):d();break;case 4:d(),n=r;break;case 1:"("===o?n=2:_a.test(o)?d():(h(),n=0,"*"!==o&&"?"!==o&&"+"!==o&&l--);break;case 2:")"===o?"\\"==u[u.length-1]?u=u.slice(0,-1)+o:n=3:u+=o;break;case 3:h(),n=0,"*"!==o&&"?"!==o&&"+"!==o&&l--,u="";break;default:e("Unknown state")}else r=n,n=4;return 2===n&&e(`Unfinished custom RegExp for param "${c}"`),h(),a(),i}(t.path),n),i=vs(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function Sa(t,e){const n=[],r=new Map;function i(t,n,r){const o=!r,l=Na(t);l.aliasOf=r&&r.record;const c=Ca(e,t),u=[l];if("alias"in t){const e="string"==typeof t.alias?[t.alias]:t.alias;for(const t of e)u.push(Na(vs({},l,{components:r?r.record.components:l.components,path:t,aliasOf:r?r.record:l})))}let h,d;for(const e of u){const{path:u}=e;if(n&&"/"!==u[0]){const t=n.record.path,r="/"===t[t.length-1]?"":"/";e.path=n.record.path+(u&&r+u)}if(h=xa(e,n,c),r?r.alias.push(h):(d=d||h,d!==h&&d.alias.push(h),o&&t.name&&!La(h)&&s(t.name)),Ta(h)&&a(h),l.children){const t=l.children;for(let e=0;e<t.length;e++)i(t[e],h,r&&r.children[e])}r=r||h}return d?()=>{s(d)}:bs}function s(t){if(la(t)){const e=r.get(t);e&&(r.delete(t),n.splice(n.indexOf(e),1),e.children.forEach(s),e.alias.forEach(s))}else{const e=n.indexOf(t);e>-1&&(n.splice(e,1),t.record.name&&r.delete(t.record.name),t.children.forEach(s),t.alias.forEach(s))}}function a(t){const e=function(t,e){let n=0,r=e.length;for(;n!==r;){const i=n+r>>1;ya(t,e[i])<0?r=i:n=i+1}const i=function(t){let e=t;for(;e=e.parent;)if(Ta(e)&&0===ya(t,e))return e;return}(t);i&&(r=e.lastIndexOf(i,r-1));return r}(t,n);n.splice(e,0,t),t.record.name&&!La(t)&&r.set(t.record.name,t)}return e=Ca({strict:!1,end:!0,sensitive:!1},e),t.forEach(t=>i(t)),{addRoute:i,resolve:function(t,e){let i,s,a,o={};if("name"in t&&t.name){if(i=r.get(t.name),!i)throw da(1,{location:t});a=i.record.name,o=vs(Aa(e.params,i.keys.filter(t=>!t.optional).concat(i.parent?i.parent.keys.filter(t=>t.optional):[]).map(t=>t.name)),t.params&&Aa(t.params,i.keys.map(t=>t.name))),s=i.stringify(o)}else if(null!=t.path)s=t.path,i=n.find(t=>t.re.test(s)),i&&(o=i.parse(s),a=i.record.name);else{if(i=e.name?r.get(e.name):n.find(t=>t.re.test(e.path)),!i)throw da(1,{location:t,currentLocation:e});a=i.record.name,o=vs({},e.params,t.params),s=i.stringify(o)}const l=[];let c=i;for(;c;)l.unshift(c.record),c=c.parent;return{name:a,path:s,params:o,matched:l,meta:ka(l)}},removeRoute:s,clearRoutes:function(){n.length=0,r.clear()},getRoutes:function(){return n},getRecordMatcher:function(t){return r.get(t)}}}function Aa(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function Na(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:Ea(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function Ea(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]="object"==typeof n?n[r]:n;return e}function La(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function ka(t){return t.reduce((t,e)=>vs(t,e.meta),{})}function Ca(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function Ta({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Pa(t){const e={};if(""===t||"?"===t)return e;const n=("?"===t[0]?t.slice(1):t).split("&");for(let r=0;r<n.length;++r){const t=n[r].replace(Es," "),i=t.indexOf("="),s=Bs(i<0?t:t.slice(0,i)),a=i<0?null:Bs(t.slice(i+1));if(s in e){let t=e[s];ws(t)||(t=e[s]=[t]),t.push(a)}else e[s]=a}return e}function Ia(t){let e="";for(let n in t){const r=t[n];if(n=Rs(n),null==r){void 0!==r&&(e+=(e.length?"&":"")+n);continue}(ws(r)?r.map(t=>t&&Os(t)):[r&&Os(r)]).forEach(t=>{void 0!==t&&(e+=(e.length?"&":"")+n,null!=t&&(e+="="+t))})}return e}function Da(t){const e={};for(const n in t){const r=t[n];void 0!==r&&(e[n]=ws(r)?r.map(t=>null==t?null:""+t):null==r?r:""+r)}return e}const Fa=Symbol(""),Ma=Symbol(""),Oa=Symbol(""),Ra=Symbol(""),ja=Symbol("");function Ba(){let t=[];return{add:function(e){return t.push(e),()=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)}},list:()=>t.slice(),reset:function(){t=[]}}}function qa(t,e,n,r,i,s=t=>t()){const a=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((o,l)=>{const c=t=>{var s;!1===t?l(da(4,{from:n,to:e})):t instanceof Error?l(t):"string"==typeof(s=t)||s&&"object"==typeof s?l(da(2,{from:e,to:t})):(a&&r.enterCallbacks[i]===a&&"function"==typeof t&&a.push(t),o())},u=s(()=>t.call(r&&r.instances[i],e,n,c));let h=Promise.resolve(u);t.length<3&&(h=h.then(c)),h.catch(t=>l(t))})}function Ua(t,e,n,r,i=t=>t()){const s=[];for(const a of t)for(const t in a.components){let o=a.components[t];if("beforeRouteEnter"===e||a.instances[t])if(ms(o)){const l=(o.__vccOpts||o)[e];l&&s.push(qa(l,n,r,a,t,i))}else{let l=o();s.push(()=>l.then(s=>{if(!s)throw new Error(`Couldn't resolve component "${t}" at "${a.path}"`);const o=(l=s).__esModule||"Module"===l[Symbol.toStringTag]||l.default&&ms(l.default)?s.default:s;var l;a.mods[t]=s,a.components[t]=o;const c=(o.__vccOpts||o)[e];return c&&qa(c,n,r,a,t,i)()}))}}return s}function Va(t){const e=Jn(Oa),n=Jn(Ra),r=xi(()=>{const n=_e(t.to);return e.resolve(n)}),i=xi(()=>{const{matched:t}=r.value,{length:e}=t,i=t[e-1],s=n.matched;if(!i||!s.length)return-1;const a=s.findIndex(zs.bind(null,i));if(a>-1)return a;const o=Ha(t[e-2]);return e>1&&Ha(i)===o&&s[s.length-1].path!==o?s.findIndex(zs.bind(null,t[e-2])):a}),s=xi(()=>i.value>-1&&function(t,e){for(const n in e){const r=e[n],i=t[n];if("string"==typeof r){if(r!==i)return!1}else if(!ws(i)||i.length!==r.length||r.some((t,e)=>t!==i[e]))return!1}return!0}(n.params,r.value.params)),a=xi(()=>i.value>-1&&i.value===n.matched.length-1&&Hs(n.params,r.value.params));return{route:r,href:xi(()=>r.value.href),isActive:s,isExactActive:a,navigate:function(n={}){if(function(t){if(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)return;if(t.defaultPrevented)return;if(void 0!==t.button&&0!==t.button)return;if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}t.preventDefault&&t.preventDefault();return!0}(n)){const n=e[_e(t.replace)?"replace":"push"](_e(t.to)).catch(bs);return t.viewTransition&&"undefined"!=typeof document&&"startViewTransition"in document&&document.startViewTransition(()=>n),n}return Promise.resolve()}}}const za=nn({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Va,setup(t,{slots:e}){const n=oe(Va(t)),{options:r}=Jn(Oa),i=xi(()=>({[Wa(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Wa(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=e.default&&(1===(s=e.default(n)).length?s[0]:s);var s;return t.custom?r:Si("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},r)}}});function Ha(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Wa=(t,e,n)=>null!=t?t:null!=e?e:n,$a=nn({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Jn(ja),i=xi(()=>t.route||r.value),s=Jn(Ma,0),a=xi(()=>{let t=_e(s);const{matched:e}=i.value;let n;for(;(n=e[t])&&!n.components;)t++;return t}),o=xi(()=>i.value.matched[a.value]);Qn(Ma,xi(()=>a.value+1)),Qn(Fa,o),Qn(ja,i);const l=be(c,!1);var c;return xr(()=>[l.value,o.value,t.name],([t,e,n],[r,i,s])=>{e&&(e.instances[n]=t,i&&i!==e&&t&&t===r&&(e.leaveGuards.size||(e.leaveGuards=i.leaveGuards),e.updateGuards.size||(e.updateGuards=i.updateGuards))),!t||!e||i&&zs(e,i)&&r||(e.enterCallbacks[n]||[]).forEach(e=>e(t))},{flush:"post"}),()=>{const r=i.value,s=t.name,a=o.value,c=a&&a.components[s];if(!c)return Ga(n.default,{Component:c,route:r});const u=a.props[s],h=u?!0===u?r.params:"function"==typeof u?u(r):u:null,d=Si(c,vs({},h,e,{onVnodeUnmounted:t=>{t.component.isUnmounted&&(a.instances[s]=null)},ref:l}));return Ga(n.default,{Component:d,route:r})||d}}});function Ga(t,e){if(!t)return null;const n=t(e);return 1===n.length?n[0]:n}const Ka=$a;var Ya={};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Qa={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const e=t[i],s=i+1<t.length,a=s?t[i+1]:0,o=i+2<t.length,l=o?t[i+2]:0,c=e>>2,u=(3&e)<<4|a>>4;let h=(15&a)<<2|l>>6,d=63&l;o||(d=64,s||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Xa(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const e=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const a=i<t.length?n[t.charAt(i)]:64;++i;const o=i<t.length?n[t.charAt(i)]:64;if(++i,null==e||null==s||null==a||null==o)throw new Ja;const l=e<<2|s>>4;if(r.push(l),64!==a){const t=s<<4&240|a>>2;if(r.push(t),64!==o){const t=a<<6&192|o;r.push(t)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Ja extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Za=function(t){return function(t){const e=Xa(t);return Qa.encodeByteArray(e,!0)}(t).replace(/\./g,"")};
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const to=()=>
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,eo=()=>{if("undefined"==typeof document)return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(AA){return}const e=t&&function(t){try{return Qa.decodeString(t,!0)}catch(AA){console.error("base64Decode failed: ",AA)}return null}(t[1]);return e&&JSON.parse(e)},no=()=>{try{return to()||(()=>{if("undefined"==typeof process)return;const t=Ya.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||eo()}catch(AA){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${AA}`)}},ro=t=>{const e=(t=>{var e,n;return null===(n=null===(e=no())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]},io=()=>{var t;return null===(t=no())||void 0===t?void 0:t.config};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class so{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),"function"==typeof t&&(this.promise.catch(()=>{}),1===t.length?t(e):t(e,n))}}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ao(){return!function(){var t;const e=null===(t=no())||void 0===t?void 0:t.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(AA){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}class oo extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,oo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lo.prototype.create)}}class lo{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t,...e){const n=e[0]||{},r=`${this.service}/${t}`,i=this.errors[t],s=i?function(t,e){return t.replace(co,(t,n)=>{const r=e[n];return null!=r?String(r):`<${n}?>`})}(i,n):"Error",a=`${this.serviceName}: ${s} (${r}).`;return new oo(r,a,n)}}const co=/\{\$([^}]+)}/g;function uo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const n=t[i],s=e[i];if(ho(n)&&ho(s)){if(!uo(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ho(t){return null!==t&&"object"==typeof t}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fo(t){return t&&t._delegate?t._delegate:t}class po{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go="[DEFAULT]";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const t=new so;if(this.instancesDeferred.set(e,t),this.isInitialized(e)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:e});n&&t.resolve(n)}catch(AA){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(AA){if(r)return null;throw AA}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t))try{this.getOrInitializeService({instanceIdentifier:go})}catch(AA){}for(const[t,e]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(t);try{const t=this.getOrInitializeService({instanceIdentifier:n});e.resolve(t)}catch(AA){}}}}clearInstance(t=go){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...t.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return null!=this.component}isInitialized(t=go){return this.instances.has(t)}getOptions(t=go){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(t,e){var n;const r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&t(s,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const i of n)try{i(t,e)}catch(r){}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=t,r===go?void 0:r),options:e}),this.instances.set(t,n),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch(i){}var r;return n||null}normalizeInstanceIdentifier(t=go){return this.component?this.component.multipleInstances?t:go:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class vo{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new mo(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yo,bo;(bo=yo||(yo={}))[bo.DEBUG=0]="DEBUG",bo[bo.VERBOSE=1]="VERBOSE",bo[bo.INFO=2]="INFO",bo[bo.WARN=3]="WARN",bo[bo.ERROR=4]="ERROR",bo[bo.SILENT=5]="SILENT";const wo={debug:yo.DEBUG,verbose:yo.VERBOSE,info:yo.INFO,warn:yo.WARN,error:yo.ERROR,silent:yo.SILENT},_o=yo.INFO,xo={[yo.DEBUG]:"log",[yo.VERBOSE]:"log",[yo.INFO]:"info",[yo.WARN]:"warn",[yo.ERROR]:"error"},So=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=xo[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Ao{constructor(t){this.name=t,this._logLevel=_o,this._logHandler=So,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in yo))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?wo[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,yo.DEBUG,...t),this._logHandler(this,yo.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,yo.VERBOSE,...t),this._logHandler(this,yo.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,yo.INFO,...t),this._logHandler(this,yo.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,yo.WARN,...t),this._logHandler(this,yo.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,yo.ERROR,...t),this._logHandler(this,yo.ERROR,...t)}}let No,Eo;const Lo=new WeakMap,ko=new WeakMap,Co=new WeakMap,To=new WeakMap,Po=new WeakMap;let Io={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return ko.get(t);if("objectStoreNames"===e)return t.objectStoreNames||Co.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mo(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Do(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Eo||(Eo=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(Oo(this),e),Mo(Lo.get(this))}:function(...e){return Mo(t.apply(Oo(this),e))}:function(e,...n){const r=t.call(Oo(this),e,...n);return Co.set(r,e.sort?e.sort():[e]),Mo(r)}}function Fo(t){return"function"==typeof t?Do(t):(t instanceof IDBTransaction&&function(t){if(ko.has(t))return;const e=new Promise((e,n)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",s),t.removeEventListener("abort",s)},i=()=>{e(),r()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",s),t.addEventListener("abort",s)});ko.set(t,e)}(t),e=t,(No||(No=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(t=>e instanceof t)?new Proxy(t,Io):t);var e}function Mo(t){if(t instanceof IDBRequest)return function(t){const e=new Promise((e,n)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",s)},i=()=>{e(Mo(t.result)),r()},s=()=>{n(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",s)});return e.then(e=>{e instanceof IDBCursor&&Lo.set(e,t)}).catch(()=>{}),Po.set(e,t),e}(t);if(To.has(t))return To.get(t);const e=Fo(t);return e!==t&&(To.set(t,e),Po.set(e,t)),e}const Oo=t=>Po.get(t);const Ro=["get","getKey","getAll","getAllKeys","count"],jo=["put","add","delete","clear"],Bo=new Map;function qo(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Bo.get(e))return Bo.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=jo.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Ro.includes(n))return;const s=async function(t,...e){const s=this.transaction(t,i?"readwrite":"readonly");let a=s.store;return r&&(a=a.index(e.shift())),(await Promise.all([a[n](...e),i&&s.done]))[0]};return Bo.set(e,s),s}Io=(t=>({...t,get:(e,n,r)=>qo(e,n)||t.get(e,n,r),has:(e,n)=>!!qo(e,n)||t.has(e,n)}))(Io);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Uo{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const e=t.getImmediate();return`${e.library}/${e.version}`}return null}).filter(t=>t).join(" ")}}const Vo="@firebase/app",zo="0.10.13",Ho=new Ao("@firebase/app"),Wo="@firebase/app-compat",$o="@firebase/analytics-compat",Go="@firebase/analytics",Ko="@firebase/app-check-compat",Yo="@firebase/app-check",Xo="@firebase/auth",Qo="@firebase/auth-compat",Jo="@firebase/database",Zo="@firebase/data-connect",tl="@firebase/database-compat",el="@firebase/functions",nl="@firebase/functions-compat",rl="@firebase/installations",il="@firebase/installations-compat",sl="@firebase/messaging",al="@firebase/messaging-compat",ol="@firebase/performance",ll="@firebase/performance-compat",cl="@firebase/remote-config",ul="@firebase/remote-config-compat",hl="@firebase/storage",dl="@firebase/storage-compat",fl="@firebase/firestore",pl="@firebase/vertexai-preview",gl="@firebase/firestore-compat",ml="firebase",vl="[DEFAULT]",yl={[Vo]:"fire-core",[Wo]:"fire-core-compat",[Go]:"fire-analytics",[$o]:"fire-analytics-compat",[Yo]:"fire-app-check",[Ko]:"fire-app-check-compat",[Xo]:"fire-auth",[Qo]:"fire-auth-compat",[Jo]:"fire-rtdb",[Zo]:"fire-data-connect",[tl]:"fire-rtdb-compat",[el]:"fire-fn",[nl]:"fire-fn-compat",[rl]:"fire-iid",[il]:"fire-iid-compat",[sl]:"fire-fcm",[al]:"fire-fcm-compat",[ol]:"fire-perf",[ll]:"fire-perf-compat",[cl]:"fire-rc",[ul]:"fire-rc-compat",[hl]:"fire-gcs",[dl]:"fire-gcs-compat",[fl]:"fire-fst",[gl]:"fire-fst-compat",[pl]:"fire-vertex","fire-js":"fire-js",[ml]:"fire-js-all"},bl=new Map,wl=new Map,_l=new Map;function xl(t,e){try{t.container.addComponent(e)}catch(AA){Ho.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,AA)}}function Sl(t){const e=t.name;if(_l.has(e))return Ho.debug(`There were multiple attempts to register component ${e}.`),!1;_l.set(e,t);for(const n of bl.values())xl(n,t);for(const n of wl.values())xl(n,t);return!0}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Al=new lo("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Nl{constructor(t,e,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new po("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Al.create("app-deleted",{appName:this._name})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(t,e={}){let n=t;if("object"!=typeof e){e={name:e}}const r=Object.assign({name:vl,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Al.create("bad-app-name",{appName:String(i)});if(n||(n=io()),!n)throw Al.create("no-options");const s=bl.get(i);if(s){if(uo(n,s.options)&&uo(r,s.config))return s;throw Al.create("duplicate-app",{appName:i})}const a=new vo(i);for(const l of _l.values())a.addComponent(l);const o=new Nl(n,r,a);return bl.set(i,o),o}function Ll(t,e,n){var r;let i=null!==(r=yl[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const t=[`Unable to register library "${i}" with version "${e}":`];return s&&t.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&t.push("and"),a&&t.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Ho.warn(t.join(" "))}Sl(new po(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl="firebase-heartbeat-store";let Cl=null;function Tl(){return Cl||(Cl=function(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=Mo(a);return r&&a.addEventListener("upgradeneeded",t=>{r(Mo(a.result),t.oldVersion,t.newVersion,Mo(a.transaction),t)}),n&&a.addEventListener("blocked",t=>n(t.oldVersion,t.newVersion,t)),o.then(t=>{s&&t.addEventListener("close",()=>s()),i&&t.addEventListener("versionchange",t=>i(t.oldVersion,t.newVersion,t))}).catch(()=>{}),o}("firebase-heartbeat-database",1,{upgrade:(t,e)=>{if(0===e)try{t.createObjectStore(kl)}catch(AA){console.warn(AA)}}}).catch(t=>{throw Al.create("idb-open",{originalErrorMessage:t.message})})),Cl}async function Pl(t,e){try{const n=(await Tl()).transaction(kl,"readwrite"),r=n.objectStore(kl);await r.put(e,Il(t)),await n.done}catch(AA){if(AA instanceof oo)Ho.warn(AA.message);else{const e=Al.create("idb-set",{originalErrorMessage:null==AA?void 0:AA.message});Ho.warn(e.message)}}}function Il(t){return`${t.name}!${t.options.appId}`}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new Ml(e),this._heartbeatsCachePromise=this._storage.read().then(t=>(this._heartbeatsCache=t,t))}async triggerHeartbeat(){var t,e;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Fl();if(null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(t=>t.date===r))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(t=>{const e=new Date(t.date).valueOf();return Date.now()-e<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}catch(AA){Ho.warn(AA)}}async getHeartbeatsHeader(){var t;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const e=Fl(),{heartbeatsToSend:n,unsentEntries:r}=function(t,e=1024){const n=[];let r=t.slice();for(const i of t){const t=n.find(t=>t.agent===i.agent);if(t){if(t.dates.push(i.date),Ol(n)>e){t.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ol(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Za(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(AA){return Ho.warn(AA),""}}}function Fl(){return(new Date).toISOString().substring(0,10)}class Ml{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"==typeof indexedDB}catch(AA){return!1}}()&&new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(n){e(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const t=await async function(t){try{const e=(await Tl()).transaction(kl),n=await e.objectStore(kl).get(Il(t));return await e.done,n}catch(AA){if(AA instanceof oo)Ho.warn(AA.message);else{const e=Al.create("idb-get",{originalErrorMessage:null==AA?void 0:AA.message});Ho.warn(e.message)}}}(this.app);return(null==t?void 0:t.heartbeats)?t:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return Pl(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}}async add(t){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return Pl(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}}}function Ol(t){return Za(JSON.stringify({version:2,heartbeats:t})).length}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rl;Rl="",Sl(new po("platform-logger",t=>new Uo(t),"PRIVATE")),Sl(new po("heartbeat",t=>new Dl(t),"PRIVATE")),Ll(Vo,zo,Rl),Ll(Vo,zo,"esm2017"),Ll("fire-js","");
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Ll("firebase","10.14.1","app");var jl,Bl,ql="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};
/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/(function(){var t;
/** @license
  
   Copyright The Closure Library Authors.
   SPDX-License-Identifier: Apache-2.0
  */function e(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],a=e+(s^n&(i^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(a<<7&4294967295|a>>>25))+((a=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(e=n+((a=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function r(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}!function(t,e){function n(){}n.prototype=e.prototype,t.D=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.C=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}(e,function(){this.blockSize=-1}),e.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},e.prototype.u=function(t,e){void 0===e&&(e=t.length);for(var r=e-this.blockSize,i=this.B,s=this.h,a=0;a<e;){if(0==s)for(;a<=r;)n(this,t,a),a+=this.blockSize;if("string"==typeof t){for(;a<e;)if(i[s++]=t.charCodeAt(a++),s==this.blockSize){n(this,i),s=0;break}}else for(;a<e;)if(i[s++]=t[a++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=e},e.prototype.v=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.o;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.u(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var i={};function s(t){return-128<=t&&128>t?function(t,e){var n=i;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(t){return new r([0|t],0>t?-1:0)}):new r([0|t],0>t?-1:0)}function a(t){if(isNaN(t)||!isFinite(t))return o;if(0>t)return d(a(-t));for(var e=[],n=1,i=0;t>=n;i++)e[i]=t/n|0,n*=4294967296;return new r(e,0)}var o=s(0),l=s(1),c=s(16777216);function u(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function h(t){return-1==t.h}function d(t){for(var e=t.g.length,n=[],i=0;i<e;i++)n[i]=~t.g[i];return new r(n,~t.h).add(l)}function f(t,e){return t.add(d(e))}function p(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function g(t,e){this.g=t,this.h=e}function m(t,e){if(u(e))throw Error("division by zero");if(u(t))return new g(o,o);if(h(t))return e=m(d(t),e),new g(d(e.g),d(e.h));if(h(e))return e=m(t,d(e)),new g(d(e.g),e.h);if(30<t.g.length){if(h(t)||h(e))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=e;0>=r.l(t);)n=v(n),r=v(r);var i=y(n,1),s=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=s.add(r);0>=c.l(t)&&(i=i.add(n),s=c),r=y(r,1),n=y(n,1)}return e=f(t,i.j(e)),new g(i,e)}for(i=o;0<=t.l(e);){for(n=Math.max(1,Math.floor(t.m()/e.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(s=a(n)).j(e);h(c)||0<c.l(t);)c=(s=a(n-=r)).j(e);u(s)&&(s=l),i=i.add(s),t=f(t,c)}return new g(i,t)}function v(t){for(var e=t.g.length+1,n=[],i=0;i<e;i++)n[i]=t.i(i)<<1|t.i(i-1)>>>31;return new r(n,t.h)}function y(t,e){var n=e>>5;e%=32;for(var i=t.g.length-n,s=[],a=0;a<i;a++)s[a]=0<e?t.i(a+n)>>>e|t.i(a+n+1)<<32-e:t.i(a+n);return new r(s,t.h)}(t=r.prototype).m=function(){if(h(this))return-d(this).m();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.i(n);t+=(0<=r?r:4294967296+r)*e,e*=4294967296}return t},t.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(u(this))return"0";if(h(this))return"-"+d(this).toString(t);for(var e=a(Math.pow(t,6)),n=this,r="";;){var i=m(n,e).g,s=((0<(n=f(n,i.j(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(u(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},t.i=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},t.l=function(t){return h(t=f(this,t))?-1:u(t)?0:1},t.abs=function(){return h(this)?d(this):this},t.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0,s=0;s<=e;s++){var a=i+(65535&this.i(s))+(65535&t.i(s)),o=(a>>>16)+(this.i(s)>>>16)+(t.i(s)>>>16);i=o>>>16,a&=65535,o&=65535,n[s]=o<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},t.j=function(t){if(u(this)||u(t))return o;if(h(this))return h(t)?d(this).j(d(t)):d(d(this).j(t));if(h(t))return d(this.j(d(t)));if(0>this.l(c)&&0>t.l(c))return a(this.m()*t.m());for(var e=this.g.length+t.g.length,n=[],i=0;i<2*e;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<t.g.length;s++){var l=this.i(i)>>>16,f=65535&this.i(i),g=t.i(s)>>>16,m=65535&t.i(s);n[2*i+2*s]+=f*m,p(n,2*i+2*s),n[2*i+2*s+1]+=l*m,p(n,2*i+2*s+1),n[2*i+2*s+1]+=f*g,p(n,2*i+2*s+1),n[2*i+2*s+2]+=l*g,p(n,2*i+2*s+2)}for(i=0;i<e;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=e;i<2*e;i++)n[i]=0;return new r(n,0)},t.A=function(t){return m(this,t).h},t.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.i(i)&t.i(i);return new r(n,this.h&t.h)},t.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.i(i)|t.i(i);return new r(n,this.h|t.h)},t.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.i(i)^t.i(i);return new r(n,this.h^t.h)},e.prototype.digest=e.prototype.v,e.prototype.reset=e.prototype.s,e.prototype.update=e.prototype.u,Bl=e,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function t(e,n){if(0==e.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==e.charAt(0))return d(t(e.substring(1),n));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),i=o,s=0;s<e.length;s+=8){var l=Math.min(8,e.length-s),c=parseInt(e.substring(s,s+l),n);8>l?(l=a(Math.pow(n,l)),i=i.j(l).add(a(c))):i=(i=i.j(r)).add(a(c))}return i},jl=r}).apply(void 0!==ql?ql:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Ul,Vl,zl,Hl,Wl,$l,Gl,Kl,Yl="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};
/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){return t==Array.prototype||t==Object.prototype||(t[e]=n.value),t};var n=function(t){t=["object"==typeof globalThis&&globalThis,t,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Yl&&Yl];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(t,r){if(r)t:{var i=n;t=t.split(".");for(var s=0;s<t.length-1;s++){var a=t[s];if(!(a in i))break t;i=i[a]}(r=r(s=i[t=t[t.length-1]]))!=s&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",function(t){return t||function(){return function(t,e){t instanceof String&&(t+="");var n=0,r=!1,i={next:function(){if(!r&&n<t.length){var i=n++;return{value:e(i,t[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,function(t,e){return e})}});
/** @license
  
   Copyright The Closure Library Authors.
   SPDX-License-Identifier: Apache-2.0
  */
var r=r||{},i=this||self;function s(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function a(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function o(t,e,n){return t.call.apply(t.bind,arguments)}function l(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function c(t,e,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function u(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function h(t,e){function n(){}n.prototype=e.prototype,t.aa=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Qb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function d(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function f(t,e){for(let n=1;n<arguments.length;n++){const e=arguments[n];if(s(e)){const n=t.length||0,r=e.length||0;t.length=n+r;for(let i=0;i<r;i++)t[n+i]=e[i]}else t.push(e)}}function p(t){return/^[\s\xa0]*$/.test(t)}function g(){var t=i.navigator;return t&&(t=t.userAgent)?t:""}function m(t){return m[" "](t),t}m[" "]=function(){};var v=!(-1==g().indexOf("Gecko")||-1!=g().toLowerCase().indexOf("webkit")&&-1==g().indexOf("Edge")||-1!=g().indexOf("Trident")||-1!=g().indexOf("MSIE")||-1!=g().indexOf("Edge"));function y(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function b(t){const e={};for(const n in t)e[n]=t[n];return e}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let e=0;e<w.length;e++)n=w[e],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function x(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function S(t){i.setTimeout(()=>{throw t},0)}function A(){var t=C;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var N=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new E,t=>t.reset());class E{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}let L,k=!1,C=new class{constructor(){this.h=this.g=null}add(t,e){const n=N.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n}},T=()=>{const t=i.Promise.resolve(void 0);L=()=>{t.then(P)}};var P=()=>{for(var t;t=A();){try{t.h.call(t.g)}catch(n){S(n)}var e=N;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}k=!1};function I(){this.s=this.s,this.C=this.C}function D(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}I.prototype.s=!1,I.prototype.ma=function(){this.s||(this.s=!0,this.N())},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},D.prototype.h=function(){this.defaultPrevented=!0};var F=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const t=()=>{};i.addEventListener("test",t,e),i.removeEventListener("test",t,e)}catch(n){}return t}();function M(t,e){if(D.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(v){t:{try{m(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:O[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&M.aa.h.call(this)}}h(M,D);var O={2:"touch",3:"pen",4:"mouse"};M.prototype.h=function(){M.aa.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var R="closure_listenable_"+(1e6*Math.random()|0),j=0;function B(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++j,this.da=this.fa=!1}function q(t){t.da=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function U(t){this.src=t,this.g={},this.h=0}function V(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],s=Array.prototype.indexOf.call(i,e,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(q(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function z(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.da&&s.listener==e&&s.capture==!!n&&s.ha==r)return i}return-1}U.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var a=z(t,e,r,i);return-1<a?(e=t[a],n||(e.fa=!1)):((e=new B(e,this.src,s,!!r,i)).fa=n,t.push(e)),e};var H="closure_lm_"+(1e6*Math.random()|0),W={};function $(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)$(t,e[s],n,r,i);return null}return n=Z(n),t&&t[R]?t.K(e,n,!!a(r)&&!!r.capture,i):function(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=a(i)?!!i.capture:!!i,l=Q(t);if(l||(t[H]=l=new U(t)),n=l.add(e,n,r,o,s),n.proxy)return n;if(r=function(){function t(n){return e.call(t.src,t.listener,n)}const e=X;return t}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)F||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Y(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}(t,e,n,!1,r,i)}function G(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)G(t,e[s],n,r,i);else r=a(r)?!!r.capture:!!r,n=Z(n),t&&t[R]?(t=t.i,(e=String(e).toString())in t.g&&(-1<(n=z(s=t.g[e],n,r,i))&&(q(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--)))):t&&(t=Q(t))&&(e=t.g[e.toString()],t=-1,e&&(t=z(e,n,r,i)),(n=-1<t?e[t]:null)&&K(n))}function K(t){if("number"!=typeof t&&t&&!t.da){var e=t.src;if(e&&e[R])V(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Y(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Q(e))?(V(n,t),0==n.h&&(n.src=null,e[H]=null)):q(t)}}}function Y(t){return t in W?W[t]:W[t]="on"+t}function X(t,e){if(t.da)t=!0;else{e=new M(e,this);var n=t.listener,r=t.ha||t.src;t.fa&&K(t),t=n.call(r,e)}return t}function Q(t){return(t=t[H])instanceof U?t:null}var J="__closure_events_fn_"+(1e9*Math.random()>>>0);function Z(t){return"function"==typeof t?t:(t[J]||(t[J]=function(e){return t.handleEvent(e)}),t[J])}function tt(){I.call(this),this.i=new U(this),this.M=this,this.F=null}function et(t,e){var n,r=t.F;if(r)for(n=[];r;r=r.F)n.push(r);if(t=t.M,r=e.type||e,"string"==typeof e)e=new D(e,t);else if(e instanceof D)e.target=e.target||t;else{var i=e;_(e=new D(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=e.g=n[s];i=nt(a,r,!0,e)&&i}if(i=nt(a=e.g=t,r,!0,e)&&i,i=nt(a,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=nt(a=e.g=n[s],r,!1,e)&&i}function nt(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var a=e[s];if(a&&!a.da&&a.capture==n){var o=a.listener,l=a.ha||a.src;a.fa&&V(t.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}function rt(t,e,n){if("function"==typeof t)n&&(t=c(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=c(t.handleEvent,t)}return 2147483647<Number(e)?-1:i.setTimeout(t,e||0)}function it(t){t.g=rt(()=>{t.g=null,t.i&&(t.i=!1,it(t))},t.l);const e=t.h;t.h=null,t.m.apply(null,e)}h(tt,I),tt.prototype[R]=!0,tt.prototype.removeEventListener=function(t,e,n,r){G(this,t,e,n,r)},tt.prototype.N=function(){if(tt.aa.N.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)q(n[r]);delete e.g[t],e.h--}}this.F=null},tt.prototype.K=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},tt.prototype.L=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};class st extends I{constructor(t,e){super(),this.m=t,this.l=e,this.h=null,this.i=!1,this.g=null}j(t){this.h=arguments,this.g?this.i=!0:it(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function at(t){I.call(this),this.h=t,this.g={}}h(at,I);var ot=[];function lt(t){y(t.g,function(t,e){this.g.hasOwnProperty(e)&&K(t)},t),t.g={}}at.prototype.N=function(){at.aa.N.call(this),lt(this)},at.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ct=i.JSON.stringify,ut=i.JSON.parse,ht=class{stringify(t){return i.JSON.stringify(t,void 0)}parse(t){return i.JSON.parse(t,void 0)}};function dt(){}function ft(t){return t.h||(t.h=t.i())}function pt(){}dt.prototype.h=null;var gt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function mt(){D.call(this,"d")}function vt(){D.call(this,"c")}h(mt,D),h(vt,D);var yt={},bt=null;function wt(){return bt=bt||new tt}function _t(t){D.call(this,yt.La,t)}function xt(t){const e=wt();et(e,new _t(e))}function St(t,e){D.call(this,yt.STAT_EVENT,t),this.stat=e}function At(t){const e=wt();et(e,new St(e,t))}function Nt(t,e){D.call(this,yt.Ma,t),this.size=e}function Et(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return i.setTimeout(function(){t()},e)}function Lt(){this.g=!0}function kt(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return ct(n)}catch(o){return e}}(t,n)+(r?" "+r:"")})}yt.La="serverreachability",h(_t,D),yt.STAT_EVENT="statevent",h(St,D),yt.Ma="timingevent",h(Nt,D),Lt.prototype.xa=function(){this.g=!1},Lt.prototype.info=function(){};var Ct,Tt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function It(){}function Dt(t,e,n,r){this.j=t,this.i=e,this.l=n,this.R=r||1,this.U=new at(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ft}function Ft(){this.i=null,this.g="",this.h=!1}h(It,dt),It.prototype.g=function(){return new XMLHttpRequest},It.prototype.i=function(){return{}},Ct=new It;var Mt={},Ot={};function Rt(t,e,n){t.L=1,t.v=ce(ie(e)),t.m=n,t.P=!0,jt(t,null)}function jt(t,e){t.F=Date.now(),Ut(t),t.A=ie(t.v);var n=t.A,r=t.R;Array.isArray(r)||(r=[String(r)]),xe(n.i,"t",r),t.C=0,n=t.j.J,t.h=new Ft,t.g=un(t.j,n?e:null,!t.m),0<t.O&&(t.M=new st(c(t.Y,t,t.g),t.O)),e=t.U,n=t.g,r=t.ca;var i="readystatechange";Array.isArray(i)||(i&&(ot[0]=i.toString()),i=ot);for(var s=0;s<i.length;s++){var a=$(n,i[s],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}e=t.H?b(t.H):{},t.m?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.m,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),xt(),function(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");a=2<=h.length&&"type"==h[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a})}(t.i,t.u,t.A,t.l,t.R,t.m)}function Bt(t){return!!t.g&&("GET"==t.u&&2!=t.L&&t.j.Ca)}function qt(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Ot:(n=Number(e.substring(n,r)),isNaN(n)?Mt:(r+=1)+n>e.length?Ot:(e=e.slice(r,r+n),t.C=r+n,e))}function Ut(t){t.S=Date.now()+t.I,Vt(t,t.I)}function Vt(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Et(c(t.ba,t),e)}function zt(t){t.B&&(i.clearTimeout(t.B),t.B=null)}function Ht(t){0==t.j.G||t.J||sn(t.j,t)}function Wt(t){zt(t);var e=t.M;e&&"function"==typeof e.ma&&e.ma(),t.M=null,lt(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.ma())}function $t(t,e){try{var n=t.j;if(0!=n.G&&(n.g==t||Qt(n.h,t)))if(!t.K&&Qt(n.h,t)&&3==n.G){try{var r=n.Da.g.parse(e)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;rn(n),Ge(n)}tn(n),At(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Et(c(n.Za,n),6e3));if(1>=Xt(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else on(n,11)}else if((t.K||n.g==t)&&rn(n),!p(e))for(i=n.Da.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const e=c[3];null!=e&&(n.la=e,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"==typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const t=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(t){var s=r.h;s.g||-1==t.indexOf("spdy")&&-1==t.indexOf("quic")&&-1==t.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Jt(s,s.h),s.h=null))}if(r.D){const t=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;t&&(r.ya=t,le(r.I,r.D,t))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-t.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=t;if((r=n).qa=cn(r,r.J?r.ia:null,r.W),a.K){Zt(r.h,a);var o=a,l=r.L;l&&(o.I=l),o.B&&(zt(o),Ut(o)),r.g=a}else Ze(r);0<n.i.length&&Ye(n)}else"stop"!=c[0]&&"close"!=c[0]||on(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?on(n,7):$e(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}xt()}catch(u){}}Dt.prototype.ca=function(t){t=t.target;const e=this.M;e&&3==Ve(t)?e.j():this.Y(t)},Dt.prototype.Y=function(t){try{if(t==this.g)t:{const d=Ve(this.g);var e=this.g.Ba();this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||ze(this.g)))){this.J||4!=d||7==e||xt(),zt(this);var n=this.g.Z();this.X=n;e:if(Bt(this)){var r=ze(this.g);t="";var s=r.length,a=4==Ve(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Wt(this),Ht(this);var o="";break e}this.h.i=new i.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:!(a&&e==s-1)});r.length=0,this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(t,e,n,r,i,s,a){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+a})}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){e:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break e}}u=null}if(!(n=u)){this.o=!1,this.s=3,At(12),Wt(this),Ht(this);break t}kt(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$t(this,n)}if(this.P){let t;for(n=!0;!this.J&&this.C<o.length;){if(t=qt(this,o),t==Ot){4==d&&(this.s=4,At(14),n=!1),kt(this.i,this.l,null,"[Incomplete Response]");break}if(t==Mt){this.s=4,At(15),kt(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}kt(this.i,this.l,t,null),$t(this,t)}if(Bt(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=o.length||this.h.h||(this.s=1,At(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),en(h),h.M=!0,At(11))}}else kt(this.i,this.l,o,"[Invalid Chunked Response]"),Wt(this),Ht(this)}else kt(this.i,this.l,o,null),$t(this,o);4==d&&Wt(this),this.o&&!this.J&&(4==d?sn(this.j,this):(this.o=!1,Ut(this)))}else(function(t){const e={};t=(t.g&&2<=Ve(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(p(t[r]))continue;var n=x(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(t){return t.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,At(12)):(this.s=0,At(13)),Wt(this),Ht(this)}}}catch(d){}},Dt.prototype.cancel=function(){this.J=!0,Wt(this)},Dt.prototype.ba=function(){this.B=null;const t=Date.now();0<=t-this.S?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.i,this.A),2!=this.L&&(xt(),At(17)),Wt(this),this.s=2,Ht(this)):Vt(this,this.S-t)};var Gt=class{constructor(t,e){this.g=t,this.map=e}};function Kt(t){this.l=t||10,i.PerformanceNavigationTiming?t=0<(t=i.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Yt(t){return!!t.h||!!t.g&&t.g.size>=t.j}function Xt(t){return t.h?1:t.g?t.g.size:0}function Qt(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function Jt(t,e){t.g?t.g.add(e):t.h=e}function Zt(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function te(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return d(t.i)}function ee(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(s(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function(t){if(t.na&&"function"==typeof t.na)return t.na();if(!t.V||"function"!=typeof t.V){if("undefined"!=typeof Map&&t instanceof Map)return Array.from(t.keys());if(!("undefined"!=typeof Set&&t instanceof Set)){if(s(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function(t){if(t.V&&"function"==typeof t.V)return t.V();if("undefined"!=typeof Map&&t instanceof Map||"undefined"!=typeof Set&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(s(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,a=0;a<i;a++)e.call(void 0,r[a],n&&n[a],t)}Kt.prototype.cancel=function(){if(this.i=te(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var ne=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function re(t){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,t instanceof re){this.h=t.h,se(this,t.j),this.o=t.o,this.g=t.g,ae(this,t.s),this.l=t.l;var e=t.i,n=new ye;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),oe(this,n),this.m=t.m}else t&&(e=String(t).match(ne))?(this.h=!1,se(this,e[1]||"",!0),this.o=ue(e[2]||""),this.g=ue(e[3]||"",!0),ae(this,e[4]),this.l=ue(e[5]||"",!0),oe(this,e[6]||"",!0),this.m=ue(e[7]||"")):(this.h=!1,this.i=new ye(null,this.h))}function ie(t){return new re(t)}function se(t,e,n){t.j=n?ue(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function ae(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.s=e}else t.s=null}function oe(t,e,n){e instanceof ye?(t.i=e,function(t,e){e&&!t.j&&(be(t),t.i=null,t.g.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(we(this,e),xe(this,n,t))},t)),t.j=e}(t.i,t.h)):(n||(e=he(e,me)),t.i=new ye(e,t.h))}function le(t,e,n){t.i.set(e,n)}function ce(t){return le(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ue(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function he(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,de),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function de(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}re.prototype.toString=function(){var t=[],e=this.j;e&&t.push(he(e,fe,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.o)&&t.push(he(e,fe,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(he(n,"/"==n.charAt(0)?ge:pe,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.m)&&t.push("#",he(n,ve)),t.join("")};var fe=/[#\/\?@]/g,pe=/[#\?:]/g,ge=/[#\?]/g,me=/[#\?@]/g,ve=/#/g;function ye(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function be(t){t.g||(t.g=new Map,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function we(t,e){be(t),e=Se(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function _e(t,e){return be(t),e=Se(t,e),t.g.has(e)}function xe(t,e,n){we(t,e),0<n.length&&(t.i=null,t.g.set(Se(t,e),d(n)),t.h+=n.length)}function Se(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Ae(t,e,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function Ne(){this.g=new ht}function Ee(t,e,n){const r=n||"";try{ee(t,function(t,n){let i=t;a(t)&&(i=ct(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(AA){throw e.push(r+"type="+encodeURIComponent("_badmap")),AA}}function Le(t){this.l=t.Ub||null,this.j=t.eb||!1}function ke(t,e){tt.call(this),this.D=t,this.o=e,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Ce(t){t.j.read().then(t.Pa.bind(t)).catch(t.ga.bind(t))}function Te(t){t.readyState=4,t.l=null,t.j=null,t.v=null,Pe(t)}function Pe(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function Ie(t){let e="";return y(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}function De(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=Ie(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):le(t,e,n))}function Fe(t){tt.call(this),this.headers=new Map,this.o=t||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(t=ye.prototype).add=function(t,e){be(this),this.i=null,t=Se(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},t.forEach=function(t,e){be(this),this.g.forEach(function(n,r){n.forEach(function(n){t.call(e,n,r,this)},this)},this)},t.na=function(){be(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let t=0;t<i.length;t++)n.push(e[r])}return n},t.V=function(t){be(this);let e=[];if("string"==typeof t)_e(this,t)&&(e=e.concat(this.g.get(Se(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},t.set=function(t,e){return be(this),this.i=null,_e(this,t=Se(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},t.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),t.push(i)}}return this.i=t.join("&")},h(Le,dt),Le.prototype.g=function(){return new ke(this.l,this.j)},Le.prototype.i=function(t){return function(){return t}}({}),h(ke,tt),(t=ke.prototype).open=function(t,e){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=t,this.A=e,this.readyState=1,Pe(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.u,method:this.B,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||i).fetch(new Request(this.A,e)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Te(this)),this.readyState=0},t.Sa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Pe(this)),this.g&&(this.readyState=3,Pe(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(void 0!==i.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ce(this)}else t.text().then(this.Ra.bind(this),this.ga.bind(this))},t.Pa=function(t){if(this.g){if(this.o&&t.value)this.response.push(t.value);else if(!this.o){var e=t.value?t.value:new Uint8Array(0);(e=this.v.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Te(this):Pe(this),3==this.readyState&&Ce(this)}},t.Ra=function(t){this.g&&(this.response=this.responseText=t,Te(this))},t.Qa=function(t){this.g&&(this.response=t,Te(this))},t.ga=function(){this.g&&Te(this)},t.setRequestHeader=function(t,e){this.u.append(t,e)},t.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(ke.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}}),h(Fe,tt);var Me=/^https?$/i,Oe=["POST","PUT"];function Re(t,e){t.h=!1,t.g&&(t.j=!0,t.g.abort(),t.j=!1),t.l=e,t.m=5,je(t),qe(t)}function je(t){t.A||(t.A=!0,et(t,"complete"),et(t,"error"))}function Be(t){if(t.h&&void 0!==r&&(!t.v[1]||4!=Ve(t)||2!=t.Z()))if(t.u&&4==Ve(t))rt(t.Ea,0,t);else if(et(t,"readystatechange"),4==Ve(t)){t.h=!1;try{const r=t.Z();t:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}var n;if(!(n=e)){var s;if(s=0===r){var a=String(t.D).match(ne)[1]||null;!a&&i.self&&i.self.location&&(a=i.self.location.protocol.slice(0,-1)),s=!Me.test(a?a.toLowerCase():"")}n=s}if(n)et(t,"complete"),et(t,"success");else{t.m=6;try{var o=2<Ve(t)?t.g.statusText:""}catch(l){o=""}t.l=o+" ["+t.Z()+"]",je(t)}}finally{qe(t)}}}function qe(t,e){if(t.g){Ue(t);const n=t.g,r=t.v[0]?()=>{}:null;t.g=null,t.v=null,e||et(t,"ready");try{n.onreadystatechange=r}catch(AA){}}}function Ue(t){t.I&&(i.clearTimeout(t.I),t.I=null)}function Ve(t){return t.g?t.g.readyState:0}function ze(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.H){case"":case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function He(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function We(t){this.Aa=0,this.i=[],this.j=new Lt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=He("failFast",!1,t),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=He("baseRetryDelayMs",5e3,t),this.cb=He("retryDelaySeedMs",1e4,t),this.Wa=He("forwardChannelMaxRetries",2,t),this.wa=He("forwardChannelRequestTimeoutMs",2e4,t),this.pa=t&&t.xmlHttpFactory||void 0,this.Xa=t&&t.Tb||void 0,this.Ca=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.h=new Kt(t&&t.concurrentRequestLimit),this.Da=new Ne,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=t&&t.Rb||!1,t&&t.xa&&this.j.xa(),t&&t.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&t&&t.detectBufferingProxy||!1,this.ja=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.ja=t.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function $e(t){if(Ke(t),3==t.G){var e=t.U++,n=ie(t.I);if(le(n,"SID",t.K),le(n,"RID",e),le(n,"TYPE","terminate"),Qe(t,n),(e=new Dt(t,t.j,e)).L=2,e.v=ce(ie(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(e.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=e.v,n=!0),n||(e.g=un(e.j,null),e.g.ea(e.v)),e.F=Date.now(),Ut(e)}ln(t)}function Ge(t){t.g&&(en(t),t.g.cancel(),t.g=null)}function Ke(t){Ge(t),t.u&&(i.clearTimeout(t.u),t.u=null),rn(t),t.h.cancel(),t.s&&("number"==typeof t.s&&i.clearTimeout(t.s),t.s=null)}function Ye(t){if(!Yt(t.h)&&!t.s){t.s=!0;var e=t.Ga;L||T(),k||(L(),k=!0),C.add(e,t),t.B=0}}function Xe(t,e){var n;n=e?e.l:t.U++;const r=ie(t.I);le(r,"SID",t.K),le(r,"RID",n),le(r,"AID",t.T),Qe(t,r),t.m&&t.o&&De(r,t.m,t.o),n=new Dt(t,t.j,n,t.B+1),null===t.m&&(n.H=t.o),e&&(t.i=e.D.concat(t.i)),e=Je(t,n,1e3),n.I=Math.round(.5*t.wa)+Math.round(.5*t.wa*Math.random()),Jt(t.h,n),Rt(n,r,e)}function Qe(t,e){t.H&&y(t.H,function(t,n){le(e,n,t)}),t.l&&ee({},function(t,n){le(e,n,t)})}function Je(t,e,n){n=Math.min(t.i.length,n);var r=t.l?c(t.l.Na,t.l,t):null;t:{var i=t.i;let e=-1;for(;;){const t=["count="+n];-1==e?0<n?(e=i[0].g,t.push("ofs="+e)):e=0:t.push("ofs="+e);let a=!0;for(let o=0;o<n;o++){let n=i[o].g;const l=i[o].map;if(n-=e,0>n)e=Math.max(0,i[o].g-100),a=!1;else try{Ee(l,t,"req"+n+"_")}catch(s){r&&r(l)}}if(a){r=t.join("&");break t}}}return t=t.i.splice(0,n),e.D=t,r}function Ze(t){if(!t.g&&!t.u){t.Y=1;var e=t.Fa;L||T(),k||(L(),k=!0),C.add(e,t),t.v=0}}function tn(t){return!(t.g||t.u||3<=t.v)&&(t.Y++,t.u=Et(c(t.Fa,t),an(t,t.v)),t.v++,!0)}function en(t){null!=t.A&&(i.clearTimeout(t.A),t.A=null)}function nn(t){t.g=new Dt(t,t.j,"rpc",t.Y),null===t.m&&(t.g.H=t.o),t.g.O=0;var e=ie(t.qa);le(e,"RID","rpc"),le(e,"SID",t.K),le(e,"AID",t.T),le(e,"CI",t.F?"0":"1"),!t.F&&t.ja&&le(e,"TO",t.ja),le(e,"TYPE","xmlhttp"),Qe(t,e),t.m&&t.o&&De(e,t.m,t.o),t.L&&(t.g.I=t.L);var n=t.g;t=t.ia,n.L=1,n.v=ce(ie(e)),n.m=null,n.P=!0,jt(n,t)}function rn(t){null!=t.C&&(i.clearTimeout(t.C),t.C=null)}function sn(t,e){var n=null;if(t.g==e){rn(t),en(t),t.g=null;var r=2}else{if(!Qt(t.h,e))return;n=e.D,Zt(t.h,e),r=1}if(0!=t.G)if(e.o)if(1==r){n=e.m?e.m.length:0,e=Date.now()-e.F;var i=t.B;et(r=wt(),new Nt(r,n)),Ye(t)}else Ze(t);else if(3==(i=e.s)||0==i&&0<e.X||!(1==r&&function(t,e){return!(Xt(t.h)>=t.h.j-(t.s?1:0)||(t.s?(t.i=e.D.concat(t.i),0):1==t.G||2==t.G||t.B>=(t.Va?0:t.Wa)||(t.s=Et(c(t.Ga,t,e),an(t,t.B)),t.B++,0)))}(t,e)||2==r&&tn(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:on(t,5);break;case 4:on(t,10);break;case 3:on(t,6);break;default:on(t,2)}}function an(t,e){let n=t.Ta+Math.floor(Math.random()*t.cb);return t.isActive()||(n*=2),n*e}function on(t,e){if(t.j.info("Error code "+e),2==e){var n=c(t.fb,t),r=t.Xa;const e=!r;r=new re(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||se(r,"https"),ce(r),e?function(t,e){const n=new Lt;if(i.Image){const r=new Image;r.onload=u(Ae,n,"TestLoadImage: loaded",!0,e,r),r.onerror=u(Ae,n,"TestLoadImage: error",!1,e,r),r.onabort=u(Ae,n,"TestLoadImage: abort",!1,e,r),r.ontimeout=u(Ae,n,"TestLoadImage: timeout",!1,e,r),i.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(r.toString(),n):function(t,e){new Lt;const n=new AbortController,r=setTimeout(()=>{n.abort(),Ae(0,0,!1,e)},1e4);fetch(t,{signal:n.signal}).then(t=>{clearTimeout(r),t.ok?Ae(0,0,!0,e):Ae(0,0,!1,e)}).catch(()=>{clearTimeout(r),Ae(0,0,!1,e)})}(r.toString(),n)}else At(2);t.G=0,t.l&&t.l.sa(e),ln(t),Ke(t)}function ln(t){if(t.G=0,t.ka=[],t.l){const e=te(t.h);0==e.length&&0==t.i.length||(f(t.ka,e),f(t.ka,t.i),t.h.i.length=0,d(t.i),t.i.length=0),t.l.ra()}}function cn(t,e,n){var r=n instanceof re?ie(n):new re(n);if(""!=r.g)e&&(r.g=e+"."+r.g),ae(r,r.s);else{var s=i.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var a=new re(null);r&&se(a,r),e&&(a.g=e),s&&ae(a,s),n&&(a.l=n),r=a}return n=t.D,e=t.ya,n&&e&&le(r,n,e),le(r,"VER",t.la),Qe(t,r),r}function un(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=t.Ca&&!t.pa?new Fe(new Le({eb:n})):new Fe(t.pa)).Ha(t.J),e}function hn(){}function dn(){}function fn(t,e){tt.call(this),this.g=new We(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.o=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.va&&(t?t["X-WebChannel-Client-Profile"]=e.va:t={"X-WebChannel-Client-Profile":e.va}),this.g.S=t,(t=e&&e.Sb)&&!p(t)&&(this.g.m=t),this.v=e&&e.supportsCrossDomainXhr||!1,this.u=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!p(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&(e in(t=this.h)&&delete t[e])),this.j=new mn(this)}function pn(t){mt.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){t:{for(const n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function gn(){vt.call(this),this.status=1}function mn(t){this.g=t}(t=Fe.prototype).Ha=function(t){this.J=t},t.ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+t);e=e?e.toUpperCase():"GET",this.D=t,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ct.g(),this.v=this.o?ft(this.o):ft(Ct),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(e,String(t),!0),this.B=!1}catch(a){return void Re(this,a)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const t of r.keys())n.set(t,r.get(t))}r=Array.from(n.keys()).find(t=>"content-type"==t.toLowerCase()),s=i.FormData&&t instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Oe,e,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ue(this),this.u=!0,this.g.send(t),this.u=!1}catch(a){Re(this,a)}},t.abort=function(t){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=t||7,et(this,"complete"),et(this,"abort"),qe(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qe(this,!0)),Fe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Be(this):this.bb())},t.bb=function(){Be(this)},t.isActive=function(){return!!this.g},t.Z=function(){try{return 2<Ve(this)?this.g.status:-1}catch(t){return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},t.Oa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),ut(e)}},t.Ba=function(){return this.m},t.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(t=We.prototype).la=8,t.G=1,t.connect=function(t,e,n,r){At(0),this.W=t,this.H=e||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=cn(this,null,this.W),Ye(this)},t.Ga=function(t){if(this.s)if(this.s=null,1==this.G){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new Dt(this,this.j,t);let s=this.o;if(this.S&&(s?(s=b(s),_(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)t:{for(var e=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break t}if(4096===e||n===this.i.length-1){e=n+1;break t}}e=1e3}else e=1e3;e=Je(this,i,e),le(n=ie(this.I),"RID",t),le(n,"CVER",22),this.D&&le(n,"X-HTTP-Session-Id",this.D),Qe(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(Ie(s)))+"&"+e:this.m&&De(n,this.m,s)),Jt(this.h,i),this.Ua&&le(n,"TYPE","init"),this.P?(le(n,"$req",e),le(n,"SID","null"),i.T=!0,Rt(i,n,null)):Rt(i,n,e),this.G=2}}else 3==this.G&&(t?Xe(this,t):0==this.i.length||Yt(this.h)||Xe(this))},t.Fa=function(){if(this.u=null,nn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var t=2*this.R;this.j.info("BP detection timer enabled: "+t),this.A=Et(c(this.ab,this),t)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,At(10),Ge(this),nn(this))},t.Za=function(){null!=this.C&&(this.C=null,Ge(this),tn(this),At(19))},t.fb=function(t){t?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))},t.isActive=function(){return!!this.l&&this.l.isActive(this)},(t=hn.prototype).ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){},dn.prototype.g=function(t,e){return new fn(t,e)},h(fn,tt),fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){$e(this.g)},fn.prototype.o=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.u&&((n={}).__data__=ct(t),t=n);e.i.push(new Gt(e.Ya++,t)),3==e.G&&Ye(e)},fn.prototype.N=function(){this.g.l=null,delete this.j,$e(this.g),delete this.g,fn.aa.N.call(this)},h(pn,mt),h(gn,vt),h(mn,hn),mn.prototype.ua=function(){et(this.g,"a")},mn.prototype.ta=function(t){et(this.g,new pn(t))},mn.prototype.sa=function(t){et(this.g,new gn)},mn.prototype.ra=function(){et(this.g,"b")},dn.prototype.createWebChannel=dn.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,Kl=function(){return new dn},Gl=function(){return wt()},$l=yt,Wl={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Tt.NO_ERROR=0,Tt.TIMEOUT=8,Tt.HTTP_ERROR=6,Hl=Tt,Pt.COMPLETE="complete",zl=Pt,pt.EventType=gt,gt.OPEN="a",gt.CLOSE="b",gt.ERROR="c",gt.MESSAGE="d",tt.prototype.listen=tt.prototype.K,Vl=pt,Fe.prototype.listenOnce=Fe.prototype.L,Fe.prototype.getLastError=Fe.prototype.Ka,Fe.prototype.getLastErrorCode=Fe.prototype.Ba,Fe.prototype.getStatus=Fe.prototype.Z,Fe.prototype.getResponseJson=Fe.prototype.Oa,Fe.prototype.getResponseText=Fe.prototype.oa,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Ha,Ul=Fe}).apply(void 0!==Yl?Yl:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});const Xl="@firebase/firestore";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ql.UNAUTHENTICATED=new Ql(null),Ql.GOOGLE_CREDENTIALS=new Ql("google-credentials-uid"),Ql.FIRST_PARTY=new Ql("first-party-uid"),Ql.MOCK_USER=new Ql("mock-user");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let Jl="10.14.0";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl=new Ao("@firebase/firestore");function tc(){return Zl.logLevel}function ec(t,...e){if(Zl.logLevel<=yo.DEBUG){const n=e.map(ic);Zl.debug(`Firestore (${Jl}): ${t}`,...n)}}function nc(t,...e){if(Zl.logLevel<=yo.ERROR){const n=e.map(ic);Zl.error(`Firestore (${Jl}): ${t}`,...n)}}function rc(t,...e){if(Zl.logLevel<=yo.WARN){const n=e.map(ic);Zl.warn(`Firestore (${Jl}): ${t}`,...n)}}function ic(t){if("string"==typeof t)return t;try{
/**
    * @license
    * Copyright 2020 Google LLC
    *
    * Licensed under the Apache License, Version 2.0 (the "License");
    * you may not use this file except in compliance with the License.
    * You may obtain a copy of the License at
    *
    *   http://www.apache.org/licenses/LICENSE-2.0
    *
    * Unless required by applicable law or agreed to in writing, software
    * distributed under the License is distributed on an "AS IS" BASIS,
    * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    * See the License for the specific language governing permissions and
    * limitations under the License.
    */
return e=t,JSON.stringify(e)}catch(SA){return t}var e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sc(t="Unexpected state"){const e=`FIRESTORE (${Jl}) INTERNAL ASSERTION FAILED: `+t;throw nc(e),new Error(e)}function ac(t,e){t||sc()}function oc(t,e){return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class cc extends oo{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class dc{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Ql.UNAUTHENTICATED))}shutdown(){}}class fc{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class pc{constructor(t){this.t=t,this.currentUser=Ql.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){ac(void 0===this.o);let n=this.i;const r=t=>this.i!==n?(n=this.i,e(t)):Promise.resolve();let i=new uc;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new uc,t.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const e=i;t.enqueueRetryable(async()=>{await e.promise,await r(this.currentUser)})},a=t=>{ec("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=t,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(t=>a(t)),setTimeout(()=>{if(!this.auth){const t=this.t.getImmediate({optional:!0});t?a(t):(ec("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new uc)}},0),s()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(e=>this.i!==t?(ec("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):e?(ac("string"==typeof e.accessToken),new hc(e.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ac(null===t||"string"==typeof t),new Ql(t)}}class gc{constructor(t,e,n){this.l=t,this.h=e,this.P=n,this.type="FirstParty",this.user=Ql.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class mc{constructor(t,e,n){this.l=t,this.h=e,this.P=n}getToken(){return Promise.resolve(new gc(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(Ql.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vc{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yc{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){ac(void 0===this.o);const n=t=>{null!=t.error&&ec("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${t.error.message}`);const n=t.token!==this.R;return this.R=t.token,ec("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?e(t.token):Promise.resolve()};this.o=e=>{t.enqueueRetryable(()=>n(e))};const r=t=>{ec("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=t,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(t=>r(t)),setTimeout(()=>{if(!this.appCheck){const t=this.A.getImmediate({optional:!0});t?r(t):ec("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(t=>t?(ac("string"==typeof t.token),this.R=t.token,new vc(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=bc(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%62))}return n}}function _c(t,e){return t<e?-1:t>e?1:0}function xc(t,e,n){return t.length===e.length&&t.every((t,r)=>n(t,e[r]))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new cc(lc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new cc(lc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new cc(lc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new cc(lc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Sc.fromMillis(Date.now())}static fromDate(t){return Sc.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor(1e6*(t-1e3*e));return new Sc(e,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?_c(this.nanoseconds,t.nanoseconds):_c(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Ac(t)}static min(){return new Ac(new Sc(0,0))}static max(){return new Ac(new Sc(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(t,e,n){void 0===e?e=0:e>t.length&&sc(),void 0===n?n=t.length-e:n>t.length-e&&sc(),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return 0===Nc.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Nc?t.forEach(t=>{e.push(t)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const n=t.get(r),i=e.get(r);if(n<i)return-1;if(n>i)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Ec extends Nc{construct(t,e,n){return new Ec(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const n of t){if(n.indexOf("//")>=0)throw new cc(lc.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);e.push(...n.split("/").filter(t=>t.length>0))}return new Ec(e)}static emptyPath(){return new Ec([])}}const Lc=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kc extends Nc{construct(t,e,n){return new kc(t,e,n)}static isValidIdentifier(t){return Lc.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kc.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new kc(["__name__"])}static fromServerFormat(t){const e=[];let n="",r=0;const i=()=>{if(0===n.length)throw new cc(lc.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(n),n=""};let s=!1;for(;r<t.length;){const e=t[r];if("\\"===e){if(r+1===t.length)throw new cc(lc.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const e=t[r+1];if("\\"!==e&&"."!==e&&"`"!==e)throw new cc(lc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=e,r+=2}else"`"===e?(s=!s,r++):"."!==e||s?(n+=e,r++):(i(),r++)}if(i(),s)throw new cc(lc.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new kc(e)}static emptyPath(){return new kc([])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(t){this.path=t}static fromPath(t){return new Cc(Ec.fromString(t))}static fromName(t){return new Cc(Ec.fromString(t).popFirst(5))}static empty(){return new Cc(Ec.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Ec.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Ec.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Cc(new Ec(t.slice()))}}function Tc(t){return new Pc(t.readTime,t.key,-1)}class Pc{constructor(t,e,n){this.readTime=t,this.documentKey=e,this.largestBatchId=n}static min(){return new Pc(Ac.min(),Cc.empty(),-1)}static max(){return new Pc(Ac.max(),Cc.empty(),-1)}}function Ic(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=Cc.comparator(t.documentKey,e.documentKey),0!==n?n:_c(t.largestBatchId,e.largestBatchId)
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */)}class Dc{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fc(t){if(t.code!==lc.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==t.message)throw t;ec("LocalStore","Unexpectedly lost primary lease")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&sc(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Mc((n,r)=>{this.nextCallback=e=>{this.wrapSuccess(t,e).next(n,r)},this.catchCallback=t=>{this.wrapFailure(e,t).next(n,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Mc?e:Mc.resolve(e)}catch(e){return Mc.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Mc.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Mc.reject(e)}static resolve(t){return new Mc((e,n)=>{e(t)})}static reject(t){return new Mc((e,n)=>{n(t)})}static waitFor(t){return new Mc((e,n)=>{let r=0,i=0,s=!1;t.forEach(t=>{++r,t.next(()=>{++i,s&&i===r&&e()},t=>n(t))}),s=!0,i===r&&e()})}static or(t){let e=Mc.resolve(!1);for(const n of t)e=e.next(t=>t?Mc.resolve(t):n());return e}static forEach(t,e){const n=[];return t.forEach((t,r)=>{n.push(e.call(this,t,r))}),this.waitFor(n)}static mapArray(t,e){return new Mc((n,r)=>{const i=t.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;e(t[l]).next(t=>{s[l]=t,++a,a===i&&n(s)},t=>r(t))}})}static doWhile(t,e){return new Mc((n,r)=>{const i=()=>{!0===t()?e().next(()=>{i()},r):n()};i()})}}function Oc(t){return"IndexedDbTransactionError"===t.name}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=t=>this.ie(t),this.se=t=>e.writeSequenceNumber(t))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}function jc(t){return null==t}function Bc(t){return 0===t&&1/t==-1/0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function qc(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Uc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Vc(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rc.oe=-1;class zc{constructor(t,e){this.comparator=t,this.root=e||Wc.EMPTY}insert(t,e){return new zc(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Wc.BLACK,null,null))}remove(t){return new zc(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Wc.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,n)=>(t(e,n),!1))}toString(){const t=[];return this.inorderTraversal((e,n)=>(t.push(`${e}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Hc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Hc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Hc(this.root,t,this.comparator,!0)}}class Hc{constructor(t,e,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=e?n(t.key,e):1,e&&r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Wc{constructor(t,e,n,r,i){this.key=t,this.value=e,this.color=null!=n?n:Wc.RED,this.left=null!=r?r:Wc.EMPTY,this.right=null!=i?i:Wc.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,r,i){return new Wc(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let r=this;const i=n(t,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Wc.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Wc.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Wc.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Wc.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw sc();if(this.right.isRed())throw sc();const t=this.left.check();if(t!==this.right.check())throw sc();return t+(this.isRed()?0:1)}}Wc.EMPTY=null,Wc.RED=!0,Wc.BLACK=!1,Wc.EMPTY=new class{constructor(){this.size=0}get key(){throw sc()}get value(){throw sc()}get color(){throw sc()}get left(){throw sc()}get right(){throw sc()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Wc(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class $c{constructor(t){this.comparator=t,this.data=new zc(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,n)=>(t(e),!1))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Gc(this.data.getIterator())}getIteratorFrom(t){return new Gc(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(t=>{e=e.add(t)}),e}isEqual(t){if(!(t instanceof $c))return!1;if(this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const t=e.getNext().key,r=n.getNext().key;if(0!==this.comparator(t,r))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new $c(this.comparator);return e.data=t,e}}class Gc{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(t){this.fields=t,t.sort(kc.comparator)}static empty(){return new Kc([])}unionWith(t){let e=new $c(kc.comparator);for(const n of this.fields)e=e.add(n);for(const n of t)e=e.add(n);return new Kc(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return xc(this.fields,t.fields,(t,e)=>t.isEqual(e))}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(t){try{return atob(t)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Yc("Invalid base64 string: "+e):e}}(t);return new Xc(e)}static fromUint8Array(t){const e=function(t){let e="";for(let n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t);return new Xc(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return _c(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Xc.EMPTY_BYTE_STRING=new Xc("");const Qc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jc(t){if(ac(!!t),"string"==typeof t){let e=0;const n=Qc.exec(t);if(ac(!!n),n[1]){let t=n[1];t=(t+"000000000").substr(0,9),e=Number(t)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Zc(t.seconds),nanos:Zc(t.nanos)}}function Zc(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function tu(t){return"string"==typeof t?Xc.fromBase64String(t):Xc.fromUint8Array(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function nu(t){const e=t.mapValue.fields.__previous_value__;return eu(e)?nu(e):e}function ru(t){const e=Jc(t.mapValue.fields.__local_write_time__.timestampValue);return new Sc(e.seconds,e.nanos)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(t,e,n,r,i,s,a,o,l){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}class su{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new su("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof su&&t.projectId===this.projectId&&t.database===this.database}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au={};function ou(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?eu(t)?4:function(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)?9007199254740991:function(t){var e,n;return"__vector__"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}(t)?10:11:sc()}function lu(t,e){if(t===e)return!0;const n=ou(t);if(n!==ou(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ru(t).isEqual(ru(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;const n=Jc(t.timestampValue),r=Jc(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return r=e,tu(t.bytesValue).isEqual(tu(r.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Zc(t.geoPointValue.latitude)===Zc(e.geoPointValue.latitude)&&Zc(t.geoPointValue.longitude)===Zc(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Zc(t.integerValue)===Zc(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){const n=Zc(t.doubleValue),r=Zc(e.doubleValue);return n===r?Bc(n)===Bc(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return xc(t.arrayValue.values||[],e.arrayValue.values||[],lu);case 10:case 11:return function(t,e){const n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(qc(n)!==qc(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!lu(n[i],r[i])))return!1;return!0}(t,e);default:return sc()}var r}function cu(t,e){return void 0!==(t.values||[]).find(t=>lu(t,e))}function uu(t,e){if(t===e)return 0;const n=ou(t),r=ou(e);if(n!==r)return _c(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return _c(t.booleanValue,e.booleanValue);case 2:return function(t,e){const n=Zc(t.integerValue||t.doubleValue),r=Zc(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return hu(t.timestampValue,e.timestampValue);case 4:return hu(ru(t),ru(e));case 5:return _c(t.stringValue,e.stringValue);case 6:return function(t,e){const n=tu(t),r=tu(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){const n=t.split("/"),r=e.split("/");for(let i=0;i<n.length&&i<r.length;i++){const t=_c(n[i],r[i]);if(0!==t)return t}return _c(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){const n=_c(Zc(t.latitude),Zc(e.latitude));return 0!==n?n:_c(Zc(t.longitude),Zc(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return du(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n,r,i,s;const a=t.fields||{},o=e.fields||{},l=null===(n=a.value)||void 0===n?void 0:n.arrayValue,c=null===(r=o.value)||void 0===r?void 0:r.arrayValue,u=_c((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(s=null==c?void 0:c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:du(l,c)}(t.mapValue,e.mapValue);case 11:return function(t,e){if(t===au&&e===au)return 0;if(t===au)return 1;if(e===au)return-1;const n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const t=_c(r[a],s[a]);if(0!==t)return t;const e=uu(n[r[a]],i[s[a]]);if(0!==e)return e}return _c(r.length,s.length)}(t.mapValue,e.mapValue);default:throw sc()}}function hu(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return _c(t,e);const n=Jc(t),r=Jc(e),i=_c(n.seconds,r.seconds);return 0!==i?i:_c(n.nanos,r.nanos)}function du(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const t=uu(n[i],r[i]);if(t)return t}return _c(n.length,r.length)}function fu(t){return pu(t)}function pu(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){const e=Jc(t);return`time(${e.seconds},${e.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?tu(t.bytesValue).toBase64():"referenceValue"in t?function(t){return Cc.fromName(t).toString()}(t.referenceValue):"geoPointValue"in t?function(t){return`geo(${t.latitude},${t.longitude})`}(t.geoPointValue):"arrayValue"in t?function(t){let e="[",n=!0;for(const r of t.values||[])n?n=!1:e+=",",e+=pu(r);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){const e=Object.keys(t.fields||{}).sort();let n="{",r=!0;for(const i of e)r?r=!1:n+=",",n+=`${i}:${pu(t.fields[i])}`;return n+"}"}(t.mapValue):sc()}function gu(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function mu(t){return!!t&&"integerValue"in t}function vu(t){return!!t&&"arrayValue"in t}function yu(t){return!!t&&"nullValue"in t}function bu(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wu(t){return!!t&&"mapValue"in t}function _u(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Uc(t.mapValue.fields,(t,n)=>e.mapValue.fields[t]=_u(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=_u(t.arrayValue.values[n]);return e}return Object.assign({},t)}class xu{constructor(t){this.value=t}static empty(){return new xu({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!wu(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=_u(e)}setAll(t){let e=kc.emptyPath(),n={},r=[];t.forEach((t,i)=>{if(!e.isImmediateParentOf(i)){const t=this.getFieldsMap(e);this.applyChanges(t,n,r),n={},r=[],e=i.popLast()}t?n[i.lastSegment()]=_u(t):r.push(i.lastSegment())});const i=this.getFieldsMap(e);this.applyChanges(i,n,r)}delete(t){const e=this.field(t.popLast());wu(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return lu(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let r=e.mapValue.fields[t.get(n)];wu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,n){Uc(e,(e,n)=>t[e]=n);for(const r of n)delete t[r]}clone(){return new xu(_u(this.value))}}function Su(t){const e=[];return Uc(t.fields,(t,n)=>{const r=new kc([t]);if(wu(n)){const t=Su(n.mapValue).fields;if(0===t.length)e.push(r);else for(const n of t)e.push(r.child(n))}else e.push(r)}),new Kc(e)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class Au{constructor(t,e,n,r,i,s,a){this.key=t,this.documentType=e,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(t){return new Au(t,0,Ac.min(),Ac.min(),Ac.min(),xu.empty(),0)}static newFoundDocument(t,e,n,r){return new Au(t,1,e,Ac.min(),n,r,0)}static newNoDocument(t,e){return new Au(t,2,e,Ac.min(),Ac.min(),xu.empty(),0)}static newUnknownDocument(t,e){return new Au(t,3,e,Ac.min(),Ac.min(),xu.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Ac.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=xu.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=xu.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ac.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Au&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Au(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(t,e){this.position=t,this.inclusive=e}}function Eu(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(r=s.field.isKeyField()?Cc.comparator(Cc.fromName(a.referenceValue),n.key):uu(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Lu(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!lu(t.position[n],e.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(t,e="asc"){this.field=t,this.dir=e}}function Cu(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{}class Pu extends Tu{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,n):new ju(t,e,n):"array-contains"===e?new Vu(t,n):"in"===e?new zu(t,n):"not-in"===e?new Hu(t,n):"array-contains-any"===e?new Wu(t,n):new Pu(t,e,n)}static createKeyFieldInFilter(t,e,n){return"in"===e?new Bu(t,n):new qu(t,n)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(uu(e,this.value)):null!==e&&ou(this.value)===ou(e)&&this.matchesComparison(uu(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return sc()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Iu extends Tu{constructor(t,e){super(),this.filters=t,this.op=e,this.ae=null}static create(t,e){return new Iu(t,e)}matches(t){return Du(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Du(t){return"and"===t.op}function Fu(t){return function(t){for(const e of t.filters)if(e instanceof Iu)return!1;return!0}(t)&&Du(t)}function Mu(t){if(t instanceof Pu)return t.field.canonicalString()+t.op.toString()+fu(t.value);if(Fu(t))return t.filters.map(t=>Mu(t)).join(",");{const e=t.filters.map(t=>Mu(t)).join(",");return`${t.op}(${e})`}}function Ou(t,e){return t instanceof Pu?(n=t,(r=e)instanceof Pu&&n.op===r.op&&n.field.isEqual(r.field)&&lu(n.value,r.value)):t instanceof Iu?function(t,e){return e instanceof Iu&&t.op===e.op&&t.filters.length===e.filters.length&&t.filters.reduce((t,n,r)=>t&&Ou(n,e.filters[r]),!0)}(t,e):void sc();var n,r}function Ru(t){return t instanceof Pu?`${(e=t).field.canonicalString()} ${e.op} ${fu(e.value)}`:t instanceof Iu?function(t){return t.op.toString()+" {"+t.getFilters().map(Ru).join(" ,")+"}"}(t):"Filter";var e}class ju extends Pu{constructor(t,e,n){super(t,e,n),this.key=Cc.fromName(n.referenceValue)}matches(t){const e=Cc.comparator(t.key,this.key);return this.matchesComparison(e)}}class Bu extends Pu{constructor(t,e){super(t,"in",e),this.keys=Uu("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class qu extends Pu{constructor(t,e){super(t,"not-in",e),this.keys=Uu("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function Uu(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(t=>Cc.fromName(t.referenceValue))}class Vu extends Pu{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return vu(e)&&cu(e.arrayValue,this.value)}}class zu extends Pu{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&cu(this.value.arrayValue,e)}}class Hu extends Pu{constructor(t,e){super(t,"not-in",e)}matches(t){if(cu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!cu(this.value.arrayValue,e)}}class Wu extends Pu{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!vu(e)||!e.arrayValue.values)&&e.arrayValue.values.some(t=>cu(this.value.arrayValue,t))}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(t,e=null,n=[],r=[],i=null,s=null,a=null){this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.ue=null}}function Gu(t,e=null,n=[],r=[],i=null,s=null,a=null){return new $u(t,e,n,r,i,s,a)}function Ku(t){const e=oc(t);if(null===e.ue){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(t=>Mu(t)).join(","),t+="|ob:",t+=e.orderBy.map(t=>{return(e=t).field.canonicalString()+e.dir;var e}).join(","),jc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(t=>fu(t)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(t=>fu(t)).join(",")),e.ue=t}return e.ue}function Yu(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Cu(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Ou(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Lu(t.startAt,e.startAt)&&Lu(t.endAt,e.endAt)}function Xu(t){return Cc.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(t,e=null,n=[],r=[],i=null,s="F",a=null,o=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Ju(t){return new Qu(t)}function Zu(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function th(t){return null!==t.collectionGroup}function eh(t){const e=oc(t);if(null===e.ce){e.ce=[];const t=new Set;for(const r of e.explicitOrderBy)e.ce.push(r),t.add(r.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(t){let e=new $c(kc.comparator);return t.filters.forEach(t=>{t.getFlattenedFilters().forEach(t=>{t.isInequality()&&(e=e.add(t.field))})}),e})(e).forEach(r=>{t.has(r.canonicalString())||r.isKeyField()||e.ce.push(new ku(r,n))}),t.has(kc.keyField().canonicalString())||e.ce.push(new ku(kc.keyField(),n))}return e.ce}function nh(t){const e=oc(t);return e.le||(e.le=function(t,e){if("F"===t.limitType)return Gu(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(t=>{const e="desc"===t.dir?"asc":"desc";return new ku(t.field,e)});const n=t.endAt?new Nu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Nu(t.startAt.position,t.startAt.inclusive):null;return Gu(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}(e,eh(t))),e.le}function rh(t,e){const n=t.filters.concat([e]);return new Qu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ih(t,e,n){return new Qu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function sh(t,e){return Yu(nh(t),nh(e))&&t.limitType===e.limitType}function ah(t){return`${Ku(nh(t))}|lt:${t.limitType}`}function oh(t){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(t=>Ru(t)).join(", ")}]`),jc(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(t=>{return`${(e=t).field.canonicalString()} (${e.dir})`;var e}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(t=>fu(t)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(t=>fu(t)).join(",")),`Target(${e})`}(nh(t))}; limitType=${t.limitType})`}function lh(t,e){return e.isFoundDocument()&&function(t,e){const n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):Cc.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(const n of eh(t))if(!n.field.isKeyField()&&null===e.data.field(n.field))return!1;return!0}(t,e)&&function(t,e){for(const n of t.filters)if(!n.matches(e))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(t,e,n){const r=Eu(t,e,n);return t.inclusive?r<=0:r<0}(n.startAt,eh(n),r)||n.endAt&&!function(t,e,n){const r=Eu(t,e,n);return t.inclusive?r>=0:r>0}(n.endAt,eh(n),r)));var n,r}function ch(t){return(e,n)=>{let r=!1;for(const i of eh(t)){const t=uh(i,e,n);if(0!==t)return t;r=r||i.field.isKeyField()}return 0}}function uh(t,e,n){const r=t.field.isKeyField()?Cc.comparator(e.key,n.key):function(t,e,n){const r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?uu(r,i):sc()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return sc()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,t))return i}has(t){return void 0!==this.get(t)}set(t,e){const n=this.mapKeyFn(t),r=this.inner[n];if(void 0===r)return this.inner[n]=[[t,e]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Uc(this.inner,(e,n)=>{for(const[r,i]of n)t(r,i)})}isEmpty(){return Vc(this.inner)}size(){return this.innerSize}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh=new zc(Cc.comparator);function fh(){return dh}const ph=new zc(Cc.comparator);function gh(...t){let e=ph;for(const n of t)e=e.insert(n.key,n);return e}function mh(t){let e=ph;return t.forEach((t,n)=>e=e.insert(t,n.overlayedDocument)),e}function vh(){return bh()}function yh(){return bh()}function bh(){return new hh(t=>t.toString(),(t,e)=>t.isEqual(e))}const wh=new zc(Cc.comparator),_h=new $c(Cc.comparator);function xh(...t){let e=_h;for(const n of t)e=e.add(n);return e}const Sh=new $c(_c);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ah(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bc(e)?"-0":e}}function Nh(t){return{integerValue:""+t}}function Eh(t,e){return function(t){return"number"==typeof t&&Number.isInteger(t)&&!Bc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?Nh(e):Ah(t,e)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(){this._=void 0}}function kh(t,e,n){return t instanceof Ph?function(t,e){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&eu(e)&&(e=nu(e)),e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Ih?Dh(t,e):t instanceof Fh?Mh(t,e):function(t,e){const n=Th(t,e),r=Rh(n)+Rh(t.Pe);return mu(n)&&mu(t.Pe)?Nh(r):Ah(t.serializer,r)}(t,e)}function Ch(t,e,n){return t instanceof Ih?Dh(t,e):t instanceof Fh?Mh(t,e):n}function Th(t,e){return t instanceof Oh?mu(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var n,r}class Ph extends Lh{}class Ih extends Lh{constructor(t){super(),this.elements=t}}function Dh(t,e){const n=jh(e);for(const r of t.elements)n.some(t=>lu(t,r))||n.push(r);return{arrayValue:{values:n}}}class Fh extends Lh{constructor(t){super(),this.elements=t}}function Mh(t,e){let n=jh(e);for(const r of t.elements)n=n.filter(t=>!lu(t,r));return{arrayValue:{values:n}}}class Oh extends Lh{constructor(t,e){super(),this.serializer=t,this.Pe=e}}function Rh(t){return Zc(t.integerValue||t.doubleValue)}function jh(t){return vu(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(t,e){this.field=t,this.transform=e}}class qh{constructor(t,e){this.version=t,this.transformResults=e}}class Uh{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Uh}static exists(t){return new Uh(void 0,t)}static updateTime(t){return new Uh(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Vh(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class zh{}function Hh(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new td(t.key,Uh.none()):new Yh(t.key,t.data,Uh.none());{const n=t.data,r=xu.empty();let i=new $c(kc.comparator);for(let t of e.fields)if(!i.has(t)){let e=n.field(t);null===e&&t.length>1&&(t=t.popLast(),e=n.field(t)),null===e?r.delete(t):r.set(t,e),i=i.add(t)}return new Xh(t.key,r,new Kc(i.toArray()),Uh.none())}}function Wh(t,e,n){var r;t instanceof Yh?function(t,e,n){const r=t.value.clone(),i=Jh(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Xh?function(t,e,n){if(!Vh(t.precondition,e))return void e.convertToUnknownDocument(n.version);const r=Jh(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(Qh(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(t,e,n):(r=n,e.convertToNoDocument(r.version).setHasCommittedMutations())}function $h(t,e,n,r){return t instanceof Yh?function(t,e,n,r){if(!Vh(t.precondition,e))return n;const i=t.value.clone(),s=Zh(t.fieldTransforms,r,e);return i.setAll(s),e.convertToFoundDocument(e.version,i).setHasLocalMutations(),null}(t,e,n,r):t instanceof Xh?function(t,e,n,r){if(!Vh(t.precondition,e))return n;const i=Zh(t.fieldTransforms,r,e),s=e.data;return s.setAll(Qh(t)),s.setAll(i),e.convertToFoundDocument(e.version,s).setHasLocalMutations(),null===n?null:n.unionWith(t.fieldMask.fields).unionWith(t.fieldTransforms.map(t=>t.field))}(t,e,n,r):(i=e,s=n,Vh(t.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):s);var i,s}function Gh(t,e){let n=null;for(const r of t.fieldTransforms){const t=e.data.field(r.field),i=Th(r.transform,t||null);null!=i&&(null===n&&(n=xu.empty()),n.set(r.field,i))}return n||null}function Kh(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(n=t.fieldTransforms,r=e.fieldTransforms,!!(void 0===n&&void 0===r||n&&r&&xc(n,r,(t,e)=>function(t,e){return t.field.isEqual(e.field)&&(n=t.transform,r=e.transform,n instanceof Ih&&r instanceof Ih||n instanceof Fh&&r instanceof Fh?xc(n.elements,r.elements,lu):n instanceof Oh&&r instanceof Oh?lu(n.Pe,r.Pe):n instanceof Ph&&r instanceof Ph);var n,r}(t,e)))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask)));var n,r}class Yh extends zh{constructor(t,e,n,r=[]){super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Xh extends zh{constructor(t,e,n,r,i=[]){super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Qh(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Jh(t,e,n){const r=new Map;ac(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);r.set(s.field,Ch(a,o,n[i]))}return r}function Zh(t,e,n){const r=new Map;for(const i of t){const t=i.transform,s=n.data.field(i.field);r.set(i.field,kh(t,s,e))}return r}class td extends zh{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ed extends zh{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const e=this.mutations[r];e.key.isEqual(t.key)&&Wh(e,t,n[r])}}applyToLocalView(t,e){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(e=$h(n,t,e,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(e=$h(n,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const n=yh();return this.mutations.forEach(r=>{const i=t.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=e.has(r.key)?null:a;const o=Hh(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(Ac.min())}),n}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),xh())}isEqual(t){return this.batchId===t.batchId&&xc(this.mutations,t.mutations,(t,e)=>Kh(t,e))&&xc(this.baseMutations,t.baseMutations,(t,e)=>Kh(t,e))}}class rd{constructor(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}static from(t,e,n){ac(t.mutations.length===n.length);let r=function(){return wh}();const i=t.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new rd(t,e,n,r)}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(t,e){this.count=t,this.unchangedNames=e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ad,od;function ld(t){if(void 0===t)return nc("GRPC error has no .code"),lc.UNKNOWN;switch(t){case ad.OK:return lc.OK;case ad.CANCELLED:return lc.CANCELLED;case ad.UNKNOWN:return lc.UNKNOWN;case ad.DEADLINE_EXCEEDED:return lc.DEADLINE_EXCEEDED;case ad.RESOURCE_EXHAUSTED:return lc.RESOURCE_EXHAUSTED;case ad.INTERNAL:return lc.INTERNAL;case ad.UNAVAILABLE:return lc.UNAVAILABLE;case ad.UNAUTHENTICATED:return lc.UNAUTHENTICATED;case ad.INVALID_ARGUMENT:return lc.INVALID_ARGUMENT;case ad.NOT_FOUND:return lc.NOT_FOUND;case ad.ALREADY_EXISTS:return lc.ALREADY_EXISTS;case ad.PERMISSION_DENIED:return lc.PERMISSION_DENIED;case ad.FAILED_PRECONDITION:return lc.FAILED_PRECONDITION;case ad.ABORTED:return lc.ABORTED;case ad.OUT_OF_RANGE:return lc.OUT_OF_RANGE;case ad.UNIMPLEMENTED:return lc.UNIMPLEMENTED;case ad.DATA_LOSS:return lc.DATA_LOSS;default:return sc()}}(od=ad||(ad={}))[od.OK=0]="OK",od[od.CANCELLED=1]="CANCELLED",od[od.UNKNOWN=2]="UNKNOWN",od[od.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",od[od.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",od[od.NOT_FOUND=5]="NOT_FOUND",od[od.ALREADY_EXISTS=6]="ALREADY_EXISTS",od[od.PERMISSION_DENIED=7]="PERMISSION_DENIED",od[od.UNAUTHENTICATED=16]="UNAUTHENTICATED",od[od.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",od[od.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",od[od.ABORTED=10]="ABORTED",od[od.OUT_OF_RANGE=11]="OUT_OF_RANGE",od[od.UNIMPLEMENTED=12]="UNIMPLEMENTED",od[od.INTERNAL=13]="INTERNAL",od[od.UNAVAILABLE=14]="UNAVAILABLE",od[od.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const cd=new jl([4294967295,4294967295],0);function ud(t){const e=(new TextEncoder).encode(t),n=new Bl;return n.update(e),new Uint8Array(n.digest())}function hd(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new jl([n,r],0),new jl([i,s],0)]}class dd{constructor(t,e,n){if(this.bitmap=t,this.padding=e,this.hashCount=n,e<0||e>=8)throw new fd(`Invalid padding: ${e}`);if(n<0)throw new fd(`Invalid hash count: ${n}`);if(t.length>0&&0===this.hashCount)throw new fd(`Invalid hash count: ${n}`);if(0===t.length&&0!==e)throw new fd(`Invalid padding when bitmap length is 0: ${e}`);this.Ie=8*t.length-e,this.Te=jl.fromNumber(this.Ie)}Ee(t,e,n){let r=t.add(e.multiply(jl.fromNumber(n)));return 1===r.compare(cd)&&(r=new jl([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Ie)return!1;const e=ud(t),[n,r]=hd(e);for(let i=0;i<this.hashCount;i++){const t=this.Ee(n,r,i);if(!this.de(t))return!1}return!0}static create(t,e,n){const r=t%8==0?0:8-t%8,i=new Uint8Array(Math.ceil(t/8)),s=new dd(i,r,e);return n.forEach(t=>s.insert(t)),s}insert(t){if(0===this.Ie)return;const e=ud(t),[n,r]=hd(e);for(let i=0;i<this.hashCount;i++){const t=this.Ee(n,r,i);this.Ae(t)}}Ae(t){const e=Math.floor(t/8),n=t%8;this.bitmap[e]|=1<<n}}class fd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,e,n){const r=new Map;return r.set(t,gd.createSynthesizedTargetChangeForCurrentChange(t,e,n)),new pd(Ac.min(),r,new zc(_c),fh(),xh())}}class gd{constructor(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,e,n){return new gd(n,e,xh(),xh(),xh())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(t,e,n,r){this.Re=t,this.removedTargetIds=e,this.key=n,this.Ve=r}}class vd{constructor(t,e){this.targetId=t,this.me=e}}class yd{constructor(t,e,n=Xc.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}}class bd{constructor(){this.fe=0,this.ge=xd(),this.pe=Xc.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=xh(),e=xh(),n=xh();return this.ge.forEach((r,i)=>{switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:sc()}}),new gd(this.pe,this.ye,t,e,n)}Ce(){this.we=!1,this.ge=xd()}Fe(t,e){this.we=!0,this.ge=this.ge.insert(t,e)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,ac(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class wd{constructor(t){this.Le=t,this.Be=new Map,this.ke=fh(),this.qe=_d(),this.Qe=new zc(_c)}Ke(t){for(const e of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(e,t.Ve):this.Ue(e,t.key,t.Ve);for(const e of t.removedTargetIds)this.Ue(e,t.key,t.Ve)}We(t){this.forEachTarget(t,e=>{const n=this.Ge(e);switch(t.state){case 0:this.ze(e)&&n.De(t.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(t.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(e);break;case 3:this.ze(e)&&(n.Ne(),n.De(t.resumeToken));break;case 4:this.ze(e)&&(this.je(e),n.De(t.resumeToken));break;default:sc()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Be.forEach((t,n)=>{this.ze(n)&&e(n)})}He(t){const e=t.targetId,n=t.me.count,r=this.Je(e);if(r){const i=r.target;if(Xu(i))if(0===n){const t=new Cc(i.path);this.Ue(e,t,Au.newNoDocument(t,Ac.min()))}else ac(1===n);else{const r=this.Ye(e);if(r!==n){const n=this.Ze(t),i=n?this.Xe(n,t,r):1;if(0!==i){this.je(e);const t=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(e,t)}}}}}Ze(t){const e=t.me.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=e;let s,a;try{s=tu(n).toUint8Array()}catch(o){if(o instanceof Yc)return rc("Decoding the base64 bloom filter in existence filter failed ("+o.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw o}try{a=new dd(s,r,i)}catch(o){return rc(o instanceof fd?"BloomFilter error: ":"Applying bloom filter failed: ",o),null}return 0===a.Ie?null:a}Xe(t,e,n){return e.me.count===n-this.nt(t,e.targetId)?0:2}nt(t,e){const n=this.Le.getRemoteKeysForTarget(e);let r=0;return n.forEach(n=>{const i=this.Le.tt(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;t.mightContain(s)||(this.Ue(e,n,null),r++)}),r}rt(t){const e=new Map;this.Be.forEach((n,r)=>{const i=this.Je(r);if(i){if(n.current&&Xu(i.target)){const e=new Cc(i.target.path);null!==this.ke.get(e)||this.it(r,e)||this.Ue(r,e,Au.newNoDocument(e,t))}n.be&&(e.set(r,n.ve()),n.Ce())}});let n=xh();this.qe.forEach((t,e)=>{let r=!0;e.forEachWhile(t=>{const e=this.Je(t);return!e||"TargetPurposeLimboResolution"===e.purpose||(r=!1,!1)}),r&&(n=n.add(t))}),this.ke.forEach((e,n)=>n.setReadTime(t));const r=new pd(t,e,this.Qe,this.ke,n);return this.ke=fh(),this.qe=_d(),this.Qe=new zc(_c),r}$e(t,e){if(!this.ze(t))return;const n=this.it(t,e.key)?2:0;this.Ge(t).Fe(e.key,n),this.ke=this.ke.insert(e.key,e),this.qe=this.qe.insert(e.key,this.st(e.key).add(t))}Ue(t,e,n){if(!this.ze(t))return;const r=this.Ge(t);this.it(t,e)?r.Fe(e,1):r.Me(e),this.qe=this.qe.insert(e,this.st(e).delete(t)),n&&(this.ke=this.ke.insert(e,n))}removeTarget(t){this.Be.delete(t)}Ye(t){const e=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let e=this.Be.get(t);return e||(e=new bd,this.Be.set(t,e)),e}st(t){let e=this.qe.get(t);return e||(e=new $c(_c),this.qe=this.qe.insert(t,e)),e}ze(t){const e=null!==this.Je(t);return e||ec("WatchChangeAggregator","Detected inactive target",t),e}Je(t){const e=this.Be.get(t);return e&&e.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new bd),this.Le.getRemoteKeysForTarget(t).forEach(e=>{this.Ue(t,e,null)})}it(t,e){return this.Le.getRemoteKeysForTarget(t).has(e)}}function _d(){return new zc(Cc.comparator)}function xd(){return new zc(Cc.comparator)}const Sd=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),Ad=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),Nd=(()=>({and:"AND",or:"OR"}))();class Ed{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Ld(t,e){return t.useProto3Json||jc(e)?e:{value:e}}function kd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Cd(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Td(t,e){return kd(t,e.toTimestamp())}function Pd(t){return ac(!!t),Ac.fromTimestamp(function(t){const e=Jc(t);return new Sc(e.seconds,e.nanos)}(t))}function Id(t,e){return Dd(t,e).canonicalString()}function Dd(t,e){const n=(r=t,new Ec(["projects",r.projectId,"databases",r.database])).child("documents");var r;return void 0===e?n:n.child(e)}function Fd(t){const e=Ec.fromString(t);return ac(Jd(e)),e}function Md(t,e){return Id(t.databaseId,e.path)}function Od(t,e){const n=Fd(e);if(n.get(1)!==t.databaseId.projectId)throw new cc(lc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new cc(lc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Cc(Bd(n))}function Rd(t,e){return Id(t.databaseId,e)}function jd(t){return new Ec(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Bd(t){return ac(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function qd(t,e,n){return{name:Md(t,e),fields:n.value.mapValue.fields}}function Ud(t,e){return{documents:[Rd(t,e.path)]}}function Vd(t,e){const n={structuredQuery:{}},r=e.path;let i;null!==e.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Rd(t,i);const s=function(t){if(0!==t.length)return Xd(Iu.create(t,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(t){if(0!==t.length)return t.map(t=>{return{field:Kd((e=t).field),direction:Wd(e.dir)};var e})}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const o=Ld(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(l=e.startAt).inclusive,values:l.position}),e.endAt&&(n.structuredQuery.endAt=function(t){return{before:!t.inclusive,values:t.position}}(e.endAt)),{_t:n,parent:i};var l}function zd(t){let e=function(t){const e=Fd(t);return 4===e.length?Ec.emptyPath():Bd(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ac(1===r);const t=n.from[0];t.allDescendants?i=t.collectionId:e=e.child(t.collectionId)}let s=[];n.where&&(s=function(t){const e=Hd(t);return e instanceof Iu&&Fu(e)?e.getFilters():[e]}(n.where));let a=[];n.orderBy&&(a=n.orderBy.map(t=>{return new ku(Yd((e=t).field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction));var e}));let o=null;n.limit&&(o=function(t){let e;return e="object"==typeof t?t.value:t,jc(e)?null:e}(n.limit));let l=null;n.startAt&&(l=function(t){const e=!!t.before,n=t.values||[];return new Nu(n,e)}(n.startAt));let c=null;return n.endAt&&(c=function(t){const e=!t.before,n=t.values||[];return new Nu(n,e)}(n.endAt)),function(t,e,n,r,i,s,a,o){return new Qu(t,e,n,r,i,s,a,o)}(e,i,a,s,o,"F",l,c)}function Hd(t){return void 0!==t.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Yd(t.unaryFilter.field);return Pu.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Yd(t.unaryFilter.field);return Pu.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Yd(t.unaryFilter.field);return Pu.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Yd(t.unaryFilter.field);return Pu.create(i,"!=",{nullValue:"NULL_VALUE"});default:return sc()}}(t):void 0!==t.fieldFilter?(e=t,Pu.create(Yd(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return sc()}}(e.fieldFilter.op),e.fieldFilter.value)):void 0!==t.compositeFilter?function(t){return Iu.create(t.compositeFilter.filters.map(t=>Hd(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return sc()}}(t.compositeFilter.op))}(t):sc();var e}function Wd(t){return Sd[t]}function $d(t){return Ad[t]}function Gd(t){return Nd[t]}function Kd(t){return{fieldPath:t.canonicalString()}}function Yd(t){return kc.fromServerFormat(t.fieldPath)}function Xd(t){return t instanceof Pu?function(t){if("=="===t.op){if(bu(t.value))return{unaryFilter:{field:Kd(t.field),op:"IS_NAN"}};if(yu(t.value))return{unaryFilter:{field:Kd(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(bu(t.value))return{unaryFilter:{field:Kd(t.field),op:"IS_NOT_NAN"}};if(yu(t.value))return{unaryFilter:{field:Kd(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Kd(t.field),op:$d(t.op),value:t.value}}}(t):t instanceof Iu?function(t){const e=t.getFilters().map(t=>Xd(t));return 1===e.length?e[0]:{compositeFilter:{op:Gd(t.op),filters:e}}}(t):sc()}function Qd(t){const e=[];return t.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Jd(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(t,e,n,r,i=Ac.min(),s=Ac.min(),a=Xc.EMPTY_BYTE_STRING,o=null){this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(t){return new Zd(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Zd(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Zd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Zd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(t){this.ct=t}}function ef(t){const e=zd({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?ih(e,e.limit,"L"):e}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(){this.un=new rf}addToCollectionParentIndex(t,e){return this.un.add(e),Mc.resolve()}getCollectionParents(t,e){return Mc.resolve(this.un.getEntries(e))}addFieldIndex(t,e){return Mc.resolve()}deleteFieldIndex(t,e){return Mc.resolve()}deleteAllFieldIndexes(t){return Mc.resolve()}createTargetIndexes(t,e){return Mc.resolve()}getDocumentsMatchingTarget(t,e){return Mc.resolve(null)}getIndexType(t,e){return Mc.resolve(0)}getFieldIndexes(t,e){return Mc.resolve([])}getNextCollectionGroupToUpdate(t){return Mc.resolve(null)}getMinOffset(t,e){return Mc.resolve(Pc.min())}getMinOffsetFromCollectionGroup(t,e){return Mc.resolve(Pc.min())}updateCollectionGroup(t,e,n){return Mc.resolve()}updateIndexEntries(t,e){return Mc.resolve()}}class rf{constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new $c(Ec.comparator),i=!r.has(n);return this.index[e]=r.add(n),i}has(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)}getEntries(t){return(this.index[t]||new $c(Ec.comparator)).toArray()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new sf(0)}static kn(){return new sf(-1)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(){this.changes=new hh(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Au.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return void 0!==n?Mc.resolve(n):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(t,e,n,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=n,this.indexManager=r}getDocument(t,e){let n=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(n=r,this.remoteDocumentCache.getEntry(t,e))).next(t=>(null!==n&&$h(n.mutation,t,Kc.empty(),Sc.now()),t))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(e=>this.getLocalViewOfDocuments(t,e,xh()).next(()=>e))}getLocalViewOfDocuments(t,e,n=xh()){const r=vh();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,n).next(t=>{let e=gh();return t.forEach((t,n)=>{e=e.insert(t,n.overlayedDocument)}),e}))}getOverlayedDocuments(t,e){const n=vh();return this.populateOverlays(t,n,e).next(()=>this.computeViews(t,e,n,xh()))}populateOverlays(t,e,n){const r=[];return n.forEach(t=>{e.has(t)||r.push(t)}),this.documentOverlayCache.getOverlays(t,r).next(t=>{t.forEach((t,n)=>{e.set(t,n)})})}computeViews(t,e,n,r){let i=fh();const s=bh(),a=bh();return e.forEach((t,e)=>{const a=n.get(e.key);r.has(e.key)&&(void 0===a||a.mutation instanceof Xh)?i=i.insert(e.key,e):void 0!==a?(s.set(e.key,a.mutation.getFieldMask()),$h(a.mutation,e,a.mutation.getFieldMask(),Sc.now())):s.set(e.key,Kc.empty())}),this.recalculateAndSaveOverlays(t,i).next(t=>(t.forEach((t,e)=>s.set(t,e)),e.forEach((t,e)=>{var n;return a.set(t,new of(e,null!==(n=s.get(t))&&void 0!==n?n:null))}),a))}recalculateAndSaveOverlays(t,e){const n=bh();let r=new zc((t,e)=>t-e),i=xh();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(t=>{for(const i of t)i.keys().forEach(t=>{const s=e.get(t);if(null===s)return;let a=n.get(t)||Kc.empty();a=i.applyToLocalView(s,a),n.set(t,a);const o=(r.get(i.batchId)||xh()).add(t);r=r.insert(i.batchId,o)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=yh();l.forEach(t=>{if(!i.has(t)){const r=Hh(e.get(t),n.get(t));null!==r&&c.set(t,r),i=i.add(t)}}),s.push(this.documentOverlayCache.saveOverlays(t,o,c))}return Mc.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(e=>this.recalculateAndSaveOverlays(t,e))}getDocumentsMatchingQuery(t,e,n,r){return i=e,Cc.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):th(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,n,r):this.getDocumentsMatchingCollectionQuery(t,e,n,r);var i}getNextDocuments(t,e,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,n,r).next(i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,n.largestBatchId,r-i.size):Mc.resolve(vh());let a=-1,o=i;return s.next(e=>Mc.forEach(e,(e,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(e)?Mc.resolve():this.remoteDocumentCache.getEntry(t,e).next(t=>{o=o.insert(e,t)}))).next(()=>this.populateOverlays(t,e,i)).next(()=>this.computeViews(t,o,e,xh())).next(t=>({batchId:a,changes:mh(t)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Cc(e)).next(t=>{let e=gh();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})}getDocumentsMatchingCollectionGroupQuery(t,e,n,r){const i=e.collectionGroup;let s=gh();return this.indexManager.getCollectionParents(t,i).next(a=>Mc.forEach(a,a=>{const o=(l=e,c=a.child(i),new Qu(c,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,c;return this.getDocumentsMatchingCollectionQuery(t,o,n,r).next(t=>{t.forEach((t,e)=>{s=s.insert(t,e)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,n,i,r))).next(t=>{i.forEach((e,n)=>{const r=n.getKey();null===t.get(r)&&(t=t.insert(r,Au.newInvalidDocument(r)))});let n=gh();return t.forEach((t,r)=>{const s=i.get(t);void 0!==s&&$h(s.mutation,r,Kc.empty(),Sc.now()),lh(e,r)&&(n=n.insert(t,r))}),n})}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,e){return Mc.resolve(this.hr.get(e))}saveBundleMetadata(t,e){return this.hr.set(e.id,{id:(n=e).id,version:n.version,createTime:Pd(n.createTime)}),Mc.resolve();var n}getNamedQuery(t,e){return Mc.resolve(this.Pr.get(e))}saveNamedQuery(t,e){return this.Pr.set(e.name,{name:(n=e).name,query:ef(n.bundledQuery),readTime:Pd(n.readTime)}),Mc.resolve();var n}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(){this.overlays=new zc(Cc.comparator),this.Ir=new Map}getOverlay(t,e){return Mc.resolve(this.overlays.get(e))}getOverlays(t,e){const n=vh();return Mc.forEach(e,e=>this.getOverlay(t,e).next(t=>{null!==t&&n.set(e,t)})).next(()=>n)}saveOverlays(t,e,n){return n.forEach((n,r)=>{this.ht(t,e,r)}),Mc.resolve()}removeOverlaysForBatchId(t,e,n){const r=this.Ir.get(n);return void 0!==r&&(r.forEach(t=>this.overlays=this.overlays.remove(t)),this.Ir.delete(n)),Mc.resolve()}getOverlaysForCollection(t,e,n){const r=vh(),i=e.length+1,s=new Cc(e.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const t=a.getNext().value,s=t.getKey();if(!e.isPrefixOf(s.path))break;s.path.length===i&&t.largestBatchId>n&&r.set(t.getKey(),t)}return Mc.resolve(r)}getOverlaysForCollectionGroup(t,e,n,r){let i=new zc((t,e)=>t-e);const s=this.overlays.getIterator();for(;s.hasNext();){const t=s.getNext().value;if(t.getKey().getCollectionGroup()===e&&t.largestBatchId>n){let e=i.get(t.largestBatchId);null===e&&(e=vh(),i=i.insert(t.largestBatchId,e)),e.set(t.getKey(),t)}}const a=vh(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((t,e)=>a.set(t,e)),!(a.size()>=r)););return Mc.resolve(a)}ht(t,e,n){const r=this.overlays.get(n.key);if(null!==r){const t=this.Ir.get(r.largestBatchId).delete(n.key);this.Ir.set(r.largestBatchId,t)}this.overlays=this.overlays.insert(n.key,new id(e,n));let i=this.Ir.get(e);void 0===i&&(i=xh(),this.Ir.set(e,i)),this.Ir.set(e,i.add(n.key))}}
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(){this.sessionToken=Xc.EMPTY_BYTE_STRING}getSessionToken(t){return Mc.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,Mc.resolve()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(){this.Tr=new $c(ff.Er),this.dr=new $c(ff.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,e){const n=new ff(t,e);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(t,e){t.forEach(t=>this.addReference(t,e))}removeReference(t,e){this.Vr(new ff(t,e))}mr(t,e){t.forEach(t=>this.removeReference(t,e))}gr(t){const e=new Cc(new Ec([])),n=new ff(e,t),r=new ff(e,t+1),i=[];return this.dr.forEachInRange([n,r],t=>{this.Vr(t),i.push(t.key)}),i}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const e=new Cc(new Ec([])),n=new ff(e,t),r=new ff(e,t+1);let i=xh();return this.dr.forEachInRange([n,r],t=>{i=i.add(t.key)}),i}containsKey(t){const e=new ff(t,0),n=this.Tr.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)}}class ff{constructor(t,e){this.key=t,this.wr=e}static Er(t,e){return Cc.comparator(t.key,e.key)||_c(t.wr,e.wr)}static Ar(t,e){return _c(t.wr,e.wr)||Cc.comparator(t.key,e.key)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Sr=1,this.br=new $c(ff.Er)}checkEmpty(t){return Mc.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,n,r){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new nd(i,e,n,r);this.mutationQueue.push(s);for(const a of r)this.br=this.br.add(new ff(a.key,i)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return Mc.resolve(s)}lookupMutationBatch(t,e){return Mc.resolve(this.Dr(e))}getNextMutationBatchAfterBatchId(t,e){const n=e+1,r=this.vr(n),i=r<0?0:r;return Mc.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Mc.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(t){return Mc.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new ff(e,0),r=new ff(e,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([n,r],t=>{const e=this.Dr(t.wr);i.push(e)}),Mc.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new $c(_c);return e.forEach(t=>{const e=new ff(t,0),r=new ff(t,Number.POSITIVE_INFINITY);this.br.forEachInRange([e,r],t=>{n=n.add(t.wr)})}),Mc.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,r=n.length+1;let i=n;Cc.isDocumentKey(i)||(i=i.child(""));const s=new ff(new Cc(i),0);let a=new $c(_c);return this.br.forEachWhile(t=>{const e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t.wr)),!0)},s),Mc.resolve(this.Cr(a))}Cr(t){const e=[];return t.forEach(t=>{const n=this.Dr(t);null!==n&&e.push(n)}),e}removeMutationBatch(t,e){ac(0===this.Fr(e.batchId,"removed")),this.mutationQueue.shift();let n=this.br;return Mc.forEach(e.mutations,r=>{const i=new ff(r.key,e.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.br=n})}On(t){}containsKey(t,e){const n=new ff(e,0),r=this.br.firstAfterOrEqual(n);return Mc.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,Mc.resolve()}Fr(t,e){return this.vr(t)}vr(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Dr(t){const e=this.vr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(t){this.Mr=t,this.docs=new zc(Cc.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const n=e.key,r=this.docs.get(n),i=r?r.size:0,s=this.Mr(e);return this.docs=this.docs.insert(n,{document:e.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return Mc.resolve(n?n.document.mutableCopy():Au.newInvalidDocument(e))}getEntries(t,e){let n=fh();return e.forEach(t=>{const e=this.docs.get(t);n=n.insert(t,e?e.document.mutableCopy():Au.newInvalidDocument(t))}),Mc.resolve(n)}getDocumentsMatchingQuery(t,e,n,r){let i=fh();const s=e.path,a=new Cc(s.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:t,value:{document:a}}=o.getNext();if(!s.isPrefixOf(t.path))break;t.path.length>s.length+1||Ic(Tc(a),n)<=0||(r.has(a.key)||lh(e,a))&&(i=i.insert(a.key,a.mutableCopy()))}return Mc.resolve(i)}getAllFromCollectionGroup(t,e,n,r){sc()}Or(t,e){return Mc.forEach(this.docs,t=>e(t))}newChangeBuffer(t){return new mf(this)}getSize(t){return Mc.resolve(this.size)}}class mf extends af{constructor(t){super(),this.cr=t}applyChanges(t){const e=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?e.push(this.cr.addEntry(t,r)):this.cr.removeEntry(n)}),Mc.waitFor(e)}getFromCache(t,e){return this.cr.getEntry(t,e)}getAllFromCache(t,e){return this.cr.getEntries(t,e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(t){this.persistence=t,this.Nr=new hh(t=>Ku(t),Yu),this.lastRemoteSnapshotVersion=Ac.min(),this.highestTargetId=0,this.Lr=0,this.Br=new df,this.targetCount=0,this.kr=sf.Bn()}forEachTarget(t,e){return this.Nr.forEach((t,n)=>e(n)),Mc.resolve()}getLastRemoteSnapshotVersion(t){return Mc.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Mc.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),Mc.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Lr&&(this.Lr=e),Mc.resolve()}Kn(t){this.Nr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.kr=new sf(e),this.highestTargetId=e),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,e){return this.Kn(e),this.targetCount+=1,Mc.resolve()}updateTargetData(t,e){return this.Kn(e),Mc.resolve()}removeTargetData(t,e){return this.Nr.delete(e.target),this.Br.gr(e.targetId),this.targetCount-=1,Mc.resolve()}removeTargets(t,e,n){let r=0;const i=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=e&&null===n.get(a.targetId)&&(this.Nr.delete(s),i.push(this.removeMatchingKeysForTargetId(t,a.targetId)),r++)}),Mc.waitFor(i).next(()=>r)}getTargetCount(t){return Mc.resolve(this.targetCount)}getTargetData(t,e){const n=this.Nr.get(e)||null;return Mc.resolve(n)}addMatchingKeys(t,e,n){return this.Br.Rr(e,n),Mc.resolve()}removeMatchingKeys(t,e,n){this.Br.mr(e,n);const r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(e=>{i.push(r.markPotentiallyOrphaned(t,e))}),Mc.waitFor(i)}removeMatchingKeysForTargetId(t,e){return this.Br.gr(e),Mc.resolve()}getMatchingKeysForTargetId(t,e){const n=this.Br.yr(e);return Mc.resolve(n)}containsKey(t,e){return Mc.resolve(this.Br.containsKey(e))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(t,e){this.qr={},this.overlays={},this.Qr=new Rc(0),this.Kr=!1,this.Kr=!0,this.$r=new hf,this.referenceDelegate=t(this),this.Ur=new vf(this),this.indexManager=new nf,this.remoteDocumentCache=new gf(t=>this.referenceDelegate.Wr(t)),this.serializer=new tf(e),this.Gr=new cf(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new uf,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let n=this.qr[t.toKey()];return n||(n=new pf(e,this.referenceDelegate),this.qr[t.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,e,n){ec("MemoryPersistence","Starting transaction:",t);const r=new bf(this.Qr.next());return this.referenceDelegate.zr(),n(r).next(t=>this.referenceDelegate.jr(r).next(()=>t)).toPromise().then(t=>(r.raiseOnCommittedEvent(),t))}Hr(t,e){return Mc.or(Object.values(this.qr).map(n=>()=>n.containsKey(t,e)))}}class bf extends Dc{constructor(t){super(),this.currentSequenceNumber=t}}class wf{constructor(t){this.persistence=t,this.Jr=new df,this.Yr=null}static Zr(t){return new wf(t)}get Xr(){if(this.Yr)return this.Yr;throw sc()}addReference(t,e,n){return this.Jr.addReference(n,e),this.Xr.delete(n.toString()),Mc.resolve()}removeReference(t,e,n){return this.Jr.removeReference(n,e),this.Xr.add(n.toString()),Mc.resolve()}markPotentiallyOrphaned(t,e){return this.Xr.add(e.toString()),Mc.resolve()}removeTarget(t,e){this.Jr.gr(e.targetId).forEach(t=>this.Xr.add(t.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next(t=>{t.forEach(t=>this.Xr.add(t.toString()))}).next(()=>n.removeTargetData(t,e))}zr(){this.Yr=new Set}jr(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Mc.forEach(this.Xr,n=>{const r=Cc.fromPath(n);return this.ei(t,r).next(t=>{t||e.removeEntry(r,Ac.min())})}).next(()=>(this.Yr=null,e.apply(t)))}updateLimboDocument(t,e){return this.ei(t,e).next(t=>{t?this.Xr.delete(e.toString()):this.Xr.add(e.toString())})}Wr(t){return 0}ei(t,e){return Mc.or([()=>Mc.resolve(this.Jr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Hr(t,e)])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(t,e,n,r){this.targetId=t,this.fromCache=e,this.$i=n,this.Ui=r}static Wi(t,e){let n=xh(),r=xh();for(const i of e.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new _f(t,e.fromCache,n,r)}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=ao()?8:function(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:"")>0?6:4}initialize(t,e){this.Ji=t,this.indexManager=e,this.Gi=!0}getDocumentsMatchingQuery(t,e,n,r){const i={result:null};return this.Yi(t,e).next(t=>{i.result=t}).next(()=>{if(!i.result)return this.Zi(t,e,r,n).next(t=>{i.result=t})}).next(()=>{if(i.result)return;const n=new xf;return this.Xi(t,e,n).next(r=>{if(i.result=r,this.zi)return this.es(t,e,n,r.size)})}).next(()=>i.result)}es(t,e,n,r){return n.documentReadCount<this.ji?(tc()<=yo.DEBUG&&ec("QueryEngine","SDK will not create cache indexes for query:",oh(e),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Mc.resolve()):(tc()<=yo.DEBUG&&ec("QueryEngine","Query:",oh(e),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Hi*r?(tc()<=yo.DEBUG&&ec("QueryEngine","The SDK decides to create cache indexes for query:",oh(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,nh(e))):Mc.resolve())}Yi(t,e){if(Zu(e))return Mc.resolve(null);let n=nh(e);return this.indexManager.getIndexType(t,n).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=ih(e,null,"F"),n=nh(e)),this.indexManager.getDocumentsMatchingTarget(t,n).next(r=>{const i=xh(...r);return this.Ji.getDocuments(t,i).next(r=>this.indexManager.getMinOffset(t,n).next(n=>{const s=this.ts(e,r);return this.ns(e,s,i,n.readTime)?this.Yi(t,ih(e,null,"F")):this.rs(t,s,e,n)}))})))}Zi(t,e,n,r){return Zu(e)||r.isEqual(Ac.min())?Mc.resolve(null):this.Ji.getDocuments(t,n).next(i=>{const s=this.ts(e,i);return this.ns(e,s,n,r)?Mc.resolve(null):(tc()<=yo.DEBUG&&ec("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),oh(e)),this.rs(t,s,e,function(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ac.fromTimestamp(1e9===r?new Sc(n+1,0):new Sc(n,r));return new Pc(i,Cc.empty(),e)}(r,-1)).next(t=>t))})}ts(t,e){let n=new $c(ch(t));return e.forEach((e,r)=>{lh(t,r)&&(n=n.add(r))}),n}ns(t,e,n,r){if(null===t.limit)return!1;if(n.size!==e.size)return!0;const i="F"===t.limitType?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Xi(t,e,n){return tc()<=yo.DEBUG&&ec("QueryEngine","Using full collection scan to execute query:",oh(e)),this.Ji.getDocumentsMatchingQuery(t,e,Pc.min(),n)}rs(t,e,n,r){return this.Ji.getDocumentsMatchingQuery(t,n,r).next(t=>(e.forEach(e=>{t=t.insert(e.key,e)}),t))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(t,e,n,r){this.persistence=t,this.ss=e,this.serializer=r,this.os=new zc(_c),this._s=new hh(t=>Ku(t),Yu),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(n)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new lf(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.os))}}async function Nf(t,e){const n=oc(t);return await n.persistence.runTransaction("Handle user change","readonly",t=>{let r;return n.mutationQueue.getAllMutationBatches(t).next(i=>(r=i,n.ls(e),n.mutationQueue.getAllMutationBatches(t))).next(e=>{const i=[],s=[];let a=xh();for(const t of r){i.push(t.batchId);for(const e of t.mutations)a=a.add(e.key)}for(const t of e){s.push(t.batchId);for(const e of t.mutations)a=a.add(e.key)}return n.localDocuments.getDocuments(t,a).next(t=>({hs:t,removedBatchIds:i,addedBatchIds:s}))})})}function Ef(t){const e=oc(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function Lf(t,e){const n=oc(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",t=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.Ur.removeMatchingKeys(t,s.removedDocuments,o).next(()=>n.Ur.addMatchingKeys(t,s.addedDocuments,o)));let c=l.withSequenceNumber(t.currentSequenceNumber);var u,h,d;null!==e.targetMismatches.get(o)?c=c.withResumeToken(Xc.EMPTY_BYTE_STRING,Ac.min()).withLastLimboFreeSnapshotVersion(Ac.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(o,c),h=c,d=s,(0===(u=l).resumeToken.approximateByteSize()||h.snapshotVersion.toMicroseconds()-u.snapshotVersion.toMicroseconds()>=3e8||d.addedDocuments.size+d.modifiedDocuments.size+d.removedDocuments.size>0)&&a.push(n.Ur.updateTargetData(t,c))});let o=fh(),l=xh();if(e.documentUpdates.forEach(r=>{e.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),a.push(function(t,e,n){let r=xh(),i=xh();return n.forEach(t=>r=r.add(t)),e.getEntries(t,r).next(t=>{let r=fh();return n.forEach((n,s)=>{const a=t.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Ac.min())?(e.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s),r=r.insert(n,s)):ec("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),{Ps:r,Is:i}})}(t,s,e.documentUpdates).next(t=>{o=t.Ps,l=t.Is})),!r.isEqual(Ac.min())){const e=n.Ur.getLastRemoteSnapshotVersion(t).next(e=>n.Ur.setTargetsMetadata(t,t.currentSequenceNumber,r));a.push(e)}return Mc.waitFor(a).next(()=>s.apply(t)).next(()=>n.localDocuments.getLocalViewOfDocuments(t,o,l)).next(()=>o)}).then(t=>(n.os=i,t))}function kf(t,e){const n=oc(t);return n.persistence.runTransaction("Get next mutation batch","readonly",t=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(t,e)))}async function Cf(t,e,n){const r=oc(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,t=>r.persistence.referenceDelegate.removeTarget(t,i))}catch(a){if(!Oc(a))throw a;ec("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function Tf(t,e,n){const r=oc(t);let i=Ac.min(),s=xh();return r.persistence.runTransaction("Execute query","readwrite",t=>function(t,e,n){const r=oc(t),i=r._s.get(n);return void 0!==i?Mc.resolve(r.os.get(i)):r.Ur.getTargetData(e,n)}(r,t,nh(e)).next(e=>{if(e)return i=e.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(t,e.targetId).next(t=>{s=t})}).next(()=>r.ss.getDocumentsMatchingQuery(t,e,n?i:Ac.min(),n?s:xh())).next(t=>(function(t,e,n){let r=t.us.get(e)||Ac.min();n.forEach((t,e)=>{e.readTime.compareTo(r)>0&&(r=e.readTime)}),t.us.set(e,r)}(r,function(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),t),{documents:t,Ts:s})))}class Pf{constructor(){this.activeTargetIds=Sh}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class If{constructor(){this.so=new Pf,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t,e=!0){return e&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,e,n){this.oo[t]=e}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new Pf,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{_o(t){}shutdown(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ec("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){ec("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mf=null;function Of(){return null===Mf?Mf=268435456+Math.round(2147483648*Math.random()):Mf++,"0x"+Mf.toString(16)
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}const Rf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf="WebChannelConnection";class qf extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Do=e+"://"+t.host,this.vo=`projects/${n}/databases/${r}`,this.Co="(default)"===this.databaseId.database?`project_id=${n}`:`project_id=${n}&database_id=${r}`}get Fo(){return!1}Mo(t,e,n,r,i){const s=Of(),a=this.xo(t,e.toUriEncodedString());ec("RestConnection",`Sending RPC '${t}' ${s}:`,a,n);const o={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(o,r,i),this.No(t,a,o,n).then(e=>(ec("RestConnection",`Received RPC '${t}' ${s}: `,e),e),e=>{throw rc("RestConnection",`RPC '${t}' ${s} failed with error: `,e,"url: ",a,"request:",n),e})}Lo(t,e,n,r,i,s){return this.Mo(t,e,n,r,i)}Oo(t,e,n){t["X-Goog-Api-Client"]="gl-js/ fire/"+Jl,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((e,n)=>t[n]=e),n&&n.headers.forEach((e,n)=>t[n]=e)}xo(t,e){const n=Rf[t];return`${this.Do}/v1/${e}:${n}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,e,n,r){const i=Of();return new Promise((s,a)=>{const o=new Ul;o.setWithCredentials(!0),o.listenOnce(zl.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case Hl.NO_ERROR:const e=o.getResponseJson();ec(Bf,`XHR for RPC '${t}' ${i} received:`,JSON.stringify(e)),s(e);break;case Hl.TIMEOUT:ec(Bf,`RPC '${t}' ${i} timed out`),a(new cc(lc.DEADLINE_EXCEEDED,"Request time out"));break;case Hl.HTTP_ERROR:const n=o.getStatus();if(ec(Bf,`RPC '${t}' ${i} failed with status:`,n,"response text:",o.getResponseText()),n>0){let t=o.getResponseJson();Array.isArray(t)&&(t=t[0]);const e=null==t?void 0:t.error;if(e&&e.status&&e.message){const t=function(t){const e=t.toLowerCase().replace(/_/g,"-");return Object.values(lc).indexOf(e)>=0?e:lc.UNKNOWN}(e.status);a(new cc(t,e.message))}else a(new cc(lc.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new cc(lc.UNAVAILABLE,"Connection failed."));break;default:sc()}}finally{ec(Bf,`RPC '${t}' ${i} completed.`)}});const l=JSON.stringify(r);ec(Bf,`RPC '${t}' ${i} sending request:`,r),o.send(e,"POST",l,n,15)})}Bo(t,e,n){const r=Of(),i=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=Kl(),a=Gl(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Oo(o.initMessageHeaders,e,n),o.encodeInitMessageHeaders=!0;const c=i.join("");ec(Bf,`Creating RPC '${t}' stream ${r}: ${c}`,o);const u=s.createWebChannel(c,o);let h=!1,d=!1;const f=new jf({Io:e=>{d?ec(Bf,`Not sending because RPC '${t}' stream ${r} is closed:`,e):(h||(ec(Bf,`Opening RPC '${t}' stream ${r} transport.`),u.open(),h=!0),ec(Bf,`RPC '${t}' stream ${r} sending:`,e),u.send(e))},To:()=>u.close()}),p=(t,e,n)=>{t.listen(e,t=>{try{n(t)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,Vl.EventType.OPEN,()=>{d||(ec(Bf,`RPC '${t}' stream ${r} transport opened.`),f.yo())}),p(u,Vl.EventType.CLOSE,()=>{d||(d=!0,ec(Bf,`RPC '${t}' stream ${r} transport closed`),f.So())}),p(u,Vl.EventType.ERROR,e=>{d||(d=!0,rc(Bf,`RPC '${t}' stream ${r} transport errored:`,e),f.So(new cc(lc.UNAVAILABLE,"The operation could not be completed")))}),p(u,Vl.EventType.MESSAGE,e=>{var n;if(!d){const i=e.data[0];ac(!!i);const s=i,a=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){ec(Bf,`RPC '${t}' stream ${r} received error:`,a);const e=a.status;let n=function(t){const e=ad[t];if(void 0!==e)return ld(e)}(e),i=a.message;void 0===n&&(n=lc.INTERNAL,i="Unknown error status: "+e+" with message "+a.message),d=!0,f.So(new cc(n,i)),u.close()}else ec(Bf,`RPC '${t}' stream ${r} received:`,i),f.bo(i)}}),p(a,$l.STAT_EVENT,e=>{e.stat===Wl.PROXY?ec(Bf,`RPC '${t}' stream ${r} detected buffering proxy`):e.stat===Wl.NOPROXY&&ec(Bf,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{f.wo()},0),f}}function Uf(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vf(t){return new Ed(t,!0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(t,e,n=1e3,r=1.5,i=6e4){this.ui=t,this.timerId=e,this.ko=n,this.qo=r,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const e=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),r=Math.max(0,e-n);r>0&&ec("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${e} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(t,e,n,r,i,s,a,o){this.ui=t,this.Ho=n,this.Jo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new zf(t,e)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(t,e){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,4!==t?this.t_.reset():e&&e.code===lc.RESOURCE_EXHAUSTED?(nc(e.toString()),nc("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):e&&e.code===lc.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.l_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.mo(e)}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),e=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([t,n])=>{this.Yo===e&&this.P_(t,n)},e=>{t(()=>{const t=new cc(lc.UNKNOWN,"Fetching auth token failed: "+e.message);return this.I_(t)})})}P_(t,e){const n=this.h_(this.Yo);this.stream=this.T_(t,e),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(t=>{n(()=>this.I_(t))}),this.stream.onMessage(t=>{n(()=>1==++this.e_?this.E_(t):this.onNext(t))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(t){return ec("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return e=>{this.ui.enqueueAndForget(()=>this.Yo===t?e():(ec("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Wf extends Hf{constructor(t,e,n,r,i,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,n,r,s),this.serializer=i}T_(t,e){return this.connection.Bo("Listen",t,e)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const e=function(t,e){let n;if("targetChange"in e){e.targetChange;const i="NO_CHANGE"===(r=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:sc(),s=e.targetChange.targetIds||[],a=function(t,e){return t.useProto3Json?(ac(void 0===e||"string"==typeof e),Xc.fromBase64String(e||"")):(ac(void 0===e||e instanceof Buffer||e instanceof Uint8Array),Xc.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(t){const e=void 0===t.code?lc.UNKNOWN:ld(t.code);return new cc(e,t.message||"")}(o);n=new yd(i,s,a,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Od(t,r.document.name),s=Pd(r.document.updateTime),a=r.document.createTime?Pd(r.document.createTime):Ac.min(),o=new xu({mapValue:{fields:r.document.fields}}),l=Au.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new md(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Od(t,r.document),s=r.readTime?Pd(r.readTime):Ac.min(),a=Au.newNoDocument(i,s),o=r.removedTargetIds||[];n=new md([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Od(t,r.document),s=r.removedTargetIds||[];n=new md([],s,i,null)}else{if(!("filter"in e))return sc();{e.filter;const t=e.filter;t.targetId;const{count:r=0,unchangedNames:i}=t,s=new sd(r,i),a=t.targetId;n=new vd(a,s)}}var r;return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return Ac.min();const e=t.targetChange;return e.targetIds&&e.targetIds.length?Ac.min():e.readTime?Pd(e.readTime):Ac.min()}(t);return this.listener.d_(e,n)}A_(t){const e={};e.database=jd(this.serializer),e.addTarget=function(t,e){let n;const r=e.target;if(n=Xu(r)?{documents:Ud(t,r)}:{query:Vd(t,r)._t},n.targetId=e.targetId,e.resumeToken.approximateByteSize()>0){n.resumeToken=Cd(t,e.resumeToken);const r=Ld(t,e.expectedCount);null!==r&&(n.expectedCount=r)}else if(e.snapshotVersion.compareTo(Ac.min())>0){n.readTime=kd(t,e.snapshotVersion.toTimestamp());const r=Ld(t,e.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,t);const n=function(t,e){const n=function(t){switch(t){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return sc()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,t);n&&(e.labels=n),this.a_(e)}R_(t){const e={};e.database=jd(this.serializer),e.removeTarget=t,this.a_(e)}}class $f extends Hf{constructor(t,e,n,r,i,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,n,r,s),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,e){return this.connection.Bo("Write",t,e)}E_(t){return ac(!!t.streamToken),this.lastStreamToken=t.streamToken,ac(!t.writeResults||0===t.writeResults.length),this.listener.f_()}onNext(t){ac(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const e=function(t,e){return t&&t.length>0?(ac(void 0!==e),t.map(t=>function(t,e){let n=t.updateTime?Pd(t.updateTime):Pd(e);return n.isEqual(Ac.min())&&(n=Pd(e)),new qh(n,t.transformResults||[])}(t,e))):[]}(t.writeResults,t.commitTime),n=Pd(t.commitTime);return this.listener.g_(n,e)}p_(){const t={};t.database=jd(this.serializer),this.a_(t)}m_(t){const e={streamToken:this.lastStreamToken,writes:t.map(t=>function(t,e){let n;if(e instanceof Yh)n={update:qd(t,e.key,e.value)};else if(e instanceof td)n={delete:Md(t,e.key)};else if(e instanceof Xh)n={update:qd(t,e.key,e.data),updateMask:Qd(e.fieldMask)};else{if(!(e instanceof ed))return sc();n={verify:Md(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(t=>function(t,e){const n=e.transform;if(n instanceof Ph)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ih)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Fh)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Oh)return{fieldPath:e.field.canonicalString(),increment:n.Pe};throw sc()}(0,t))),e.precondition.isNone||(n.currentDocument=(r=t,void 0!==(i=e.precondition).updateTime?{updateTime:Td(r,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:sc())),n;var r,i}(this.serializer,t))};this.a_(e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf extends class{}{constructor(t,e,n,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=n,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new cc(lc.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,e,n,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Mo(t,Dd(e,n),r,i,s)).catch(t=>{throw"FirebaseError"===t.name?(t.code===lc.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new cc(lc.UNKNOWN,t.toString())})}Lo(t,e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(t,Dd(e,n),r,s,a,i)).catch(t=>{throw"FirebaseError"===t.name?(t.code===lc.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new cc(lc.UNKNOWN,t.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Kf{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,"Online"===t&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(nc(e),this.D_=!1):ec("OnlineStateTracker",e)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(t,e,n,r,i){this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(t=>{n.enqueueAndForget(async()=>{ip(this)&&(ec("RemoteStore","Restarting streams for network reachability change."),await async function(t){const e=oc(t);e.L_.add(4),await Qf(e),e.q_.set("Unknown"),e.L_.delete(4),await Xf(e)}(this))})}),this.q_=new Kf(n,r)}}async function Xf(t){if(ip(t))for(const e of t.B_)await e(!0)}async function Qf(t){for(const e of t.B_)await e(!1)}function Jf(t,e){const n=oc(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),rp(n)?np(n):xp(n).r_()&&tp(n,e))}function Zf(t,e){const n=oc(t),r=xp(n);n.N_.delete(e),r.r_()&&ep(n,e),0===n.N_.size&&(r.r_()?r.o_():ip(n)&&n.q_.set("Unknown"))}function tp(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ac.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}xp(t).A_(e)}function ep(t,e){t.Q_.xe(e),xp(t).R_(e)}function np(t){t.Q_=new wd({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),xp(t).start(),t.q_.v_()}function rp(t){return ip(t)&&!xp(t).n_()&&t.N_.size>0}function ip(t){return 0===oc(t).L_.size}function sp(t){t.Q_=void 0}async function ap(t){t.q_.set("Online")}async function op(t){t.N_.forEach((e,n)=>{tp(t,e)})}async function lp(t,e){sp(t),rp(t)?(t.q_.M_(e),np(t)):t.q_.set("Unknown")}async function cp(t,e,n){if(t.q_.set("Online"),e instanceof yd&&2===e.state&&e.cause)try{await async function(t,e){const n=e.cause;for(const r of e.targetIds)t.N_.has(r)&&(await t.remoteSyncer.rejectListen(r,n),t.N_.delete(r),t.Q_.removeTarget(r))}(t,e)}catch(r){ec("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await up(t,r)}else if(e instanceof md?t.Q_.Ke(e):e instanceof vd?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Ac.min()))try{const e=await Ef(t.localStore);n.compareTo(e)>=0&&await function(t,e){const n=t.Q_.rt(e);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=t.N_.get(r);i&&t.N_.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach((e,n)=>{const r=t.N_.get(e);if(!r)return;t.N_.set(e,r.withResumeToken(Xc.EMPTY_BYTE_STRING,r.snapshotVersion)),ep(t,e);const i=new Zd(r.target,e,n,r.sequenceNumber);tp(t,i)}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)}catch(i){ec("RemoteStore","Failed to raise snapshot:",i),await up(t,i)}}async function up(t,e,n){if(!Oc(e))throw e;t.L_.add(1),await Qf(t),t.q_.set("Offline"),n||(n=()=>Ef(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ec("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Xf(t)})}function hp(t,e){return e().catch(n=>up(t,n,e))}async function dp(t){const e=oc(t),n=Sp(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;fp(e);)try{const t=await kf(e.localStore,r);if(null===t){0===e.O_.length&&n.o_();break}r=t.batchId,pp(e,t)}catch(i){await up(e,i)}gp(e)&&mp(e)}function fp(t){return ip(t)&&t.O_.length<10}function pp(t,e){t.O_.push(e);const n=Sp(t);n.r_()&&n.V_&&n.m_(e.mutations)}function gp(t){return ip(t)&&!Sp(t).n_()&&t.O_.length>0}function mp(t){Sp(t).start()}async function vp(t){Sp(t).p_()}async function yp(t){const e=Sp(t);for(const n of t.O_)e.m_(n.mutations)}async function bp(t,e,n){const r=t.O_.shift(),i=rd.from(r,e,n);await hp(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await dp(t)}async function wp(t,e){e&&Sp(t).V_&&await async function(t,e){if(function(t){switch(t){default:return sc();case lc.CANCELLED:case lc.UNKNOWN:case lc.DEADLINE_EXCEEDED:case lc.RESOURCE_EXHAUSTED:case lc.INTERNAL:case lc.UNAVAILABLE:case lc.UNAUTHENTICATED:return!1;case lc.INVALID_ARGUMENT:case lc.NOT_FOUND:case lc.ALREADY_EXISTS:case lc.PERMISSION_DENIED:case lc.FAILED_PRECONDITION:case lc.ABORTED:case lc.OUT_OF_RANGE:case lc.UNIMPLEMENTED:case lc.DATA_LOSS:return!0}}(n=e.code)&&n!==lc.ABORTED){const n=t.O_.shift();Sp(t).s_(),await hp(t,()=>t.remoteSyncer.rejectFailedWrite(n.batchId,e)),await dp(t)}var n}(t,e),gp(t)&&mp(t)}async function _p(t,e){const n=oc(t);n.asyncQueue.verifyOperationInProgress(),ec("RemoteStore","RemoteStore received new credentials");const r=ip(n);n.L_.add(3),await Qf(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Xf(n)}function xp(t){return t.K_||(t.K_=function(t,e,n){const r=oc(t);return r.w_(),new Wf(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(t.datastore,t.asyncQueue,{Eo:ap.bind(null,t),Ro:op.bind(null,t),mo:lp.bind(null,t),d_:cp.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),rp(t)?np(t):t.q_.set("Unknown")):(await t.K_.stop(),sp(t))})),t.K_}function Sp(t){return t.U_||(t.U_=function(t,e,n){const r=oc(t);return r.w_(),new $f(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:vp.bind(null,t),mo:wp.bind(null,t),f_:yp.bind(null,t),g_:bp.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await dp(t)):(await t.U_.stop(),t.O_.length>0&&(ec("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class Ap{constructor(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new uc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(t=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,n,r,i){const s=Date.now()+n,a=new Ap(t,e,s,r,i);return a.start(n),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new cc(lc.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Np(t,e){if(nc("AsyncQueue",`${e}: ${t}`),Oc(t))return new cc(lc.UNAVAILABLE,`${e}: ${t}`);throw t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(t){this.comparator=t?(e,n)=>t(e,n)||Cc.comparator(e.key,n.key):(t,e)=>Cc.comparator(t.key,e.key),this.keyedMap=gh(),this.sortedSet=new zc(this.comparator)}static emptySet(t){return new Ep(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,n)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Ep))return!1;if(this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const t=e.getNext().key,r=n.getNext().key;if(!t.isEqual(r))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const n=new Ep;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(){this.W_=new zc(Cc.comparator)}track(t){const e=t.doc.key,n=this.W_.get(e);n?0!==t.type&&3===n.type?this.W_=this.W_.insert(e,t):3===t.type&&1!==n.type?this.W_=this.W_.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.W_=this.W_.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.W_=this.W_.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.W_=this.W_.remove(e):1===t.type&&2===n.type?this.W_=this.W_.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.W_=this.W_.insert(e,{type:2,doc:t.doc}):sc():this.W_=this.W_.insert(e,t)}G_(){const t=[];return this.W_.inorderTraversal((e,n)=>{t.push(n)}),t}}class kp{constructor(t,e,n,r,i,s,a,o,l){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(t,e,n,r,i){const s=[];return e.forEach(t=>{s.push({type:0,doc:t})}),new kp(t,e,Ep.emptySet(e),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&sh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}}class Tp{constructor(){this.queries=Pp(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(t,e){const n=oc(t),r=n.queries;n.queries=Pp(),r.forEach((t,n)=>{for(const r of n.j_)r.onError(e)})}(this,new cc(lc.ABORTED,"Firestore shutting down"))}}function Pp(){return new hh(t=>ah(t),sh)}async function Ip(t,e){const n=oc(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new Cp,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const t=Np(a,`Initialization of query '${oh(e.query)}' failed`);return void e.onError(t)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&Op(n)}async function Dp(t,e){const n=oc(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const t=s.j_.indexOf(e);t>=0&&(s.j_.splice(t,1),0===s.j_.length?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Fp(t,e){const n=oc(t);let r=!1;for(const i of e){const t=i.query,e=n.queries.get(t);if(e){for(const t of e.j_)t.X_(i)&&(r=!0);e.z_=i}}r&&Op(n)}function Mp(t,e,n){const r=oc(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function Op(t){t.Y_.forEach(t=>{t.next()})}var Rp,jp;(jp=Rp||(Rp={})).ea="default",jp.Cache="cache";class Bp{constructor(t,e,n){this.query=t,this.ta=e,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(t){if(!this.options.includeMetadataChanges){const e=[];for(const n of t.docChanges)3!==n.type&&e.push(n);t=new kp(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.na?this.ia(t)&&(this.ta.next(t),e=!0):this.sa(t,this.onlineState)&&(this.oa(t),e=!0),this.ra=t,e}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let e=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),e=!0),e}sa(t,e){if(!t.fromCache)return!0;if(!this.J_())return!0;const n="Offline"!==e;return(!this.options._a||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}ia(t){if(t.docChanges.length>0)return!0;const e=this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges}oa(t){t=kp.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==Rp.Cache}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(t){this.key=t}}class Up{constructor(t){this.key=t}}class Vp{constructor(t,e){this.query=t,this.Ta=e,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=xh(),this.mutatedKeys=xh(),this.Aa=ch(t),this.Ra=new Ep(this.Aa)}get Va(){return this.Ta}ma(t,e){const n=e?e.fa:new Lp,r=e?e.Ra:this.Ra;let i=e?e.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((t,e)=>{const c=r.get(t),u=lh(this.query,e)?e:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.ga(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.Aa(u,o)>0||l&&this.Aa(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(s=s.add(u),i=d?i.add(t):i.delete(t)):(s=s.delete(t),i=i.delete(t)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const t="F"===this.query.limitType?s.last():s.first();s=s.delete(t.key),i=i.delete(t.key),n.track({type:1,doc:t})}return{Ra:s,fa:n,ns:a,mutatedKeys:i}}ga(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n,r){const i=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const s=t.fa.G_();s.sort((t,e)=>function(t,e){const n=t=>{switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return sc()}};return n(t)-n(e)}(t.type,e.type)||this.Aa(t.doc,e.doc)),this.pa(n),r=null!=r&&r;const a=e&&!r?this.ya():[],o=0===this.da.size&&this.current&&!r?1:0,l=o!==this.Ea;return this.Ea=o,0!==s.length||l?{snapshot:new kp(this.query,t.Ra,i,s,t.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Lp,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),t.modifiedDocuments.forEach(t=>{}),t.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=xh(),this.Ra.forEach(t=>{this.Sa(t.key)&&(this.da=this.da.add(t.key))});const e=[];return t.forEach(t=>{this.da.has(t)||e.push(new Up(t))}),this.da.forEach(n=>{t.has(n)||e.push(new qp(n))}),e}ba(t){this.Ta=t.Ts,this.da=xh();const e=this.ma(t.documents);return this.applyChanges(e,!0)}Da(){return kp.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class zp{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class Hp{constructor(t){this.key=t,this.va=!1}}class Wp{constructor(t,e,n,r,i,s){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new hh(t=>ah(t),sh),this.Ma=new Map,this.xa=new Set,this.Oa=new zc(Cc.comparator),this.Na=new Map,this.La=new df,this.Ba={},this.ka=new Map,this.qa=sf.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}async function $p(t,e,n=!0){const r=fg(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await Kp(r,e,n,!0),i}async function Gp(t,e){const n=fg(t);await Kp(n,e,!0,!1)}async function Kp(t,e,n,r){const i=await function(t,e){const n=oc(t);return n.persistence.runTransaction("Allocate target","readwrite",t=>{let r;return n.Ur.getTargetData(t,e).next(i=>i?(r=i,Mc.resolve(r)):n.Ur.allocateTargetId(t).next(i=>(r=new Zd(e,i,"TargetPurposeListen",t.currentSequenceNumber),n.Ur.addTargetData(t,r).next(()=>r))))}).then(t=>{const r=n.os.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(t.targetId,t),n._s.set(e,t.targetId)),t})}(t.localStore,nh(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await async function(t,e,n,r,i){t.Ka=(e,n,r)=>async function(t,e,n,r){let i=e.view.ma(n);i.ns&&(i=await Tf(t.localStore,e.query,!1).then(({documents:t})=>e.view.ma(t,i)));const s=r&&r.targetChanges.get(e.targetId),a=r&&null!=r.targetMismatches.get(e.targetId),o=e.view.applyChanges(i,t.isPrimaryClient,s,a);return og(t,e.targetId,o.wa),o.snapshot}(t,e,n,r);const s=await Tf(t.localStore,e,!0),a=new Vp(e,s.Ts),o=a.ma(s.documents),l=gd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=a.applyChanges(o,t.isPrimaryClient,l);og(t,n,c.wa);const u=new zp(e,n,a);return t.Fa.set(e,u),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}(t,e,s,"current"===a,i.resumeToken)),t.isPrimaryClient&&n&&Jf(t.remoteStore,i),o}async function Yp(t,e,n){const r=oc(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(t=>!sh(t,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Cf(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Zf(r.remoteStore,i.targetId),sg(r,i.targetId)}).catch(Fc)):(sg(r,i.targetId),await Cf(r.localStore,i.targetId,!0))}async function Xp(t,e){const n=oc(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Zf(n.remoteStore,r.targetId))}async function Qp(t,e,n){const r=function(t){const e=oc(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eg.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ng.bind(null,e),e}(t);try{const t=await function(t,e){const n=oc(t),r=Sc.now(),i=e.reduce((t,e)=>t.add(e.key),xh());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",t=>{let o=fh(),l=xh();return n.cs.getEntries(t,i).next(t=>{o=t,o.forEach((t,e)=>{e.isValidDocument()||(l=l.add(t))})}).next(()=>n.localDocuments.getOverlayedDocuments(t,o)).next(i=>{s=i;const a=[];for(const t of e){const e=Gh(t,s.get(t.key).overlayedDocument);null!=e&&a.push(new Xh(t.key,e,Su(e.value.mapValue),Uh.exists(!0)))}return n.mutationQueue.addMutationBatch(t,r,a,e)}).next(e=>{a=e;const r=e.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(t,e.batchId,r)})}).then(()=>({batchId:a.batchId,changes:mh(s)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(t.batchId),function(t,e,n){let r=t.Ba[t.currentUser.toKey()];r||(r=new zc(_c)),r=r.insert(e,n),t.Ba[t.currentUser.toKey()]=r}(r,t.batchId,n),await ug(r,t.changes),await dp(r.remoteStore)}catch(i){const t=Np(i,"Failed to persist write");n.reject(t)}}async function Jp(t,e){const n=oc(t);try{const t=await Lf(n.localStore,e);e.targetChanges.forEach((t,e)=>{const r=n.Na.get(e);r&&(ac(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.va=!0:t.modifiedDocuments.size>0?ac(r.va):t.removedDocuments.size>0&&(ac(r.va),r.va=!1))}),await ug(n,t,e)}catch(r){await Fc(r)}}function Zp(t,e,n){const r=oc(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const t=[];r.Fa.forEach((n,r)=>{const i=r.view.Z_(e);i.snapshot&&t.push(i.snapshot)}),function(t,e){const n=oc(t);n.onlineState=e;let r=!1;n.queries.forEach((t,n)=>{for(const i of n.j_)i.Z_(e)&&(r=!0)}),r&&Op(n)}(r.eventManager,e),t.length&&r.Ca.d_(t),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function tg(t,e,n){const r=oc(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let t=new zc(Cc.comparator);t=t.insert(s,Au.newNoDocument(s,Ac.min()));const n=xh().add(s),i=new pd(Ac.min(),new Map,new zc(_c),t,n);await Jp(r,i),r.Oa=r.Oa.remove(s),r.Na.delete(e),cg(r)}else await Cf(r.localStore,e,!1).then(()=>sg(r,e,n)).catch(Fc)}async function eg(t,e){const n=oc(t),r=e.batch.batchId;try{const t=await function(t,e){const n=oc(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",t=>{const r=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){const i=n.batch,s=i.keys();let a=Mc.resolve();return s.forEach(t=>{a=a.next(()=>r.getEntry(e,t)).next(e=>{const s=n.docVersions.get(t);ac(null!==s),e.version.compareTo(s)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&(e.setReadTime(n.commitVersion),r.addEntry(e)))})}),a.next(()=>t.mutationQueue.removeMutationBatch(e,i))}(n,t,e,i).next(()=>i.apply(t)).next(()=>n.mutationQueue.performConsistencyCheck(t)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(t,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,function(t){let e=xh();for(let n=0;n<t.mutationResults.length;++n)t.mutationResults[n].transformResults.length>0&&(e=e.add(t.batch.mutations[n].key));return e}(e))).next(()=>n.localDocuments.getDocuments(t,r))})}(n.localStore,e);ig(n,r,null),rg(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ug(n,t)}catch(i){await Fc(i)}}async function ng(t,e,n){const r=oc(t);try{const t=await function(t,e){const n=oc(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",t=>{let r;return n.mutationQueue.lookupMutationBatch(t,e).next(e=>(ac(null!==e),r=e.keys(),n.mutationQueue.removeMutationBatch(t,e))).next(()=>n.mutationQueue.performConsistencyCheck(t)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(t,r,e)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,r)).next(()=>n.localDocuments.getDocuments(t,r))})}(r.localStore,e);ig(r,e,n),rg(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ug(r,t)}catch(i){await Fc(i)}}function rg(t,e){(t.ka.get(e)||[]).forEach(t=>{t.resolve()}),t.ka.delete(e)}function ig(t,e,n){const r=oc(t);let i=r.Ba[r.currentUser.toKey()];if(i){const t=i.get(e);t&&(n?t.reject(n):t.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function sg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(e=>{t.La.containsKey(e)||ag(t,e)})}function ag(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);null!==n&&(Zf(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),cg(t))}function og(t,e,n){for(const r of n)r instanceof qp?(t.La.addReference(r.key,e),lg(t,r)):r instanceof Up?(ec("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||ag(t,r.key)):sc()}function lg(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ec("SyncEngine","New document in limbo: "+n),t.xa.add(r),cg(t))}function cg(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Cc(Ec.fromString(e)),r=t.qa.next();t.Na.set(r,new Hp(n)),t.Oa=t.Oa.insert(n,r),Jf(t.remoteStore,new Zd(nh(Ju(n.path)),r,"TargetPurposeLimboResolution",Rc.oe))}}async function ug(t,e,n){const r=oc(t),i=[],s=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((t,o)=>{a.push(r.Ka(o,e,n).then(t=>{var e;if((t||n)&&r.isPrimaryClient){const i=t?!t.fromCache:null===(e=null==n?void 0:n.targetChanges.get(o.targetId))||void 0===e?void 0:e.current;r.sharedClientState.updateQueryState(o.targetId,i?"current":"not-current")}if(t){i.push(t);const e=_f.Wi(o.targetId,t);s.push(e)}}))}),await Promise.all(a),r.Ca.d_(i),await async function(t,e){const n=oc(t);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",t=>Mc.forEach(e,e=>Mc.forEach(e.$i,r=>n.persistence.referenceDelegate.addReference(t,e.targetId,r)).next(()=>Mc.forEach(e.Ui,r=>n.persistence.referenceDelegate.removeReference(t,e.targetId,r)))))}catch(r){if(!Oc(r))throw r;ec("LocalStore","Failed to update sequence numbers: "+r)}for(const i of e){const t=i.targetId;if(!i.fromCache){const e=n.os.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.os=n.os.insert(t,i)}}}(r.localStore,s))}async function hg(t,e){const n=oc(t);if(!n.currentUser.isEqual(e)){ec("SyncEngine","User change. New user:",e.toKey());const t=await Nf(n.localStore,e);n.currentUser=e,i="'waitForPendingWrites' promise is rejected due to a user change.",(r=n).ka.forEach(t=>{t.forEach(t=>{t.reject(new cc(lc.CANCELLED,i))})}),r.ka.clear(),n.sharedClientState.handleUserChange(e,t.removedBatchIds,t.addedBatchIds),await ug(n,t.hs)}var r,i}function dg(t,e){const n=oc(t),r=n.Na.get(e);if(r&&r.va)return xh().add(r.key);{let t=xh();const r=n.Ma.get(e);if(!r)return t;for(const e of r){const r=n.Fa.get(e);t=t.unionWith(r.view.Va)}return t}}function fg(t){const e=oc(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Jp.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dg.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=tg.bind(null,e),e.Ca.d_=Fp.bind(null,e.eventManager),e.Ca.$a=Mp.bind(null,e.eventManager),e}class pg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Vf(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),await this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)}ja(t,e){return null}Ha(t,e){return null}za(t){return function(t,e,n,r){return new Af(t,e,n,r)}(this.persistence,new Sf,t.initialUser,this.serializer)}Ga(t){return new yf(wf.Zr,this.serializer)}Wa(t){return new If}async terminate(){var t,e;null===(t=this.gcScheduler)||void 0===t||t.stop(),null===(e=this.indexBackfillerScheduler)||void 0===e||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}pg.provider={build:()=>new pg};class gg{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=t=>Zp(this.syncEngine,t,1),this.remoteStore.remoteSyncer.handleCredentialChange=hg.bind(null,this.syncEngine),await async function(t,e){const n=oc(t);e?(n.L_.delete(2),await Xf(n)):e||(n.L_.add(2),await Qf(n),n.q_.set("Unknown"))}(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new Tp}createDatastore(t){const e=Vf(t.databaseInfo.databaseId),n=(r=t.databaseInfo,new qf(r));var r;return function(t,e,n,r){return new Gf(t,e,n,r)}(t.authCredentials,t.appCheckCredentials,n,e)}createRemoteStore(t){return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=t=>Zp(this.syncEngine,t,0),s=Ff.D()?new Ff:new Df,new Yf(e,n,r,i,s);var e,n,r,i,s}createSyncEngine(t,e){return function(t,e,n,r,i,s,a){const o=new Wp(t,e,n,r,i,s);return a&&(o.Qa=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(t){const e=oc(t);ec("RemoteStore","RemoteStore shutting down."),e.L_.add(5),await Qf(e),e.k_.shutdown(),e.q_.set("Unknown")}(this.remoteStore),null===(t=this.datastore)||void 0===t||t.terminate(),null===(e=this.eventManager)||void 0===e||e.terminate()}}gg.provider={build:()=>new gg};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class mg{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):nc("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,e){setTimeout(()=>{this.muted||t(e)},0)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(t,e,n,r,i){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=n,this.databaseInfo=r,this.user=Ql.UNAUTHENTICATED,this.clientId=wc.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async t=>{ec("FirestoreClient","Received user=",t.uid),await this.authCredentialListener(t),this.user=t}),this.appCheckCredentials.start(n,t=>(ec("FirestoreClient","Received new app check token=",t),this.appCheckCredentialListener(t,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new uc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(SA){const n=Np(SA,"Failed to shutdown persistence");t.reject(n)}}),t.promise}}async function yg(t,e){t.asyncQueue.verifyOperationInProgress(),ec("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async t=>{r.isEqual(t)||(await Nf(e.localStore,t),r=t)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function bg(t,e){t.asyncQueue.verifyOperationInProgress();const n=await async function(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ec("FirestoreClient","Using user provided OfflineComponentProvider");try{await yg(t,t._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!("FirebaseError"===(n=i).name?n.code===lc.FAILED_PRECONDITION||n.code===lc.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code))throw i;rc("Error using user provided cache. Falling back to memory cache: "+i),await yg(t,new pg)}}else ec("FirestoreClient","Using default OfflineComponentProvider"),await yg(t,new pg);var n;return t._offlineComponents}(t);ec("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(t=>_p(e.remoteStore,t)),t.setAppCheckTokenChangeListener((t,n)=>_p(e.remoteStore,n)),t._onlineComponents=e}async function wg(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ec("FirestoreClient","Using user provided OnlineComponentProvider"),await bg(t,t._uninitializedComponentsProvider._online)):(ec("FirestoreClient","Using default OnlineComponentProvider"),await bg(t,new gg))),t._onlineComponents}async function _g(t){const e=await wg(t),n=e.eventManager;return n.onListen=$p.bind(null,e.syncEngine),n.onUnlisten=Yp.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Gp.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Xp.bind(null,e.syncEngine),n}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function xg(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}const Sg=new Map;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ag(t,e,n){if(!n)throw new cc(lc.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Ng(t){if(!Cc.isDocumentKey(t))throw new cc(lc.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Eg(t){if(Cc.isDocumentKey(t))throw new cc(lc.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Lg(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const n=(e=t).constructor?e.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var e;return"function"==typeof t?"a function":sc()}function kg(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new cc(lc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Lg(t);throw new cc(lc.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(t){var e,n;if(void 0===t.host){if(void 0!==t.ssl)throw new cc(lc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new cc(lc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function(t,e,n,r){if(!0===e&&!0===r)throw new cc(lc.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xg(null!==(n=t.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(t){if(void 0!==t.timeoutSeconds){if(isNaN(t.timeoutSeconds))throw new cc(lc.INVALID_ARGUMENT,`invalid long polling timeout: ${t.timeoutSeconds} (must not be NaN)`);if(t.timeoutSeconds<5)throw new cc(lc.INVALID_ARGUMENT,`invalid long polling timeout: ${t.timeoutSeconds} (minimum allowed value is 5)`);if(t.timeoutSeconds>30)throw new cc(lc.INVALID_ARGUMENT,`invalid long polling timeout: ${t.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(e=this.experimentalLongPollingOptions,n=t.experimentalLongPollingOptions,e.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams;var e,n}}class Tg{constructor(t,e,n,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Cg({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new cc(lc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new cc(lc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Cg(t),void 0!==t.credentials&&(this._authCredentials=function(t){if(!t)return new dc;switch(t.type){case"firstParty":return new mc(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new cc(lc.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=Sg.get(t);e&&(ec("ComponentProvider","Removing Datastore"),Sg.delete(t),e.terminate())}(this),Promise.resolve()}}function Pg(t,e,n,r={}){var i;const s=(t=kg(t,Tg))._getSettings(),a=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==a&&rc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let e,n;if("string"==typeof r.mockUserToken)e=r.mockUserToken,n=Ql.MOCK_USER;else{e=function(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Za(JSON.stringify({alg:"none",type:"JWT"})),Za(JSON.stringify(s)),""].join(".")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new cc(lc.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Ql(s)}t._authCredentials=new fc(new hc(e,n))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new Ig(this.firestore,t,this._query)}}class Dg{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fg(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Dg(this.firestore,t,this._key)}}class Fg extends Ig{constructor(t,e,n){super(t,e,Ju(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Dg(this.firestore,null,new Cc(t))}withConverter(t){return new Fg(this.firestore,t,this._path)}}function Mg(t,e,...n){if(t=fo(t),Ag("collection","path",e),t instanceof Tg){const r=Ec.fromString(e,...n);return Eg(r),new Fg(t,null,r)}{if(!(t instanceof Dg||t instanceof Fg))throw new cc(lc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ec.fromString(e,...n));return Eg(r),new Fg(t.firestore,null,r)}}function Og(t,e,...n){if(t=fo(t),1===arguments.length&&(e=wc.newId()),Ag("doc","path",e),t instanceof Tg){const r=Ec.fromString(e,...n);return Ng(r),new Dg(t,null,new Cc(r))}{if(!(t instanceof Dg||t instanceof Fg))throw new cc(lc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ec.fromString(e,...n));return Ng(r),new Dg(t.firestore,t instanceof Fg?t.converter:null,new Cc(r))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new zf(this,"async_queue_retry"),this.Vu=()=>{const t=Uf();t&&ec("AsyncQueue","Visibility state changed to "+t.visibilityState),this.t_.jo()},this.mu=t;const e=Uf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const e=Uf();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise(()=>{});const e=new uc;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Pu.push(t),this.pu()))}async pu(){if(0!==this.Pu.length){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(AA){if(!Oc(AA))throw AA;ec("AsyncQueue","Operation failed with retryable error: "+AA)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(t){const e=this.mu.then(()=>(this.du=!0,t().catch(t=>{this.Eu=t,this.du=!1;throw nc("INTERNAL UNHANDLED ERROR: ",function(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(t=>(this.du=!1,t))));return this.mu=e,e}enqueueAfterDelay(t,e,n){this.fu(),this.Ru.indexOf(t)>-1&&(e=0);const r=Ap.createAndSchedule(this,t,e,n,t=>this.yu(t));return this.Tu.push(r),r}fu(){this.Eu&&sc()}verifyOperationInProgress(){}async wu(){let t;do{t=this.mu,await t}while(t!==this.mu)}Su(t){for(const e of this.Tu)if(e.timerId===t)return!0;return!1}bu(t){return this.wu().then(()=>{this.Tu.sort((t,e)=>t.targetTimeMs-e.targetTimeMs);for(const e of this.Tu)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.wu()})}Du(t){this.Ru.push(t)}yu(t){const e=this.Tu.indexOf(t);this.Tu.splice(e,1)}}class jg extends Tg{constructor(t,e,n,r){super(t,e,n,r),this.type="firestore",this._queue=new Rg,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Rg(t),this._firestoreClient=void 0,await t}}}function Bg(t){if(t._terminated)throw new cc(lc.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||function(t){var e,n,r;const i=t._freezeSettings(),s=(a=t._databaseId,o=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",l=t._persistenceKey,c=i,new iu(a,o,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,xg(c.experimentalLongPollingOptions),c.useFetchStreams));var a,o,l,c;t._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new vg(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(t){const e=null==t?void 0:t._online.build();return{_offline:null==t?void 0:t._offline.build(e),_online:e}}(t._componentsProvider))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t),t._firestoreClient}class qg{constructor(t){this._byteString=t}static fromBase64String(t){try{return new qg(Xc.fromBase64String(t))}catch(e){throw new cc(lc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new qg(Xc.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new cc(lc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kc(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(t){this._methodName=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new cc(lc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new cc(lc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return _c(this._lat,t._lat)||_c(this._long,t._long)}}
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(t){this._values=(t||[]).map(t=>t)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0}(this._values,t._values)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg=/^__.*__$/;class $g{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return null!==this.fieldMask?new Xh(t,this.data,this.fieldMask,e,this.fieldTransforms):new Yh(t,this.data,e,this.fieldTransforms)}}class Gg{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return new Xh(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function Kg(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw sc()}}class Yg{constructor(t,e,n,r,i,s){this.settings=t,this.databaseId=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new Yg(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Fu({path:n,xu:!1});return r.Ou(t),r}Nu(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Fu({path:n,xu:!1});return r.vu(),r}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return lm(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(0===t.length)throw this.Bu("Document fields must not be empty");if(Kg(this.Cu)&&Wg.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class Xg{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=n||Vf(t)}Qu(t,e,n,r=!1){return new Yg({Cu:t,methodName:e,qu:n,path:kc.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qg(t){const e=t._freezeSettings(),n=Vf(t._databaseId);return new Xg(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Jg(t,e,n,r,i,s={}){const a=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);im("Data must be an object, but it was:",a,r);const o=nm(r,a);let l,c;if(s.merge)l=new Kc(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const t=[];for(const r of s.mergeFields){const i=sm(e,r,n);if(!a.contains(i))throw new cc(lc.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);cm(t,i)||t.push(i)}l=new Kc(t),c=a.fieldTransforms.filter(t=>l.covers(t.field))}else l=null,c=a.fieldTransforms;return new $g(new xu(o),l,c)}class Zg extends Vg{_toFieldTransform(t){if(2!==t.Cu)throw 1===t.Cu?t.Bu(`${this._methodName}() can only appear at the top level of your update data`):t.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Zg}}class tm extends Vg{_toFieldTransform(t){return new Bh(t.path,new Ph)}isEqual(t){return t instanceof tm}}function em(t,e){if(rm(t=fo(t)))return im("Unsupported field value:",e,t),nm(t,e);if(t instanceof Vg)return function(t,e){if(!Kg(e.Cu))throw e.Bu(`${t._methodName}() can only be used with update() and set()`);if(!e.path)throw e.Bu(`${t._methodName}() is not currently supported inside arrays`);const n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&4!==e.Cu)throw e.Bu("Nested arrays are not supported");return function(t,e){const n=[];let r=0;for(const i of t){let t=em(i,e.Lu(r));null==t&&(t={nullValue:"NULL_VALUE"}),n.push(t),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=fo(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Eh(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const n=Sc.fromDate(t);return{timestampValue:kd(e.serializer,n)}}if(t instanceof Sc){const n=new Sc(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:kd(e.serializer,n)}}if(t instanceof zg)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof qg)return{bytesValue:Cd(e.serializer,t._byteString)};if(t instanceof Dg){const n=e.databaseId,r=t.firestore._databaseId;if(!r.isEqual(n))throw e.Bu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Id(t.firestore._databaseId||e.databaseId,t._key.path)}}if(t instanceof Hg)return n=e,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:t.toArray().map(t=>{if("number"!=typeof t)throw n.Bu("VectorValues must only contain numeric values.");return Ah(n.serializer,t)})}}}}};var n;throw e.Bu(`Unsupported field value: ${Lg(t)}`)}(t,e)}function nm(t,e){const n={};return Vc(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Uc(t,(t,r)=>{const i=em(r,e.Mu(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function rm(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Sc||t instanceof zg||t instanceof qg||t instanceof Dg||t instanceof Vg||t instanceof Hg)}function im(t,e,n){if(!rm(n)||("object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r))){const r=Lg(n);throw"an object"===r?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}var r}function sm(t,e,n){if((e=fo(e))instanceof Ug)return e._internalPath;if("string"==typeof e)return om(t,e);throw lm("Field path arguments must be of type string or ",t,!1,void 0,n)}const am=new RegExp("[~\\*/\\[\\]]");function om(t,e,n){if(e.search(am)>=0)throw lm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ug(...e.split("."))._internalPath}catch(r){throw lm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function lm(t,e,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new cc(lc.INVALID_ARGUMENT,o+t+l)}function cm(t,e){return t.some(t=>t.isEqual(e))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Dg(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new hm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(dm("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class hm extends um{data(){return super.data()}}function dm(t,e){return"string"==typeof e?om(t,e):e instanceof Ug?e._internalPath:e._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{}class pm extends fm{}function gm(t,e,...n){let r=[];e instanceof fm&&r.push(e),r=r.concat(n),function(t){const e=t.filter(t=>t instanceof ym).length,n=t.filter(t=>t instanceof mm).length;if(e>1||e>0&&n>0)throw new cc(lc.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class mm extends pm{constructor(t,e,n){super(),this._field=t,this._op=e,this._value=n,this.type="where"}static _create(t,e,n){return new mm(t,e,n)}_apply(t){const e=this._parse(t);return Sm(t._query,e),new Ig(t.firestore,t.converter,rh(t._query,e))}_parse(t){const e=Qg(t.firestore),n=function(t,e,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new cc(lc.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){xm(a,s);const e=[];for(const n of a)e.push(_m(r,t,n));o={arrayValue:{values:e}}}else o=_m(r,t,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||xm(a,s),o=function(t,e,n,r=!1){return em(n,t.Qu(r?4:3,e))}(n,e,a,"in"===s||"not-in"===s);return Pu.create(i,s,o)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value);return n}}function vm(t,e,n){const r=e,i=dm("where",t);return mm._create(i,r,n)}class ym extends fm{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new ym(t,e)}_parse(t){const e=this._queryConstraints.map(e=>e._parse(t)).filter(t=>t.getFilters().length>0);return 1===e.length?e[0]:Iu.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(t,e){let n=t;const r=e.getFlattenedFilters();for(const i of r)Sm(n,i),n=rh(n,i)}(t._query,e),new Ig(t.firestore,t.converter,rh(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class bm extends pm{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new bm(t,e)}_apply(t){const e=function(t,e,n){if(null!==t.startAt)throw new cc(lc.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new cc(lc.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ku(e,n)}(t._query,this._field,this._direction);return new Ig(t.firestore,t.converter,function(t,e){const n=t.explicitOrderBy.concat([e]);return new Qu(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))}}function wm(t,e="asc"){const n=e,r=dm("orderBy",t);return bm._create(r,n)}function _m(t,e,n){if("string"==typeof(n=fo(n))){if(""===n)throw new cc(lc.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!th(e)&&-1!==n.indexOf("/"))throw new cc(lc.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ec.fromString(n));if(!Cc.isDocumentKey(r))throw new cc(lc.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return gu(t,new Cc(r))}if(n instanceof Dg)return gu(t,n._key);throw new cc(lc.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lg(n)}.`)}function xm(t,e){if(!Array.isArray(t)||0===t.length)throw new cc(lc.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Sm(t,e){const n=function(t,e){for(const n of t)for(const t of n.getFlattenedFilters())if(e.indexOf(t.op)>=0)return t.op;return null}(t.filters,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw n===e.op?new cc(lc.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new cc(lc.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Am{convertValue(t,e="none"){switch(ou(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Zc(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(tu(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw sc()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const n={};return Uc(t,(t,r)=>{n[t]=this.convertValue(r,e)}),n}convertVectorValue(t){var e,n,r;const i=null===(r=null===(n=null===(e=t.fields)||void 0===e?void 0:e.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map(t=>Zc(t.doubleValue));return new Hg(i)}convertGeoPoint(t){return new zg(Zc(t.latitude),Zc(t.longitude))}convertArray(t,e){return(t.values||[]).map(t=>this.convertValue(t,e))}convertServerTimestamp(t,e){switch(e){case"previous":const n=nu(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(ru(t));default:return null}}convertTimestamp(t){const e=Jc(t);return new Sc(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=Ec.fromString(t);ac(Jd(n));const r=new su(n.get(1),n.get(3)),i=new Cc(n.popFirst(5));return r.isEqual(e)||nc(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),i}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Nm{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Em extends um{constructor(t,e,n,r,i,s){super(t,e,n,r,s),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Lm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const n=this._document.data.field(dm("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}}class Lm extends Em{data(t={}){return super.data(t)}}class km{constructor(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Nm(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(n=>{t.call(e,new Lm(this._firestore,this._userDataWriter,n.key,n,new Nm(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new cc(lc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){let e=0;return t._snapshot.docChanges.map(n=>{const r=new Lm(t._firestore,t._userDataWriter,n.doc.key,n.doc,new Nm(t._snapshot.mutatedKeys.has(n.doc.key),t._snapshot.fromCache),t.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:e++}})}{let n=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(t=>e||3!==t.type).map(e=>{const r=new Lm(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Nm(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);let i=-1,s=-1;return 0!==e.type&&(i=n.indexOf(e.doc.key),n=n.delete(e.doc.key)),1!==e.type&&(n=n.add(e.doc),s=n.indexOf(e.doc.key)),{type:Cm(e.type),doc:r,oldIndex:i,newIndex:s}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Cm(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return sc()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(t){t=kg(t,Dg);const e=kg(t.firestore,jg);return function(t,e,n={}){const r=new uc;return t.asyncQueue.enqueueAndForget(async()=>function(t,e,n,r,i){const s=new mg({next:o=>{s.Za(),e.enqueueAndForget(()=>Dp(t,a));const l=o.docs.has(n);!l&&o.fromCache?i.reject(new cc(lc.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?i.reject(new cc(lc.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:t=>i.reject(t)}),a=new Bp(Ju(n.path),s,{includeMetadataChanges:!0,_a:!0});return Ip(t,a)}(await _g(t),t.asyncQueue,e,n,r)),r.promise}(Bg(e),t._key).then(n=>function(t,e,n){const r=n.docs.get(e._key),i=new Pm(t);return new Em(t,i,e._key,r,new Nm(n.hasPendingWrites,n.fromCache),e.converter)}(e,t,n))}class Pm extends Am{constructor(t){super(),this.firestore=t}convertBytes(t){return new qg(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Dg(this.firestore,null,e)}}function Im(t){t=kg(t,Ig);const e=kg(t.firestore,jg),n=Bg(e),r=new Pm(e);return function(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new cc(lc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query),function(t,e,n={}){const r=new uc;return t.asyncQueue.enqueueAndForget(async()=>function(t,e,n,r,i){const s=new mg({next:n=>{s.Za(),e.enqueueAndForget(()=>Dp(t,a)),n.fromCache&&"server"===r.source?i.reject(new cc(lc.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:t=>i.reject(t)}),a=new Bp(n,s,{includeMetadataChanges:!0,_a:!0});return Ip(t,a)}(await _g(t),t.asyncQueue,e,n,r)),r.promise}(n,t._query).then(n=>new km(e,r,t,n))}function Dm(t,e,n,...r){t=kg(t,Dg);const i=kg(t.firestore,jg),s=Qg(i);let a;return a="string"==typeof(e=fo(e))||e instanceof Ug?function(t,e,n,r,i,s){const a=t.Qu(1,e,n),o=[sm(e,r,n)],l=[i];if(s.length%2!=0)throw new cc(lc.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)o.push(sm(e,s[d])),l.push(s[d+1]);const c=[],u=xu.empty();for(let d=o.length-1;d>=0;--d)if(!cm(c,o[d])){const t=o[d];let e=l[d];e=fo(e);const n=a.Nu(t);if(e instanceof Zg)c.push(t);else{const r=em(e,n);null!=r&&(c.push(t),u.set(t,r))}}const h=new Kc(c);return new Gg(u,h,a.fieldTransforms)}(s,"updateDoc",t._key,e,n,r):function(t,e,n,r){const i=t.Qu(1,e,n);im("Data must be an object, but it was:",i,r);const s=[],a=xu.empty();Uc(r,(t,r)=>{const o=om(e,t,n);r=fo(r);const l=i.Nu(o);if(r instanceof Zg)s.push(o);else{const t=em(r,l);null!=t&&(s.push(o),a.set(o,t))}});const o=new Kc(s);return new Gg(a,o,i.fieldTransforms)}(s,"updateDoc",t._key,e),Om(i,[a.toMutation(t._key,Uh.exists(!0))])}function Fm(t){return Om(kg(t.firestore,jg),[new td(t._key,Uh.none())])}function Mm(t,e){const n=kg(t.firestore,jg),r=Og(t),i=function(t,e){let n;return n=t?t.toFirestore(e):e,n}(t.converter,e);return Om(n,[Jg(Qg(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Uh.exists(!1))]).then(()=>r)}function Om(t,e){return function(t,e){const n=new uc;return t.asyncQueue.enqueueAndForget(async()=>Qp(await function(t){return wg(t).then(t=>t.syncEngine)}(t),e,n)),n.promise}(Bg(t),e)}function Rm(){return new tm("serverTimestamp")}!function(t,e=!0){Jl="10.14.1",Sl(new po("firestore",(t,{instanceIdentifier:n,options:r})=>{const i=t.getProvider("app").getImmediate(),s=new jg(new pc(t.getProvider("auth-internal")),new yc(t.getProvider("app-check-internal")),function(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new cc(lc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new su(t.options.projectId,e)}(i,n),i);return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC").setMultipleInstances(!0)),Ll(Xl,"4.7.3",t),Ll(Xl,"4.7.3","esm2017")}();const jm=function(t){const e="string"==typeof t?t:"(default)",n=function(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}("object"==typeof t?t:function(t=vl){const e=bl.get(t);if(!e&&t===vl&&io())return El();if(!e)throw Al.create("no-app",{appName:t});return e}(),"firestore").getImmediate({identifier:e});if(!n._initialized){const t=ro("firestore");t&&Pg(n,...t)}return n}(El({apiKey:"AIzaSyClXV9PzskFjGVzTa2OVG3nJQZ170qjrrE",authDomain:"pesalai-undergraduate.firebaseapp.com",projectId:"pesalai-undergraduate",storageBucket:"pesalai-undergraduate.firebasestorage.app",messagingSenderId:"819849679669",appId:"1:819849679669:web:418491be5cbfa0fc62b27c",measurementId:"G-T9X602C1X2"})),Bm="students",qm="classAttendance",Um="exams",Vm="expenses",zm={INDEX_NO:"indexNo",NAME:"name",GENDER:"gender",PARENT_PHONE:"parentPhone",BATCH:"batch",ATTENDANCE_LIST:"attendanceList",EXAM_RECORDS:"examRecords"},Hm={STUDENT_IDS:"studentIds"},Wm={SUBJECT:"subject",BATCH:"batch",DATE:"date",FEE:"fee",STATUS:"status",TOTAL_INCOME:"totalIncome",COMPLETED_AT:"completedAt",STUDENT_RECORDS:"studentRecords"},$m={AMOUNT:"amount",REASON:"reason",DATE:"date",TYPE:"type"},Gm={BATCHES:{BATCH_26AL:"26AL",BATCH_27AL:"27AL"},GENDERS:{MALE:"M",FEMALE:"F"},ATTENDANCE_STATUS:{PRESENT:"present",ABSENT:"absent"},EXAM_STATUS:{UPCOMING:"upcoming",ACTIVE:"active",COMPLETED:"completed"},EXPENSE_TYPES:{INCOME:"income",EXPENSE:"expense"},ADMIN_PASSWORD:"pesalai2025",APP_NAME:"Pesalai Undergraduates",APP_SLOGAN:"Choose harder rights, not easier wrongs",DATE_FORMAT:"YYYY-MM-DD"},Km=(t,e,n)=>{const r=n.replace(/-/g,"");return`${t}_${e.toLowerCase()}_${r}`},Ym=()=>(new Date).toISOString().split("T")[0],Xm=t=>"string"==typeof t?t.split("T")[0]:t.toISOString().split("T")[0],Qm=(t,e=null,n="info")=>{const r=`[${(new Date).toLocaleTimeString()}] [${n.toUpperCase()}]`;e?console.log(`${r} ${t}:`,e):console.log(`${r} ${t}`)},Jm=(t,e)=>{Qm(t,e,"error")},Zm=(t,e=null)=>{Qm(t,e,"success")},tv=(t,e=null)=>{Qm(t,e,"warning")},ev="/logo.svg",nv={class:"login-container"},rv={class:"login-card"},iv={class:"login-header"},sv={class:"slogan"},av={class:"form-group"},ov=["disabled"],lv=["disabled"],cv={key:0,class:"spinner"},uv={key:1},hv={key:0,class:"error-message"};const dv=ds({name:"Login",data:()=>({password:"",loading:!1,error:"",CONSTANTS:Gm}),methods:{async handleLogin(){this.loading=!0,this.error="";try{await new Promise(t=>setTimeout(t,500)),this.password===Gm.ADMIN_PASSWORD?(localStorage.setItem("pesalai_auth",this.password),this.showToast("Login successful!","success"),setTimeout(()=>{this.$router.push("/dashboard")},1e3)):(this.error="Invalid password. Please try again.",this.password="")}catch(t){this.error="Login failed. Please try again.",console.error("Login error:",t)}finally{this.loading=!1}},showToast(t,e="success"){const n=document.createElement("div");n.className=`toast ${e}`,n.innerHTML=`\n        <div style="display: flex; align-items: center; gap: 8px;">\n          <i class="fas fa-${"success"===e?"check-circle":"exclamation-triangle"}"></i>\n          <span>${t}</span>\n        </div>\n      `,document.body.appendChild(n),setTimeout(()=>{n.remove()},3e3)}},mounted(){localStorage.getItem("pesalai_auth")===Gm.ADMIN_PASSWORD&&this.$router.push("/dashboard")}},[["render",function(t,e,n,r,i,s){return Vr(),$r("div",nv,[Qr("div",rv,[Qr("div",iv,[e[2]||(e[2]=Qr("img",{src:ev,alt:"Pesalai Undergraduates",class:"logo"},null,-1)),Qr("h1",null,Y(i.CONSTANTS.APP_NAME),1),Qr("p",sv,Y(i.CONSTANTS.APP_SLOGAN),1)]),Qr("form",{onSubmit:e[1]||(e[1]=cs((...t)=>s.handleLogin&&s.handleLogin(...t),["prevent"])),class:"login-form"},[Qr("div",av,[e[3]||(e[3]=Qr("label",{for:"password",class:"form-label"},"Admin Password",-1)),Qe(Qr("input",{id:"password","onUpdate:modelValue":e[0]||(e[0]=t=>i.password=t),type:"password",class:"form-control",placeholder:"Enter admin password",required:"",disabled:i.loading},null,8,ov),[[rs,i.password]])]),Qr("button",{type:"submit",class:"btn btn-primary w-100",disabled:i.loading||!i.password.trim()},[i.loading?(Vr(),$r("span",cv)):(Vr(),$r("span",uv,"Login"))],8,lv)],32),i.error?(Vr(),$r("div",hv,[e[4]||(e[4]=Qr("i",{class:"fas fa-exclamation-triangle"},null,-1)),ti(" "+Y(i.error),1)])):ni("",!0)])])}],["__scopeId","data-v-f805804d"]]),fv={async getAllStudents(){try{const t=Mg(jm,Bm);return(await Im(t)).docs.map(t=>({id:t.id,...t.data()}))}catch(t){throw console.error("Error getting students:",t),t}},async getStudentById(t){try{const e=Og(jm,Bm,t),n=await Tm(e);return n.exists()?{id:n.id,...n.data()}:null}catch(e){throw console.error("Error getting student:",e),e}},async addStudent(t){try{const e=Mg(jm,Bm);return(await Mm(e,{...t,createdAt:Rm(),updatedAt:Rm()})).id}catch(e){throw console.error("Error adding student:",e),e}},async updateStudent(t,e){try{const n=Og(jm,Bm,t);await Dm(n,{...e,updatedAt:Rm()})}catch(n){throw console.error("Error updating student:",n),n}},async deleteStudent(t){try{const e=Og(jm,Bm,t);await Fm(e)}catch(e){throw console.error("Error deleting student:",e),e}},async getStudentsByBatch(t){try{const e=gm(Mg(jm,Bm),vm(zm.BATCH,"==",t));return(await Im(e)).docs.map(t=>({id:t.id,...t.data()}))}catch(e){throw console.error("Error getting students by batch:",e),e}}},pv={async getAttendanceByDateAndBatch(t,e){try{const n=Og(jm,qm,`${e}_${t}`),r=await Tm(n);return r.exists()?{id:r.id,...r.data()}:null}catch(n){throw console.error("Error getting attendance:",n),n}},async saveAttendance(t,e,n){try{const r=Og(jm,qm,`${e}_${t}`);await Dm(r,{[Hm.STUDENT_IDS]:n,updatedAt:Rm()})}catch(r){try{const r=Og(jm,qm,`${e}_${t}`);await Dm(r,{batch:e,date:t,[Hm.STUDENT_IDS]:n,createdAt:Rm(),updatedAt:Rm()})}catch(i){throw console.error("Error creating attendance:",i),i}}},async getAllAttendance(){try{const t=Mg(jm,qm);return(await Im(t)).docs.map(t=>({id:t.id,...t.data()}))}catch(t){throw console.error("Error getting all attendance:",t),t}}},gv={async getAllExams(){try{const t=gm(Mg(jm,Um),wm(Wm.DATE,"desc"));return(await Im(t)).docs.map(t=>({id:t.id,...t.data()}))}catch(t){throw console.error("Error getting exams:",t),t}},async getExamById(t){try{const e=Og(jm,Um,t),n=await Tm(e);return n.exists()?{id:n.id,...n.data()}:null}catch(e){throw console.error("Error getting exam:",e),e}},async addExam(t){try{const e=Mg(jm,Um);return(await Mm(e,{...t,createdAt:Rm(),updatedAt:Rm()})).id}catch(e){throw console.error("Error adding exam:",e),e}},async updateExam(t,e){try{const n=Og(jm,Um,t);await Dm(n,{...e,updatedAt:Rm()})}catch(n){throw console.error("Error updating exam:",n),n}},async deleteExam(t){try{const e=Og(jm,Um,t);await Fm(e)}catch(e){throw console.error("Error deleting exam:",e),e}},async getExamsByBatch(t){try{const e=gm(Mg(jm,Um),vm(Wm.BATCH,"==",t));return(await Im(e)).docs.map(t=>({id:t.id,...t.data()}))}catch(e){throw console.error("Error getting exams by batch:",e),e}}},mv={async getAllExpenses(){try{const t=gm(Mg(jm,Vm),wm($m.DATE,"desc"));return(await Im(t)).docs.map(t=>({id:t.id,...t.data()}))}catch(t){throw console.error("Error getting expenses:",t),t}},async addExpense(t){try{const e=Mg(jm,Vm);return(await Mm(e,{...t,createdAt:Rm(),updatedAt:Rm()})).id}catch(e){throw console.error("Error adding expense:",e),e}},async updateExpense(t,e){try{const n=Og(jm,Vm,t);await Dm(n,{...e,updatedAt:Rm()})}catch(n){throw console.error("Error updating expense:",n),n}},async deleteExpense(t){try{const e=Og(jm,Vm,t);await Fm(e)}catch(e){throw console.error("Error deleting expense:",e),e}},async getExpensesByType(t){try{const e=gm(Mg(jm,Vm),vm($m.TYPE,"==",t));return(await Im(e)).docs.map(t=>({id:t.id,...t.data()}))}catch(e){throw console.error("Error getting expenses by type:",e),e}}},vv={name:"Dashboard",data:()=>({CONSTANTS:Gm,totalStudents:0,studentsByBatch:{},todayAttendance:0,todayPresent:0,todayTotal:0,upcomingExams:0,nextExamDate:null,totalIncome:0,totalExpenses:0,currentBalance:0,recentActivities:[],loading:!0}),async mounted(){await this.loadDashboardData()},methods:{async loadDashboardData(){try{this.loading=!0;const[t,e,n,r]=await Promise.all([fv.getAll(),this.getTodayAttendance(),gv.getAll(),mv.getAllExpenses()]);this.totalStudents=t.length,this.studentsByBatch=t.reduce((t,e)=>(t[e.batch]=(t[e.batch]||0)+1,t),{}),e.length>0&&(this.todayPresent=e.filter(t=>t.status===Gm.ATTENDANCE_STATUS.PRESENT).length,this.todayTotal=e.length,this.todayAttendance=Math.round(this.todayPresent/this.todayTotal*100));const i=n.filter(t=>t.status===Gm.EXAM_STATUS.UPCOMING);if(this.upcomingExams=i.length,i.length>0){const t=i.sort((t,e)=>new Date(t.date)-new Date(e.date))[0];this.nextExamDate=this.formatDate(t.date)}const s=r.filter(t=>t.type===Gm.EXPENSE_TYPES.INCOME),a=r.filter(t=>t.type===Gm.EXPENSE_TYPES.EXPENSE);this.totalIncome=s.reduce((t,e)=>t+(e.amount||0),0),this.totalExpenses=a.reduce((t,e)=>t+(e.amount||0),0),this.currentBalance=this.totalIncome-this.totalExpenses,this.generateRecentActivities(t,n,r)}catch(t){console.error("Error loading dashboard data:",t),this.showToast("Failed to load dashboard data","error")}finally{this.loading=!1}},async getTodayAttendance(){const t=(new Date).toISOString().split("T")[0];return[...await pv.getByDateAndBatch(t,Gm.BATCHES.BATCH_26AL),...await pv.getByDateAndBatch(t,Gm.BATCHES.BATCH_27AL)]},generateRecentActivities(t,e,n){const r=[];t.slice(-3).forEach(t=>{r.push({id:`student-${t.id}`,icon:"fas fa-user-plus",message:`New student added: ${t.name} (${t.indexNo})`,timestamp:t.createdAt||new Date})});e.slice(-2).forEach(t=>{r.push({id:`exam-${t.id}`,icon:"fas fa-clipboard-list",message:`Exam created: ${t.subject} for ${t.batch}`,timestamp:t.createdAt||new Date})});n.slice(-2).forEach(t=>{r.push({id:`expense-${t.id}`,icon:t.type===Gm.EXPENSE_TYPES.INCOME?"fas fa-arrow-up":"fas fa-arrow-down",message:`${t.type===Gm.EXPENSE_TYPES.INCOME?"Income":"Expense"}: Rs. ${t.amount} - ${t.reason}`,timestamp:t.createdAt||new Date})}),this.recentActivities=r.sort((t,e)=>new Date(e.timestamp)-new Date(t.timestamp)).slice(0,5)},formatDate:t=>new Date(t).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),formatTime(t){const e=(new Date-new Date(t))/36e5;return e<1?"Just now":e<24?`${Math.floor(e)} hours ago`:`${Math.floor(e/24)} days ago`},logout(){localStorage.removeItem("pesalai_auth"),this.$router.push("/")},showToast(t,e="success"){const n=document.createElement("div");n.className=`toast ${e}`,n.innerHTML=`\n        <div style="display: flex; align-items: center; gap: 8px;">\n          <i class="fas fa-${"success"===e?"check-circle":"exclamation-triangle"}"></i>\n          <span>${t}</span>\n        </div>\n      `,document.body.appendChild(n),setTimeout(()=>{n.remove()},3e3)}}},yv={class:"dashboard"},bv={class:"navbar"},wv={class:"container-fluid"},_v={class:"container-fluid"},xv={class:"dashboard-overview"},Sv={class:"stats-grid"},Av={class:"stat-card"},Nv={class:"stat-content"},Ev={class:"stat-card"},Lv={class:"stat-content"},kv={class:"stat-card"},Cv={class:"stat-content"},Tv={class:"stat-card"},Pv={class:"stat-content"},Iv={class:"quick-actions"},Dv={class:"action-buttons"},Fv={class:"recent-activity"},Mv={class:"activity-list"},Ov={key:0,class:"no-activity"},Rv={class:"activity-icon"},jv={class:"activity-content"},Bv={class:"bottom-nav"};const qv=ds(vv,[["render",function(t,e,n,r,i,s){const a=En("router-link");return Vr(),$r("div",yv,[Qr("nav",bv,[Qr("div",wv,[Jr(a,{to:"/dashboard",class:"navbar-brand"},{default:Xe(()=>[e[1]||(e[1]=Qr("img",{src:ev,alt:"Logo",class:"navbar-logo"},null,-1)),ti(" "+Y(i.CONSTANTS.APP_NAME),1)]),_:1}),Qr("button",{onClick:e[0]||(e[0]=(...t)=>s.logout&&s.logout(...t)),class:"btn btn-sm btn-secondary"},[...e[2]||(e[2]=[Qr("i",{class:"fas fa-sign-out-alt"},null,-1),ti(" Logout ",-1)])])])]),Qr("div",_v,[Qr("div",xv,[e[11]||(e[11]=Qr("h2",null,"Dashboard Overview",-1)),Qr("div",Sv,[Qr("div",Av,[e[4]||(e[4]=Qr("div",{class:"stat-icon"},[Qr("i",{class:"fas fa-users"})],-1)),Qr("div",Nv,[Qr("h3",null,Y(i.totalStudents),1),e[3]||(e[3]=Qr("p",null,"Total Students",-1)),Qr("small",null,Y(i.studentsByBatch[i.CONSTANTS.BATCHES.BATCH_26AL]||0)+" (26AL)  "+Y(i.studentsByBatch[i.CONSTANTS.BATCHES.BATCH_27AL]||0)+" (27AL)",1)])]),Qr("div",Ev,[e[6]||(e[6]=Qr("div",{class:"stat-icon"},[Qr("i",{class:"fas fa-calendar-check"})],-1)),Qr("div",Lv,[Qr("h3",null,Y(i.todayAttendance)+"%",1),e[5]||(e[5]=Qr("p",null,"Today's Attendance",-1)),Qr("small",null,Y(i.todayPresent)+"/"+Y(i.todayTotal)+" students",1)])]),Qr("div",kv,[e[8]||(e[8]=Qr("div",{class:"stat-icon"},[Qr("i",{class:"fas fa-clipboard-list"})],-1)),Qr("div",Cv,[Qr("h3",null,Y(i.upcomingExams),1),e[7]||(e[7]=Qr("p",null,"Upcoming Exams",-1)),Qr("small",null,"Next: "+Y(i.nextExamDate||"None"),1)])]),Qr("div",Tv,[e[10]||(e[10]=Qr("div",{class:"stat-icon"},[Qr("i",{class:"fas fa-dollar-sign"})],-1)),Qr("div",Pv,[Qr("h3",null,"Rs. "+Y(i.currentBalance.toLocaleString()),1),e[9]||(e[9]=Qr("p",null,"Current Balance",-1)),Qr("small",null,"Income: Rs. "+Y(i.totalIncome.toLocaleString())+"  Expenses: Rs. "+Y(i.totalExpenses.toLocaleString()),1)])])])]),Qr("div",Iv,[e[16]||(e[16]=Qr("h3",null,"Quick Actions",-1)),Qr("div",Dv,[Jr(a,{to:"/students",class:"action-btn"},{default:Xe(()=>[...e[12]||(e[12]=[Qr("i",{class:"fas fa-user-plus"},null,-1),Qr("span",null,"Add Student",-1)])]),_:1}),Jr(a,{to:"/attendance",class:"action-btn"},{default:Xe(()=>[...e[13]||(e[13]=[Qr("i",{class:"fas fa-calendar-plus"},null,-1),Qr("span",null,"Mark Attendance",-1)])]),_:1}),Jr(a,{to:"/exams",class:"action-btn"},{default:Xe(()=>[...e[14]||(e[14]=[Qr("i",{class:"fas fa-plus-circle"},null,-1),Qr("span",null,"Create Exam",-1)])]),_:1}),Jr(a,{to:"/finance",class:"action-btn"},{default:Xe(()=>[...e[15]||(e[15]=[Qr("i",{class:"fas fa-receipt"},null,-1),Qr("span",null,"Add Expense",-1)])]),_:1})])]),Qr("div",Fv,[e[18]||(e[18]=Qr("h3",null,"Recent Activity",-1)),Qr("div",Mv,[0===i.recentActivities.length?(Vr(),$r("div",Ov,[...e[17]||(e[17]=[Qr("i",{class:"fas fa-info-circle"},null,-1),Qr("p",null,"No recent activity",-1)])])):ni("",!0),(Vr(!0),$r(Or,null,Cn(i.recentActivities,t=>(Vr(),$r("div",{key:t.id,class:"activity-item"},[Qr("div",Rv,[Qr("i",{class:z(t.icon)},null,2)]),Qr("div",jv,[Qr("p",null,Y(t.message),1),Qr("small",null,Y(s.formatTime(t.timestamp)),1)])]))),128))])])]),Qr("nav",Bv,[Jr(a,{to:"/dashboard",class:z(["nav-link",{active:"Dashboard"===t.$route.name}])},{default:Xe(()=>[...e[19]||(e[19]=[Qr("i",{class:"fas fa-home"},null,-1),Qr("span",null,"Dashboard",-1)])]),_:1},8,["class"]),Jr(a,{to:"/students",class:z(["nav-link",{active:"Students"===t.$route.name}])},{default:Xe(()=>[...e[20]||(e[20]=[Qr("i",{class:"fas fa-users"},null,-1),Qr("span",null,"Students",-1)])]),_:1},8,["class"]),Jr(a,{to:"/attendance",class:z(["nav-link",{active:"Attendance"===t.$route.name}])},{default:Xe(()=>[...e[21]||(e[21]=[Qr("i",{class:"fas fa-calendar-check"},null,-1),Qr("span",null,"Attendance",-1)])]),_:1},8,["class"]),Jr(a,{to:"/exams",class:z(["nav-link",{active:"Exams"===t.$route.name}])},{default:Xe(()=>[...e[22]||(e[22]=[Qr("i",{class:"fas fa-clipboard-list"},null,-1),Qr("span",null,"Exams",-1)])]),_:1},8,["class"]),Jr(a,{to:"/finance",class:z(["nav-link",{active:"Finance"===t.$route.name}])},{default:Xe(()=>[...e[23]||(e[23]=[Qr("i",{class:"fas fa-chart-line"},null,-1),Qr("span",null,"Finance",-1)])]),_:1},8,["class"]),Jr(a,{to:"/reports",class:z(["nav-link",{active:"Reports"===t.$route.name}])},{default:Xe(()=>[...e[24]||(e[24]=[Qr("i",{class:"fas fa-file-pdf"},null,-1),Qr("span",null,"Reports",-1)])]),_:1},8,["class"])])])}],["__scopeId","data-v-119a4ef7"]]),Uv={class:"students-page"},Vv={class:"page-header"},zv={class:"container-fluid"},Hv={class:"header-content"},Wv={class:"filters-section"},$v={class:"container-fluid"},Gv={class:"filters-row"},Kv={class:"filter-group"},Yv=["value"],Xv=["value"],Qv={class:"filter-group"},Jv={class:"search-input"},Zv={class:"students-content"},ty={class:"container-fluid"},ey={key:0,class:"loading-state"},ny={key:1,class:"empty-state"},ry={key:2,class:"students-grid"},iy={class:"student-header"},sy={class:"student-avatar"},ay={class:"student-info"},oy={class:"index-no"},ly={class:"student-details"},cy={class:"detail-item"},uy={class:"detail-item"},hy={class:"student-actions"},dy=["onClick"],fy=["onClick"],py={class:"modal-header"},gy={class:"modal-title"},my={class:"form-group"},vy=["disabled"],yy={class:"form-group"},by={class:"form-group"},wy=["value"],_y=["value"],xy={class:"form-group"},Sy={class:"form-group"},Ay=["value"],Ny=["value"],Ey={class:"modal-footer"},Ly=["disabled"],ky={key:0,class:"spinner"},Cy={key:1},Ty={class:"bottom-nav"};const Py=ds({name:"Students",data:()=>({CONSTANTS:Gm,students:[],filteredStudents:[],loading:!0,searchQuery:"",selectedBatch:"",showAddModal:!1,showEditModal:!1,saving:!1,studentForm:{indexNo:"",name:"",gender:"",parentPhone:"",batch:""},editingStudent:null}),async mounted(){await this.loadStudents()},methods:{async loadStudents(){try{Qm("Loading students from database"),this.loading=!0,this.students=await fv.getAll(),Zm(`Loaded ${this.students.length} students`),this.filterStudents()}catch(t){Jm("Failed to load students",t),this.showToast("Failed to load students","error")}finally{this.loading=!1}},filterStudents(){let t=[...this.students];if(this.selectedBatch&&(t=t.filter(t=>t.batch===this.selectedBatch)),this.searchQuery.trim()){const e=this.searchQuery.toLowerCase();t=t.filter(t=>t.name.toLowerCase().includes(e)||t.indexNo.toLowerCase().includes(e))}this.filteredStudents=t},editStudent(t){this.editingStudent=t,this.studentForm={indexNo:t.indexNo,name:t.name,gender:t.gender,parentPhone:t.parentPhone,batch:t.batch},this.showEditModal=!0},async saveStudent(){try{if(this.saving=!0,Qm("Saving student data",this.studentForm),!(this.studentForm.indexNo&&this.studentForm.name&&this.studentForm.gender&&this.studentForm.parentPhone&&this.studentForm.batch))return logWarning("Form validation failed - missing required fields"),void this.showToast("Please fill in all required fields","error");const t={indexNo:this.studentForm.indexNo,name:this.studentForm.name,gender:this.studentForm.gender,parentPhone:this.studentForm.parentPhone,batch:this.studentForm.batch};if(this.showAddModal){if(await fv.getByIndexNo(this.studentForm.indexNo))return logWarning(`Student with index number ${this.studentForm.indexNo} already exists`),void this.showToast("Student with this index number already exists","error");await fv.create(t),Zm(`Student ${t.name} (${t.indexNo}) created successfully`),this.showToast("Student added successfully","success")}else await fv.update(this.editingStudent.indexNo,t),Zm(`Student ${t.name} (${t.indexNo}) updated successfully`),this.showToast("Student updated successfully","success");this.closeModal(),await this.loadStudents()}catch(t){Jm("Error saving student",t),this.showToast("Failed to save student","error")}finally{this.saving=!1}},async deleteStudent(t){if(confirm(`Are you sure you want to delete ${t.name} (${t.indexNo})?`))try{Qm(`Deleting student ${t.name} (${t.indexNo})`),await fv.delete(t.indexNo),Zm(`Student ${t.name} (${t.indexNo}) deleted successfully`),this.showToast("Student deleted successfully","success"),await this.loadStudents()}catch(e){Jm("Error deleting student",e),this.showToast("Failed to delete student","error")}},closeModal(){this.showAddModal=!1,this.showEditModal=!1,this.editingStudent=null,this.studentForm={indexNo:"",name:"",gender:"",parentPhone:"",batch:""}},showToast(t,e="success"){const n=document.createElement("div");n.className=`toast ${e}`,n.innerHTML=`\n        <div style="display: flex; align-items: center; gap: 8px;">\n          <i class="fas fa-${"success"===e?"check-circle":"exclamation-triangle"}"></i>\n          <span>${t}</span>\n        </div>\n      `,document.body.appendChild(n),setTimeout(()=>{n.remove()},3e3)}}},[["render",function(t,e,n,r,i,s){const a=En("router-link");return Vr(),$r("div",Uv,[Qr("div",Vv,[Qr("div",zv,[Qr("div",Hv,[e[18]||(e[18]=Qr("div",{class:"header-left"},[Qr("h1",null,[Qr("i",{class:"fas fa-users"}),ti(" Students Management")]),Qr("p",null,"Manage student information and records")],-1)),Qr("button",{onClick:e[0]||(e[0]=t=>i.showAddModal=!0),class:"btn btn-primary"},[...e[17]||(e[17]=[Qr("i",{class:"fas fa-plus"},null,-1),ti(" Add Student ",-1)])])])])]),Qr("div",Wv,[Qr("div",$v,[Qr("div",Gv,[Qr("div",Kv,[e[20]||(e[20]=Qr("label",{class:"form-label"},"Batch Filter",-1)),Qe(Qr("select",{"onUpdate:modelValue":e[1]||(e[1]=t=>i.selectedBatch=t),onChange:e[2]||(e[2]=(...t)=>s.filterStudents&&s.filterStudents(...t)),class:"form-control"},[e[19]||(e[19]=Qr("option",{value:""},"All Batches",-1)),Qr("option",{value:i.CONSTANTS.BATCHES.BATCH_26AL},"26AL",8,Yv),Qr("option",{value:i.CONSTANTS.BATCHES.BATCH_27AL},"27AL",8,Xv)],544),[[is,i.selectedBatch]])]),Qr("div",Qv,[e[22]||(e[22]=Qr("label",{class:"form-label"},"Search",-1)),Qr("div",Jv,[Qe(Qr("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>i.searchQuery=t),onInput:e[4]||(e[4]=(...t)=>s.filterStudents&&s.filterStudents(...t)),type:"text",class:"form-control",placeholder:"Search by name or index number..."},null,544),[[rs,i.searchQuery]]),e[21]||(e[21]=Qr("i",{class:"fas fa-search search-icon"},null,-1))])])])])]),Qr("div",Zv,[Qr("div",ty,[i.loading?(Vr(),$r("div",ey,[...e[23]||(e[23]=[Qr("div",{class:"spinner"},null,-1),Qr("p",null,"Loading students...",-1)])])):0===i.filteredStudents.length?(Vr(),$r("div",ny,[e[25]||(e[25]=Qr("i",{class:"fas fa-users"},null,-1)),e[26]||(e[26]=Qr("h3",null,"No students found",-1)),Qr("p",null,Y(i.searchQuery||i.selectedBatch?"Try adjusting your search criteria":"Add your first student to get started"),1),i.searchQuery||i.selectedBatch?ni("",!0):(Vr(),$r("button",{key:0,onClick:e[5]||(e[5]=t=>i.showAddModal=!0),class:"btn btn-primary"},[...e[24]||(e[24]=[Qr("i",{class:"fas fa-plus"},null,-1),ti(" Add First Student ",-1)])]))])):(Vr(),$r("div",ry,[(Vr(!0),$r(Or,null,Cn(i.filteredStudents,t=>(Vr(),$r("div",{key:t.id,class:"student-card"},[Qr("div",iy,[Qr("div",sy,[Qr("i",{class:z(t.gender===i.CONSTANTS.GENDERS.MALE?"fas fa-male":"fas fa-female")},null,2)]),Qr("div",ay,[Qr("h3",null,Y(t.name),1),Qr("p",oy,"Index: "+Y(t.indexNo),1),Qr("span",{class:z(["batch-badge",`batch-${t.batch}`])},Y(t.batch),3)])]),Qr("div",ly,[Qr("div",cy,[e[27]||(e[27]=Qr("i",{class:"fas fa-phone"},null,-1)),Qr("span",null,Y(t.parentPhone),1)]),Qr("div",uy,[Qr("i",{class:z(t.gender===i.CONSTANTS.GENDERS.MALE?"fas fa-male":"fas fa-female")},null,2),Qr("span",null,Y(t.gender===i.CONSTANTS.GENDERS.MALE?"Male":"Female"),1)])]),Qr("div",hy,[Qr("button",{onClick:e=>s.editStudent(t),class:"btn btn-sm btn-secondary"},[...e[28]||(e[28]=[Qr("i",{class:"fas fa-edit"},null,-1),ti(" Edit ",-1)])],8,dy),Qr("button",{onClick:e=>s.deleteStudent(t),class:"btn btn-sm btn-danger"},[...e[29]||(e[29]=[Qr("i",{class:"fas fa-trash"},null,-1),ti(" Delete ",-1)])],8,fy)])]))),128))]))])]),i.showAddModal||i.showEditModal?(Vr(),$r("div",{key:0,class:"modal-overlay",onClick:e[16]||(e[16]=(...t)=>s.closeModal&&s.closeModal(...t))},[Qr("div",{class:"modal",onClick:e[15]||(e[15]=cs(()=>{},["stop"]))},[Qr("div",py,[Qr("h3",gy,Y(i.showAddModal?"Add New Student":"Edit Student"),1),Qr("button",{onClick:e[6]||(e[6]=(...t)=>s.closeModal&&s.closeModal(...t)),class:"modal-close"},[...e[30]||(e[30]=[Qr("i",{class:"fas fa-times"},null,-1)])])]),Qr("form",{onSubmit:e[12]||(e[12]=cs((...t)=>s.saveStudent&&s.saveStudent(...t),["prevent"])),class:"modal-body"},[Qr("div",my,[e[31]||(e[31]=Qr("label",{class:"form-label"},"Index Number *",-1)),Qe(Qr("input",{"onUpdate:modelValue":e[7]||(e[7]=t=>i.studentForm.indexNo=t),type:"text",class:"form-control",placeholder:"e.g., 6327",required:"",disabled:i.showEditModal},null,8,vy),[[rs,i.studentForm.indexNo]])]),Qr("div",yy,[e[32]||(e[32]=Qr("label",{class:"form-label"},"Full Name *",-1)),Qe(Qr("input",{"onUpdate:modelValue":e[8]||(e[8]=t=>i.studentForm.name=t),type:"text",class:"form-control",placeholder:"Enter student's full name",required:""},null,512),[[rs,i.studentForm.name]])]),Qr("div",by,[e[34]||(e[34]=Qr("label",{class:"form-label"},"Gender *",-1)),Qe(Qr("select",{"onUpdate:modelValue":e[9]||(e[9]=t=>i.studentForm.gender=t),class:"form-control",required:""},[e[33]||(e[33]=Qr("option",{value:""},"Select Gender",-1)),Qr("option",{value:i.CONSTANTS.GENDERS.MALE},"Male",8,wy),Qr("option",{value:i.CONSTANTS.GENDERS.FEMALE},"Female",8,_y)],512),[[is,i.studentForm.gender]])]),Qr("div",xy,[e[35]||(e[35]=Qr("label",{class:"form-label"},"Parent's Phone *",-1)),Qe(Qr("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>i.studentForm.parentPhone=t),type:"tel",class:"form-control",placeholder:"Enter parent's phone number",required:""},null,512),[[rs,i.studentForm.parentPhone]])]),Qr("div",Sy,[e[37]||(e[37]=Qr("label",{class:"form-label"},"Batch *",-1)),Qe(Qr("select",{"onUpdate:modelValue":e[11]||(e[11]=t=>i.studentForm.batch=t),class:"form-control",required:""},[e[36]||(e[36]=Qr("option",{value:""},"Select Batch",-1)),Qr("option",{value:i.CONSTANTS.BATCHES.BATCH_26AL},"26AL",8,Ay),Qr("option",{value:i.CONSTANTS.BATCHES.BATCH_27AL},"27AL",8,Ny)],512),[[is,i.studentForm.batch]])])],32),Qr("div",Ey,[Qr("button",{type:"button",onClick:e[13]||(e[13]=(...t)=>s.closeModal&&s.closeModal(...t)),class:"btn btn-secondary"},"Cancel"),Qr("button",{type:"submit",onClick:e[14]||(e[14]=(...t)=>s.saveStudent&&s.saveStudent(...t)),class:"btn btn-primary",disabled:i.saving},[i.saving?(Vr(),$r("span",ky)):(Vr(),$r("span",Cy,Y(i.showAddModal?"Add Student":"Update Student"),1))],8,Ly)])])])):ni("",!0),Qr("nav",Ty,[Jr(a,{to:"/dashboard",class:"nav-link"},{default:Xe(()=>[...e[38]||(e[38]=[Qr("i",{class:"fas fa-home"},null,-1),Qr("span",null,"Dashboard",-1)])]),_:1}),Jr(a,{to:"/students",class:"nav-link active"},{default:Xe(()=>[...e[39]||(e[39]=[Qr("i",{class:"fas fa-users"},null,-1),Qr("span",null,"Students",-1)])]),_:1}),Jr(a,{to:"/attendance",class:"nav-link"},{default:Xe(()=>[...e[40]||(e[40]=[Qr("i",{class:"fas fa-calendar-check"},null,-1),Qr("span",null,"Attendance",-1)])]),_:1}),Jr(a,{to:"/exams",class:"nav-link"},{default:Xe(()=>[...e[41]||(e[41]=[Qr("i",{class:"fas fa-clipboard-list"},null,-1),Qr("span",null,"Exams",-1)])]),_:1}),Jr(a,{to:"/finance",class:"nav-link"},{default:Xe(()=>[...e[42]||(e[42]=[Qr("i",{class:"fas fa-chart-line"},null,-1),Qr("span",null,"Finance",-1)])]),_:1}),Jr(a,{to:"/reports",class:"nav-link"},{default:Xe(()=>[...e[43]||(e[43]=[Qr("i",{class:"fas fa-file-pdf"},null,-1),Qr("span",null,"Reports",-1)])]),_:1})])])}],["__scopeId","data-v-876653e6"]]),Iy={class:"attendance-page"},Dy={key:0,class:"attendance-setup"},Fy={class:"container-fluid"},My={class:"setup-card"},Oy={class:"form-row"},Ry={class:"form-group"},jy=["value"],By=["value"],qy={class:"form-group"},Uy={class:"date-input-group"},Vy=["disabled"],zy={key:0,class:"spinner"},Hy={key:1},Wy={key:1,class:"attendance-marking"},$y={class:"container-fluid"},Gy={class:"attendance-summary"},Ky={class:"summary-card"},Yy={class:"summary-item"},Xy={class:"value"},Qy={class:"summary-item"},Jy={class:"value"},Zy={class:"summary-item"},tb={class:"value present"},eb={class:"summary-item"},nb={class:"value absent"},rb={class:"summary-item"},ib={class:"value"},sb={class:"students-list"},ab=["onTouchstart","onTouchmove","onTouchend"],ob={class:"student-card-content"},lb={class:"student-avatar"},cb={class:"student-info"},ub={class:"index-no"},hb={class:"batch-badge"},db={class:"attendance-status"},fb={key:0,class:"status-badge present"},pb={key:1,class:"status-badge absent"},gb={key:2,class:"status-badge pending"},mb={class:"manual-buttons"},vb=["onClick"],yb=["onClick"],bb={class:"action-buttons"},wb=["disabled"],_b={key:0,class:"spinner"},xb={key:1},Sb={class:"bottom-nav"};const Ab=ds({name:"Attendance",data:()=>({CONSTANTS:Gm,selectedBatch:"",selectedDate:Ym(),attendanceLoaded:!1,attendanceStudents:[],loading:!1,saving:!1,touchStartX:0,touchStartY:0,swipeThreshold:100}),computed:{presentCount(){return this.attendanceStudents.filter(t=>t.attendance===Gm.ATTENDANCE_STATUS.PRESENT).length},absentCount(){return this.attendanceStudents.filter(t=>t.attendance===Gm.ATTENDANCE_STATUS.ABSENT).length},attendancePercentage(){return 0===this.attendanceStudents.length?0:Math.round(this.presentCount/this.attendanceStudents.length*100)}},methods:{setToday(){this.selectedDate=Ym()},async loadAttendanceStudents(){if(!this.selectedBatch||!this.selectedDate)return tv("Missing batch or date selection"),void this.showToast("Please select both batch and date","error");try{Qm(`Loading attendance students for batch ${this.selectedBatch} on ${this.selectedDate}`),this.loading=!0;const t=await fv.getByBatch(this.selectedBatch);if(Zm(`Found ${t.length} students for batch ${this.selectedBatch}`),0===t.length)return tv(`No students found for batch ${this.selectedBatch}`),void this.showToast("No students found for selected batch","error");const e=await pv.getByDateAndBatch(this.selectedDate,this.selectedBatch);Qm(`Found ${e.length} students already marked present`),this.attendanceStudents=t.map(t=>{const n=e.includes(t.indexNo);return{...t,attendance:n?Gm.ATTENDANCE_STATUS.PRESENT:null}}),this.attendanceLoaded=!0,Zm(`Attendance interface loaded for ${this.attendanceStudents.length} students`)}catch(t){Jm("Error loading attendance students",t),this.showToast("Failed to load students","error")}finally{this.loading=!1}},markAttendance(t,e){const n=this.attendanceStudents.findIndex(e=>e.id===t.id);-1!==n&&(this.attendanceStudents[n].attendance=e)},handleTouchStart(t,e){this.touchStartX=t.touches[0].clientX,this.touchStartY=t.touches[0].clientY},handleTouchMove(t,e){if(!this.touchStartX||!this.touchStartY)return;const n=t.touches[0].clientX,r=t.touches[0].clientY,i=n-this.touchStartX,s=r-this.touchStartY;if(Math.abs(i)>Math.abs(s)){t.preventDefault();const e=t.currentTarget,n=Math.min(Math.abs(i),this.swipeThreshold);i>0?(e.style.transform=`translateX(${n}px)`,e.style.backgroundColor="rgba(40, 167, 69, 0.1)"):(e.style.transform=`translateX(-${n}px)`,e.style.backgroundColor="rgba(220, 53, 69, 0.1)")}},handleTouchEnd(t,e){const n=t.changedTouches[0].clientX-this.touchStartX,r=t.currentTarget;r.style.transform="",r.style.backgroundColor="",Math.abs(n)>this.swipeThreshold&&(n>0?this.markAttendance(e,Gm.ATTENDANCE_STATUS.PRESENT):this.markAttendance(e,Gm.ATTENDANCE_STATUS.ABSENT)),this.touchStartX=0,this.touchStartY=0},resetAttendance(){confirm("Are you sure you want to reset all attendance marks?")&&this.attendanceStudents.forEach(t=>{t.attendance=null})},async saveAttendance(){try{Qm(`Saving attendance for batch ${this.selectedBatch} on ${this.selectedDate}`),this.saving=!0;const t=this.attendanceStudents.filter(t=>t.attendance===Gm.ATTENDANCE_STATUS.PRESENT).map(t=>t.indexNo);Qm(`Saving attendance: ${t.length} students present out of ${this.attendanceStudents.length}`),await pv.saveAttendance(this.selectedBatch,Xm(this.selectedDate),t),Zm(`Attendance saved successfully for batch ${this.selectedBatch}`),this.showToast("Attendance saved successfully","success"),setTimeout(()=>{this.$router.push("/dashboard")},1500)}catch(t){Jm("Error saving attendance",t),this.showToast("Failed to save attendance","error")}finally{this.saving=!1}},formatDate:t=>new Date(t).toLocaleDateString("en-GB",{weekday:"long",day:"2-digit",month:"short",year:"numeric"}),showToast(t,e="success"){const n=document.createElement("div");n.className=`toast ${e}`,n.innerHTML=`\n        <div style="display: flex; align-items: center; gap: 8px;">\n          <i class="fas fa-${"success"===e?"check-circle":"exclamation-triangle"}"></i>\n          <span>${t}</span>\n        </div>\n      `,document.body.appendChild(n),setTimeout(()=>{n.remove()},3e3)}}},[["render",function(t,e,n,r,i,s){const a=En("router-link");return Vr(),$r("div",Iy,[e[31]||(e[31]=ei('<div class="page-header" data-v-1a45f7b1><div class="container-fluid" data-v-1a45f7b1><div class="header-content" data-v-1a45f7b1><div class="header-left" data-v-1a45f7b1><h1 data-v-1a45f7b1><i class="fas fa-calendar-check" data-v-1a45f7b1></i> Class Attendance</h1><p data-v-1a45f7b1>Mark daily attendance for students</p></div></div></div></div>',1)),i.attendanceLoaded?ni("",!0):(Vr(),$r("div",Dy,[Qr("div",Fy,[Qr("div",My,[e[9]||(e[9]=Qr("h3",null,"Setup Attendance",-1)),Qr("div",Oy,[Qr("div",Ry,[e[7]||(e[7]=Qr("label",{class:"form-label"},"Select Batch *",-1)),Qe(Qr("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.selectedBatch=t),class:"form-control",required:""},[e[6]||(e[6]=Qr("option",{value:""},"Choose Batch",-1)),Qr("option",{value:i.CONSTANTS.BATCHES.BATCH_26AL},"26AL",8,jy),Qr("option",{value:i.CONSTANTS.BATCHES.BATCH_27AL},"27AL",8,By)],512),[[is,i.selectedBatch]])]),Qr("div",qy,[e[8]||(e[8]=Qr("label",{class:"form-label"},"Select Date *",-1)),Qr("div",Uy,[Qe(Qr("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>i.selectedDate=t),type:"date",class:"form-control",required:""},null,512),[[rs,i.selectedDate]]),Qr("button",{onClick:e[2]||(e[2]=(...t)=>s.setToday&&s.setToday(...t)),class:"btn btn-secondary btn-sm"},"Today")])])]),Qr("button",{onClick:e[3]||(e[3]=(...t)=>s.loadAttendanceStudents&&s.loadAttendanceStudents(...t)),class:"btn btn-primary w-100",disabled:!i.selectedBatch||!i.selectedDate||i.loading},[i.loading?(Vr(),$r("span",zy)):(Vr(),$r("span",Hy,"Load Students"))],8,Vy)])])])),i.attendanceLoaded?(Vr(),$r("div",Wy,[Qr("div",$y,[Qr("div",Gy,[Qr("div",Ky,[Qr("div",Yy,[e[10]||(e[10]=Qr("span",{class:"label"},"Batch:",-1)),Qr("span",Xy,Y(i.selectedBatch),1)]),Qr("div",Qy,[e[11]||(e[11]=Qr("span",{class:"label"},"Date:",-1)),Qr("span",Jy,Y(s.formatDate(i.selectedDate)),1)]),Qr("div",Zy,[e[12]||(e[12]=Qr("span",{class:"label"},"Present:",-1)),Qr("span",tb,Y(s.presentCount),1)]),Qr("div",eb,[e[13]||(e[13]=Qr("span",{class:"label"},"Absent:",-1)),Qr("span",nb,Y(s.absentCount),1)]),Qr("div",rb,[e[14]||(e[14]=Qr("span",{class:"label"},"Percentage:",-1)),Qr("span",ib,Y(s.attendancePercentage)+"%",1)])])]),e[24]||(e[24]=ei('<div class="swipe-instructions" data-v-1a45f7b1><div class="instruction-item" data-v-1a45f7b1><i class="fas fa-arrow-right" style="color:#28a745;" data-v-1a45f7b1></i><span data-v-1a45f7b1>Swipe Right = Present</span></div><div class="instruction-item" data-v-1a45f7b1><i class="fas fa-arrow-left" style="color:#dc3545;" data-v-1a45f7b1></i><span data-v-1a45f7b1>Swipe Left = Absent</span></div></div>',1)),Qr("div",sb,[(Vr(!0),$r(Or,null,Cn(i.attendanceStudents,t=>(Vr(),$r("div",{key:t.id,class:z(["student-attendance-card swipeable",{"marked-present":t.attendance===i.CONSTANTS.ATTENDANCE_STATUS.PRESENT,"marked-absent":t.attendance===i.CONSTANTS.ATTENDANCE_STATUS.ABSENT}]),onTouchstart:e=>s.handleTouchStart(e,t),onTouchmove:e=>s.handleTouchMove(e,t),onTouchend:e=>s.handleTouchEnd(e,t)},[e[20]||(e[20]=Qr("div",{class:"swipe-indicator left"},[Qr("i",{class:"fas fa-times"})],-1)),e[21]||(e[21]=Qr("div",{class:"swipe-indicator right"},[Qr("i",{class:"fas fa-check"})],-1)),Qr("div",ob,[Qr("div",lb,[Qr("i",{class:z(t.gender===i.CONSTANTS.GENDERS.MALE?"fas fa-male":"fas fa-female")},null,2)]),Qr("div",cb,[Qr("h3",null,Y(t.name),1),Qr("p",ub,Y(t.indexNo),1),Qr("span",hb,Y(t.batch),1)]),Qr("div",db,[t.attendance===i.CONSTANTS.ATTENDANCE_STATUS.PRESENT?(Vr(),$r("div",fb,[...e[15]||(e[15]=[Qr("i",{class:"fas fa-check"},null,-1),ti(" Present ",-1)])])):t.attendance===i.CONSTANTS.ATTENDANCE_STATUS.ABSENT?(Vr(),$r("div",pb,[...e[16]||(e[16]=[Qr("i",{class:"fas fa-times"},null,-1),ti(" Absent ",-1)])])):(Vr(),$r("div",gb,[...e[17]||(e[17]=[Qr("i",{class:"fas fa-clock"},null,-1),ti(" Pending ",-1)])]))])]),Qr("div",mb,[Qr("button",{onClick:e=>s.markAttendance(t,i.CONSTANTS.ATTENDANCE_STATUS.PRESENT),class:z(["btn btn-sm btn-success",{active:t.attendance===i.CONSTANTS.ATTENDANCE_STATUS.PRESENT}])},[...e[18]||(e[18]=[Qr("i",{class:"fas fa-check"},null,-1),ti(" P ",-1)])],10,vb),Qr("button",{onClick:e=>s.markAttendance(t,i.CONSTANTS.ATTENDANCE_STATUS.ABSENT),class:z(["btn btn-sm btn-danger",{active:t.attendance===i.CONSTANTS.ATTENDANCE_STATUS.ABSENT}])},[...e[19]||(e[19]=[Qr("i",{class:"fas fa-times"},null,-1),ti(" A ",-1)])],10,yb)])],42,ab))),128))]),Qr("div",bb,[Qr("button",{onClick:e[4]||(e[4]=(...t)=>s.resetAttendance&&s.resetAttendance(...t)),class:"btn btn-secondary"},[...e[22]||(e[22]=[Qr("i",{class:"fas fa-undo"},null,-1),ti(" Reset ",-1)])]),Qr("button",{onClick:e[5]||(e[5]=(...t)=>s.saveAttendance&&s.saveAttendance(...t)),class:"btn btn-primary",disabled:i.saving},[i.saving?(Vr(),$r("span",_b)):(Vr(),$r("span",xb,[...e[23]||(e[23]=[Qr("i",{class:"fas fa-save"},null,-1),ti(" Save Attendance",-1)])]))],8,wb)])])])):ni("",!0),Qr("nav",Sb,[Jr(a,{to:"/dashboard",class:"nav-link"},{default:Xe(()=>[...e[25]||(e[25]=[Qr("i",{class:"fas fa-home"},null,-1),Qr("span",null,"Dashboard",-1)])]),_:1}),Jr(a,{to:"/students",class:"nav-link"},{default:Xe(()=>[...e[26]||(e[26]=[Qr("i",{class:"fas fa-users"},null,-1),Qr("span",null,"Students",-1)])]),_:1}),Jr(a,{to:"/attendance",class:"nav-link active"},{default:Xe(()=>[...e[27]||(e[27]=[Qr("i",{class:"fas fa-calendar-check"},null,-1),Qr("span",null,"Attendance",-1)])]),_:1}),Jr(a,{to:"/exams",class:"nav-link"},{default:Xe(()=>[...e[28]||(e[28]=[Qr("i",{class:"fas fa-clipboard-list"},null,-1),Qr("span",null,"Exams",-1)])]),_:1}),Jr(a,{to:"/finance",class:"nav-link"},{default:Xe(()=>[...e[29]||(e[29]=[Qr("i",{class:"fas fa-chart-line"},null,-1),Qr("span",null,"Finance",-1)])]),_:1}),Jr(a,{to:"/reports",class:"nav-link"},{default:Xe(()=>[...e[30]||(e[30]=[Qr("i",{class:"fas fa-file-pdf"},null,-1),Qr("span",null,"Reports",-1)])]),_:1})])])}],["__scopeId","data-v-1a45f7b1"]]),Nb={class:"exams-page"},Eb={class:"page-header"},Lb={class:"container-fluid"},kb={class:"header-content"},Cb={class:"exams-content"},Tb={class:"container-fluid"},Pb={key:0,class:"loading-state"},Ib={key:1,class:"empty-state"},Db={key:2,class:"exams-sections"},Fb={class:"exam-section"},Mb={class:"section-content"},Ob={key:0,class:"no-exams"},Rb={key:1,class:"exams-grid"},jb={class:"exam-header"},Bb={class:"exam-status"},qb={class:"exam-details"},Ub={class:"detail-item"},Vb={class:"detail-item"},zb={class:"detail-item"},Hb={class:"exam-actions"},Wb=["onClick"],$b=["onClick"],Gb={class:"exam-section"},Kb={class:"section-content"},Yb={key:0,class:"no-exams"},Xb={key:1,class:"exams-grid"},Qb={class:"exam-header"},Jb={class:"exam-status"},Zb={class:"exam-details"},tw={class:"detail-item"},ew={class:"detail-item"},nw={class:"detail-item"},rw={class:"exam-actions"},iw=["onClick"],sw=["onClick"],aw={class:"exam-section"},ow={class:"section-content"},lw={key:0,class:"no-exams"},cw={key:1,class:"exams-grid"},uw={class:"exam-header"},hw={class:"exam-status"},dw={class:"exam-details"},fw={class:"detail-item"},pw={class:"detail-item"},gw={class:"detail-item"},mw={class:"exam-actions"},vw=["onClick"],yw=["onClick"],bw={class:"modal-header"},ww={class:"modal-title"},_w={class:"form-group"},xw={class:"form-group"},Sw=["value"],Aw=["value"],Nw={class:"form-group"},Ew={class:"form-group"},Lw={class:"modal-footer"},kw=["disabled"],Cw={key:0,class:"spinner"},Tw={key:1},Pw={class:"modal-header"},Iw={class:"modal-title"},Dw={class:"modal-body"},Fw={class:"attendance-summary"},Mw={class:"summary-stats"},Ow={class:"stat-item"},Rw={class:"value"},jw={class:"stat-item"},Bw={class:"value"},qw={class:"stat-item"},Uw={class:"value"},Vw={class:"students-attendance-list"},zw={class:"student-info"},Hw={class:"student-avatar"},Ww={class:"student-details"},$w={class:"attendance-controls"},Gw={class:"attendance-toggle"},Kw={class:"toggle-switch"},Yw=["checked","onChange"],Xw={class:"attendance-label"},Qw={key:0,class:"fee-input"},Jw=["onUpdate:modelValue","placeholder"],Zw={class:"modal-footer"},t_=["disabled"],e_={key:0,class:"spinner"},n_={key:1},r_={class:"bottom-nav"};const i_=ds({name:"Exams",data:()=>({CONSTANTS:Gm,exams:[],loading:!0,showCreateModal:!1,showEditModal:!1,showAttendanceModal:!1,saving:!1,savingAttendance:!1,examForm:{subject:"",batch:"",date:Ym(),fee:100},selectedExam:null,examStudents:[],editingExam:null,sectionsExpanded:{upcoming:!0,active:!0,completed:!1}}),computed:{upcomingExams(){return this.exams.filter(t=>t.status===Gm.EXAM_STATUS.UPCOMING)},activeExams(){return this.exams.filter(t=>t.status===Gm.EXAM_STATUS.ACTIVE)},completedExams(){return this.exams.filter(t=>t.status===Gm.EXAM_STATUS.COMPLETED)},attendedCount(){return this.examStudents.filter(t=>t.attended).length},totalExamIncome(){return this.examStudents.reduce((t,e)=>t+(e.attended&&e.feePaid||0),0)}},async mounted(){await this.loadExams()},methods:{async loadExams(){try{this.loading=!0,this.exams=await gv.getAll(),this.exams.sort((t,e)=>new Date(t.date)-new Date(e.date))}catch(t){console.error("Error loading exams:",t),this.showToast("Failed to load exams","error")}finally{this.loading=!1}},toggleSection(t){this.sectionsExpanded[t]=!this.sectionsExpanded[t]},editExam(t){this.editingExam=t,this.examForm={subject:t.subject,batch:t.batch,date:t.date,fee:t.fee},this.showEditModal=!0},async saveExam(){try{if(this.saving=!0,Qm("Saving exam data",this.examForm),!(this.examForm.subject&&this.examForm.batch&&this.examForm.date&&this.examForm.fee))return tv("Form validation failed - missing required fields"),void this.showToast("Please fill in all required fields","error");const t={id:Km(this.examForm.batch,this.examForm.subject,this.examForm.date),subject:this.examForm.subject,batch:this.examForm.batch,date:Xm(this.examForm.date),fee:parseFloat(this.examForm.fee),status:Gm.EXAM_STATUS.UPCOMING,studentRecords:{}};if(this.showCreateModal){if(await gv.getById(t.id))return tv(`Exam already exists: ${t.id}`),void this.showToast("Exam already exists for this subject, batch, and date","error");await gv.create(t),Zm(`Exam created successfully: ${t.id}`),this.showToast("Exam created successfully","success")}else await gv.update(this.editingExam.id,t),Zm(`Exam updated successfully: ${t.id}`),this.showToast("Exam updated successfully","success");this.closeModal(),await this.loadExams()}catch(t){Jm("Error saving exam",t),this.showToast("Failed to save exam","error")}finally{this.saving=!1}},async manageExamAttendance(t){try{Qm(`Managing exam attendance for ${t.subject} (${t.batch})`),this.selectedExam=t;const e=await fv.getByBatch(t.batch);Zm(`Found ${e.length} students for batch ${t.batch}`),this.examStudents=e.map(e=>{var n;const r=null==(n=t.studentRecords)?void 0:n[e.indexNo];return{...e,attended:!!r,feePaid:r?r.fee:t.fee}}),this.showAttendanceModal=!0,Zm(`Exam attendance interface loaded for ${this.examStudents.length} students`),t.status===Gm.EXAM_STATUS.UPCOMING&&(await gv.update(t.id,{status:Gm.EXAM_STATUS.ACTIVE}),Zm(`Exam ${t.id} status updated to active`),await this.loadExams())}catch(e){Jm("Error loading exam attendance",e),this.showToast("Failed to load exam attendance","error")}},toggleStudentAttendance(t){t.attended=!t.attended,t.attended?t.feePaid=this.selectedExam.fee:t.feePaid=0},async saveExamAttendance(){try{Qm(`Saving exam attendance for ${this.selectedExam.subject}`),this.savingAttendance=!0;const t={};let e=0;this.examStudents.forEach(n=>{if(n.attended){const r=n.feePaid||this.selectedExam.fee;t[n.indexNo]={fee:r,mark:null},e+=r,fv.addExamRecord(n.indexNo,this.selectedExam.id,{fee:r,mark:null,examDate:this.selectedExam.date})}}),Qm(`Saving ${Object.keys(t).length} student records, total income: Rs. ${e}`),await gv.update(this.selectedExam.id,{studentRecords:t}),Zm(`Exam attendance saved successfully for ${this.selectedExam.subject}`),this.showToast("Attendance saved successfully","success"),this.closeAttendanceModal(),await this.loadExams()}catch(t){Jm("Error saving exam attendance",t),this.showToast("Failed to save attendance","error")}finally{this.savingAttendance=!1}},async closeExam(t){if(confirm(`Are you sure you want to close the exam "${t.subject}" for ${t.batch}?`))try{Qm(`Closing exam ${t.subject} for batch ${t.batch}`);const e=Object.values(t.studentRecords||{}).reduce((t,e)=>t+(e.fee||0),0);Qm(`Calculated total income: Rs. ${e}`),await gv.update(t.id,{status:Gm.EXAM_STATUS.COMPLETED,totalIncome:e,completedAt:new Date}),Zm(`Exam ${t.id} closed successfully`),e>0&&(await mv.createExpense({amount:e,reason:`Exam Income - ${t.subject} ${t.batch}`,type:Gm.EXPENSE_TYPES.INCOME,date:new Date}),Zm(`Income recorded in finance: Rs. ${e}`)),this.showToast("Exam closed successfully","success"),await this.loadExams()}catch(e){Jm("Error closing exam",e),this.showToast("Failed to close exam","error")}},updateMarks(t){this.$router.push(`/reports?exam=${t.id}`)},viewExamReport(t){this.$router.push(`/reports?exam=${t.id}`)},getAttendanceCount:t=>t.studentRecords?Object.keys(t.studentRecords).length:0,closeModal(){this.showCreateModal=!1,this.showEditModal=!1,this.editingExam=null,this.examForm={subject:"",batch:"",date:Ym(),fee:100}},closeAttendanceModal(){this.showAttendanceModal=!1,this.selectedExam=null,this.examStudents=[]},formatDate:t=>new Date(t).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),showToast(t,e="success"){const n=document.createElement("div");n.className=`toast ${e}`,n.innerHTML=`\n        <div style="display: flex; align-items: center; gap: 8px;">\n          <i class="fas fa-${"success"===e?"check-circle":"exclamation-triangle"}"></i>\n          <span>${t}</span>\n        </div>\n      `,document.body.appendChild(n),setTimeout(()=>{n.remove()},3e3)}}},[["render",function(t,e,n,r,i,s){var a,o;const l=En("router-link");return Vr(),$r("div",Nb,[Qr("div",Eb,[Qr("div",Lb,[Qr("div",kb,[e[21]||(e[21]=Qr("div",{class:"header-left"},[Qr("h1",null,[Qr("i",{class:"fas fa-clipboard-list"}),ti(" Exam Management")]),Qr("p",null,"Create and manage exams, attendance, and marks")],-1)),Qr("button",{onClick:e[0]||(e[0]=t=>i.showCreateModal=!0),class:"btn btn-primary"},[...e[20]||(e[20]=[Qr("i",{class:"fas fa-plus"},null,-1),ti(" Create Exam ",-1)])])])])]),Qr("div",Cb,[Qr("div",Tb,[i.loading?(Vr(),$r("div",Pb,[...e[22]||(e[22]=[Qr("div",{class:"spinner"},null,-1),Qr("p",null,"Loading exams...",-1)])])):0===i.exams.length?(Vr(),$r("div",Ib,[e[24]||(e[24]=Qr("i",{class:"fas fa-clipboard-list"},null,-1)),e[25]||(e[25]=Qr("h3",null,"No exams found",-1)),e[26]||(e[26]=Qr("p",null,"Create your first exam to get started",-1)),Qr("button",{onClick:e[1]||(e[1]=t=>i.showCreateModal=!0),class:"btn btn-primary"},[...e[23]||(e[23]=[Qr("i",{class:"fas fa-plus"},null,-1),ti(" Create First Exam ",-1)])])])):(Vr(),$r("div",Db,[Qr("div",Fb,[Qr("div",{class:"section-header",onClick:e[2]||(e[2]=t=>s.toggleSection("upcoming"))},[Qr("h3",null,[e[27]||(e[27]=Qr("i",{class:"fas fa-clock"},null,-1)),ti(" Upcoming Exams ("+Y(s.upcomingExams.length)+") ",1)]),Qr("i",{class:z(["fas fa-chevron-down",{rotated:i.sectionsExpanded.upcoming}])},null,2)]),Qe(Qr("div",Mb,[0===s.upcomingExams.length?(Vr(),$r("div",Ob,[...e[28]||(e[28]=[Qr("p",null,"No upcoming exams",-1)])])):(Vr(),$r("div",Rb,[(Vr(!0),$r(Or,null,Cn(s.upcomingExams,t=>(Vr(),$r("div",{key:t.id,class:"exam-card upcoming"},[Qr("div",jb,[Qr("h4",null,Y(t.subject),1),Qr("span",Bb,Y(t.status),1)]),Qr("div",qb,[Qr("div",Ub,[e[29]||(e[29]=Qr("i",{class:"fas fa-users"},null,-1)),Qr("span",null,Y(t.batch),1)]),Qr("div",Vb,[e[30]||(e[30]=Qr("i",{class:"fas fa-calendar"},null,-1)),Qr("span",null,Y(s.formatDate(t.date)),1)]),Qr("div",zb,[e[31]||(e[31]=Qr("i",{class:"fas fa-dollar-sign"},null,-1)),Qr("span",null,"Rs. "+Y(t.fee),1)])]),Qr("div",Hb,[Qr("button",{onClick:e=>s.manageExamAttendance(t),class:"btn btn-sm btn-primary"},[...e[32]||(e[32]=[Qr("i",{class:"fas fa-user-check"},null,-1),ti(" Take Attendance ",-1)])],8,Wb),Qr("button",{onClick:e=>s.editExam(t),class:"btn btn-sm btn-secondary"},[...e[33]||(e[33]=[Qr("i",{class:"fas fa-edit"},null,-1),ti(" Edit ",-1)])],8,$b)])]))),128))]))],512),[[Fi,i.sectionsExpanded.upcoming]])]),Qr("div",Gb,[Qr("div",{class:"section-header",onClick:e[3]||(e[3]=t=>s.toggleSection("active"))},[Qr("h3",null,[e[34]||(e[34]=Qr("i",{class:"fas fa-play-circle"},null,-1)),ti(" Active Exams ("+Y(s.activeExams.length)+") ",1)]),Qr("i",{class:z(["fas fa-chevron-down",{rotated:i.sectionsExpanded.active}])},null,2)]),Qe(Qr("div",Kb,[0===s.activeExams.length?(Vr(),$r("div",Yb,[...e[35]||(e[35]=[Qr("p",null,"No active exams",-1)])])):(Vr(),$r("div",Xb,[(Vr(!0),$r(Or,null,Cn(s.activeExams,t=>(Vr(),$r("div",{key:t.id,class:"exam-card active"},[Qr("div",Qb,[Qr("h4",null,Y(t.subject),1),Qr("span",Jb,Y(t.status),1)]),Qr("div",Zb,[Qr("div",tw,[e[36]||(e[36]=Qr("i",{class:"fas fa-users"},null,-1)),Qr("span",null,Y(t.batch),1)]),Qr("div",ew,[e[37]||(e[37]=Qr("i",{class:"fas fa-calendar"},null,-1)),Qr("span",null,Y(s.formatDate(t.date)),1)]),Qr("div",nw,[e[38]||(e[38]=Qr("i",{class:"fas fa-user-check"},null,-1)),Qr("span",null,Y(s.getAttendanceCount(t))+" attended",1)])]),Qr("div",rw,[Qr("button",{onClick:e=>s.manageExamAttendance(t),class:"btn btn-sm btn-primary"},[...e[39]||(e[39]=[Qr("i",{class:"fas fa-user-check"},null,-1),ti(" Manage Attendance ",-1)])],8,iw),Qr("button",{onClick:e=>s.closeExam(t),class:"btn btn-sm btn-warning"},[...e[40]||(e[40]=[Qr("i",{class:"fas fa-stop-circle"},null,-1),ti(" Close Exam ",-1)])],8,sw)])]))),128))]))],512),[[Fi,i.sectionsExpanded.active]])]),Qr("div",aw,[Qr("div",{class:"section-header",onClick:e[4]||(e[4]=t=>s.toggleSection("completed"))},[Qr("h3",null,[e[41]||(e[41]=Qr("i",{class:"fas fa-check-circle"},null,-1)),ti(" Completed Exams ("+Y(s.completedExams.length)+") ",1)]),Qr("i",{class:z(["fas fa-chevron-down",{rotated:i.sectionsExpanded.completed}])},null,2)]),Qe(Qr("div",ow,[0===s.completedExams.length?(Vr(),$r("div",lw,[...e[42]||(e[42]=[Qr("p",null,"No completed exams",-1)])])):(Vr(),$r("div",cw,[(Vr(!0),$r(Or,null,Cn(s.completedExams,t=>(Vr(),$r("div",{key:t.id,class:"exam-card completed"},[Qr("div",uw,[Qr("h4",null,Y(t.subject),1),Qr("span",hw,Y(t.status),1)]),Qr("div",dw,[Qr("div",fw,[e[43]||(e[43]=Qr("i",{class:"fas fa-users"},null,-1)),Qr("span",null,Y(t.batch),1)]),Qr("div",pw,[e[44]||(e[44]=Qr("i",{class:"fas fa-calendar"},null,-1)),Qr("span",null,Y(s.formatDate(t.date)),1)]),Qr("div",gw,[e[45]||(e[45]=Qr("i",{class:"fas fa-dollar-sign"},null,-1)),Qr("span",null,"Rs. "+Y(t.totalIncome||0),1)])]),Qr("div",mw,[Qr("button",{onClick:e=>s.updateMarks(t),class:"btn btn-sm btn-success"},[...e[46]||(e[46]=[Qr("i",{class:"fas fa-edit"},null,-1),ti(" Update Marks ",-1)])],8,vw),Qr("button",{onClick:e=>s.viewExamReport(t),class:"btn btn-sm btn-info"},[...e[47]||(e[47]=[Qr("i",{class:"fas fa-file-pdf"},null,-1),ti(" View Report ",-1)])],8,yw)])]))),128))]))],512),[[Fi,i.sectionsExpanded.completed]])])]))])]),i.showCreateModal||i.showEditModal?(Vr(),$r("div",{key:0,class:"modal-overlay",onClick:e[14]||(e[14]=(...t)=>s.closeModal&&s.closeModal(...t))},[Qr("div",{class:"modal",onClick:e[13]||(e[13]=cs(()=>{},["stop"]))},[Qr("div",bw,[Qr("h3",ww,Y(i.showCreateModal?"Create New Exam":"Edit Exam"),1),Qr("button",{onClick:e[5]||(e[5]=(...t)=>s.closeModal&&s.closeModal(...t)),class:"modal-close"},[...e[48]||(e[48]=[Qr("i",{class:"fas fa-times"},null,-1)])])]),Qr("form",{onSubmit:e[10]||(e[10]=cs((...t)=>s.saveExam&&s.saveExam(...t),["prevent"])),class:"modal-body"},[Qr("div",_w,[e[50]||(e[50]=Qr("label",{class:"form-label"},"Subject *",-1)),Qe(Qr("select",{"onUpdate:modelValue":e[6]||(e[6]=t=>i.examForm.subject=t),class:"form-control",required:""},[...e[49]||(e[49]=[ei('<option value="" data-v-13e7d3a4>Select Subject</option><option value="Mathematics" data-v-13e7d3a4>Mathematics</option><option value="Biology" data-v-13e7d3a4>Biology</option><option value="Physics" data-v-13e7d3a4>Physics</option><option value="Chemistry" data-v-13e7d3a4>Chemistry</option><option value="English" data-v-13e7d3a4>English</option><option value="Sinhala" data-v-13e7d3a4>Sinhala</option>',7)])],512),[[is,i.examForm.subject]])]),Qr("div",xw,[e[52]||(e[52]=Qr("label",{class:"form-label"},"Batch *",-1)),Qe(Qr("select",{"onUpdate:modelValue":e[7]||(e[7]=t=>i.examForm.batch=t),class:"form-control",required:""},[e[51]||(e[51]=Qr("option",{value:""},"Select Batch",-1)),Qr("option",{value:i.CONSTANTS.BATCHES.BATCH_26AL},"26AL",8,Sw),Qr("option",{value:i.CONSTANTS.BATCHES.BATCH_27AL},"27AL",8,Aw)],512),[[is,i.examForm.batch]])]),Qr("div",Nw,[e[53]||(e[53]=Qr("label",{class:"form-label"},"Exam Date *",-1)),Qe(Qr("input",{"onUpdate:modelValue":e[8]||(e[8]=t=>i.examForm.date=t),type:"date",class:"form-control",required:""},null,512),[[rs,i.examForm.date]])]),Qr("div",Ew,[e[54]||(e[54]=Qr("label",{class:"form-label"},"Exam Fee (Rs.) *",-1)),Qe(Qr("input",{"onUpdate:modelValue":e[9]||(e[9]=t=>i.examForm.fee=t),type:"number",class:"form-control",placeholder:"Enter exam fee",min:"0",required:""},null,512),[[rs,i.examForm.fee,void 0,{number:!0}]])])],32),Qr("div",Lw,[Qr("button",{type:"button",onClick:e[11]||(e[11]=(...t)=>s.closeModal&&s.closeModal(...t)),class:"btn btn-secondary"},"Cancel"),Qr("button",{type:"submit",onClick:e[12]||(e[12]=(...t)=>s.saveExam&&s.saveExam(...t)),class:"btn btn-primary",disabled:i.saving},[i.saving?(Vr(),$r("span",Cw)):(Vr(),$r("span",Tw,Y(i.showCreateModal?"Create Exam":"Update Exam"),1))],8,kw)])])])):ni("",!0),i.showAttendanceModal?(Vr(),$r("div",{key:1,class:"modal-overlay",onClick:e[19]||(e[19]=(...t)=>s.closeAttendanceModal&&s.closeAttendanceModal(...t))},[Qr("div",{class:"modal large",onClick:e[18]||(e[18]=cs(()=>{},["stop"]))},[Qr("div",Pw,[Qr("h3",Iw,Y(null==(a=i.selectedExam)?void 0:a.subject)+" - "+Y(null==(o=i.selectedExam)?void 0:o.batch)+" Attendance ",1),Qr("button",{onClick:e[15]||(e[15]=(...t)=>s.closeAttendanceModal&&s.closeAttendanceModal(...t)),class:"modal-close"},[...e[55]||(e[55]=[Qr("i",{class:"fas fa-times"},null,-1)])])]),Qr("div",Dw,[Qr("div",Fw,[Qr("div",Mw,[Qr("div",Ow,[e[56]||(e[56]=Qr("span",{class:"label"},"Total Students:",-1)),Qr("span",Rw,Y(i.examStudents.length),1)]),Qr("div",jw,[e[57]||(e[57]=Qr("span",{class:"label"},"Attended:",-1)),Qr("span",Bw,Y(s.attendedCount),1)]),Qr("div",qw,[e[58]||(e[58]=Qr("span",{class:"label"},"Total Income:",-1)),Qr("span",Uw,"Rs. "+Y(s.totalExamIncome),1)])])]),Qr("div",Vw,[(Vr(!0),$r(Or,null,Cn(i.examStudents,t=>{var n;return Vr(),$r("div",{key:t.id,class:"student-attendance-item"},[Qr("div",zw,[Qr("div",Hw,[Qr("i",{class:z(t.gender===i.CONSTANTS.GENDERS.MALE?"fas fa-male":"fas fa-female")},null,2)]),Qr("div",Ww,[Qr("h4",null,Y(t.name),1),Qr("p",null,Y(t.indexNo),1)])]),Qr("div",$w,[Qr("div",Gw,[Qr("label",Kw,[Qr("input",{type:"checkbox",checked:t.attended,onChange:e=>s.toggleStudentAttendance(t)},null,40,Yw),e[59]||(e[59]=Qr("span",{class:"slider"},null,-1))]),Qr("span",Xw,Y(t.attended?"Present":"Absent"),1)]),t.attended?(Vr(),$r("div",Qw,[e[60]||(e[60]=Qr("label",null,"Fee Paid:",-1)),Qe(Qr("input",{"onUpdate:modelValue":e=>t.feePaid=e,type:"number",class:"form-control form-control-sm",placeholder:null==(n=i.selectedExam)?void 0:n.fee,min:"0"},null,8,Jw),[[rs,t.feePaid,void 0,{number:!0}]])])):ni("",!0)])])}),128))])]),Qr("div",Zw,[Qr("button",{type:"button",onClick:e[16]||(e[16]=(...t)=>s.closeAttendanceModal&&s.closeAttendanceModal(...t)),class:"btn btn-secondary"},"Cancel"),Qr("button",{onClick:e[17]||(e[17]=(...t)=>s.saveExamAttendance&&s.saveExamAttendance(...t)),class:"btn btn-primary",disabled:i.savingAttendance},[i.savingAttendance?(Vr(),$r("span",e_)):(Vr(),$r("span",n_,"Save Attendance"))],8,t_)])])])):ni("",!0),Qr("nav",r_,[Jr(l,{to:"/dashboard",class:"nav-link"},{default:Xe(()=>[...e[61]||(e[61]=[Qr("i",{class:"fas fa-home"},null,-1),Qr("span",null,"Dashboard",-1)])]),_:1}),Jr(l,{to:"/students",class:"nav-link"},{default:Xe(()=>[...e[62]||(e[62]=[Qr("i",{class:"fas fa-users"},null,-1),Qr("span",null,"Students",-1)])]),_:1}),Jr(l,{to:"/attendance",class:"nav-link"},{default:Xe(()=>[...e[63]||(e[63]=[Qr("i",{class:"fas fa-calendar-check"},null,-1),Qr("span",null,"Attendance",-1)])]),_:1}),Jr(l,{to:"/exams",class:"nav-link active"},{default:Xe(()=>[...e[64]||(e[64]=[Qr("i",{class:"fas fa-clipboard-list"},null,-1),Qr("span",null,"Exams",-1)])]),_:1}),Jr(l,{to:"/finance",class:"nav-link"},{default:Xe(()=>[...e[65]||(e[65]=[Qr("i",{class:"fas fa-chart-line"},null,-1),Qr("span",null,"Finance",-1)])]),_:1}),Jr(l,{to:"/reports",class:"nav-link"},{default:Xe(()=>[...e[66]||(e[66]=[Qr("i",{class:"fas fa-file-pdf"},null,-1),Qr("span",null,"Reports",-1)])]),_:1})])])}],["__scopeId","data-v-13e7d3a4"]]),s_={name:"Finance",data:()=>({CONSTANTS:Gm,transactions:[],loading:!0,activeTab:"income",showAddExpenseModal:!1,showEditExpenseModal:!1,saving:!1,expenseForm:{amount:"",reason:"",date:Ym()},editingExpense:null}),computed:{incomeTransactions(){return this.transactions.filter(t=>t.type===Gm.EXPENSE_TYPES.INCOME).sort((t,e)=>new Date(e.date)-new Date(t.date))},expenseTransactions(){return this.transactions.filter(t=>t.type!==Gm.EXPENSE_TYPES.INCOME).sort((t,e)=>new Date(e.date)-new Date(t.date))},totalIncome(){return this.incomeTransactions.reduce((t,e)=>t+(e.amount||0),0)},totalExpenses(){return this.expenseTransactions.reduce((t,e)=>t+(e.amount||0),0)},currentBalance(){return this.totalIncome-this.totalExpenses},incomeBarHeight(){const t=Math.max(this.totalIncome,this.totalExpenses);return 0===t?"20px":`${Math.max(this.totalIncome/t*200,20)}px`},expenseBarHeight(){const t=Math.max(this.totalIncome,this.totalExpenses);return 0===t?"20px":`${Math.max(this.totalExpenses/t*200,20)}px`}},async mounted(){await this.loadTransactions()},methods:{async loadTransactions(){try{this.loading=!0,this.transactions=await mv.getAllExpenses()}catch(t){console.error("Error loading transactions:",t),this.showToast("Failed to load financial data","error")}finally{this.loading=!1}},editExpense(t){this.editingExpense=t,this.expenseForm={amount:t.amount,reason:t.reason,date:t.date.toDate?t.date.toDate().toISOString().split("T")[0]:t.date},this.showEditExpenseModal=!0},async saveExpense(){try{if(this.saving=!0,!this.expenseForm.amount||!this.expenseForm.reason||!this.expenseForm.date)return void this.showToast("Please fill in all required fields","error");const t={amount:parseFloat(this.expenseForm.amount),reason:this.expenseForm.reason.trim(),date:new Date(this.expenseForm.date),type:Gm.EXPENSE_TYPES.EXPENSE};this.showAddExpenseModal?(await mv.createExpense(t),this.showToast("Expense added successfully","success")):(await mv.updateExpense(this.editingExpense.id,t),this.showToast("Expense updated successfully","success")),this.closeModal(),await this.loadTransactions()}catch(t){console.error("Error saving expense:",t),this.showToast("Failed to save expense","error")}finally{this.saving=!1}},async deleteExpense(t){if(confirm(`Are you sure you want to delete this expense?\n\nAmount: Rs. ${t.amount}\nReason: ${t.reason}`))try{await mv.deleteExpense(t.id),this.showToast("Expense deleted successfully","success"),await this.loadTransactions()}catch(e){console.error("Error deleting expense:",e),this.showToast("Failed to delete expense","error")}},closeModal(){this.showAddExpenseModal=!1,this.showEditExpenseModal=!1,this.editingExpense=null,this.expenseForm={amount:"",reason:"",date:Ym()}},formatDate:t=>(t.toDate?t.toDate():new Date(t)).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),showToast(t,e="success"){const n=document.createElement("div");n.className=`toast ${e}`,n.innerHTML=`\n        <div style="display: flex; align-items: center; gap: 8px;">\n          <i class="fas fa-${"success"===e?"check-circle":"exclamation-triangle"}"></i>\n          <span>${t}</span>\n        </div>\n      `,document.body.appendChild(n),setTimeout(()=>{n.remove()},3e3)}}},a_={class:"finance-page"},o_={class:"page-header"},l_={class:"container-fluid"},c_={class:"header-content"},u_={class:"finance-summary"},h_={class:"container-fluid"},d_={class:"summary-cards"},f_={class:"summary-card income"},p_={class:"card-content"},g_={class:"summary-card expense"},m_={class:"card-content"},v_={class:"card-content"},y_={class:"finance-tabs"},b_={class:"container-fluid"},w_={class:"tabs-header"},__={class:"tab-content"},x_={key:0,class:"transactions-list"},S_={key:0,class:"loading-state"},A_={key:1,class:"empty-state"},N_={key:2,class:"transactions-grid"},E_={class:"transaction-header"},L_={class:"transaction-info"},k_={class:"transaction-date"},C_={class:"transaction-amount"},T_={class:"amount"},P_={key:1,class:"transactions-list"},I_={key:0,class:"loading-state"},D_={key:1,class:"empty-state"},F_={key:2,class:"transactions-grid"},M_={class:"transaction-header"},O_={class:"transaction-info"},R_={class:"transaction-date"},j_={class:"transaction-amount"},B_={class:"amount"},q_={class:"transaction-actions"},U_=["onClick"],V_=["onClick"],z_={class:"modal-header"},H_={class:"modal-title"},W_={class:"form-group"},$_={class:"form-group"},G_={class:"form-group"},K_={class:"modal-footer"},Y_=["disabled"],X_={key:0,class:"spinner"},Q_={key:1},J_={class:"finance-chart"},Z_={class:"container-fluid"},tx={class:"chart-card"},ex={class:"chart-placeholder"},nx={class:"chart-bars"},rx={class:"bar-value"},ix={class:"bar-value"},sx={class:"bottom-nav"};const ax=ds(s_,[["render",function(t,e,n,r,i,s){const a=En("router-link");return Vr(),$r("div",a_,[Qr("div",o_,[Qr("div",l_,[Qr("div",c_,[e[14]||(e[14]=Qr("div",{class:"header-left"},[Qr("h1",null,[Qr("i",{class:"fas fa-chart-line"}),ti(" Finance Management")]),Qr("p",null,"Track income, expenses, and financial balance")],-1)),Qr("button",{onClick:e[0]||(e[0]=t=>i.showAddExpenseModal=!0),class:"btn btn-primary"},[...e[13]||(e[13]=[Qr("i",{class:"fas fa-plus"},null,-1),ti(" Add Expense ",-1)])])])])]),Qr("div",u_,[Qr("div",h_,[Qr("div",d_,[Qr("div",f_,[e[16]||(e[16]=Qr("div",{class:"card-icon"},[Qr("i",{class:"fas fa-arrow-up"})],-1)),Qr("div",p_,[Qr("h3",null,"Rs. "+Y(s.totalIncome.toLocaleString()),1),e[15]||(e[15]=Qr("p",null,"Total Income",-1)),Qr("small",null,Y(s.incomeTransactions.length)+" transactions",1)])]),Qr("div",g_,[e[18]||(e[18]=Qr("div",{class:"card-icon"},[Qr("i",{class:"fas fa-arrow-down"})],-1)),Qr("div",m_,[Qr("h3",null,"Rs. "+Y(s.totalExpenses.toLocaleString()),1),e[17]||(e[17]=Qr("p",null,"Total Expenses",-1)),Qr("small",null,Y(s.expenseTransactions.length)+" transactions",1)])]),Qr("div",{class:z(["summary-card balance",{negative:s.currentBalance<0}])},[e[20]||(e[20]=Qr("div",{class:"card-icon"},[Qr("i",{class:"fas fa-balance-scale"})],-1)),Qr("div",v_,[Qr("h3",null,"Rs. "+Y(s.currentBalance.toLocaleString()),1),e[19]||(e[19]=Qr("p",null,"Current Balance",-1)),Qr("small",null,Y(s.currentBalance>=0?"Profit":"Loss"),1)])],2)])])]),Qr("div",y_,[Qr("div",b_,[Qr("div",w_,[Qr("button",{onClick:e[1]||(e[1]=t=>i.activeTab="income"),class:z(["tab-button",{active:"income"===i.activeTab}])},[e[21]||(e[21]=Qr("i",{class:"fas fa-arrow-up"},null,-1)),ti(" Income ("+Y(s.incomeTransactions.length)+") ",1)],2),Qr("button",{onClick:e[2]||(e[2]=t=>i.activeTab="expenses"),class:z(["tab-button",{active:"expenses"===i.activeTab}])},[e[22]||(e[22]=Qr("i",{class:"fas fa-arrow-down"},null,-1)),ti(" Expenses ("+Y(s.expenseTransactions.length)+") ",1)],2)]),Qr("div",__,["income"===i.activeTab?(Vr(),$r("div",x_,[i.loading?(Vr(),$r("div",S_,[...e[23]||(e[23]=[Qr("div",{class:"spinner"},null,-1),Qr("p",null,"Loading income transactions...",-1)])])):0===s.incomeTransactions.length?(Vr(),$r("div",A_,[...e[24]||(e[24]=[Qr("i",{class:"fas fa-arrow-up"},null,-1),Qr("h3",null,"No income recorded",-1),Qr("p",null,"Income will be automatically recorded when exams are completed",-1)])])):(Vr(),$r("div",N_,[(Vr(!0),$r(Or,null,Cn(s.incomeTransactions,t=>(Vr(),$r("div",{key:t.id,class:"transaction-card income"},[Qr("div",E_,[e[25]||(e[25]=Qr("div",{class:"transaction-icon"},[Qr("i",{class:"fas fa-arrow-up"})],-1)),Qr("div",L_,[Qr("h4",null,Y(t.reason),1),Qr("p",k_,Y(s.formatDate(t.date)),1)]),Qr("div",C_,[Qr("span",T_,"+Rs. "+Y(t.amount.toLocaleString()),1)])])]))),128))]))])):ni("",!0),"expenses"===i.activeTab?(Vr(),$r("div",P_,[i.loading?(Vr(),$r("div",I_,[...e[26]||(e[26]=[Qr("div",{class:"spinner"},null,-1),Qr("p",null,"Loading expense transactions...",-1)])])):0===s.expenseTransactions.length?(Vr(),$r("div",D_,[e[28]||(e[28]=Qr("i",{class:"fas fa-arrow-down"},null,-1)),e[29]||(e[29]=Qr("h3",null,"No expenses recorded",-1)),e[30]||(e[30]=Qr("p",null,"Add your first expense to start tracking",-1)),Qr("button",{onClick:e[3]||(e[3]=t=>i.showAddExpenseModal=!0),class:"btn btn-primary"},[...e[27]||(e[27]=[Qr("i",{class:"fas fa-plus"},null,-1),ti(" Add First Expense ",-1)])])])):(Vr(),$r("div",F_,[(Vr(!0),$r(Or,null,Cn(s.expenseTransactions,t=>(Vr(),$r("div",{key:t.id,class:"transaction-card expense"},[Qr("div",M_,[e[31]||(e[31]=Qr("div",{class:"transaction-icon"},[Qr("i",{class:"fas fa-arrow-down"})],-1)),Qr("div",O_,[Qr("h4",null,Y(t.reason),1),Qr("p",R_,Y(s.formatDate(t.date)),1)]),Qr("div",j_,[Qr("span",B_,"-Rs. "+Y(t.amount.toLocaleString()),1)])]),Qr("div",q_,[Qr("button",{onClick:e=>s.editExpense(t),class:"btn btn-sm btn-secondary"},[...e[32]||(e[32]=[Qr("i",{class:"fas fa-edit"},null,-1),ti(" Edit ",-1)])],8,U_),Qr("button",{onClick:e=>s.deleteExpense(t),class:"btn btn-sm btn-danger"},[...e[33]||(e[33]=[Qr("i",{class:"fas fa-trash"},null,-1),ti(" Delete ",-1)])],8,V_)])]))),128))]))])):ni("",!0)])])]),i.showAddExpenseModal||i.showEditExpenseModal?(Vr(),$r("div",{key:0,class:"modal-overlay",onClick:e[12]||(e[12]=(...t)=>s.closeModal&&s.closeModal(...t))},[Qr("div",{class:"modal",onClick:e[11]||(e[11]=cs(()=>{},["stop"]))},[Qr("div",z_,[Qr("h3",H_,Y(i.showAddExpenseModal?"Add New Expense":"Edit Expense"),1),Qr("button",{onClick:e[4]||(e[4]=(...t)=>s.closeModal&&s.closeModal(...t)),class:"modal-close"},[...e[34]||(e[34]=[Qr("i",{class:"fas fa-times"},null,-1)])])]),Qr("form",{onSubmit:e[8]||(e[8]=cs((...t)=>s.saveExpense&&s.saveExpense(...t),["prevent"])),class:"modal-body"},[Qr("div",W_,[e[35]||(e[35]=Qr("label",{class:"form-label"},"Amount (Rs.) *",-1)),Qe(Qr("input",{"onUpdate:modelValue":e[5]||(e[5]=t=>i.expenseForm.amount=t),type:"number",class:"form-control",placeholder:"Enter amount",min:"0",step:"0.01",required:""},null,512),[[rs,i.expenseForm.amount,void 0,{number:!0}]])]),Qr("div",$_,[e[36]||(e[36]=Qr("label",{class:"form-label"},"Reason/Description *",-1)),Qe(Qr("textarea",{"onUpdate:modelValue":e[6]||(e[6]=t=>i.expenseForm.reason=t),class:"form-control",placeholder:"Enter reason for expense",rows:"3",required:""},null,512),[[rs,i.expenseForm.reason]])]),Qr("div",G_,[e[37]||(e[37]=Qr("label",{class:"form-label"},"Date *",-1)),Qe(Qr("input",{"onUpdate:modelValue":e[7]||(e[7]=t=>i.expenseForm.date=t),type:"date",class:"form-control",required:""},null,512),[[rs,i.expenseForm.date]])])],32),Qr("div",K_,[Qr("button",{type:"button",onClick:e[9]||(e[9]=(...t)=>s.closeModal&&s.closeModal(...t)),class:"btn btn-secondary"},"Cancel"),Qr("button",{type:"submit",onClick:e[10]||(e[10]=(...t)=>s.saveExpense&&s.saveExpense(...t)),class:"btn btn-primary",disabled:i.saving},[i.saving?(Vr(),$r("span",X_)):(Vr(),$r("span",Q_,Y(i.showAddExpenseModal?"Add Expense":"Update Expense"),1))],8,Y_)])])])):ni("",!0),Qr("div",J_,[Qr("div",Z_,[Qr("div",tx,[e[40]||(e[40]=Qr("h3",null,"Monthly Overview",-1)),Qr("div",ex,[Qr("div",nx,[Qr("div",{class:"chart-bar income",style:j({height:s.incomeBarHeight})},[e[38]||(e[38]=Qr("span",{class:"bar-label"},"Income",-1)),Qr("span",rx,"Rs. "+Y(s.totalIncome.toLocaleString()),1)],4),Qr("div",{class:"chart-bar expense",style:j({height:s.expenseBarHeight})},[e[39]||(e[39]=Qr("span",{class:"bar-label"},"Expenses",-1)),Qr("span",ix,"Rs. "+Y(s.totalExpenses.toLocaleString()),1)],4)])])])])]),Qr("nav",sx,[Jr(a,{to:"/dashboard",class:"nav-link"},{default:Xe(()=>[...e[41]||(e[41]=[Qr("i",{class:"fas fa-home"},null,-1),Qr("span",null,"Dashboard",-1)])]),_:1}),Jr(a,{to:"/students",class:"nav-link"},{default:Xe(()=>[...e[42]||(e[42]=[Qr("i",{class:"fas fa-users"},null,-1),Qr("span",null,"Students",-1)])]),_:1}),Jr(a,{to:"/attendance",class:"nav-link"},{default:Xe(()=>[...e[43]||(e[43]=[Qr("i",{class:"fas fa-calendar-check"},null,-1),Qr("span",null,"Attendance",-1)])]),_:1}),Jr(a,{to:"/exams",class:"nav-link"},{default:Xe(()=>[...e[44]||(e[44]=[Qr("i",{class:"fas fa-clipboard-list"},null,-1),Qr("span",null,"Exams",-1)])]),_:1}),Jr(a,{to:"/finance",class:"nav-link active"},{default:Xe(()=>[...e[45]||(e[45]=[Qr("i",{class:"fas fa-chart-line"},null,-1),Qr("span",null,"Finance",-1)])]),_:1}),Jr(a,{to:"/reports",class:"nav-link"},{default:Xe(()=>[...e[46]||(e[46]=[Qr("i",{class:"fas fa-file-pdf"},null,-1),Qr("span",null,"Reports",-1)])]),_:1})])])}],["__scopeId","data-v-15adee84"]]),ox={},lx=function(t,e,n){let r=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const t=document.querySelector("meta[property=csp-nonce]"),n=(null==t?void 0:t.nonce)||(null==t?void 0:t.getAttribute("nonce"));r=Promise.allSettled(e.map(t=>{if((t=function(t){return"/"+t}(t))in ox)return;ox[t]=!0;const e=t.endsWith(".css"),r=e?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${t}"]${r}`))return;const i=document.createElement("link");return i.rel=e?"stylesheet":"modulepreload",e||(i.as="script"),i.crossOrigin="",i.href=t,n&&i.setAttribute("nonce",n),document.head.appendChild(i),e?new Promise((e,n)=>{i.addEventListener("load",e),i.addEventListener("error",()=>n(new Error(`Unable to preload CSS for ${t}`)))}):void 0}))}function i(t){const e=new Event("vite:preloadError",{cancelable:!0});if(e.payload=t,window.dispatchEvent(e),!e.defaultPrevented)throw t}return r.then(e=>{for(const t of e||[])"rejected"===t.status&&i(t.reason);return t().catch(i)})};function cx(t){return(cx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var ux=Uint8Array,hx=Uint16Array,dx=Int32Array,fx=new ux([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),px=new ux([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),gx=new ux([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),mx=function(t,e){for(var n=new hx(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];var i=new dx(n[30]);for(r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},vx=mx(fx,2),yx=vx.b,bx=vx.r;yx[28]=258,bx[258]=28;for(var wx=mx(px,0),_x=wx.b,xx=wx.r,Sx=new hx(32768),Ax=0;Ax<32768;++Ax){var Nx=(43690&Ax)>>1|(21845&Ax)<<1;Nx=(61680&(Nx=(52428&Nx)>>2|(13107&Nx)<<2))>>4|(3855&Nx)<<4,Sx[Ax]=((65280&Nx)>>8|(255&Nx)<<8)>>1}var Ex=function(t,e,n){for(var r=t.length,i=0,s=new hx(e);i<r;++i)t[i]&&++s[t[i]-1];var a,o=new hx(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;if(n){a=new hx(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var c=i<<4|t[i],u=e-t[i],h=o[t[i]-1]++<<u,d=h|(1<<u)-1;h<=d;++h)a[Sx[h]>>l]=c}else for(a=new hx(r),i=0;i<r;++i)t[i]&&(a[i]=Sx[o[t[i]-1]++]>>15-t[i]);return a},Lx=new ux(288);for(Ax=0;Ax<144;++Ax)Lx[Ax]=8;for(Ax=144;Ax<256;++Ax)Lx[Ax]=9;for(Ax=256;Ax<280;++Ax)Lx[Ax]=7;for(Ax=280;Ax<288;++Ax)Lx[Ax]=8;var kx=new ux(32);for(Ax=0;Ax<32;++Ax)kx[Ax]=5;var Cx=Ex(Lx,9,0),Tx=Ex(Lx,9,1),Px=Ex(kx,5,0),Ix=Ex(kx,5,1),Dx=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},Fx=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(7&e)&n},Mx=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(7&e)},Ox=function(t){return(t+7)/8|0},Rx=function(t,e,n){return(null==n||n>t.length)&&(n=t.length),new ux(t.subarray(e,n))},jx=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Bx=function(t,e,n){var r=new Error(e||jx[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,Bx),!n)throw r;return r},qx=function(t,e,n){n<<=7&e;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},Ux=function(t,e,n){n<<=7&e;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},Vx=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:Yx,l:0};if(1==i){var a=new ux(n[0].s+1);return a[n[0].s]=1,{t:a,l:1}}n.sort(function(t,e){return t.f-e.f}),n.push({s:-1,f:25001});var o=n[0],l=n[1],c=0,u=1,h=2;for(n[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=i-1;)o=n[n[c].f<n[h].f?c++:h++],l=n[c!=u&&n[c].f<n[h].f?c++:h++],n[u++]={s:-1,f:o.f+l.f,l:o,r:l};var d=s[0].s;for(r=1;r<i;++r)s[r].s>d&&(d=s[r].s);var f=new hx(d+1),p=zx(n[u-1],f,0);if(p>e){r=0;var g=0,m=p-e,v=1<<m;for(s.sort(function(t,e){return f[e.s]-f[t.s]||t.f-e.f});r<i;++r){var y=s[r].s;if(!(f[y]>e))break;g+=v-(1<<p-f[y]),f[y]=e}for(g>>=m;g>0;){var b=s[r].s;f[b]<e?g-=1<<e-f[b]++-1:++r}for(;r>=0&&g;--r){var w=s[r].s;f[w]==e&&(--f[w],++g)}p=e}return{t:new ux(f),l:p}},zx=function(t,e,n){return-1==t.s?Math.max(zx(t.l,e,n+1),zx(t.r,e,n+1)):e[t.s]=n},Hx=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new hx(++e),r=0,i=t[0],s=1,a=function(t){n[r++]=t},o=1;o<=e;++o)if(t[o]==i&&o!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=t[o]}return{c:n.subarray(0,r),n:e}},Wx=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},$x=function(t,e,n){var r=n.length,i=Ox(e+2);t[i]=255&r,t[i+1]=r>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var s=0;s<r;++s)t[i+s+4]=n[s];return 8*(i+4+r)},Gx=function(t,e,n,r,i,s,a,o,l,c,u){qx(e,u++,n),++i[256];for(var h=Vx(i,15),d=h.t,f=h.l,p=Vx(s,15),g=p.t,m=p.l,v=Hx(d),y=v.c,b=v.n,w=Hx(g),_=w.c,x=w.n,S=new hx(19),A=0;A<y.length;++A)++S[31&y[A]];for(A=0;A<_.length;++A)++S[31&_[A]];for(var N=Vx(S,7),E=N.t,L=N.l,k=19;k>4&&!E[gx[k-1]];--k);var C,T,P,I,D=c+5<<3,F=Wx(i,Lx)+Wx(s,kx)+a,M=Wx(i,d)+Wx(s,g)+a+14+3*k+Wx(S,E)+2*S[16]+3*S[17]+7*S[18];if(l>=0&&D<=F&&D<=M)return $x(e,u,t.subarray(l,l+c));if(qx(e,u,1+(M<F)),u+=2,M<F){C=Ex(d,f,0),T=d,P=Ex(g,m,0),I=g;var O=Ex(E,L,0);qx(e,u,b-257),qx(e,u+5,x-1),qx(e,u+10,k-4),u+=14;for(A=0;A<k;++A)qx(e,u+3*A,E[gx[A]]);u+=3*k;for(var R=[y,_],j=0;j<2;++j){var B=R[j];for(A=0;A<B.length;++A){var q=31&B[A];qx(e,u,O[q]),u+=E[q],q>15&&(qx(e,u,B[A]>>5&127),u+=B[A]>>12)}}}else C=Cx,T=Lx,P=Px,I=kx;for(A=0;A<o;++A){var U=r[A];if(U>255){Ux(e,u,C[(q=U>>18&31)+257]),u+=T[q+257],q>7&&(qx(e,u,U>>23&31),u+=fx[q]);var V=31&U;Ux(e,u,P[V]),u+=I[V],V>3&&(Ux(e,u,U>>5&8191),u+=px[V])}else Ux(e,u,C[U]),u+=T[U]}return Ux(e,u,C[256]),u+T[256]},Kx=new dx([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Yx=new ux(0),Xx=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=0|n.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=r+=n[a];r=(65535&r)+15*(r>>16),i=(65535&i)+15*(i>>16)}t=r,e=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(e%=65521))<<8|e>>8}}},Qx=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new ux(s.length+t.length);a.set(s),a.set(t,s.length),t=a,i.w=s.length}return function(t,e,n,r,i,s){var a=s.z||t.length,o=new ux(r+a+5*(1+Math.ceil(a/7e3))+i),l=o.subarray(r,o.length-i),c=s.l,u=7&(s.r||0);if(e){u&&(l[0]=s.r>>3);for(var h=Kx[e-1],d=h>>13,f=8191&h,p=(1<<n)-1,g=s.p||new hx(32768),m=s.h||new hx(p+1),v=Math.ceil(n/3),y=2*v,b=function(e){return(t[e]^t[e+1]<<v^t[e+2]<<y)&p},w=new dx(25e3),_=new hx(288),x=new hx(32),S=0,A=0,N=s.i||0,E=0,L=s.w||0,k=0;N+2<a;++N){var C=b(N),T=32767&N,P=m[C];if(g[T]=P,m[C]=T,L<=N){var I=a-N;if((S>7e3||E>24576)&&(I>423||!c)){u=Gx(t,l,0,w,_,x,A,E,k,N-k,u),E=S=A=0,k=N;for(var D=0;D<286;++D)_[D]=0;for(D=0;D<30;++D)x[D]=0}var F=2,M=0,O=f,R=T-P&32767;if(I>2&&C==b(N-R))for(var j=Math.min(d,I)-1,B=Math.min(32767,N),q=Math.min(258,I);R<=B&&--O&&T!=P;){if(t[N+F]==t[N+F-R]){for(var U=0;U<q&&t[N+U]==t[N+U-R];++U);if(U>F){if(F=U,M=R,U>j)break;var V=Math.min(R,U-2),z=0;for(D=0;D<V;++D){var H=N-R+D&32767,W=H-g[H]&32767;W>z&&(z=W,P=H)}}}R+=(T=P)-(P=g[T])&32767}if(M){w[E++]=268435456|bx[F]<<18|xx[M];var $=31&bx[F],G=31&xx[M];A+=fx[$]+px[G],++_[257+$],++x[G],L=N+F,++S}else w[E++]=t[N],++_[t[N]]}}for(N=Math.max(N,L);N<a;++N)w[E++]=t[N],++_[t[N]];u=Gx(t,l,c,w,_,x,A,E,k,N-k,u),c||(s.r=7&u|l[u/8|0]<<3,u-=7,s.h=m,s.p=g,s.i=N,s.w=L)}else{for(N=s.w||0;N<a+c;N+=65535){var K=N+65535;K>=a&&(l[u/8|0]=c,K=a),u=$x(l,u+1,t.subarray(N,K))}s.i=a}return Rx(o,0,r+Ox(u)+i)}(t,null==e.level?6:e.level,null==e.mem?i.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(t.length)))):20:12+e.mem,n,r,i)},Jx=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8};function Zx(t,e){e||(e={});var n=Xx();n.p(t);var r=Qx(t,e,e.dictionary?6:2,4);return function(t,e){var n=e.level,r=0==n?0:n<6?1:9==n?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=Xx();i.p(e.dictionary),Jx(t,2,i.d())}}(r,e),Jx(r,r.length-4,n.d()),r}function tS(t,e){return function(t,e,n,r){var i=t.length;if(!i||e.f&&!e.l)return n||new ux(0);var s=!n,a=s||2!=e.i,o=e.i;s&&(n=new ux(3*i));var l=function(t){var e=n.length;if(t>e){var r=new ux(Math.max(2*e,t));r.set(n),n=r}},c=e.f||0,u=e.p||0,h=e.b||0,d=e.l,f=e.d,p=e.m,g=e.n,m=8*i;do{if(!d){c=Fx(t,u,1);var v=Fx(t,u+1,3);if(u+=3,!v){var y=t[(C=Ox(u)+4)-4]|t[C-3]<<8,b=C+y;if(b>i){o&&Bx(0);break}a&&l(h+y),n.set(t.subarray(C,b),h),e.b=h+=y,e.p=u=8*b,e.f=c;continue}if(1==v)d=Tx,f=Ix,p=9,g=5;else if(2==v){var w=Fx(t,u,31)+257,_=Fx(t,u+10,15)+4,x=w+Fx(t,u+5,31)+1;u+=14;for(var S=new ux(x),A=new ux(19),N=0;N<_;++N)A[gx[N]]=Fx(t,u+3*N,7);u+=3*_;var E=Dx(A),L=(1<<E)-1,k=Ex(A,E,1);for(N=0;N<x;){var C,T=k[Fx(t,u,L)];if(u+=15&T,(C=T>>4)<16)S[N++]=C;else{var P=0,I=0;for(16==C?(I=3+Fx(t,u,3),u+=2,P=S[N-1]):17==C?(I=3+Fx(t,u,7),u+=3):18==C&&(I=11+Fx(t,u,127),u+=7);I--;)S[N++]=P}}var D=S.subarray(0,w),F=S.subarray(w);p=Dx(D),g=Dx(F),d=Ex(D,p,1),f=Ex(F,g,1)}else Bx(1);if(u>m){o&&Bx(0);break}}a&&l(h+131072);for(var M=(1<<p)-1,O=(1<<g)-1,R=u;;R=u){var j=(P=d[Mx(t,u)&M])>>4;if((u+=15&P)>m){o&&Bx(0);break}if(P||Bx(2),j<256)n[h++]=j;else{if(256==j){R=u,d=null;break}var B=j-254;if(j>264){var q=fx[N=j-257];B=Fx(t,u,(1<<q)-1)+yx[N],u+=q}var U=f[Mx(t,u)&O],V=U>>4;if(U||Bx(3),u+=15&U,F=_x[V],V>3&&(q=px[V],F+=Mx(t,u)&(1<<q)-1,u+=q),u>m){o&&Bx(0);break}a&&l(h+131072);var z=h+B;if(h<F){var H=0-F,W=Math.min(F,z);for(H+h<0&&Bx(3);h<W;++h)n[h]=r[H+h]}for(;h<z;++h)n[h]=n[h-F]}}e.l=d,e.p=R,e.b=h,e.f=c,d&&(c=1,e.m=p,e.d=f,e.n=g)}while(!c);return h!=n.length&&s?Rx(n,0,h):n.subarray(0,h)}(t.subarray(((8!=(15&(n=t)[0])||n[0]>>4>7||(n[0]<<8|n[1])%31)&&Bx(6,"invalid zlib data"),1==(n[1]>>5&1)&&Bx(6,"invalid zlib data: "+(32&n[1]?"need":"unexpected")+" dictionary"),2+(n[1]>>3&4)),-4),{i:2},e,e);var n}var eS="undefined"!=typeof TextDecoder&&new TextDecoder;try{eS.decode(Yx,{stream:!0})}catch(AA){}var nS=function(){return"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this}();function rS(){nS.console&&"function"==typeof nS.console.log&&nS.console.log.apply(nS.console,arguments)}var iS={log:rS,warn:function(t){nS.console&&("function"==typeof nS.console.warn?nS.console.warn.apply(nS.console,arguments):rS.call(null,arguments))},error:function(t){nS.console&&("function"==typeof nS.console.error?nS.console.error.apply(nS.console,arguments):rS(t))}};function sS(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){uS(r.response,e,n)},r.onerror=function(){iS.error("could not download file")},r.send()}function aS(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(n){}return e.status>=200&&e.status<=299}function oS(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(n){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var lS,cS,uS=nS.saveAs||("object"!==("undefined"==typeof window?"undefined":cx(window))||window!==nS?function(){}:"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=nS.URL||nS.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener","string"==typeof t?(i.href=t,i.origin!==location.origin?aS(i.href)?sS(t,e,n):oS(i,i.target="_blank"):oS(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){oS(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download","string"==typeof t)if(aS(t))sS(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){oS(r)})}else navigator.msSaveOrOpenBlob((i=t,void 0===(s=n)?s={autoBom:!1}:"object"!==cx(s)&&(iS.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob([String.fromCharCode(65279),i],{type:i.type}):i),e);var i,s}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof t)return sS(t,e,n);var i="application/octet-stream"===t.type,s=/constructor/i.test(nS.HTMLElement)||nS.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&"object"===("undefined"==typeof FileReader?"undefined":cx(FileReader))){var o=new FileReader;o.onloadend=function(){var t=o.result;t=a?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=t:location=t,r=null},o.readAsDataURL(t)}else{var l=nS.URL||nS.webkitURL,c=l.createObjectURL(t);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});
/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function hS(t){var e;t=t||"",this.ok=!1,"#"==t.charAt(0)&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(t){return[parseInt(t[1]),parseInt(t[2]),parseInt(t[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,a=i.exec(t);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var t=this.r.toString(16),e=this.g.toString(16),n=this.b.toString(16);return 1==t.length&&(t="0"+t),1==e.length&&(e="0"+e),1==n.length&&(n="0"+n),"#"+t+e+n}}
/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function dS(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=pS(n,r,i,s,e[0],7,-680876936),s=pS(s,n,r,i,e[1],12,-389564586),i=pS(i,s,n,r,e[2],17,606105819),r=pS(r,i,s,n,e[3],22,-1044525330),n=pS(n,r,i,s,e[4],7,-176418897),s=pS(s,n,r,i,e[5],12,1200080426),i=pS(i,s,n,r,e[6],17,-1473231341),r=pS(r,i,s,n,e[7],22,-45705983),n=pS(n,r,i,s,e[8],7,1770035416),s=pS(s,n,r,i,e[9],12,-1958414417),i=pS(i,s,n,r,e[10],17,-42063),r=pS(r,i,s,n,e[11],22,-1990404162),n=pS(n,r,i,s,e[12],7,1804603682),s=pS(s,n,r,i,e[13],12,-40341101),i=pS(i,s,n,r,e[14],17,-1502002290),n=gS(n,r=pS(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=gS(s,n,r,i,e[6],9,-1069501632),i=gS(i,s,n,r,e[11],14,643717713),r=gS(r,i,s,n,e[0],20,-373897302),n=gS(n,r,i,s,e[5],5,-701558691),s=gS(s,n,r,i,e[10],9,38016083),i=gS(i,s,n,r,e[15],14,-660478335),r=gS(r,i,s,n,e[4],20,-405537848),n=gS(n,r,i,s,e[9],5,568446438),s=gS(s,n,r,i,e[14],9,-1019803690),i=gS(i,s,n,r,e[3],14,-187363961),r=gS(r,i,s,n,e[8],20,1163531501),n=gS(n,r,i,s,e[13],5,-1444681467),s=gS(s,n,r,i,e[2],9,-51403784),i=gS(i,s,n,r,e[7],14,1735328473),n=mS(n,r=gS(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=mS(s,n,r,i,e[8],11,-2022574463),i=mS(i,s,n,r,e[11],16,1839030562),r=mS(r,i,s,n,e[14],23,-35309556),n=mS(n,r,i,s,e[1],4,-1530992060),s=mS(s,n,r,i,e[4],11,1272893353),i=mS(i,s,n,r,e[7],16,-155497632),r=mS(r,i,s,n,e[10],23,-1094730640),n=mS(n,r,i,s,e[13],4,681279174),s=mS(s,n,r,i,e[0],11,-358537222),i=mS(i,s,n,r,e[3],16,-722521979),r=mS(r,i,s,n,e[6],23,76029189),n=mS(n,r,i,s,e[9],4,-640364487),s=mS(s,n,r,i,e[12],11,-421815835),i=mS(i,s,n,r,e[15],16,530742520),n=vS(n,r=mS(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=vS(s,n,r,i,e[7],10,1126891415),i=vS(i,s,n,r,e[14],15,-1416354905),r=vS(r,i,s,n,e[5],21,-57434055),n=vS(n,r,i,s,e[12],6,1700485571),s=vS(s,n,r,i,e[3],10,-1894986606),i=vS(i,s,n,r,e[10],15,-1051523),r=vS(r,i,s,n,e[1],21,-2054922799),n=vS(n,r,i,s,e[8],6,1873313359),s=vS(s,n,r,i,e[15],10,-30611744),i=vS(i,s,n,r,e[6],15,-1560198380),r=vS(r,i,s,n,e[13],21,1309151649),n=vS(n,r,i,s,e[4],6,-145523070),s=vS(s,n,r,i,e[11],10,-1120210379),i=vS(i,s,n,r,e[2],15,718787259),r=vS(r,i,s,n,e[9],21,-343485551),t[0]=NS(n,t[0]),t[1]=NS(r,t[1]),t[2]=NS(i,t[2]),t[3]=NS(s,t[3])}function fS(t,e,n,r,i,s){return e=NS(NS(e,t),NS(r,s)),NS(e<<i|e>>>32-i,n)}function pS(t,e,n,r,i,s,a){return fS(e&n|~e&r,t,e,i,s,a)}function gS(t,e,n,r,i,s,a){return fS(e&r|n&~r,t,e,i,s,a)}function mS(t,e,n,r,i,s,a){return fS(e^n^r,t,e,i,s,a)}function vS(t,e,n,r,i,s,a){return fS(n^(e|~r),t,e,i,s,a)}function yS(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)dS(r,bS(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(dS(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,dS(r,i),r}function bS(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}lS=nS.atob.bind(nS),cS=nS.btoa.bind(nS);var wS="0123456789abcdef".split("");function _S(t){for(var e="",n=0;n<4;n++)e+=wS[t>>8*n+4&15]+wS[t>>8*n&15];return e}function xS(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function SS(t){return yS(t).map(xS).join("")}var AS="5d41402abc4b2a76b9719d911017c592"!=function(t){for(var e=0;e<t.length;e++)t[e]=_S(t[e]);return t.join("")}(yS("hello"));function NS(t,e){if(AS){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}
/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function ES(t,e){var n,r,i,s;if(t!==n){for(var a=(i=t,s=1+(256/t.length|0),new Array(s+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var u=o[l];c=(c+u+a.charCodeAt(l))%256,o[l]=o[c],o[c]=u}n=t,r=o}else o=r;var h=e.length,d=0,f=0,p="";for(l=0;l<h;l++)f=(f+(u=o[d=(d+1)%256]))%256,o[d]=o[f],o[f]=u,a=o[(o[d]+o[f])%256],p+=String.fromCharCode(e.charCodeAt(l)^a);return p}
/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var LS={print:4,modify:8,copy:16,"annot-forms":32};function kS(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(t){if(void 0!==LS.perm)throw new Error("Invalid permission: "+t);i+=LS[t]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),a=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=SS(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=ES(this.encryptionKey,this.padding)}function CS(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);e+=i<33||35===i||37===i||40===i||41===i||47===i||60===i||62===i||91===i||93===i||123===i||125===i||i>126?"#"+("0"+i.toString(16)).slice(-2):t[r]}return e}function TS(t){if("object"!==cx(t))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,n,r){if(r=r||!1,"string"!=typeof t||"function"!=typeof n||"boolean"!=typeof r)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var i=Math.random().toString(35);return e[t][i]=[n,!!r],i},this.unsubscribe=function(t){for(var n in e)if(e[n][t])return delete e[n][t],0===Object.keys(e[n]).length&&delete e[n],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var a=e[n][s];try{a[0].apply(t,r)}catch(o){nS.console&&iS.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function PS(t){if(!(this instanceof PS))return new PS(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function IS(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function DS(t,e,n,r,i){if(!(this instanceof DS))return new DS(t,e,n,r,i);this.type="axial"===t?2:3,this.coords=e,this.colors=n,IS.call(this,r,i)}function FS(t,e,n,r,i){if(!(this instanceof FS))return new FS(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,IS.call(this,r,i)}function MS(t){var e,n="string"==typeof arguments[0]?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,l=16,c="S",u=null;"object"===cx(t=t||{})&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,null!==(u=t.encryption||null)&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o="number"==typeof t.userUnit?Math.abs(t.userUnit):1,void 0!==t.precision&&(e=t.precision),void 0!==t.floatPrecision&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),a=t.filters||(!0===s?["FlateEncode"]:a),r=r||"mm",n=(""+(n||"P")).toLowerCase();var h=t.putOnlyUsedFonts||!1,d={},f={internal:{},__private__:{}};f.__private__.PubSub=TS;var p="1.3",g=f.__private__.getPdfVersion=function(){return p};f.__private__.setPdfVersion=function(t){p=t};var m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return m};var v=f.__private__.getPageFormat=function(t){return m[t]};i=i||"a4";var y="compat",b="advanced",w=y;function _(){this.saveGraphicsState(),Q(new Pt(dt,0,0,-dt,0,un()*dt).toString()+" cm"),this.setFontSize(this.getFontSize()/dt),c="n",w=b}function x(){this.restoreGraphicsState(),c="S",w=y}var S=f.__private__.combineFontStyleAndFontWeight=function(t,e){if("bold"==t&&"normal"==e||"bold"==t&&400==e||"normal"==t&&"italic"==e||"bold"==t&&"italic"==e)throw new Error("Invalid Combination of fontweight and fontstyle");return e&&(t=400==e||"normal"===e?"italic"===t?"italic":"normal":700!=e&&"bold"!==e||"normal"!==t?(700==e?"bold":e)+""+t:"bold"),t};f.advancedAPI=function(t){var e=w===y;return e&&_.call(this),"function"!=typeof t||(t(this),e&&x.call(this)),this},f.compatAPI=function(t){var e=w===b;return e&&x.call(this),"function"!=typeof t||(t(this),e&&_.call(this)),this},f.isAdvancedAPI=function(){return w===b};var A,N=function(t){if(w!==b)throw new Error(t+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},E=f.roundToPrecision=f.__private__.roundToPrecision=function(t,n){var r=e||n;if(isNaN(t)||isNaN(r))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return t.toFixed(r).replace(/0+$/,"")};A=f.hpf=f.__private__.hpf="number"==typeof l?function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.hpf");return E(t,l)}:"smart"===l?function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.hpf");return E(t,t>-1&&t<1?16:5)}:function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.hpf");return E(t,16)};var L=f.f2=f.__private__.f2=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.f2");return E(t,2)},k=f.__private__.f3=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.f3");return E(t,3)},C=f.scale=f.__private__.scale=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.scale");return w===y?t*dt:w===b?t:void 0},T=function(t){return C(function(t){return w===y?un()-t:w===b?t:void 0}(t))};f.__private__.setPrecision=f.setPrecision=function(t){"number"==typeof parseInt(t,10)&&(e=parseInt(t,10))};var P,I="00000000000000000000000000000000",D=f.__private__.getFileId=function(){return I},F=f.__private__.setFileId=function(t){return I=void 0!==t&&/^[a-fA-F0-9]{32}$/.test(t)?t.toUpperCase():I.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==u&&(be=new kS(u.userPermissions,u.userPassword,u.ownerPassword,I)),I};f.setFileId=function(t){return F(t),this},f.getFileId=function(){return D()};var M=f.__private__.convertDateToPDFDate=function(t){var e=t.getTimezoneOffset(),n=e<0?"+":"-",r=Math.floor(Math.abs(e/60)),i=Math.abs(e%60),s=[n,q(r),"'",q(i),"'"].join("");return["D:",t.getFullYear(),q(t.getMonth()+1),q(t.getDate()),q(t.getHours()),q(t.getMinutes()),q(t.getSeconds()),s].join("")},O=f.__private__.convertPDFDateToDate=function(t){var e=parseInt(t.substr(2,4),10),n=parseInt(t.substr(6,2),10)-1,r=parseInt(t.substr(8,2),10),i=parseInt(t.substr(10,2),10),s=parseInt(t.substr(12,2),10),a=parseInt(t.substr(14,2),10);return new Date(e,n,r,i,s,a,0)},R=f.__private__.setCreationDate=function(t){var e;if(void 0===t&&(t=new Date),t instanceof Date)e=M(t);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(t))throw new Error("Invalid argument passed to jsPDF.setCreationDate");e=t}return P=e},j=f.__private__.getCreationDate=function(t){var e=P;return"jsDate"===t&&(e=O(P)),e};f.setCreationDate=function(t){return R(t),this},f.getCreationDate=function(t){return j(t)};var B,q=f.__private__.padd2=function(t){return("0"+parseInt(t)).slice(-2)},U=f.__private__.padd2Hex=function(t){return("00"+(t=t.toString())).substr(t.length)},V=0,z=[],H=[],W=0,$=[],G=[],K=!1,Y=H;f.__private__.setCustomOutputDestination=function(t){K=!0,Y=t};var X=function(t){K||(Y=t)};f.__private__.resetCustomOutputDestination=function(){K=!1,Y=H};var Q=f.__private__.out=function(t){return t=t.toString(),W+=t.length+1,Y.push(t),Y},J=f.__private__.write=function(t){return Q(1===arguments.length?t.toString():Array.prototype.join.call(arguments," "))},Z=f.__private__.getArrayBuffer=function(t){for(var e=t.length,n=new ArrayBuffer(e),r=new Uint8Array(n);e--;)r[e]=t.charCodeAt(e);return n},tt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return tt};var et=t.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(t){return et=w===b?t/dt:t,this};var nt,rt=f.__private__.getFontSize=f.getFontSize=function(){return w===y?et:et*dt},it=t.R2L||!1;f.__private__.setR2L=f.setR2L=function(t){return it=t,this},f.__private__.getR2L=f.getR2L=function(){return it};var st,at=f.__private__.setZoomMode=function(t){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(t))nt=t;else if(isNaN(t)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(t))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+t+'" is not recognized.');nt=t}else nt=parseInt(t,10)};f.__private__.getZoomMode=function(){return nt};var ot,lt=f.__private__.setPageMode=function(t){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(t))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+t+'" is not recognized.');st=t};f.__private__.getPageMode=function(){return st};var ct=f.__private__.setLayoutMode=function(t){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(t))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+t+'" is not recognized.');ot=t};f.__private__.getLayoutMode=function(){return ot},f.__private__.setDisplayMode=f.setDisplayMode=function(t,e,n){return at(t),ct(e),lt(n),this};var ut={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(t){if(-1===Object.keys(ut).indexOf(t))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ut[t]},f.__private__.getDocumentProperties=function(){return ut},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(t){for(var e in ut)ut.hasOwnProperty(e)&&t[e]&&(ut[e]=t[e]);return this},f.__private__.setDocumentProperty=function(t,e){if(-1===Object.keys(ut).indexOf(t))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ut[t]=e};var ht,dt,ft,pt,gt,mt={},vt={},yt=[],bt={},wt={},_t={},xt={},St=null,At=0,Nt=[],Et=new TS(f),Lt=t.hotfixes||[],kt={},Ct={},Tt=[],Pt=function t(e,n,r,i,s,a){if(!(this instanceof t))return new t(e,n,r,i,s,a);isNaN(e)&&(e=1),isNaN(n)&&(n=0),isNaN(r)&&(r=0),isNaN(i)&&(i=1),isNaN(s)&&(s=0),isNaN(a)&&(a=0),this._matrix=[e,n,r,i,s,a]};Object.defineProperty(Pt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(t){this._matrix[0]=t}}),Object.defineProperty(Pt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(t){this._matrix[1]=t}}),Object.defineProperty(Pt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(t){this._matrix[2]=t}}),Object.defineProperty(Pt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(t){this._matrix[3]=t}}),Object.defineProperty(Pt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(t){this._matrix[4]=t}}),Object.defineProperty(Pt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(t){this._matrix[5]=t}}),Object.defineProperty(Pt.prototype,"a",{get:function(){return this._matrix[0]},set:function(t){this._matrix[0]=t}}),Object.defineProperty(Pt.prototype,"b",{get:function(){return this._matrix[1]},set:function(t){this._matrix[1]=t}}),Object.defineProperty(Pt.prototype,"c",{get:function(){return this._matrix[2]},set:function(t){this._matrix[2]=t}}),Object.defineProperty(Pt.prototype,"d",{get:function(){return this._matrix[3]},set:function(t){this._matrix[3]=t}}),Object.defineProperty(Pt.prototype,"e",{get:function(){return this._matrix[4]},set:function(t){this._matrix[4]=t}}),Object.defineProperty(Pt.prototype,"f",{get:function(){return this._matrix[5]},set:function(t){this._matrix[5]=t}}),Object.defineProperty(Pt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Pt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Pt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Pt.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),Pt.prototype.join=function(t){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(A).join(t)},Pt.prototype.multiply=function(t){var e=t.sx*this.sx+t.shy*this.shx,n=t.sx*this.shy+t.shy*this.sy,r=t.shx*this.sx+t.sy*this.shx,i=t.shx*this.shy+t.sy*this.sy,s=t.tx*this.sx+t.ty*this.shx+this.tx,a=t.tx*this.shy+t.ty*this.sy+this.ty;return new Pt(e,n,r,i,s,a)},Pt.prototype.decompose=function(){var t=this.sx,e=this.shy,n=this.shx,r=this.sy,i=this.tx,s=this.ty,a=Math.sqrt(t*t+e*e),o=(t/=a)*n+(e/=a)*r;n-=t*o,r-=e*o;var l=Math.sqrt(n*n+r*r);return o/=l,t*(r/=l)<e*(n/=l)&&(t=-t,e=-e,o=-o,a=-a),{scale:new Pt(a,0,0,l,0,0),translate:new Pt(1,0,0,1,i,s),rotate:new Pt(t,e,-e,t,0,0),skew:new Pt(1,0,o,1,0,0)}},Pt.prototype.toString=function(t){return this.join(" ")},Pt.prototype.inversed=function(){var t=this.sx,e=this.shy,n=this.shx,r=this.sy,i=this.tx,s=this.ty,a=1/(t*r-e*n),o=r*a,l=-e*a,c=-n*a,u=t*a;return new Pt(o,l,c,u,-o*i-c*s,-l*i-u*s)},Pt.prototype.applyToPoint=function(t){var e=t.x*this.sx+t.y*this.shx+this.tx,n=t.x*this.shy+t.y*this.sy+this.ty;return new nn(e,n)},Pt.prototype.applyToRectangle=function(t){var e=this.applyToPoint(t),n=this.applyToPoint(new nn(t.x+t.w,t.y+t.h));return new rn(e.x,e.y,n.x-e.x,n.y-e.y)},Pt.prototype.clone=function(){var t=this.sx,e=this.shy,n=this.shx,r=this.sy,i=this.tx,s=this.ty;return new Pt(t,e,n,r,i,s)},f.Matrix=Pt;var It=f.matrixMult=function(t,e){return e.multiply(t)},Dt=new Pt(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=Dt;var Ft=function(t,e){if(!wt[t]){var n=(e instanceof DS?"Sh":"P")+(Object.keys(bt).length+1).toString(10);e.id=n,wt[t]=n,bt[n]=e,Et.publish("addPattern",e)}};f.ShadingPattern=DS,f.TilingPattern=FS,f.addShadingPattern=function(t,e){return N("addShadingPattern()"),Ft(t,e),this},f.beginTilingPattern=function(t){N("beginTilingPattern()"),an(t.boundingBox[0],t.boundingBox[1],t.boundingBox[2]-t.boundingBox[0],t.boundingBox[3]-t.boundingBox[1],t.matrix)},f.endTilingPattern=function(t,e){N("endTilingPattern()"),e.stream=G[B].join("\n"),Ft(t,e),Et.publish("endTilingPattern",e),Tt.pop().restore()};var Mt,Ot=f.__private__.newObject=function(){var t=Rt();return jt(t,!0),t},Rt=f.__private__.newObjectDeferred=function(){return V++,z[V]=function(){return W},V},jt=function(t,e){return e="boolean"==typeof e&&e,z[t]=W,e&&Q(t+" 0 obj"),t},Bt=f.__private__.newAdditionalObject=function(){var t={objId:Rt(),content:""};return $.push(t),t},qt=Rt(),Ut=Rt(),Vt=f.__private__.decodeColorString=function(t){var e=t.split(" ");if(2!==e.length||"g"!==e[1]&&"G"!==e[1])5!==e.length||"k"!==e[4]&&"K"!==e[4]||(e=[(1-e[0])*(1-e[3]),(1-e[1])*(1-e[3]),(1-e[2])*(1-e[3]),"r"]);else{var n=parseFloat(e[0]);e=[n,n,n,"r"]}for(var r="#",i=0;i<3;i++)r+=("0"+Math.floor(255*parseFloat(e[i])).toString(16)).slice(-2);return r},zt=f.__private__.encodeColorString=function(t){var e;"string"==typeof t&&(t={ch1:t});var n=t.ch1,r=t.ch2,i=t.ch3,s=t.ch4,a="draw"===t.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof n&&"#"!==n.charAt(0)){var o=new hS(n);if(o.ok)n=o.toHex();else if(!/^\d*\.?\d*$/.test(n))throw new Error('Invalid color "'+n+'" passed to jsPDF.encodeColorString.')}if("string"==typeof n&&/^#[0-9A-Fa-f]{3}$/.test(n)&&(n="#"+n[1]+n[1]+n[2]+n[2]+n[3]+n[3]),"string"==typeof n&&/^#[0-9A-Fa-f]{6}$/.test(n)){var l=parseInt(n.substr(1),16);n=l>>16&255,r=l>>8&255,i=255&l}if(void 0===r||void 0===s&&n===r&&r===i)if("string"==typeof n)e=n+" "+a[0];else if(2===t.precision)e=L(n/255)+" "+a[0];else e=k(n/255)+" "+a[0];else if(void 0===s||"object"===cx(s)){if(s&&!isNaN(s.a)&&0===s.a)return["1.","1.","1.",a[1]].join(" ");if("string"==typeof n)e=[n,r,i,a[1]].join(" ");else if(2===t.precision)e=[L(n/255),L(r/255),L(i/255),a[1]].join(" ");else e=[k(n/255),k(r/255),k(i/255),a[1]].join(" ")}else if("string"==typeof n)e=[n,r,i,s,a[2]].join(" ");else if(2===t.precision)e=[L(n),L(r),L(i),L(s),a[2]].join(" ");else e=[k(n),k(r),k(i),k(s),a[2]].join(" ");return e},Ht=f.__private__.getFilters=function(){return a},Wt=f.__private__.putStream=function(t){var e=(t=t||{}).data||"",n=t.filters||Ht(),r=t.alreadyAppliedFilters||[],i=t.addLength1||!1,s=e.length,a=t.objectId,o=function(t){return t};if(null!==u&&void 0===a)throw new Error("ObjectId must be passed to putStream for file encryption");null!==u&&(o=be.encryptor(a,0));var l={};!0===n&&(n=["FlateEncode"]);var c=t.additionalKeyValues||[],h=(l=void 0!==MS.API.processDataByFilters?MS.API.processDataByFilters(e,n):{data:e,reverseChain:[]}).reverseChain+(Array.isArray(r)?r.join(" "):r.toString());if(0!==l.data.length&&(c.push({key:"Length",value:l.data.length}),!0===i&&c.push({key:"Length1",value:s})),0!=h.length)if(h.split("/").length-1==1)c.push({key:"Filter",value:h});else{c.push({key:"Filter",value:"["+h+"]"});for(var d=0;d<c.length;d+=1)if("DecodeParms"===c[d].key){for(var f=[],p=0;p<l.reverseChain.split("/").length-1;p+=1)f.push("null");f.push(c[d].value),c[d].value="["+f.join(" ")+"]"}}Q("<<");for(var g=0;g<c.length;g++)Q("/"+c[g].key+" "+c[g].value);Q(">>"),0!==l.data.length&&(Q("stream"),Q(o(l.data)),Q("endstream"))},$t=f.__private__.putPage=function(t){var e=t.number,n=t.data,r=t.objId,i=t.contentsObjId;jt(r,!0),Q("<</Type /Page"),Q("/Parent "+t.rootDictionaryObjId+" 0 R"),Q("/Resources "+t.resourceDictionaryObjId+" 0 R"),Q("/MediaBox ["+parseFloat(A(t.mediaBox.bottomLeftX))+" "+parseFloat(A(t.mediaBox.bottomLeftY))+" "+A(t.mediaBox.topRightX)+" "+A(t.mediaBox.topRightY)+"]"),null!==t.cropBox&&Q("/CropBox ["+A(t.cropBox.bottomLeftX)+" "+A(t.cropBox.bottomLeftY)+" "+A(t.cropBox.topRightX)+" "+A(t.cropBox.topRightY)+"]"),null!==t.bleedBox&&Q("/BleedBox ["+A(t.bleedBox.bottomLeftX)+" "+A(t.bleedBox.bottomLeftY)+" "+A(t.bleedBox.topRightX)+" "+A(t.bleedBox.topRightY)+"]"),null!==t.trimBox&&Q("/TrimBox ["+A(t.trimBox.bottomLeftX)+" "+A(t.trimBox.bottomLeftY)+" "+A(t.trimBox.topRightX)+" "+A(t.trimBox.topRightY)+"]"),null!==t.artBox&&Q("/ArtBox ["+A(t.artBox.bottomLeftX)+" "+A(t.artBox.bottomLeftY)+" "+A(t.artBox.topRightX)+" "+A(t.artBox.topRightY)+"]"),"number"==typeof t.userUnit&&1!==t.userUnit&&Q("/UserUnit "+t.userUnit),Et.publish("putPage",{objId:r,pageContext:Nt[e],pageNumber:e,page:n}),Q("/Contents "+i+" 0 R"),Q(">>"),Q("endobj");var s=n.join("\n");return w===b&&(s+="\nQ"),jt(i,!0),Wt({data:s,filters:Ht(),objectId:i}),Q("endobj"),r},Gt=f.__private__.putPages=function(){var t,e,n=[];for(t=1;t<=At;t++)Nt[t].objId=Rt(),Nt[t].contentsObjId=Rt();for(t=1;t<=At;t++)n.push($t({number:t,data:G[t],objId:Nt[t].objId,contentsObjId:Nt[t].contentsObjId,mediaBox:Nt[t].mediaBox,cropBox:Nt[t].cropBox,bleedBox:Nt[t].bleedBox,trimBox:Nt[t].trimBox,artBox:Nt[t].artBox,userUnit:Nt[t].userUnit,rootDictionaryObjId:qt,resourceDictionaryObjId:Ut}));jt(qt,!0),Q("<</Type /Pages");var r="/Kids [";for(e=0;e<At;e++)r+=n[e]+" 0 R ";Q(r+"]"),Q("/Count "+At),Q(">>"),Q("endobj"),Et.publish("postPutPages")},Kt=function(t){Et.publish("putFont",{font:t,out:Q,newObject:Ot,putStream:Wt}),!0!==t.isAlreadyPutted&&(t.objectNumber=Ot(),Q("<<"),Q("/Type /Font"),Q("/BaseFont /"+CS(t.postScriptName)),Q("/Subtype /Type1"),"string"==typeof t.encoding&&Q("/Encoding /"+t.encoding),Q("/FirstChar 32"),Q("/LastChar 255"),Q(">>"),Q("endobj"))},Yt=function(t){t.objectNumber=Ot();var e=[];e.push({key:"Type",value:"/XObject"}),e.push({key:"Subtype",value:"/Form"}),e.push({key:"BBox",value:"["+[A(t.x),A(t.y),A(t.x+t.width),A(t.y+t.height)].join(" ")+"]"}),e.push({key:"Matrix",value:"["+t.matrix.toString()+"]"});var n=t.pages[1].join("\n");Wt({data:n,additionalKeyValues:e,objectId:t.objectNumber}),Q("endobj")},Xt=function(t,e){e||(e=21);var n=Ot(),r=function(t,e){var n,r=[],i=1/(e-1);for(n=0;n<1;n+=i)r.push(n);if(r.push(1),0!=t[0].offset){var s={offset:0,color:t[0].color};t.unshift(s)}if(1!=t[t.length-1].offset){var a={offset:1,color:t[t.length-1].color};t.push(a)}for(var o="",l=0,c=0;c<r.length;c++){for(n=r[c];n>t[l+1].offset;)l++;var u=t[l].offset,h=(n-u)/(t[l+1].offset-u),d=t[l].color,f=t[l+1].color;o+=U(Math.round((1-h)*d[0]+h*f[0]).toString(16))+U(Math.round((1-h)*d[1]+h*f[1]).toString(16))+U(Math.round((1-h)*d[2]+h*f[2]).toString(16))}return o.trim()}(t.colors,e),i=[];i.push({key:"FunctionType",value:"0"}),i.push({key:"Domain",value:"[0.0 1.0]"}),i.push({key:"Size",value:"["+e+"]"}),i.push({key:"BitsPerSample",value:"8"}),i.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),i.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Wt({data:r,additionalKeyValues:i,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:n}),Q("endobj"),t.objectNumber=Ot(),Q("<< /ShadingType "+t.type),Q("/ColorSpace /DeviceRGB");var s="/Coords ["+A(parseFloat(t.coords[0]))+" "+A(parseFloat(t.coords[1]))+" ";2===t.type?s+=A(parseFloat(t.coords[2]))+" "+A(parseFloat(t.coords[3])):s+=A(parseFloat(t.coords[2]))+" "+A(parseFloat(t.coords[3]))+" "+A(parseFloat(t.coords[4]))+" "+A(parseFloat(t.coords[5])),Q(s+="]"),t.matrix&&Q("/Matrix ["+t.matrix.toString()+"]"),Q("/Function "+n+" 0 R"),Q("/Extend [true true]"),Q(">>"),Q("endobj")},Qt=function(t,e){var n=Rt(),r=Ot();e.push({resourcesOid:n,objectOid:r}),t.objectNumber=r;var i=[];i.push({key:"Type",value:"/Pattern"}),i.push({key:"PatternType",value:"1"}),i.push({key:"PaintType",value:"1"}),i.push({key:"TilingType",value:"1"}),i.push({key:"BBox",value:"["+t.boundingBox.map(A).join(" ")+"]"}),i.push({key:"XStep",value:A(t.xStep)}),i.push({key:"YStep",value:A(t.yStep)}),i.push({key:"Resources",value:n+" 0 R"}),t.matrix&&i.push({key:"Matrix",value:"["+t.matrix.toString()+"]"}),Wt({data:t.stream,additionalKeyValues:i,objectId:t.objectNumber}),Q("endobj")},Jt=function(t){for(var e in t.objectNumber=Ot(),Q("<<"),t)switch(e){case"opacity":Q("/ca "+L(t[e]));break;case"stroke-opacity":Q("/CA "+L(t[e]))}Q(">>"),Q("endobj")},Zt=function(t){jt(t.resourcesOid,!0),Q("<<"),Q("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var t in Q("/Font <<"),mt)mt.hasOwnProperty(t)&&(!1===h||!0===h&&d.hasOwnProperty(t))&&Q("/"+t+" "+mt[t].objectNumber+" 0 R");Q(">>")}(),function(){if(Object.keys(bt).length>0){for(var t in Q("/Shading <<"),bt)bt.hasOwnProperty(t)&&bt[t]instanceof DS&&bt[t].objectNumber>=0&&Q("/"+t+" "+bt[t].objectNumber+" 0 R");Et.publish("putShadingPatternDict"),Q(">>")}}(),function(t){if(Object.keys(bt).length>0){for(var e in Q("/Pattern <<"),bt)bt.hasOwnProperty(e)&&bt[e]instanceof f.TilingPattern&&bt[e].objectNumber>=0&&bt[e].objectNumber<t&&Q("/"+e+" "+bt[e].objectNumber+" 0 R");Et.publish("putTilingPatternDict"),Q(">>")}}(t.objectOid),function(){if(Object.keys(_t).length>0){var t;for(t in Q("/ExtGState <<"),_t)_t.hasOwnProperty(t)&&_t[t].objectNumber>=0&&Q("/"+t+" "+_t[t].objectNumber+" 0 R");Et.publish("putGStateDict"),Q(">>")}}(),function(){for(var t in Q("/XObject <<"),kt)kt.hasOwnProperty(t)&&kt[t].objectNumber>=0&&Q("/"+t+" "+kt[t].objectNumber+" 0 R");Et.publish("putXobjectDict"),Q(">>")}(),Q(">>"),Q("endobj")},te=function(){var t=[];(function(){for(var t in mt)mt.hasOwnProperty(t)&&(!1===h||!0===h&&d.hasOwnProperty(t))&&Kt(mt[t])})(),function(){var t;for(t in _t)_t.hasOwnProperty(t)&&Jt(_t[t])}(),function(){for(var t in kt)kt.hasOwnProperty(t)&&Yt(kt[t])}(),function(t){var e;for(e in bt)bt.hasOwnProperty(e)&&(bt[e]instanceof DS?Xt(bt[e]):bt[e]instanceof FS&&Qt(bt[e],t))}(t),Et.publish("putResources"),t.forEach(Zt),Zt({resourcesOid:Ut,objectOid:Number.MAX_SAFE_INTEGER}),Et.publish("postPutResources")},ee=function(t){vt[t.fontName]=vt[t.fontName]||{},vt[t.fontName][t.fontStyle]=t.id},ne=function(t,e,n,r,i){var s={id:"F"+(Object.keys(mt).length+1).toString(10),postScriptName:t,fontName:e,fontStyle:n,encoding:r,isStandardFont:i||!1,metadata:{}};return Et.publish("addFont",{font:s,instance:this}),mt[s.id]=s,ee(s),s.id},re=f.__private__.pdfEscape=f.pdfEscape=function(t,e){return function(t,e){var n,r,i,s,a,o,l,c,u;if(i=(e=e||{}).sourceEncoding||"Unicode",a=e.outputEncoding,(e.autoencode||a)&&mt[ht].metadata&&mt[ht].metadata[i]&&mt[ht].metadata[i].encoding&&(s=mt[ht].metadata[i].encoding,!a&&mt[ht].encoding&&(a=mt[ht].encoding),!a&&s.codePages&&(a=s.codePages[0]),"string"==typeof a&&(a=s[a]),a)){for(l=!1,o=[],n=0,r=t.length;n<r;n++)(c=a[t.charCodeAt(n)])?o.push(String.fromCharCode(c)):o.push(t[n]),o[n].charCodeAt(0)>>8&&(l=!0);t=o.join("")}for(n=t.length;void 0===l&&0!==n;)t.charCodeAt(n-1)>>8&&(l=!0),n--;if(!l)return t;for(o=e.noBOM?[]:[254,255],n=0,r=t.length;n<r;n++){if((u=(c=t.charCodeAt(n))>>8)>>8)throw new Error("Character at position "+n+" of string '"+t+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");o.push(u),o.push(c-(u<<8))}return String.fromCharCode.apply(void 0,o)}(t,e).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ie=f.__private__.beginPage=function(t){G[++At]=[],Nt[At]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(t[0]),topRightY:Number(t[1])}},oe(At),X(G[B])},se=function(t,e){var r,s,a;switch(n=e||n,"string"==typeof t&&(r=v(t.toLowerCase()),Array.isArray(r)&&(s=r[0],a=r[1])),Array.isArray(t)&&(s=t[0]*dt,a=t[1]*dt),isNaN(s)&&(s=i[0],a=i[1]),(s>14400||a>14400)&&(iS.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),s=Math.min(14400,s),a=Math.min(14400,a)),i=[s,a],n.substr(0,1)){case"l":a>s&&(i=[a,s]);break;case"p":s>a&&(i=[a,s])}ie(i),Be(Re),Q(Ge),0!==Ze&&Q(Ze+" J"),0!==tn&&Q(tn+" j"),Et.publish("addPage",{pageNumber:At})},ae=function(t){t>0&&t<=At&&(G.splice(t,1),Nt.splice(t,1),At--,B>At&&(B=At),this.setPage(B))},oe=function(t){t>0&&t<=At&&(B=t)},le=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return G.length-1},ce=function(t,e,n){var r,i=void 0;return n=n||{},t=void 0!==t?t:mt[ht].fontName,e=void 0!==e?e:mt[ht].fontStyle,r=t.toLowerCase(),void 0!==vt[r]&&void 0!==vt[r][e]?i=vt[r][e]:void 0!==vt[t]&&void 0!==vt[t][e]?i=vt[t][e]:!1===n.disableWarning&&iS.warn("Unable to look up font label for font '"+t+"', '"+e+"'. Refer to getFontList() for available fonts."),i||n.noFallback||null==(i=vt.times[e])&&(i=vt.times.normal),i},ue=f.__private__.putInfo=function(){var t=Ot(),e=function(t){return t};for(var n in null!==u&&(e=be.encryptor(t,0)),Q("<<"),Q("/Producer ("+re(e("jsPDF "+MS.version))+")"),ut)ut.hasOwnProperty(n)&&ut[n]&&Q("/"+n.substr(0,1).toUpperCase()+n.substr(1)+" ("+re(e(ut[n]))+")");Q("/CreationDate ("+re(e(P))+")"),Q(">>"),Q("endobj")},he=f.__private__.putCatalog=function(t){var e=(t=t||{}).rootDictionaryObjId||qt;switch(Ot(),Q("<<"),Q("/Type /Catalog"),Q("/Pages "+e+" 0 R"),nt||(nt="fullwidth"),nt){case"fullwidth":Q("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Q("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Q("/OpenAction [3 0 R /Fit]");break;case"original":Q("/OpenAction [3 0 R /XYZ null null 1]");break;default:var n=""+nt;"%"===n.substr(n.length-1)&&(nt=parseInt(nt)/100),"number"==typeof nt&&Q("/OpenAction [3 0 R /XYZ null null "+L(nt)+"]")}switch(ot||(ot="continuous"),ot){case"continuous":Q("/PageLayout /OneColumn");break;case"single":Q("/PageLayout /SinglePage");break;case"two":case"twoleft":Q("/PageLayout /TwoColumnLeft");break;case"tworight":Q("/PageLayout /TwoColumnRight")}st&&Q("/PageMode /"+st),Et.publish("putCatalog"),Q(">>"),Q("endobj")},de=f.__private__.putTrailer=function(){Q("trailer"),Q("<<"),Q("/Size "+(V+1)),Q("/Root "+V+" 0 R"),Q("/Info "+(V-1)+" 0 R"),null!==u&&Q("/Encrypt "+be.oid+" 0 R"),Q("/ID [ <"+I+"> <"+I+"> ]"),Q(">>")},fe=f.__private__.putHeader=function(){Q("%PDF-"+p),Q("%")},pe=f.__private__.putXRef=function(){var t="0000000000";Q("xref"),Q("0 "+(V+1)),Q("0000000000 65535 f ");for(var e=1;e<=V;e++)"function"==typeof z[e]?Q((t+z[e]()).slice(-10)+" 00000 n "):void 0!==z[e]?Q((t+z[e]).slice(-10)+" 00000 n "):Q("0000000000 00000 n ")},ge=f.__private__.buildDocument=function(){V=0,W=0,H=[],z=[],$=[],qt=Rt(),Ut=Rt(),X(H),Et.publish("buildDocument"),fe(),Gt(),function(){Et.publish("putAdditionalObjects");for(var t=0;t<$.length;t++){var e=$[t];jt(e.objId,!0),Q(e.content),Q("endobj")}Et.publish("postPutAdditionalObjects")}(),te(),null!==u&&(be.oid=Ot(),Q("<<"),Q("/Filter /Standard"),Q("/V "+be.v),Q("/R "+be.r),Q("/U <"+be.toHexString(be.U)+">"),Q("/O <"+be.toHexString(be.O)+">"),Q("/P "+be.P),Q(">>"),Q("endobj")),ue(),he();var t=W;return pe(),de(),Q("startxref"),Q(""+t),Q("%%EOF"),X(G[B]),H.join("\n")},me=f.__private__.getBlob=function(t){return new Blob([Z(t)],{type:"application/pdf"})},ve=f.output=f.__private__.output=((Mt=function(t,e){switch("string"==typeof(e=e||{})?e={filename:e}:e.filename=e.filename||"generated.pdf",t){case void 0:return ge();case"save":f.save(e.filename);break;case"arraybuffer":return Z(ge());case"blob":return me(ge());case"bloburi":case"bloburl":if(void 0!==nS.URL&&"function"==typeof nS.URL.createObjectURL)return nS.URL&&nS.URL.createObjectURL(me(ge()))||void 0;iS.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var n="",r=ge();try{n=cS(r)}catch(p){n=cS(unescape(encodeURIComponent(r)))}return"data:application/pdf;filename="+e.filename+";base64,"+n;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(nS)){var i="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",s=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';e.pdfObjectUrl&&(i=e.pdfObjectUrl,s="");var a='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+i+'"'+s+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(e)+");<\/script></body></html>",o=nS.open();return null!==o&&o.document.write(a),o}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(nS)){var l='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(e.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+e.filename+'" width="500px" height="400px" /></body></html>',c=nS.open();if(null!==c){c.document.write(l);var u=this;c.document.documentElement.querySelector("#pdfViewer").onload=function(){c.document.title=e.filename,c.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(u.output("bloburl"))}}return c}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(nS))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var h='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",e)+'"></iframe></body></html>',d=nS.open();if(null!==d&&(d.document.write(h),d.document.title=e.filename),d||"undefined"==typeof safari)return d;break;case"datauri":case"dataurl":return nS.document.location.href=this.output("datauristring",e);default:return null}}).foo=function(){try{return Mt.apply(this,arguments)}catch(n){var t=n.stack||"";~t.indexOf(" at ")&&(t=t.split(" at ")[1]);var e="Error in function "+t.split("\n")[0].split("<")[0]+": "+n.message;if(!nS.console)throw new Error(e);nS.console.error(e,n),nS.alert&&alert(e)}},Mt.foo.bar=Mt,Mt.foo),ye=function(t){return!0===Array.isArray(Lt)&&Lt.indexOf(t)>-1};switch(r){case"pt":dt=1;break;case"mm":dt=72/25.4;break;case"cm":dt=72/2.54;break;case"in":dt=72;break;case"px":dt=1==ye("px_scaling")?.75:96/72;break;case"pc":case"em":dt=12;break;case"ex":dt=6;break;default:if("number"!=typeof r)throw new Error("Invalid unit: "+r);dt=r}var be=null;R(),F();var we=f.__private__.getPageInfo=f.getPageInfo=function(t){if(isNaN(t)||t%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Nt[t].objId,pageNumber:t,pageContext:Nt[t]}},_e=f.__private__.getPageInfoByObjId=function(t){if(isNaN(t)||t%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var e in Nt)if(Nt[e].objId===t)break;return we(e)},xe=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:Nt[B].objId,pageNumber:B,pageContext:Nt[B]}};f.addPage=function(){return se.apply(this,arguments),this},f.setPage=function(){return oe.apply(this,arguments),X.call(this,G[B]),this},f.insertPage=function(t){return this.addPage(),this.movePage(B,t),this},f.movePage=function(t,e){var n,r;if(t>e){n=G[t],r=Nt[t];for(var i=t;i>e;i--)G[i]=G[i-1],Nt[i]=Nt[i-1];G[e]=n,Nt[e]=r,this.setPage(e)}else if(t<e){n=G[t],r=Nt[t];for(var s=t;s<e;s++)G[s]=G[s+1],Nt[s]=Nt[s+1];G[e]=n,Nt[e]=r,this.setPage(e)}return this},f.deletePage=function(){return ae.apply(this,arguments),this},f.__private__.text=f.text=function(t,e,n,r,i){var s,a,o,l,c,u,h,f,p,g=(r=r||{}).scope||this;if("number"==typeof t&&"number"==typeof e&&("string"==typeof n||Array.isArray(n))){var m=n;n=e,e=t,t=m}if(arguments[3]instanceof Pt==0?(o=arguments[4],l=arguments[5],"object"===cx(h=arguments[3])&&null!==h||("string"==typeof o&&(l=o,o=null),"string"==typeof h&&(l=h,h=null),"number"==typeof h&&(o=h,h=null),r={flags:h,angle:o,align:l})):(N("The transform parameter of text() with a Matrix value"),p=i),isNaN(e)||isNaN(n)||null==t)throw new Error("Invalid arguments passed to jsPDF.text");if(0===t.length)return g;var v,y="",_="number"==typeof r.lineHeightFactor?r.lineHeightFactor:Oe,x=g.internal.scaleFactor;function S(t){return t=t.split("\t").join(Array(r.TabLen||9).join(" ")),re(t,h)}function E(t){for(var e,n=t.concat(),r=[],i=n.length;i--;)"string"==typeof(e=n.shift())?r.push(e):Array.isArray(t)&&(1===e.length||void 0===e[1]&&void 0===e[2])?r.push(e[0]):r.push([e[0],e[1],e[2]]);return r}function L(t,e){var n;if("string"==typeof t)n=e(t)[0];else if(Array.isArray(t)){for(var r,i,s=t.concat(),a=[],o=s.length;o--;)"string"==typeof(r=s.shift())?a.push(e(r)[0]):Array.isArray(r)&&"string"==typeof r[0]&&(i=e(r[0],r[1],r[2]),a.push([i[0],i[1],i[2]]));n=a}return n}var k=!1,T=!0;if("string"==typeof t)k=!0;else if(Array.isArray(t)){var P=t.concat();a=[];for(var I,D=P.length;D--;)("string"!=typeof(I=P.shift())||Array.isArray(I)&&"string"!=typeof I[0])&&(T=!1);k=T}if(!1===k)throw new Error('Type of text must be string or Array. "'+t+'" is not recognized.');"string"==typeof t&&(t=t.match(/[\r?\n]/)?t.split(/\r\n|\r|\n/g):[t]);var F=et/g.internal.scaleFactor,M=F*(_-1);switch(r.baseline){case"bottom":n-=M;break;case"top":n+=F-M;break;case"hanging":n+=F-2*M;break;case"middle":n+=F/2-M}if((u=r.maxWidth||0)>0&&("string"==typeof t?t=g.splitTextToSize(t,u):"[object Array]"===Object.prototype.toString.call(t)&&(t=t.reduce(function(t,e){return t.concat(g.splitTextToSize(e,u))},[]))),s={text:t,x:e,y:n,options:r,mutex:{pdfEscape:re,activeFontKey:ht,fonts:mt,activeFontSize:et}},Et.publish("preProcessText",s),t=s.text,o=(r=s.options).angle,p instanceof Pt==0&&o&&"number"==typeof o){o*=Math.PI/180,0===r.rotationDirection&&(o=-o),w===b&&(o=-o);var O=Math.cos(o),R=Math.sin(o);p=new Pt(O,R,-R,O,0,0)}else o&&o instanceof Pt&&(p=o);w!==b||p||(p=Dt),void 0!==(c=r.charSpace||Qe)&&(y+=A(C(c))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(f=r.horizontalScale)&&(y+=A(100*f)+" Tz\n"),r.lang;var j=-1,B=void 0!==r.renderingMode?r.renderingMode:r.stroke,q=g.internal.getCurrentPageInfo().pageContext;switch(B){case 0:case!1:case"fill":j=0;break;case 1:case!0:case"stroke":j=1;break;case 2:case"fillThenStroke":j=2;break;case 3:case"invisible":j=3;break;case 4:case"fillAndAddForClipping":j=4;break;case 5:case"strokeAndAddPathForClipping":j=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":j=6;break;case 7:case"addToPathForClipping":j=7}var U=void 0!==q.usedRenderingMode?q.usedRenderingMode:-1;-1!==j?y+=j+" Tr\n":-1!==U&&(y+="0 Tr\n"),-1!==j&&(q.usedRenderingMode=j),l=r.align||"left";var V,z=et*_,H=g.internal.pageSize.getWidth(),W=mt[ht];c=r.charSpace||Qe,u=r.maxWidth||0,h=Object.assign({autoencode:!0,noBOM:!0},r.flags);var $=[],G=function(t){return g.getStringUnitWidth(t,{font:W,charSpace:c,fontSize:et,doKerning:!1})*et/x};if("[object Array]"===Object.prototype.toString.call(t)){var K;a=E(t),"left"!==l&&(V=a.map(G));var Y,X=0;if("right"===l){e-=V[0],t=[],D=a.length;for(var J=0;J<D;J++)0===J?(Y=ze(e),K=He(n)):(Y=C(X-V[J]),K=-z),t.push([a[J],Y,K]),X=V[J]}else if("center"===l){e-=V[0]/2,t=[],D=a.length;for(var Z=0;Z<D;Z++)0===Z?(Y=ze(e),K=He(n)):(Y=C((X-V[Z])/2),K=-z),t.push([a[Z],Y,K]),X=V[Z]}else if("left"===l){t=[],D=a.length;for(var tt=0;tt<D;tt++)t.push(a[tt])}else if("justify"===l&&"Identity-H"===W.encoding){t=[],D=a.length,u=0!==u?u:H;for(var nt=0,rt=0;rt<D;rt++)if(K=0===rt?He(n):-z,Y=0===rt?ze(e):nt,rt<D-1){var st=C((u-V[rt])/(a[rt].split(" ").length-1)),at=a[rt].split(" ");t.push([at[0]+" ",Y,K]),nt=0;for(var ot=1;ot<at.length;ot++){var lt=(G(at[ot-1]+" "+at[ot])-G(at[ot]))*x+st;ot==at.length-1?t.push([at[ot],lt,0]):t.push([at[ot]+" ",lt,0]),nt-=lt}}else t.push([a[rt],Y,K]);t.push(["",nt,0])}else{if("justify"!==l)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(t=[],D=a.length,u=0!==u?u:H,rt=0;rt<D;rt++)K=0===rt?He(n):-z,Y=0===rt?ze(e):0,rt<D-1?$.push(A(C((u-V[rt])/(a[rt].split(" ").length-1)))):$.push(0),t.push([a[rt],Y,K])}}!0===("boolean"==typeof r.R2L?r.R2L:it)&&(t=L(t,function(t,e,n){return[t.split("").reverse().join(""),e,n]})),s={text:t,x:e,y:n,options:r,mutex:{pdfEscape:re,activeFontKey:ht,fonts:mt,activeFontSize:et}},Et.publish("postProcessText",s),t=s.text,v=s.mutex.isHex||!1;var ct=mt[ht].encoding;"WinAnsiEncoding"!==ct&&"StandardEncoding"!==ct||(t=L(t,function(t,e,n){return[S(t),e,n]})),a=E(t),t=[];for(var ut,dt,ft,pt=Array.isArray(a[0])?1:0,gt="",vt=function(t,e,n){var i="";return n instanceof Pt?(n="number"==typeof r.angle?It(n,new Pt(1,0,0,1,t,e)):It(new Pt(1,0,0,1,t,e),n),w===b&&(n=It(new Pt(1,0,0,-1,0,0),n)),i=n.join(" ")+" Tm\n"):i=A(t)+" "+A(e)+" Td\n",i},yt=0;yt<a.length;yt++){switch(gt="",pt){case 1:ft=(v?"<":"(")+a[yt][0]+(v?">":")"),ut=parseFloat(a[yt][1]),dt=parseFloat(a[yt][2]);break;case 0:ft=(v?"<":"(")+a[yt]+(v?">":")"),ut=ze(e),dt=He(n)}void 0!==$&&void 0!==$[yt]&&(gt=$[yt]+" Tw\n"),0===yt?t.push(gt+vt(ut,dt,p)+ft):0===pt?t.push(gt+ft):1===pt&&t.push(gt+vt(ut,dt,p)+ft)}t=0===pt?t.join(" Tj\nT* "):t.join(" Tj\n"),t+=" Tj\n";var bt="BT\n/";return bt+=ht+" "+et+" Tf\n",bt+=A(et*_)+" TL\n",bt+=Ye+"\n",bt+=y,bt+=t,Q(bt+="ET"),d[ht]=!0,g};var Se=f.__private__.clip=f.clip=function(t){return Q("evenodd"===t?"W*":"W"),this};f.clipEvenOdd=function(){return Se("evenodd")},f.__private__.discardPath=f.discardPath=function(){return Q("n"),this};var Ae=f.__private__.isValidStyle=function(t){var e=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(t)&&(e=!0),e};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(t){return Ae(t)&&(c=t),this};var Ne=f.__private__.getStyle=f.getStyle=function(t){var e=c;switch(t){case"D":case"S":e="S";break;case"F":e="f";break;case"FD":case"DF":e="B";break;case"f":case"f*":case"B":case"B*":e=t}return e},Ee=f.close=function(){return Q("h"),this};f.stroke=function(){return Q("S"),this},f.fill=function(t){return Le("f",t),this},f.fillEvenOdd=function(t){return Le("f*",t),this},f.fillStroke=function(t){return Le("B",t),this},f.fillStrokeEvenOdd=function(t){return Le("B*",t),this};var Le=function(t,e){"object"===cx(e)?Te(e,t):Q(t)},ke=function(t){null===t||w===b&&void 0===t||(t=Ne(t),Q(t))};function Ce(t,e,n,r,i){var s=new FS(e||this.boundingBox,n||this.xStep,r||this.yStep,this.gState,i||this.matrix);s.stream=this.stream;var a=t+"$$"+this.cloneIndex+++"$$";return Ft(a,s),s}var Te=function(t,e){var n=wt[t.key],r=bt[n];if(r instanceof DS)Q("q"),Q(Pe(e)),r.gState&&f.setGState(r.gState),Q(t.matrix.toString()+" cm"),Q("/"+n+" sh"),Q("Q");else if(r instanceof FS){var i=new Pt(1,0,0,-1,0,un());t.matrix&&(i=i.multiply(t.matrix||Dt),n=Ce.call(r,t.key,t.boundingBox,t.xStep,t.yStep,i).id),Q("q"),Q("/Pattern cs"),Q("/"+n+" scn"),r.gState&&f.setGState(r.gState),Q(e),Q("Q")}},Pe=function(t){switch(t){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Ie=f.moveTo=function(t,e){return Q(A(C(t))+" "+A(T(e))+" m"),this},De=f.lineTo=function(t,e){return Q(A(C(t))+" "+A(T(e))+" l"),this},Fe=f.curveTo=function(t,e,n,r,i,s){return Q([A(C(t)),A(T(e)),A(C(n)),A(T(r)),A(C(i)),A(T(s)),"c"].join(" ")),this};f.__private__.line=f.line=function(t,e,n,r,i){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||!Ae(i))throw new Error("Invalid arguments passed to jsPDF.line");return w===y?this.lines([[n-t,r-e]],t,e,[1,1],i||"S"):this.lines([[n-t,r-e]],t,e,[1,1]).stroke()},f.__private__.lines=f.lines=function(t,e,n,r,i,s){var a,o,l,c,u,h,d,f,p,g,m,v;if("number"==typeof t&&(v=n,n=e,e=t,t=v),r=r||[1,1],s=s||!1,isNaN(e)||isNaN(n)||!Array.isArray(t)||!Array.isArray(r)||!Ae(i)||"boolean"!=typeof s)throw new Error("Invalid arguments passed to jsPDF.lines");for(Ie(e,n),a=r[0],o=r[1],c=t.length,g=e,m=n,l=0;l<c;l++)2===(u=t[l]).length?(g=u[0]*a+g,m=u[1]*o+m,De(g,m)):(h=u[0]*a+g,d=u[1]*o+m,f=u[2]*a+g,p=u[3]*o+m,g=u[4]*a+g,m=u[5]*o+m,Fe(h,d,f,p,g,m));return s&&Ee(),ke(i),this},f.path=function(t){for(var e=0;e<t.length;e++){var n=t[e],r=n.c;switch(n.op){case"m":Ie(r[0],r[1]);break;case"l":De(r[0],r[1]);break;case"c":Fe.apply(this,r);break;case"h":Ee()}}return this},f.__private__.rect=f.rect=function(t,e,n,r,i){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||!Ae(i))throw new Error("Invalid arguments passed to jsPDF.rect");return w===y&&(r=-r),Q([A(C(t)),A(T(e)),A(C(n)),A(C(r)),"re"].join(" ")),ke(i),this},f.__private__.triangle=f.triangle=function(t,e,n,r,i,s,a){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(s)||!Ae(a))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[n-t,r-e],[i-n,s-r],[t-i,e-s]],t,e,[1,1],a,!0),this},f.__private__.roundedRect=f.roundedRect=function(t,e,n,r,i,s,a){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(s)||!Ae(a))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var o=4/3*(Math.SQRT2-1);return i=Math.min(i,.5*n),s=Math.min(s,.5*r),this.lines([[n-2*i,0],[i*o,0,i,s-s*o,i,s],[0,r-2*s],[0,s*o,-i*o,s,-i,s],[2*i-n,0],[-i*o,0,-i,-s*o,-i,-s],[0,2*s-r],[0,-s*o,i*o,-s,i,-s]],t+i,e,[1,1],a,!0),this},f.__private__.ellipse=f.ellipse=function(t,e,n,r,i){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||!Ae(i))throw new Error("Invalid arguments passed to jsPDF.ellipse");var s=4/3*(Math.SQRT2-1)*n,a=4/3*(Math.SQRT2-1)*r;return Ie(t+n,e),Fe(t+n,e-a,t+s,e-r,t,e-r),Fe(t-s,e-r,t-n,e-a,t-n,e),Fe(t-n,e+a,t-s,e+r,t,e+r),Fe(t+s,e+r,t+n,e+a,t+n,e),ke(i),this},f.__private__.circle=f.circle=function(t,e,n,r){if(isNaN(t)||isNaN(e)||isNaN(n)||!Ae(r))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(t,e,n,n,r)},f.setFont=function(t,e,n){return n&&(e=S(e,n)),ht=ce(t,e,{disableWarning:!1}),this};var Me=f.__private__.getFont=f.getFont=function(){return mt[ce.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var t,e,n={};for(t in vt)if(vt.hasOwnProperty(t))for(e in n[t]=[],vt[t])vt[t].hasOwnProperty(e)&&n[t].push(e);return n},f.addFont=function(t,e,n,r,i){var s=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==s.indexOf(arguments[3])?i=arguments[3]:arguments[3]&&-1==s.indexOf(arguments[3])&&(n=S(n,r)),ne.call(this,t,e,n,i=i||"Identity-H")};var Oe,Re=t.lineWidth||.200025,je=f.__private__.getLineWidth=f.getLineWidth=function(){return Re},Be=f.__private__.setLineWidth=f.setLineWidth=function(t){return Re=t,Q(A(C(t))+" w"),this};f.__private__.setLineDash=MS.API.setLineDash=MS.API.setLineDashPattern=function(t,e){if(t=t||[],e=e||0,isNaN(e)||!Array.isArray(t))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return t=t.map(function(t){return A(C(t))}).join(" "),e=A(C(e)),Q("["+t+"] "+e+" d"),this};var qe=f.__private__.getLineHeight=f.getLineHeight=function(){return et*Oe};f.__private__.getLineHeight=f.getLineHeight=function(){return et*Oe};var Ue=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(t){return"number"==typeof(t=t||1.15)&&(Oe=t),this},Ve=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return Oe};Ue(t.lineHeight);var ze=f.__private__.getHorizontalCoordinate=function(t){return C(t)},He=f.__private__.getVerticalCoordinate=function(t){return w===b?t:Nt[B].mediaBox.topRightY-Nt[B].mediaBox.bottomLeftY-C(t)},We=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(t){return A(ze(t))},$e=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(t){return A(He(t))},Ge=t.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return Vt(Ge)},f.__private__.setStrokeColor=f.setDrawColor=function(t,e,n,r){return Ge=zt({ch1:t,ch2:e,ch3:n,ch4:r,pdfColorType:"draw",precision:2}),Q(Ge),this};var Ke=t.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return Vt(Ke)},f.__private__.setFillColor=f.setFillColor=function(t,e,n,r){return Ke=zt({ch1:t,ch2:e,ch3:n,ch4:r,pdfColorType:"fill",precision:2}),Q(Ke),this};var Ye=t.textColor||"0 g",Xe=f.__private__.getTextColor=f.getTextColor=function(){return Vt(Ye)};f.__private__.setTextColor=f.setTextColor=function(t,e,n,r){return Ye=zt({ch1:t,ch2:e,ch3:n,ch4:r,pdfColorType:"text",precision:3}),this};var Qe=t.charSpace,Je=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(Qe||0)};f.__private__.setCharSpace=f.setCharSpace=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Qe=t,this};var Ze=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(t){var e=f.CapJoinStyles[t];if(void 0===e)throw new Error("Line cap style of '"+t+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ze=e,Q(e+" J"),this};var tn=0;f.__private__.setLineJoin=f.setLineJoin=function(t){var e=f.CapJoinStyles[t];if(void 0===e)throw new Error("Line join style of '"+t+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return tn=e,Q(e+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(t){if(t=t||0,isNaN(t))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Q(A(C(t))+" M"),this},f.GState=PS,f.setGState=function(t){(t="string"==typeof t?_t[xt[t]]:en(null,t)).equals(St)||(Q("/"+t.id+" gs"),St=t)};var en=function(t,e){if(!t||!xt[t]){var n=!1;for(var r in _t)if(_t.hasOwnProperty(r)&&_t[r].equals(e)){n=!0;break}if(n)e=_t[r];else{var i="GS"+(Object.keys(_t).length+1).toString(10);_t[i]=e,e.id=i}return t&&(xt[t]=e.id),Et.publish("addGState",e),e}};f.addGState=function(t,e){return en(t,e),this},f.saveGraphicsState=function(){return Q("q"),yt.push({key:ht,size:et,color:Ye}),this},f.restoreGraphicsState=function(){Q("Q");var t=yt.pop();return ht=t.key,et=t.size,Ye=t.color,St=null,this},f.setCurrentTransformationMatrix=function(t){return Q(t.toString()+" cm"),this},f.comment=function(t){return Q("#"+t),this};var nn=function(t,e){var n=t||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return n},set:function(t){isNaN(t)||(n=parseFloat(t))}});var r=e||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return r},set:function(t){isNaN(t)||(r=parseFloat(t))}});var i="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return i},set:function(t){i=t.toString()}}),this},rn=function(t,e,n,r){nn.call(this,t,e),this.type="rect";var i=n||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return i},set:function(t){isNaN(t)||(i=parseFloat(t))}});var s=r||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return s},set:function(t){isNaN(t)||(s=parseFloat(t))}}),this},sn=function(){this.page=At,this.currentPage=B,this.pages=G.slice(0),this.pagesContext=Nt.slice(0),this.x=ft,this.y=pt,this.matrix=gt,this.width=ln(B),this.height=un(B),this.outputDestination=Y,this.id="",this.objectNumber=-1};sn.prototype.restore=function(){At=this.page,B=this.currentPage,Nt=this.pagesContext,G=this.pages,ft=this.x,pt=this.y,gt=this.matrix,cn(B,this.width),hn(B,this.height),Y=this.outputDestination};var an=function(t,e,n,r,i){Tt.push(new sn),At=B=0,G=[],ft=t,pt=e,gt=i,ie([n,r])};for(var on in f.beginFormObject=function(t,e,n,r,i){return an(t,e,n,r,i),this},f.endFormObject=function(t){return function(t){if(Ct[t])Tt.pop().restore();else{var e=new sn,n="Xo"+(Object.keys(kt).length+1).toString(10);e.id=n,Ct[t]=n,kt[n]=e,Et.publish("addFormObject",e),Tt.pop().restore()}}(t),this},f.doFormObject=function(t,e){var n=kt[Ct[t]];return Q("q"),Q(e.toString()+" cm"),Q("/"+n.id+" Do"),Q("Q"),this},f.getFormObject=function(t){var e=kt[Ct[t]];return{x:e.x,y:e.y,width:e.width,height:e.height,matrix:e.matrix}},f.save=function(t,e){return t=t||"generated.pdf",(e=e||{}).returnPromise=e.returnPromise||!1,!1===e.returnPromise?(uS(me(ge()),t),"function"==typeof uS.unload&&nS.setTimeout&&setTimeout(uS.unload,911),this):new Promise(function(e,n){try{var r=uS(me(ge()),t);"function"==typeof uS.unload&&nS.setTimeout&&setTimeout(uS.unload,911),e(r)}catch(i){n(i.message)}})},MS.API)MS.API.hasOwnProperty(on)&&("events"===on&&MS.API.events.length?function(t,e){var n,r,i;for(i=e.length-1;-1!==i;i--)n=e[i][0],r=e[i][1],t.subscribe.apply(t,[n].concat("function"==typeof r?[r]:r))}(Et,MS.API.events):f[on]=MS.API[on]);var ln=f.getPageWidth=function(t){return(Nt[t=t||B].mediaBox.topRightX-Nt[t].mediaBox.bottomLeftX)/dt},cn=f.setPageWidth=function(t,e){Nt[t].mediaBox.topRightX=e*dt+Nt[t].mediaBox.bottomLeftX},un=f.getPageHeight=function(t){return(Nt[t=t||B].mediaBox.topRightY-Nt[t].mediaBox.bottomLeftY)/dt},hn=f.setPageHeight=function(t,e){Nt[t].mediaBox.topRightY=e*dt+Nt[t].mediaBox.bottomLeftY};return f.internal={pdfEscape:re,getStyle:Ne,getFont:Me,getFontSize:rt,getCharSpace:Je,getTextColor:Xe,getLineHeight:qe,getLineHeightFactor:Ve,getLineWidth:je,write:J,getHorizontalCoordinate:ze,getVerticalCoordinate:He,getCoordinateString:We,getVerticalCoordinateString:$e,collections:{},newObject:Ot,newAdditionalObject:Bt,newObjectDeferred:Rt,newObjectDeferredBegin:jt,getFilters:Ht,putStream:Wt,events:Et,scaleFactor:dt,pageSize:{getWidth:function(){return ln(B)},setWidth:function(t){cn(B,t)},getHeight:function(){return un(B)},setHeight:function(t){hn(B,t)}},encryptionOptions:u,encryption:be,getEncryptor:function(t){return null!==u?be.encryptor(t,0):function(t){return t}},output:ve,getNumberOfPages:le,pages:G,out:Q,f2:L,f3:k,getPageInfo:we,getPageInfoByObjId:_e,getCurrentPageInfo:xe,getPDFVersion:g,Point:nn,Rectangle:rn,Matrix:Pt,hasHotfix:ye},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return ln(B)},set:function(t){cn(B,t)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return un(B)},set:function(t){hn(B,t)},enumerable:!0,configurable:!0}),function(t){for(var e=0,n=tt.length;e<n;e++){var r=ne.call(this,t[e][0],t[e][1],t[e][2],tt[e][3],!0);!1===h&&(d[r]=!0);var i=t[e][0].split("-");ee({id:r,fontName:i[0],fontStyle:i[1]||""})}Et.publish("addFonts",{fonts:mt,dictionary:vt})}.call(f,tt),ht="F1",se(i,n),Et.publish("initialized"),f}kS.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},kS.prototype.toHexString=function(t){return t.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},kS.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},kS.prototype.processOwnerPassword=function(t,e){return ES(SS(e).substr(0,5),t)},kS.prototype.encryptor=function(t,e){var n=SS(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(t){return ES(n,t)}},PS.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||cx(t)!==cx(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e))return!1;if(this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return 0===r},MS.API={events:[]},MS.version="2.5.2";var OS=MS.API,RS=1,jS=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},BS=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},qS=function(t){return t.toFixed(2)},US=function(t){return t.toFixed(5)};OS.__acroform__={};var VS=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},zS=function(t){return t*RS},HS=function(t){var e=new oA,n=_A.internal.getHeight(t)||0,r=_A.internal.getWidth(t)||0;return e.BBox=[0,0,Number(qS(r)),Number(qS(n))],e},WS=OS.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},$S=OS.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},GS=OS.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},KS=OS.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return GS(t,e-1)},YS=OS.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return WS(t,e-1)},XS=OS.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return $S(t,e-1)},QS=OS.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],a=t[2],o=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+o)||0,l.upperRight_X=n(i+a)||0,l.upperRight_Y=r(s)||0,[Number(qS(l.lowerLeft_X)),Number(qS(l.lowerLeft_Y)),Number(qS(l.upperRight_X)),Number(qS(l.upperRight_Y))]},JS=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=ZS(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+qS(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=HS(t);return s.scope=t.scope,s.stream=e.join("\n"),s}},ZS=function(t,e){var n=0===t.fontSize?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=")"==(e="("==e.substr(0,1)?e.substr(1):e).substr(e.length-1)?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(t){return t.split("\n")}):i.map(function(t){return[t]});var s=n,a=_A.internal.getHeight(t)||0;a=a<0?-a:a;var o=_A.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(e,n,r){if(e+1<i.length){var s=n+" "+i[e+1][0];return tA(s,t,r).width<=o-4}return!1};s++;t:for(;s>0;){e="",s--;var c,u,h=tA("3",t,s).height,d=t.multiline?a-s:(a-h)/2,f=d+=2,p=0,g=0,m=0;if(s<=0){e="(...) Tj\n",e+="% Width of Text: "+tA(e,t,s=12).width+", FieldWidth:"+o+"\n";break}for(var v="",y=0,b=0;b<i.length;b++)if(i.hasOwnProperty(b)){var w=!1;if(1!==i[b].length&&m!==i[b].length-1){if((h+2)*(y+2)+2>a)continue t;v+=i[b][m],w=!0,g=b,b--}else{v=" "==(v+=i[b][m]+" ").substr(v.length-1)?v.substr(0,v.length-1):v;var _=parseInt(b),x=l(_,v,s),S=b>=i.length-1;if(x&&!S){v+=" ",m=0;continue}if(x||S){if(S)g=_;else if(t.multiline&&(h+2)*(y+2)+2>a)continue t}else{if(!t.multiline)continue t;if((h+2)*(y+2)+2>a)continue t;g=_}}for(var A="",N=p;N<=g;N++){var E=i[N];if(t.multiline){if(N===g){A+=E[m]+" ",m=(m+1)%E.length;continue}if(N===p){A+=E[E.length-1]+" ";continue}}A+=E[0]+" "}switch(A=" "==A.substr(A.length-1)?A.substr(0,A.length-1):A,u=tA(A,t,s).width,t.textAlign){case"right":c=o-u-2;break;case"center":c=(o-u)/2;break;default:c=2}e+=qS(c)+" "+qS(f)+" Td\n",e+="("+jS(A)+") Tj\n",e+=-qS(c)+" 0 Td\n",f=-(s+2),u=0,p=w?g:g+1,y++,v=""}break}return r.text=e,r.fontSize=s,r},tA=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},eA={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},nA=function(t,e){var n={type:"reference",object:t};void 0===e.internal.getPageInfo(t.page).pageContext.annotations.find(function(t){return t.type===n.type&&t.object===n.object})&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},rA=function(t,e){if(e.scope=t,void 0!==t.internal&&(void 0===t.internal.acroformPlugin||!1===t.internal.acroformPlugin.isInitialized)){if(cA.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(eA)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");RS=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new lA,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){var e;(e=t).internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0}),t.internal.events.subscribe("buildDocument",function(){!function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var e=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];r.objId=void 0,r.hasAnnotation&&nA(r,t)}}(t)}),t.internal.events.subscribe("putCatalog",function(){!function(t){if(void 0===t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(t)}),t.internal.events.subscribe("postPutPages",function(e){!function(t,e){var n=!t;for(var r in t||(e.internal.newObjectDeferredBegin(e.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),e.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),t=t||e.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(t.hasOwnProperty(r)){var i=t[r],s=[],a=i.Rect;if(i.Rect&&(i.Rect=QS(i.Rect,e)),e.internal.newObjectDeferredBegin(i.objId,!0),i.DA=_A.createDefaultAppearanceStream(i),"object"===cx(i)&&"function"==typeof i.getKeyValueListForStream&&(s=i.getKeyValueListForStream()),i.Rect=a,i.hasAppearanceStream&&!i.appearanceStreamContent){var o=JS(i);s.push({key:"AP",value:"<</N "+o+">>"}),e.internal.acroformPlugin.xForms.push(o)}if(i.appearanceStreamContent){var l="";for(var c in i.appearanceStreamContent)if(i.appearanceStreamContent.hasOwnProperty(c)){var u=i.appearanceStreamContent[c];if(l+="/"+c+" ",l+="<<",Object.keys(u).length>=1||Array.isArray(u)){for(var r in u)if(u.hasOwnProperty(r)){var h=u[r];"function"==typeof h&&(h=h.call(e,i)),l+="/"+r+" "+h+" ",e.internal.acroformPlugin.xForms.indexOf(h)>=0||e.internal.acroformPlugin.xForms.push(h)}}else"function"==typeof(h=u)&&(h=h.call(e,i)),l+="/"+r+" "+h,e.internal.acroformPlugin.xForms.indexOf(h)>=0||e.internal.acroformPlugin.xForms.push(h);l+=">>"}s.push({key:"AP",value:"<<\n"+l+">>"})}e.internal.putStream({additionalKeyValues:s,objectId:i.objId}),e.internal.out("endobj")}n&&function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,i=t[n];e.internal.newObjectDeferredBegin(i.objId,!0),"object"===cx(i)&&"function"==typeof i.putStream&&i.putStream(),delete t[r]}}(e.internal.acroformPlugin.xForms,e)}(e,t)}),t.internal.acroformPlugin.isInitialized=!0}},iA=OS.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(t){return t};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(0!==s&&(i+=" "),cx(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":"/"!==t[s].substr(0,1)?(void 0!==e&&n&&(r=n.internal.getEncryptor(e)),i+="("+jS(r(t[s].toString()))+")"):i+=t[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},sA=function(t,e,n){var r=function(t){return t};return void 0!==e&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+jS(r(t))+")"},aA=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};aA.prototype.toString=function(){return this.objId+" 0 R"},aA.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},aA.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(t){return"content"!=t&&"appearanceStreamContent"!=t&&"scope"!=t&&"objId"!=t&&"_"!=t.substring(0,1)});for(var n in e)if(!1===Object.getOwnPropertyDescriptor(this,e[n]).configurable){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:iA(i,this.objId,this.scope)}):i instanceof aA?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):"function"!=typeof i&&t.push({key:r,value:i}))}return t};var oA=function(){aA.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){t=e.trim()},get:function(){return t||null}})};VS(oA,aA);var lA=function(){aA.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var e=function(t){return t};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+jS(e(t))+")"}},set:function(e){t=e}})};VS(lA,aA);var cA=function t(){aA.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){if(isNaN(t))throw new Error('Invalid value "'+t+'" for attribute F supplied.');e=t}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(KS(e,3))},set:function(t){!0===Boolean(t)?this.F=YS(e,3):this.F=XS(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){if(isNaN(t))throw new Error('Invalid value "'+t+'" for attribute Ff supplied.');n=t}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==r.length)return r},set:function(t){r=void 0!==t?t:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(t){r[0]=t}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(t){r[1]=t}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(t){r[2]=t}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(t){r[3]=t}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(t){switch(t){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=t;break;default:throw new Error('Invalid value "'+t+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof vA)return;s="FieldObject"+t.FieldNum++}var e=function(t){return t};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+jS(e(s))+")"},set:function(t){s=t.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(t){s=t}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(t){a=t}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(t){o=t}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(t){l=t}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===c?50/RS:c},set:function(t){c=t}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(t){u=t}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof vA||this instanceof bA))return sA(h,this.objId,this.scope)},set:function(t){t=t.toString(),h=t}});var d=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof pA==0?sA(d,this.objId,this.scope):d},set:function(t){t=t.toString(),d=this instanceof pA==0?"("===t.substr(0,1)?BS(t.substr(1,t.length-2)):BS(t):t}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof pA==1?BS(d.substr(1,d.length-1)):d},set:function(t){t=t.toString(),d=this instanceof pA==1?"/"+t:t}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(t){this.V=t}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof pA==0?sA(f,this.objId,this.scope):f},set:function(t){t=t.toString(),f=this instanceof pA==0?"("===t.substr(0,1)?BS(t.substr(1,t.length-2)):BS(t):t}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof pA==1?BS(f.substr(1,f.length-1)):f},set:function(t){t=t.toString(),f=this instanceof pA==1?"/"+t:t}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var p,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(t){t=Boolean(t),g=t}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(p)return p},set:function(t){p=t}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(KS(this.Ff,1))},set:function(t){!0===Boolean(t)?this.Ff=YS(this.Ff,1):this.Ff=XS(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(KS(this.Ff,2))},set:function(t){!0===Boolean(t)?this.Ff=YS(this.Ff,2):this.Ff=XS(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(KS(this.Ff,3))},set:function(t){!0===Boolean(t)?this.Ff=YS(this.Ff,3):this.Ff=XS(this.Ff,3)}});var m=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==m)return m},set:function(t){if(-1===[0,1,2].indexOf(t))throw new Error('Invalid value "'+t+'" for attribute Q supplied.');m=t}}),Object.defineProperty(this,"textAlign",{get:function(){var t;switch(m){case 0:default:t="left";break;case 1:t="center";break;case 2:t="right"}return t},configurable:!0,enumerable:!0,set:function(t){switch(t){case"right":case 2:m=2;break;case"center":case 1:m=1;break;default:m=0}}})};VS(cA,aA);var uA=function(){cA.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){t=e}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return iA(e,this.objId,this.scope)},set:function(t){var n,r;r=[],"string"==typeof(n=t)&&(r=function(t,e,n){n||(n=1);for(var r,i=[];r=e.exec(t);)i.push(r[n]);return i}(n,/\((.*?)\)/g)),e=r}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,n){for(n=n||!1,t=(t=t||"").toString();-1!==e.indexOf(t)&&(e.splice(e.indexOf(t),1),!1!==n););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(KS(this.Ff,18))},set:function(t){!0===Boolean(t)?this.Ff=YS(this.Ff,18):this.Ff=XS(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(KS(this.Ff,19))},set:function(t){!0===this.combo&&(!0===Boolean(t)?this.Ff=YS(this.Ff,19):this.Ff=XS(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(KS(this.Ff,20))},set:function(t){!0===Boolean(t)?(this.Ff=YS(this.Ff,20),e.sort()):this.Ff=XS(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(KS(this.Ff,22))},set:function(t){!0===Boolean(t)?this.Ff=YS(this.Ff,22):this.Ff=XS(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(KS(this.Ff,23))},set:function(t){!0===Boolean(t)?this.Ff=YS(this.Ff,23):this.Ff=XS(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(KS(this.Ff,27))},set:function(t){!0===Boolean(t)?this.Ff=YS(this.Ff,27):this.Ff=XS(this.Ff,27)}}),this.hasAppearanceStream=!1};VS(uA,cA);var hA=function(){uA.call(this),this.fontName="helvetica",this.combo=!1};VS(hA,uA);var dA=function(){hA.call(this),this.combo=!0};VS(dA,hA);var fA=function(){dA.call(this),this.edit=!0};VS(fA,dA);var pA=function(){cA.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(KS(this.Ff,15))},set:function(t){!0===Boolean(t)?this.Ff=YS(this.Ff,15):this.Ff=XS(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(KS(this.Ff,16))},set:function(t){!0===Boolean(t)?this.Ff=YS(this.Ff,16):this.Ff=XS(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(KS(this.Ff,17))},set:function(t){!0===Boolean(t)?this.Ff=YS(this.Ff,17):this.Ff=XS(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(KS(this.Ff,26))},set:function(t){!0===Boolean(t)?this.Ff=YS(this.Ff,26):this.Ff=XS(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(t){return t};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(e).length){var n,r=[];for(n in r.push("<<"),e)r.push("/"+n+" ("+jS(t(e[n]))+")");return r.push(">>"),r.join("\n")}},set:function(t){"object"===cx(t)&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){"string"==typeof t&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(e){t="/"+e}})};VS(pA,cA);var gA=function(){pA.call(this),this.pushButton=!0};VS(gA,pA);var mA=function(){pA.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=void 0!==e?e:[]}})};VS(mA,pA);var vA=function(){var t,e;cA.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(t){e=t}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(t){return t};this.scope&&(t=this.scope.internal.getEncryptor(this.objId));var e,n=[];for(e in n.push("<<"),r)n.push("/"+e+" ("+jS(t(r[e]))+")");return n.push(">>"),n.join("\n")},set:function(t){"object"===cx(t)&&(r=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(t){"string"==typeof t&&(r.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=_A.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};VS(vA,cA),mA.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},mA.prototype.createOption=function(t){var e=new vA;return e.Parent=this,e.optionName=t,this.Kids.push(e),xA.call(this.scope,e),e};var yA=function(){pA.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=_A.CheckBox.createAppearanceStream()};VS(yA,pA);var bA=function(){cA.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(KS(this.Ff,13))},set:function(t){!0===Boolean(t)?this.Ff=YS(this.Ff,13):this.Ff=XS(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(KS(this.Ff,21))},set:function(t){!0===Boolean(t)?this.Ff=YS(this.Ff,21):this.Ff=XS(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(KS(this.Ff,23))},set:function(t){!0===Boolean(t)?this.Ff=YS(this.Ff,23):this.Ff=XS(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(KS(this.Ff,24))},set:function(t){!0===Boolean(t)?this.Ff=YS(this.Ff,24):this.Ff=XS(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(KS(this.Ff,25))},set:function(t){!0===Boolean(t)?this.Ff=YS(this.Ff,25):this.Ff=XS(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(KS(this.Ff,26))},set:function(t){!0===Boolean(t)?this.Ff=YS(this.Ff,26):this.Ff=XS(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};VS(bA,cA);var wA=function(){bA.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(KS(this.Ff,14))},set:function(t){!0===Boolean(t)?this.Ff=YS(this.Ff,14):this.Ff=XS(this.Ff,14)}}),this.password=!0};VS(wA,bA);var _A={CheckBox:{createAppearanceStream:function(){return{N:{On:_A.CheckBox.YesNormal},D:{On:_A.CheckBox.YesPushDown,Off:_A.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=HS(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=ZS(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+qS(_A.internal.getWidth(t))+" "+qS(_A.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+qS(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join("\n"),e},YesNormal:function(t){var e=HS(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=_A.internal.getHeight(t),a=_A.internal.getWidth(t),o=ZS(t,t.caption);return i.push("1 g"),i.push("0 0 "+qS(a)+" "+qS(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+qS(a-1)+" "+qS(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+qS(o.fontSize)+" Tf "+r),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join("\n"),e},OffPushDown:function(t){var e=HS(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+qS(_A.internal.getWidth(t))+" "+qS(_A.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join("\n"),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:_A.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=_A.RadioButton.Circle.YesNormal,e.D[t]=_A.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=HS(t);e.scope=t.scope;var n=[],r=_A.internal.getWidth(t)<=_A.internal.getHeight(t)?_A.internal.getWidth(t)/4:_A.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=_A.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+US(_A.internal.getWidth(t)/2)+" "+US(_A.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join("\n"),e},YesPushDown:function(t){var e=HS(t);e.scope=t.scope;var n=[],r=_A.internal.getWidth(t)<=_A.internal.getHeight(t)?_A.internal.getWidth(t)/4:_A.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*_A.internal.Bezier_C).toFixed(5)),a=Number((r*_A.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+US(_A.internal.getWidth(t)/2)+" "+US(_A.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+US(_A.internal.getWidth(t)/2)+" "+US(_A.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join("\n"),e},OffPushDown:function(t){var e=HS(t);e.scope=t.scope;var n=[],r=_A.internal.getWidth(t)<=_A.internal.getHeight(t)?_A.internal.getWidth(t)/4:_A.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*_A.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+US(_A.internal.getWidth(t)/2)+" "+US(_A.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join("\n"),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:_A.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=_A.RadioButton.Cross.YesNormal,e.D[t]=_A.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=HS(t);e.scope=t.scope;var n=[],r=_A.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+qS(_A.internal.getWidth(t)-2)+" "+qS(_A.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(qS(r.x1.x)+" "+qS(r.x1.y)+" m"),n.push(qS(r.x2.x)+" "+qS(r.x2.y)+" l"),n.push(qS(r.x4.x)+" "+qS(r.x4.y)+" m"),n.push(qS(r.x3.x)+" "+qS(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join("\n"),e},YesPushDown:function(t){var e=HS(t);e.scope=t.scope;var n=_A.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+qS(_A.internal.getWidth(t))+" "+qS(_A.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+qS(_A.internal.getWidth(t)-2)+" "+qS(_A.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(qS(n.x1.x)+" "+qS(n.x1.y)+" m"),r.push(qS(n.x2.x)+" "+qS(n.x2.y)+" l"),r.push(qS(n.x4.x)+" "+qS(n.x4.y)+" m"),r.push(qS(n.x3.x)+" "+qS(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join("\n"),e},OffPushDown:function(t){var e=HS(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+qS(_A.internal.getWidth(t))+" "+qS(_A.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join("\n"),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};_A.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=_A.internal.getWidth(t),n=_A.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},_A.internal.getWidth=function(t){var e=0;return"object"===cx(t)&&(e=zS(t.Rect[2])),e},_A.internal.getHeight=function(t){var e=0;return"object"===cx(t)&&(e=zS(t.Rect[3])),e};var xA=OS.addField=function(t){if(rA(this,t),!(t instanceof cA))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};OS.AcroFormChoiceField=uA,OS.AcroFormListBox=hA,OS.AcroFormComboBox=dA,OS.AcroFormEditBox=fA,OS.AcroFormButton=pA,OS.AcroFormPushButton=gA,OS.AcroFormRadioButton=mA,OS.AcroFormCheckBox=yA,OS.AcroFormTextField=bA,OS.AcroFormPasswordField=wA,OS.AcroFormAppearance=_A,OS.AcroForm={ChoiceField:uA,ListBox:hA,ComboBox:dA,EditBox:fA,Button:pA,PushButton:gA,RadioButton:mA,CheckBox:yA,TextField:bA,PasswordField:wA,Appearance:_A},MS.AcroForm={ChoiceField:uA,ListBox:hA,ComboBox:dA,EditBox:fA,Button:pA,PushButton:gA,RadioButton:mA,CheckBox:yA,TextField:bA,PasswordField:wA,Appearance:_A};var SA,AA,NA=MS.AcroForm;function EA(t){return t.reduce(function(t,e,n){return t[e]=n,t},{})}!function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(t,r){var i,s,a,o,l,c=e;if("RGBA"===(r=r||e)||void 0!==t.data&&t.data instanceof Uint8ClampedArray&&"height"in t&&"width"in t)return"RGBA";if(x(t))for(l in n)for(a=n[l],i=0;i<a.length;i+=1){for(o=!0,s=0;s<a[i].length;s+=1)if(void 0!==a[i][s]&&a[i][s]!==t[s]){o=!1;break}if(!0===o){c=l;break}}else for(l in n)for(a=n[l],i=0;i<a.length;i+=1){for(o=!0,s=0;s<a[i].length;s+=1)if(void 0!==a[i][s]&&a[i][s]!==t.charCodeAt(s)){o=!1;break}if(!0===o){c=l;break}}return c===e&&r!==e&&(c=r),c},i=function t(e){for(var n=this.internal.write,r=this.internal.putStream,i=(0,this.internal.getFilters)();-1!==i.indexOf("FlateEncode");)i.splice(i.indexOf("FlateEncode"),1);e.objectId=this.internal.newObject();var s=[];if(s.push({key:"Type",value:"/XObject"}),s.push({key:"Subtype",value:"/Image"}),s.push({key:"Width",value:e.width}),s.push({key:"Height",value:e.height}),e.colorSpace===m.INDEXED?s.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(e.palette.length/3-1)+" "+("sMask"in e&&void 0!==e.sMask?e.objectId+2:e.objectId+1)+" 0 R]"}):(s.push({key:"ColorSpace",value:"/"+e.colorSpace}),e.colorSpace===m.DEVICE_CMYK&&s.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),s.push({key:"BitsPerComponent",value:e.bitsPerComponent}),"decodeParameters"in e&&void 0!==e.decodeParameters&&s.push({key:"DecodeParms",value:"<<"+e.decodeParameters+">>"}),"transparency"in e&&Array.isArray(e.transparency)){for(var a="",o=0,l=e.transparency.length;o<l;o++)a+=e.transparency[o]+" "+e.transparency[o]+" ";s.push({key:"Mask",value:"["+a+"]"})}void 0!==e.sMask&&s.push({key:"SMask",value:e.objectId+1+" 0 R"});var c=void 0!==e.filter?["/"+e.filter]:void 0;if(r({data:e.data,additionalKeyValues:s,alreadyAppliedFilters:c,objectId:e.objectId}),n("endobj"),"sMask"in e&&void 0!==e.sMask){var u="/Predictor "+e.predictor+" /Colors 1 /BitsPerComponent "+e.bitsPerComponent+" /Columns "+e.width,h={width:e.width,height:e.height,colorSpace:"DeviceGray",bitsPerComponent:e.bitsPerComponent,decodeParameters:u,data:e.sMask};"filter"in e&&(h.filter=e.filter),t.call(this,h)}if(e.colorSpace===m.INDEXED){var d=this.internal.newObject();r({data:A(new Uint8Array(e.palette)),objectId:d}),n("endobj")}},s=function(){var t=this.internal.collections.addImage_images;for(var e in t)i.call(this,t[e])},a=function(){var t,e=this.internal.collections.addImage_images,n=this.internal.write;for(var r in e)n("/I"+(t=e[r]).index,t.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},l=function(){var t=this.internal.collections.addImage_images;return o.call(this),t},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(e){return"function"==typeof t["process"+e.toUpperCase()]},h=function(t){return"object"===cx(t)&&1===t.nodeType},d=function(e,n){if("IMG"===e.nodeName&&e.hasAttribute("src")){var r=""+e.getAttribute("src");if(0===r.indexOf("data:image/"))return lS(unescape(r).split("base64,").pop());var i=t.loadFile(r,!0);if(void 0!==i)return i}if("CANVAS"===e.nodeName){if(0===e.width||0===e.height)throw new Error("Given canvas must have data. Canvas width: "+e.width+", height: "+e.height);var s;switch(n){case"PNG":s="image/png";break;case"WEBP":s="image/webp";break;default:s="image/jpeg"}return lS(e.toDataURL(s,1).split("base64,").pop())}},f=function(t){var e=this.internal.collections.addImage_images;if(e)for(var n in e)if(t===e[n].alias)return e[n]},p=function(t,e,n){return t||e||(t=-96,e=-96),t<0&&(t=-1*n.width*72/t/this.internal.scaleFactor),e<0&&(e=-1*n.height*72/e/this.internal.scaleFactor),0===t&&(t=e*n.width/n.height),0===e&&(e=t*n.height/n.width),[t,e]},g=function(t,e,n,r,i,s){var a=p.call(this,n,r,i),o=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,u=l.call(this);if(n=a[0],r=a[1],u[i.index]=i,s){s*=Math.PI/180;var h=Math.cos(s),d=Math.sin(s),f=function(t){return t.toFixed(4)},g=[f(h),f(d),f(-1*d),f(h),0,0,"cm"]}this.internal.write("q"),s?(this.internal.write([1,"0","0",1,o(t),c(e+r),"cm"].join(" ")),this.internal.write(g.join(" ")),this.internal.write([o(n),"0","0",o(r),"0","0","cm"].join(" "))):this.internal.write([o(n),"0","0",o(r),o(t),c(e+r),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+i.index+" Do"),this.internal.write("Q")},m=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var v=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=t.__addimage__.sHashCode=function(t){var e,n,r=0;if("string"==typeof t)for(n=t.length,e=0;e<n;e++)r=(r<<5)-r+t.charCodeAt(e),r|=0;else if(x(t))for(n=t.byteLength/2,e=0;e<n;e++)r=(r<<5)-r+t[e],r|=0;return r},b=t.__addimage__.validateStringAsBase64=function(t){(t=t||"").toString().trim();var e=!0;return 0===t.length&&(e=!1),t.length%4!=0&&(e=!1),!1===/^[A-Za-z0-9+/]+$/.test(t.substr(0,t.length-2))&&(e=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(t.substr(-2))&&(e=!1),e},w=t.__addimage__.extractImageFromDataUrl=function(t){var e=(t=t||"").split("base64,"),n=null;if(2===e.length){var r=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(e[0]);Array.isArray(r)&&(n={mimeType:r[1],charset:r[2],data:e[1]})}return n},_=t.__addimage__.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array};t.__addimage__.isArrayBuffer=function(t){return _()&&t instanceof ArrayBuffer};var x=t.__addimage__.isArrayBufferView=function(t){return _()&&"undefined"!=typeof Uint32Array&&(t instanceof Int8Array||t instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)},S=t.__addimage__.binaryStringToUint8Array=function(t){for(var e=t.length,n=new Uint8Array(e),r=0;r<e;r++)n[r]=t.charCodeAt(r);return n},A=t.__addimage__.arrayBufferToBinaryString=function(t){for(var e="",n=x(t)?t:new Uint8Array(t),r=0;r<n.length;r+=8192)e+=String.fromCharCode.apply(null,n.subarray(r,r+8192));return e};t.addImage=function(){var t,n,r,i,s,a,l,c,u;if("number"==typeof arguments[1]?(n=e,r=arguments[1],i=arguments[2],s=arguments[3],a=arguments[4],l=arguments[5],c=arguments[6],u=arguments[7]):(n=arguments[1],r=arguments[2],i=arguments[3],s=arguments[4],a=arguments[5],l=arguments[6],c=arguments[7],u=arguments[8]),"object"===cx(t=arguments[0])&&!h(t)&&"imageData"in t){var d=t;t=d.imageData,n=d.format||n||e,r=d.x||r||0,i=d.y||i||0,s=d.w||d.width||s,a=d.h||d.height||a,l=d.alias||l,c=d.compression||c,u=d.rotation||d.angle||u}var f=this.internal.getFilters();if(void 0===c&&-1!==f.indexOf("FlateEncode")&&(c="SLOW"),isNaN(r)||isNaN(i))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var p=N.call(this,t,n,l,c);return g.call(this,r,i,s,a,p,u),this};var N=function(n,i,s,a){var o,l,p,g;if("string"==typeof n&&r(n)===e){n=unescape(n);var m=E(n,!1);(""!==m||void 0!==(m=t.loadFile(n,!0)))&&(n=m)}if(h(n)&&(n=d(n,i)),i=r(n,i),!u(i))throw new Error("addImage does not support files of type '"+i+"', please ensure that a plugin for '"+i+"' support is added.");if((null==(p=s)||0===p.length)&&(s="string"==typeof(g=n)||x(g)?y(g):x(g.data)?y(g.data):null),(o=f.call(this,s))||(_()&&(n instanceof Uint8Array||"RGBA"===i||(l=n,n=S(n))),o=this["process"+i.toUpperCase()](n,c.call(this),s,function(e){return e&&"string"==typeof e&&(e=e.toUpperCase()),e in t.image_compression?e:v.NONE}(a),l)),!o)throw new Error("An unknown error occurred whilst processing the image.");return o},E=t.__addimage__.convertBase64ToBinaryString=function(t,e){var n;e="boolean"!=typeof e||e;var r,i="";if("string"==typeof t){r=null!==(n=w(t))?n.data:t;try{i=lS(r)}catch(s){if(e)throw b(r)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+s.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return i};t.getImageProperties=function(n){var i,s,a="";if(h(n)&&(n=d(n)),"string"==typeof n&&r(n)===e&&(""===(a=E(n,!1))&&(a=t.loadFile(n)||""),n=a),s=r(n),!u(s))throw new Error("addImage does not support files of type '"+s+"', please ensure that a plugin for '"+s+"' support is added.");if(!_()||n instanceof Uint8Array||(n=S(n)),!(i=this["process"+s.toUpperCase()](n)))throw new Error("An unknown error occurred whilst processing the image");return i.fileType=s,i}}(MS.API),
/**
 * @license
 * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
SA=MS.API,AA=function(t){if(void 0!==t&&""!=t)return!0},MS.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),SA.events.push(["putPage",function(t){for(var e,n,r,i=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,a=this.internal.getPageInfoByObjId(t.objId),o=t.pageContext.annotations,l=!1,c=0;c<o.length&&!l;c++)switch((e=o[c]).type){case"link":(AA(e.options.url)||AA(e.options.pageNumber))&&(l=!0);break;case"reference":case"text":case"freetext":l=!0}if(0!=l){this.internal.write("/Annots [");for(var u=0;u<o.length;u++){e=o[u];var h=this.internal.pdfEscape,d=this.internal.getEncryptor(t.objId);switch(e.type){case"reference":this.internal.write(" "+e.object.objId+" 0 R ");break;case"text":var f=this.internal.newAdditionalObject(),p=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(f.objId),m=e.title||"Note";r="<</Type /Annot /Subtype /Text "+(n="/Rect ["+i(e.bounds.x)+" "+s(e.bounds.y+e.bounds.h)+" "+i(e.bounds.x+e.bounds.w)+" "+s(e.bounds.y)+"] ")+"/Contents ("+h(g(e.contents))+")",r+=" /Popup "+p.objId+" 0 R",r+=" /P "+a.objId+" 0 R",r+=" /T ("+h(g(m))+") >>",f.content=r;var v=f.objId+" 0 R";r="<</Type /Annot /Subtype /Popup "+(n="/Rect ["+i(e.bounds.x+30)+" "+s(e.bounds.y+e.bounds.h)+" "+i(e.bounds.x+e.bounds.w+30)+" "+s(e.bounds.y)+"] ")+" /Parent "+v,e.open&&(r+=" /Open true"),r+=" >>",p.content=r,this.internal.write(f.objId,"0 R",p.objId,"0 R");break;case"freetext":n="/Rect ["+i(e.bounds.x)+" "+s(e.bounds.y)+" "+i(e.bounds.x+e.bounds.w)+" "+s(e.bounds.y+e.bounds.h)+"] ";var y=e.color||"#000000";r="<</Type /Annot /Subtype /FreeText "+n+"/Contents ("+h(d(e.contents))+")",r+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+y+")",r+=" /Border [0 0 0]",r+=" >>",this.internal.write(r);break;case"link":if(e.options.name){var b=this.annotations._nameMap[e.options.name];e.options.pageNumber=b.page,e.options.top=b.y}else e.options.top||(e.options.top=0);if(n="/Rect ["+e.finalBounds.x+" "+e.finalBounds.y+" "+e.finalBounds.w+" "+e.finalBounds.h+"] ",r="",e.options.url)r="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /A <</S /URI /URI ("+h(d(e.options.url))+") >>";else if(e.options.pageNumber)switch(r="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(e.options.pageNumber).objId+" 0 R",e.options.magFactor=e.options.magFactor||"XYZ",e.options.magFactor){case"Fit":r+=" /Fit]";break;case"FitH":r+=" /FitH "+e.options.top+"]";break;case"FitV":e.options.left=e.options.left||0,r+=" /FitV "+e.options.left+"]";break;default:var w=s(e.options.top);e.options.left=e.options.left||0,void 0===e.options.zoom&&(e.options.zoom=0),r+=" /XYZ "+e.options.left+" "+w+" "+e.options.zoom+"]"}""!=r&&(r+=" >>",this.internal.write(r))}}this.internal.write("]")}}]),SA.createAnnotation=function(t){var e=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":e.pageContext.annotations.push(t)}},SA.link=function(t,e,n,r,i){var s=this.internal.getCurrentPageInfo(),a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString;s.pageContext.annotations.push({finalBounds:{x:a(t),y:o(e),w:a(t+n),h:o(e+r)},options:i,type:"link"})},SA.textWithLink=function(t,e,n,r){var i,s,a=this.getTextWidth(t),o=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==r.maxWidth){s=r.maxWidth;var l=this.splitTextToSize(t,s).length;i=Math.ceil(o*l)}else s=a,i=o;return this.text(t,e,n,r),n+=.2*o,"center"===r.align&&(e-=a/2),"right"===r.align&&(e-=a),this.link(e,n-o,s,i,r),a},SA.getTextWidth=function(t){var e=this.internal.getFontSize();return this.getStringUnitWidth(t)*e/this.internal.scaleFactor},
/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(t){return void 0!==e[t.charCodeAt(0)]},a=t.__arabicParser__.isArabicLetter=function(t){return"string"==typeof t&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(t)},o=t.__arabicParser__.isArabicEndLetter=function(t){return a(t)&&s(t)&&e[t.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(t){return a(t)&&i.indexOf(t.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(t){return a(t)&&s(t)&&e[t.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(t){return a(t)&&s(t)&&e[t.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(t){return a(t)&&s(t)&&e[t.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(t){return a(t)&&s(t)&&4==e[t.charCodeAt(0)].length},h=t.__arabicParser__.resolveLigatures=function(t){var e=0,r=n,i="",s=0;for(e=0;e<t.length;e+=1)void 0!==r[t.charCodeAt(e)]?(s++,"number"==typeof(r=r[t.charCodeAt(e)])&&(i+=String.fromCharCode(r),r=n,s=0),e===t.length-1&&(r=n,i+=t.charAt(e-(s-1)),e-=s-1,s=0)):(r=n,i+=t.charAt(e-s),e-=s,s=0);return i};t.__arabicParser__.isArabicDiacritic=function(t){return void 0!==t&&void 0!==r[t.charCodeAt(0)]};var d=t.__arabicParser__.getCorrectForm=function(t,e,n){return a(t)?!1===s(t)?-1:!c(t)||!a(e)&&!a(n)||!a(n)&&o(e)||o(t)&&!a(e)||o(t)&&l(e)||o(t)&&o(e)?0:u(t)&&a(e)&&!o(e)&&a(n)&&c(n)?3:o(t)||!a(n)?1:2:-1},f=function(t){var n=0,r=0,i=0,s="",o="",l="",c=(t=t||"").split("\\s+"),u=[];for(n=0;n<c.length;n+=1){for(u.push(""),r=0;r<c[n].length;r+=1)s=c[n][r],o=c[n][r-1],l=c[n][r+1],a(s)?(i=d(s,o,l),u[n]+=-1!==i?String.fromCharCode(e[s.charCodeAt(0)][i]):s):u[n]+=s;u[n]=h(u[n])}return u.join(" ")},p=t.__arabicParser__.processArabic=t.processArabic=function(){var t,e="string"==typeof arguments[0]?arguments[0]:arguments[0].text,n=[];if(Array.isArray(e)){var r=0;for(n=[],r=0;r<e.length;r+=1)Array.isArray(e[r])?n.push([f(e[r][0]),e[r][1],e[r][2]]):n.push([f(e[r])]);t=n}else t=f(e);return"string"==typeof arguments[0]?t:(arguments[0].text=t,arguments[0])};t.events.push(["preProcessText",p])}(MS.API),MS.API.autoPrint=function(t){var e;if("javascript"===((t=t||{}).variant=t.variant||"non-conform",t.variant))this.addJS("print({});");else this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")});return this},
/**
 * @license
 * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(t){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(e){t=e}});var e=150;Object.defineProperty(this,"width",{get:function(){return e},set:function(t){e=isNaN(t)||!1===Number.isInteger(t)||t<0?150:t,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=e+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(t){n=isNaN(t)||!1===Number.isInteger(t)||t<0?300:t,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var r=[];Object.defineProperty(this,"childNodes",{get:function(){return r},set:function(t){r=t}});var i={};Object.defineProperty(this,"style",{get:function(){return i},set:function(t){i=t}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,e){var n;if("2d"!==(t=t||"2d"))return null;for(n in e)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=e[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(MS.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var t=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return t},set:function(e){t=e}});var e=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return e},set:function(t){e=t}});var n=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return n},set:function(t){n=t}});var r=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return r},set:function(t){r=t}});var i=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return i},set:function(t){i=t}});var s=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return s},set:function(t){s=t}});var a=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return a},set:function(t){a=t}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(t){return r.call(this),this.internal.__cell__.headerFunction="function"==typeof t?t:void 0,this},t.getTextDimensions=function(t,e){r.call(this);var n=(e=e||{}).fontSize||this.getFontSize(),i=e.font||this.getFont(),s=e.scaleFactor||this.internal.scaleFactor,a=0,o=0,l=0,c=this;if(!Array.isArray(t)&&"string"!=typeof t){if("number"!=typeof t)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");t=String(t)}var u=e.maxWidth;u>0?"string"==typeof t?t=this.splitTextToSize(t,u):"[object Array]"===Object.prototype.toString.call(t)&&(t=t.reduce(function(t,e){return t.concat(c.splitTextToSize(e,u))},[])):t=Array.isArray(t)?t:[t];for(var h=0;h<t.length;h++)a<(l=this.getStringUnitWidth(t[h],{font:i})*n)&&(a=l);return 0!==a&&(o=t.length),{w:a/=s,h:Math.max((o*n*this.getLineHeightFactor()-n*(this.getLineHeightFactor()-1))/s,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var t=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(t.left,t.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var t;t=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var i=this.internal.__cell__.lastCell,a=this.internal.__cell__.padding,o=this.internal.__cell__.margins||e,l=this.internal.__cell__.tableHeaderRow,c=this.internal.__cell__.printHeaders;return void 0!==i.lineNumber&&(i.lineNumber===t.lineNumber?(t.x=(i.x||0)+(i.width||0),t.y=i.y||0):i.y+i.height+t.height+o.bottom>this.getPageHeight()?(this.cellAddPage(),t.y=o.top,c&&l&&(this.printHeaderRow(t.lineNumber,!0),t.y+=l[0].height)):t.y=i.y+i.height||t.y),void 0!==t.text[0]&&(this.rect(t.x,t.y,t.width,t.height,!0===n?"FD":void 0),"right"===t.align?this.text(t.text,t.x+t.width-a,t.y+a,{align:"right",baseline:"top"}):"center"===t.align?this.text(t.text,t.x+t.width/2,t.y+a,{align:"center",baseline:"top",maxWidth:t.width-a-a}):this.text(t.text,t.x+a,t.y+a,{align:"left",baseline:"top",maxWidth:t.width-a-a})),this.internal.__cell__.lastCell=t,this};t.table=function(t,n,l,c,u){if(r.call(this),!l)throw new Error("No data for PDF table.");var h,d,f,p,g=[],m=[],v=[],y={},b={},w=[],_=[],x=(u=u||{}).autoSize||!1,S=!1!==u.printHeaders,A=u.css&&void 0!==u.css["font-size"]?16*u.css["font-size"]:u.fontSize||12,N=u.margins||Object.assign({width:this.getPageWidth()},e),E="number"==typeof u.padding?u.padding:3,L=u.headerBackgroundColor||"#c8c8c8",k=u.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=S,this.internal.__cell__.margins=N,this.internal.__cell__.table_font_size=A,this.internal.__cell__.padding=E,this.internal.__cell__.headerBackgroundColor=L,this.internal.__cell__.headerTextColor=k,this.setFontSize(A),null==c)m=g=Object.keys(l[0]),v=g.map(function(){return"left"});else if(Array.isArray(c)&&"object"===cx(c[0]))for(g=c.map(function(t){return t.name}),m=c.map(function(t){return t.prompt||t.name||""}),v=c.map(function(t){return t.align||"left"}),h=0;h<c.length;h+=1)b[c[h].name]=c[h].width*(19.049976/25.4);else Array.isArray(c)&&"string"==typeof c[0]&&(m=g=c,v=g.map(function(){return"left"}));if(x||Array.isArray(c)&&"string"==typeof c[0])for(h=0;h<g.length;h+=1){for(y[p=g[h]]=l.map(function(t){return t[p]}),this.setFont(void 0,"bold"),w.push(this.getTextDimensions(m[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),d=y[p],this.setFont(void 0,"normal"),f=0;f<d.length;f+=1)w.push(this.getTextDimensions(d[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);b[p]=Math.max.apply(null,w)+E+E,w=[]}if(S){var C={};for(h=0;h<g.length;h+=1)C[g[h]]={},C[g[h]].text=m[h],C[g[h]].align=v[h];var T=o.call(this,C,b);_=g.map(function(e){return new s(t,n,b[e],T,C[e].text,void 0,C[e].align)}),this.setTableHeaderRow(_),this.printHeaderRow(1,!1)}var P=c.reduce(function(t,e){return t[e.name]=e.align,t},{});for(h=0;h<l.length;h+=1){"rowStart"in u&&u.rowStart instanceof Function&&u.rowStart({row:h,data:l[h]},this);var I=o.call(this,l[h],b);for(f=0;f<g.length;f+=1){var D=l[h][g[f]];"cellStart"in u&&u.cellStart instanceof Function&&u.cellStart({row:h,col:f,data:D},this),a.call(this,new s(t,n,b[g[f]],I,D,h+2,P[g[f]]))}}return this.internal.__cell__.table_x=t,this.internal.__cell__.table_y=n,this};var o=function(t,e){var n=this.internal.__cell__.padding,r=this.internal.__cell__.table_font_size,i=this.internal.scaleFactor;return Object.keys(t).map(function(r){var i=t[r];return this.splitTextToSize(i.hasOwnProperty("text")?i.text:i,e[r]-n-n)},this).map(function(t){return this.getLineHeightFactor()*t.length*r/i+n+n},this).reduce(function(t,e){return Math.max(t,e)},0)};t.setTableHeaderRow=function(t){r.call(this),this.internal.__cell__.tableHeaderRow=t},t.printHeaderRow=function(t,e){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var i;if(n=!0,"function"==typeof this.internal.__cell__.headerFunction){var o=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(o[0],o[1],o[2],o[3],void 0,-1)}this.setFont(void 0,"bold");for(var l=[],c=0;c<this.internal.__cell__.tableHeaderRow.length;c+=1){i=this.internal.__cell__.tableHeaderRow[c].clone(),e&&(i.y=this.internal.__cell__.margins.top||0,l.push(i)),i.lineNumber=t;var u=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,i),this.setTextColor(u)}l.length>0&&this.setTableHeaderRow(l),this.setFont(void 0,"normal"),n=!1}}(MS.API);var LA={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},kA=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],CA=EA(kA),TA=[100,200,300,400,500,600,700,800,900],PA=EA(TA);function IA(t){var e,n=t.family.replace(/"|'/g,"").toLowerCase(),r=(e=t.style,LA[e=e||"normal"]?e:"normal"),i=function(t){return t?"number"==typeof t?t>=100&&t<=900&&t%100==0?t:400:/^\d00$/.test(t)?parseInt(t):"bold"===t?700:400:400}(t.weight),s=function(t){return"number"==typeof CA[t=t||"normal"]?t:"normal"}(t.stretch);return{family:n,style:r,weight:i,stretch:s,src:t.src||[],ref:t.ref||{name:n,style:[s,r,i].join(" ")}}}function DA(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var FA={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},MA={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function OA(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function RA(t){return t.trimLeft()}function jA(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function BA(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===e?null:[e[0],t.substring(e[0].length)]}var qA,UA,VA,zA=["times"];!function(t){var e,n,r,i,s,a,o,l,c,u=function(t){return t=t||{},this.isStrokeTransparent=t.isStrokeTransparent||!1,this.strokeOpacity=t.strokeOpacity||1,this.strokeStyle=t.strokeStyle||"#000000",this.fillStyle=t.fillStyle||"#000000",this.isFillTransparent=t.isFillTransparent||!1,this.fillOpacity=t.fillOpacity||1,this.font=t.font||"10px sans-serif",this.textBaseline=t.textBaseline||"alphabetic",this.textAlign=t.textAlign||"left",this.lineWidth=t.lineWidth||1,this.lineJoin=t.lineJoin||"miter",this.lineCap=t.lineCap||"butt",this.path=t.path||[],this.transform=void 0!==t.transform?t.transform.clone():new l,this.globalCompositeOperation=t.globalCompositeOperation||"normal",this.globalAlpha=t.globalAlpha||1,this.clip_path=t.clip_path||[],this.currentPoint=t.currentPoint||new a,this.miterLimit=t.miterLimit||10,this.lastPoint=t.lastPoint||new a,this.lineDashOffset=t.lineDashOffset||0,this.lineDash=t.lineDash||[],this.margin=t.margin||[0,0,0,0],this.prevPageLastElemOffset=t.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof t.ignoreClearRect||t.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var h=function(t){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var e=t;Object.defineProperty(this,"pdf",{get:function(){return e}});var n=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return n},set:function(t){n=Boolean(t)}});var r=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return r},set:function(t){r=Boolean(t)}});var i=0;Object.defineProperty(this,"posX",{get:function(){return i},set:function(t){isNaN(t)||(i=t)}});var s=0;Object.defineProperty(this,"posY",{get:function(){return s},set:function(t){isNaN(t)||(s=t)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(t){var e;"number"==typeof t?e=[t,t,t,t]:((e=new Array(4))[0]=t[0],e[1]=t.length>=2?t[1]:e[0],e[2]=t.length>=3?t[2]:e[0],e[3]=t.length>=4?t[3]:e[1]),c.margin=e}});var a=!1;Object.defineProperty(this,"autoPaging",{get:function(){return a},set:function(t){a=t}});var o=0;Object.defineProperty(this,"lastBreak",{get:function(){return o},set:function(t){o=t}});var l=[];Object.defineProperty(this,"pageBreaks",{get:function(){return l},set:function(t){l=t}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(t){t instanceof u&&(c=t)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(t){c.path=t}});var h=[];Object.defineProperty(this,"ctxStack",{get:function(){return h},set:function(t){h=t}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(t){var e;e=d(t),this.ctx.fillStyle=e.style,this.ctx.isFillTransparent=0===e.a,this.ctx.fillOpacity=e.a,this.pdf.setFillColor(e.r,e.g,e.b,{a:e.a}),this.pdf.setTextColor(e.r,e.g,e.b,{a:e.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(t){var e=d(t);this.ctx.strokeStyle=e.style,this.ctx.isStrokeTransparent=0===e.a,this.ctx.strokeOpacity=e.a,0===e.a?this.pdf.setDrawColor(255,255,255):(e.a,this.pdf.setDrawColor(e.r,e.g,e.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(t){-1!==["butt","round","square"].indexOf(t)&&(this.ctx.lineCap=t,this.pdf.setLineCap(t))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(t){isNaN(t)||(this.ctx.lineWidth=t,this.pdf.setLineWidth(t))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(t){-1!==["bevel","round","miter"].indexOf(t)&&(this.ctx.lineJoin=t,this.pdf.setLineJoin(t))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(t){isNaN(t)||(this.ctx.miterLimit=t,this.pdf.setMiterLimit(t))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(t){this.ctx.textBaseline=t}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(t){-1!==["right","end","center","left","start"].indexOf(t)&&(this.ctx.textAlign=t)}});var f=null;var p=null;Object.defineProperty(this,"fontFaces",{get:function(){return p},set:function(t){f=null,p=t}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(t){var e;if(this.ctx.font=t,null!==(e=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(t))){var n=e[1],r=(e[2],e[3]),i=e[4],s=(e[5],e[6]),a=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(i)[2];i="px"===a?Math.floor(parseFloat(i)*this.pdf.internal.scaleFactor):"em"===a?Math.floor(parseFloat(i)*this.pdf.getFontSize()):Math.floor(parseFloat(i)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(i);var o=function(t){var e,n,r=[],i=t.trim();if(""===i)return zA;if(i in MA)return[MA[i]];for(;""!==i;){switch(n=null,e=(i=RA(i)).charAt(0)){case'"':case"'":n=jA(i.substring(1),e);break;default:n=BA(i)}if(null===n)return zA;if(r.push(n[0]),""!==(i=RA(n[1]))&&","!==i.charAt(0))return zA;i=i.replace(/^,/,"")}return r}(s);if(this.fontFaces){var l=function(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},FA,n.genericFontFamilies||{}),s=null,a=null,o=0;o<e.length;++o)if(i[(s=IA(e[o])).family]&&(s.family=i[s.family]),t.hasOwnProperty(s.family)){a=t[s.family];break}if(!(a=a||t[r]))throw new Error("Could not find a font-family for the rule '"+OA(s)+"' and default family '"+r+"'.");if(a=function(t,e){if(e[t])return e[t];var n=CA[t],r=n<=CA.normal?-1:1,i=DA(e,kA,n,r);if(!i)throw new Error("Could not find a matching font-stretch value for "+t);return i}(s.stretch,a),a=function(t,e){if(e[t])return e[t];for(var n=LA[t],r=0;r<n.length;++r)if(e[n[r]])return e[n[r]];throw new Error("Could not find a matching font-style for "+t)}(s.style,a),!(a=function(t,e){if(e[t])return e[t];if(400===t&&e[500])return e[500];if(500===t&&e[400])return e[400];var n=PA[t],r=DA(e,TA,n,t<400?-1:1);if(!r)throw new Error("Could not find a matching font-weight for value "+t);return r}(s.weight,a)))throw new Error("Failed to resolve a font for the rule '"+OA(s)+"'.");return a}(function(t,e){if(null===f){var n=(r=t.getFontList(),i=[],Object.keys(r).forEach(function(t){r[t].forEach(function(e){var n=null;switch(e){case"bold":n={family:t,weight:"bold"};break;case"italic":n={family:t,style:"italic"};break;case"bolditalic":n={family:t,weight:"bold",style:"italic"};break;case"":case"normal":n={family:t}}null!==n&&(n.ref={name:t,style:e},i.push(n))})}),i);f=function(t){for(var e={},n=0;n<t.length;++n){var r=IA(t[n]),i=r.family,s=r.stretch,a=r.style,o=r.weight;e[i]=e[i]||{},e[i][s]=e[i][s]||{},e[i][s][a]=e[i][s][a]||{},e[i][s][a][o]=r}return e}(n.concat(e))}var r,i;return f}(this.pdf,this.fontFaces),o.map(function(t){return{family:t,stretch:"normal",weight:r,style:n}}));this.pdf.setFont(l.ref.name,l.ref.style)}else{var c="";("bold"===r||parseInt(r,10)>=700||"bold"===n)&&(c="bold"),"italic"===n&&(c+="italic"),0===c.length&&(c="normal");for(var u="",h={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},d=0;d<o.length;d++){if(void 0!==this.pdf.internal.getFont(o[d],c,{noFallback:!0,disableWarning:!0})){u=o[d];break}if("bolditalic"===c&&void 0!==this.pdf.internal.getFont(o[d],"bold",{noFallback:!0,disableWarning:!0}))u=o[d],c="bold";else if(void 0!==this.pdf.internal.getFont(o[d],"normal",{noFallback:!0,disableWarning:!0})){u=o[d],c="normal";break}}if(""===u)for(var p=0;p<o.length;p++)if(h[o[p]]){u=h[o[p]];break}u=""===u?"Times":u,this.pdf.setFont(u,c)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(t){this.ctx.globalCompositeOperation=t}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(t){this.ctx.globalAlpha=t}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(t){this.ctx.lineDashOffset=t,R.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(t){this.ctx.lineDash=t,R.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(t){this.ctx.ignoreClearRect=Boolean(t)}})};h.prototype.setLineDash=function(t){this.lineDash=t},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){w.call(this,"fill",!1)},h.prototype.stroke=function(){w.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(t,e){if(isNaN(t)||isNaN(e))throw iS.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var n=this.ctx.transform.applyToPoint(new a(t,e));this.path.push({type:"mt",x:n.x,y:n.y}),this.ctx.lastPoint=new a(t,e)},h.prototype.closePath=function(){var t=new a(0,0),e=0;for(e=this.path.length-1;-1!==e;e--)if("begin"===this.path[e].type&&"object"===cx(this.path[e+1])&&"number"==typeof this.path[e+1].x){t=new a(this.path[e+1].x,this.path[e+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(t.x,t.y)},h.prototype.lineTo=function(t,e){if(isNaN(t)||isNaN(e))throw iS.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var n=this.ctx.transform.applyToPoint(new a(t,e));this.path.push({type:"lt",x:n.x,y:n.y}),this.ctx.lastPoint=new a(n.x,n.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),w.call(this,null,!0)},h.prototype.quadraticCurveTo=function(t,e,n,r){if(isNaN(n)||isNaN(r)||isNaN(t)||isNaN(e))throw iS.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var i=this.ctx.transform.applyToPoint(new a(n,r)),s=this.ctx.transform.applyToPoint(new a(t,e));this.path.push({type:"qct",x1:s.x,y1:s.y,x:i.x,y:i.y}),this.ctx.lastPoint=new a(i.x,i.y)},h.prototype.bezierCurveTo=function(t,e,n,r,i,s){if(isNaN(i)||isNaN(s)||isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r))throw iS.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var o=this.ctx.transform.applyToPoint(new a(i,s)),l=this.ctx.transform.applyToPoint(new a(t,e)),c=this.ctx.transform.applyToPoint(new a(n,r));this.path.push({type:"bct",x1:l.x,y1:l.y,x2:c.x,y2:c.y,x:o.x,y:o.y}),this.ctx.lastPoint=new a(o.x,o.y)},h.prototype.arc=function(t,e,n,r,i,s){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||isNaN(i))throw iS.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(s=Boolean(s),!this.ctx.transform.isIdentity){var o=this.ctx.transform.applyToPoint(new a(t,e));t=o.x,e=o.y;var l=this.ctx.transform.applyToPoint(new a(0,n)),c=this.ctx.transform.applyToPoint(new a(0,0));n=Math.sqrt(Math.pow(l.x-c.x,2)+Math.pow(l.y-c.y,2))}Math.abs(i-r)>=2*Math.PI&&(r=0,i=2*Math.PI),this.path.push({type:"arc",x:t,y:e,radius:n,startAngle:r,endAngle:i,counterclockwise:s})},h.prototype.arcTo=function(t,e,n,r,i){throw new Error("arcTo not implemented.")},h.prototype.rect=function(t,e,n,r){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r))throw iS.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(t,e),this.lineTo(t+n,e),this.lineTo(t+n,e+r),this.lineTo(t,e+r),this.lineTo(t,e),this.lineTo(t+n,e),this.lineTo(t,e)},h.prototype.fillRect=function(t,e,n,r){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r))throw iS.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var i={};"butt"!==this.lineCap&&(i.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(i.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(t,e,n,r),this.fill(),i.hasOwnProperty("lineCap")&&(this.lineCap=i.lineCap),i.hasOwnProperty("lineJoin")&&(this.lineJoin=i.lineJoin)}},h.prototype.strokeRect=function(t,e,n,r){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r))throw iS.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");p.call(this)||(this.beginPath(),this.rect(t,e,n,r),this.stroke())},h.prototype.clearRect=function(t,e,n,r){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r))throw iS.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(t,e,n,r))},h.prototype.save=function(t){t="boolean"!=typeof t||t;for(var e=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("q");if(this.pdf.setPage(e),t){this.ctx.fontSize=this.pdf.internal.getFontSize();var r=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=r}},h.prototype.restore=function(t){t="boolean"!=typeof t||t;for(var e=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("Q");this.pdf.setPage(e),t&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var d=function(t){var e,n,r,i;if(!0===t.isCanvasGradient&&(t=t.getColor()),!t)return{r:0,g:0,b:0,a:0,style:t};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(t))e=0,n=0,r=0,i=0;else{var s=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(t);if(null!==s)e=parseInt(s[1]),n=parseInt(s[2]),r=parseInt(s[3]),i=1;else if(null!==(s=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(t)))e=parseInt(s[1]),n=parseInt(s[2]),r=parseInt(s[3]),i=parseFloat(s[4]);else{if(i=1,"string"==typeof t&&"#"!==t.charAt(0)){var a=new hS(t);t=a.ok?a.toHex():"#000000"}4===t.length?(e=t.substring(1,2),e+=e,n=t.substring(2,3),n+=n,r=t.substring(3,4),r+=r):(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7)),e=parseInt(e,16),n=parseInt(n,16),r=parseInt(r,16)}}return{r:e,g:n,b:r,a:i,style:t}},f=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},p=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};h.prototype.fillText=function(t,e,n,r){if(isNaN(e)||isNaN(n)||"string"!=typeof t)throw iS.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(r=isNaN(r)?void 0:r,!f.call(this)){var i=F(this.ctx.transform.rotation),s=this.ctx.transform.scaleX;k.call(this,{text:t,x:e,y:n,scale:s,angle:i,align:this.textAlign,maxWidth:r})}},h.prototype.strokeText=function(t,e,n,r){if(isNaN(e)||isNaN(n)||"string"!=typeof t)throw iS.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!p.call(this)){r=isNaN(r)?void 0:r;var i=F(this.ctx.transform.rotation),s=this.ctx.transform.scaleX;k.call(this,{text:t,x:e,y:n,scale:s,renderingMode:"stroke",angle:i,align:this.textAlign,maxWidth:r})}},h.prototype.measureText=function(t){if("string"!=typeof t)throw iS.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var e=this.pdf,n=this.pdf.internal.scaleFactor,r=e.internal.getFontSize(),i=e.getStringUnitWidth(t)*r/e.internal.scaleFactor;return new function(t){var e=(t=t||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return e}}),this}({width:i*=Math.round(96*n/72*1e4)/1e4})},h.prototype.scale=function(t,e){if(isNaN(t)||isNaN(e))throw iS.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var n=new l(t,0,0,e,0,0);this.ctx.transform=this.ctx.transform.multiply(n)},h.prototype.rotate=function(t){if(isNaN(t))throw iS.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var e=new l(Math.cos(t),Math.sin(t),-Math.sin(t),Math.cos(t),0,0);this.ctx.transform=this.ctx.transform.multiply(e)},h.prototype.translate=function(t,e){if(isNaN(t)||isNaN(e))throw iS.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var n=new l(1,0,0,1,t,e);this.ctx.transform=this.ctx.transform.multiply(n)},h.prototype.transform=function(t,e,n,r,i,s){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(s))throw iS.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var a=new l(t,e,n,r,i,s);this.ctx.transform=this.ctx.transform.multiply(a)},h.prototype.setTransform=function(t,e,n,r,i,s){t=isNaN(t)?1:t,e=isNaN(e)?0:e,n=isNaN(n)?0:n,r=isNaN(r)?1:r,i=isNaN(i)?0:i,s=isNaN(s)?0:s,this.ctx.transform=new l(t,e,n,r,i,s)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(t,e,n,r,i,s,a,c,u){var h=this.pdf.getImageProperties(t),d=1,f=1,p=1,v=1;void 0!==r&&void 0!==c&&(p=c/r,v=u/i,d=h.width/r*c/r,f=h.height/i*u/i),void 0===s&&(s=e,a=n,e=0,n=0),void 0!==r&&void 0===c&&(c=r,u=i),void 0===r&&void 0===c&&(c=h.width,u=h.height);for(var w,x=this.ctx.transform.decompose(),S=F(x.rotate.shx),A=new l,N=(A=(A=(A=A.multiply(x.translate)).multiply(x.skew)).multiply(x.scale)).applyToRectangle(new o(s-e*p,a-n*v,r*d,i*f)),E=m.call(this,N),L=[],k=0;k<E.length;k+=1)-1===L.indexOf(E[k])&&L.push(E[k]);if(b(L),this.autoPaging)for(var C=L[0],T=L[L.length-1],P=C;P<T+1;P++){this.pdf.setPage(P);var I=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],D=1===P?this.posY+this.margin[0]:this.margin[0],M=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],O=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],R=1===P?0:M+(P-2)*O;if(0!==this.ctx.clip_path.length){var j=this.path;w=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(w,this.posX+this.margin[3],-R+D+this.ctx.prevPageLastElemOffset),_.call(this,"fill",!0),this.path=j}var B=JSON.parse(JSON.stringify(N));B=y([B],this.posX+this.margin[3],-R+D+this.ctx.prevPageLastElemOffset)[0];var q=(P>C||P<T)&&g.call(this);q&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],I,O,null).clip().discardPath()),this.pdf.addImage(t,"JPEG",B.x,B.y,B.w,B.h,null,null,S),q&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(t,"JPEG",N.x,N.y,N.w,N.h,null,null,S)};var m=function(t,e,n){var r=[];e=e||this.pdf.internal.pageSize.width,n=n||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var i=this.posY+this.ctx.prevPageLastElemOffset;switch(t.type){default:case"mt":case"lt":r.push(Math.floor((t.y+i)/n)+1);break;case"arc":r.push(Math.floor((t.y+i-t.radius)/n)+1),r.push(Math.floor((t.y+i+t.radius)/n)+1);break;case"qct":var s=M(this.ctx.lastPoint.x,this.ctx.lastPoint.y,t.x1,t.y1,t.x,t.y);r.push(Math.floor((s.y+i)/n)+1),r.push(Math.floor((s.y+s.h+i)/n)+1);break;case"bct":var a=O(this.ctx.lastPoint.x,this.ctx.lastPoint.y,t.x1,t.y1,t.x2,t.y2,t.x,t.y);r.push(Math.floor((a.y+i)/n)+1),r.push(Math.floor((a.y+a.h+i)/n)+1);break;case"rect":r.push(Math.floor((t.y+i)/n)+1),r.push(Math.floor((t.y+t.h+i)/n)+1)}for(var o=0;o<r.length;o+=1)for(;this.pdf.internal.getNumberOfPages()<r[o];)v.call(this);return r},v=function(){var t=this.fillStyle,e=this.strokeStyle,n=this.font,r=this.lineCap,i=this.lineWidth,s=this.lineJoin;this.pdf.addPage(),this.fillStyle=t,this.strokeStyle=e,this.font=n,this.lineCap=r,this.lineWidth=i,this.lineJoin=s},y=function(t,e,n){for(var r=0;r<t.length;r++)switch(t[r].type){case"bct":t[r].x2+=e,t[r].y2+=n;case"qct":t[r].x1+=e,t[r].y1+=n;default:t[r].x+=e,t[r].y+=n}return t},b=function(t){return t.sort(function(t,e){return t-e})},w=function(t,e){for(var n,r,i=this.fillStyle,s=this.strokeStyle,a=this.lineCap,o=this.lineWidth,l=Math.abs(o*this.ctx.transform.scaleX),c=this.lineJoin,u=JSON.parse(JSON.stringify(this.path)),h=JSON.parse(JSON.stringify(this.path)),d=[],f=0;f<h.length;f++)if(void 0!==h[f].x)for(var p=m.call(this,h[f]),w=0;w<p.length;w+=1)-1===d.indexOf(p[w])&&d.push(p[w]);for(var x=0;x<d.length;x++)for(;this.pdf.internal.getNumberOfPages()<d[x];)v.call(this);if(b(d),this.autoPaging)for(var S=d[0],A=d[d.length-1],N=S;N<A+1;N++){this.pdf.setPage(N),this.fillStyle=i,this.strokeStyle=s,this.lineCap=a,this.lineWidth=l,this.lineJoin=c;var E=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],L=1===N?this.posY+this.margin[0]:this.margin[0],k=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],C=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],T=1===N?0:k+(N-2)*C;if(0!==this.ctx.clip_path.length){var P=this.path;n=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(n,this.posX+this.margin[3],-T+L+this.ctx.prevPageLastElemOffset),_.call(this,t,!0),this.path=P}if(r=JSON.parse(JSON.stringify(u)),this.path=y(r,this.posX+this.margin[3],-T+L+this.ctx.prevPageLastElemOffset),!1===e||0===N){var I=(N>S||N<A)&&g.call(this);I&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],E,C,null).clip().discardPath()),_.call(this,t,e),I&&this.pdf.restoreGraphicsState()}this.lineWidth=o}else this.lineWidth=l,_.call(this,t,e),this.lineWidth=o;this.path=u},_=function(t,e){if(("stroke"!==t||e||!p.call(this))&&("stroke"===t||e||!f.call(this))){for(var n,r,i=[],s=this.path,a=0;a<s.length;a++){var o=s[a];switch(o.type){case"begin":i.push({begin:!0});break;case"close":i.push({close:!0});break;case"mt":i.push({start:o,deltas:[],abs:[]});break;case"lt":var l=i.length;if(s[a-1]&&!isNaN(s[a-1].x)&&(n=[o.x-s[a-1].x,o.y-s[a-1].y],l>0))for(;l>=0;l--)if(!0!==i[l-1].close&&!0!==i[l-1].begin){i[l-1].deltas.push(n),i[l-1].abs.push(o);break}break;case"bct":n=[o.x1-s[a-1].x,o.y1-s[a-1].y,o.x2-s[a-1].x,o.y2-s[a-1].y,o.x-s[a-1].x,o.y-s[a-1].y],i[i.length-1].deltas.push(n);break;case"qct":var c=s[a-1].x+2/3*(o.x1-s[a-1].x),u=s[a-1].y+2/3*(o.y1-s[a-1].y),h=o.x+2/3*(o.x1-o.x),d=o.y+2/3*(o.y1-o.y),g=o.x,m=o.y;n=[c-s[a-1].x,u-s[a-1].y,h-s[a-1].x,d-s[a-1].y,g-s[a-1].x,m-s[a-1].y],i[i.length-1].deltas.push(n);break;case"arc":i.push({deltas:[],abs:[],arc:!0}),Array.isArray(i[i.length-1].abs)&&i[i.length-1].abs.push(o)}}r=e?null:"stroke"===t?"stroke":"fill";for(var v=!1,y=0;y<i.length;y++)if(i[y].arc)for(var b=i[y].abs,w=0;w<b.length;w++){var _=b[w];"arc"===_.type?A.call(this,_.x,_.y,_.radius,_.startAngle,_.endAngle,_.counterclockwise,void 0,e,!v):C.call(this,_.x,_.y),v=!0}else if(!0===i[y].close)this.pdf.internal.out("h"),v=!1;else if(!0!==i[y].begin){var x=i[y].start.x,S=i[y].start.y;T.call(this,i[y].deltas,x,S),v=!0}r&&N.call(this,r),e&&E.call(this)}},x=function(t){var e=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,n=e*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return t-n;case"top":return t+e-n;case"hanging":return t+e-2*n;case"middle":return t+e/2-n;default:return t}},S=function(t){return t+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var t=function(){};return t.colorStops=[],t.addColorStop=function(t,e){this.colorStops.push([t,e])},t.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},t.isCanvasGradient=!0,t},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var A=function(t,e,n,r,i,s,a,o,l){for(var c=I.call(this,n,r,i,s),u=0;u<c.length;u++){var h=c[u];0===u&&(l?L.call(this,h.x1+t,h.y1+e):C.call(this,h.x1+t,h.y1+e)),P.call(this,t,e,h.x2,h.y2,h.x3,h.y3,h.x4,h.y4)}o?E.call(this):N.call(this,a)},N=function(t){switch(t){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},E=function(){this.pdf.clip(),this.pdf.discardPath()},L=function(t,e){this.pdf.internal.out(n(t)+" "+r(e)+" m")},k=function(t){var e;switch(t.align){case"right":case"end":e="right";break;case"center":e="center";break;default:e="left"}var n=this.pdf.getTextDimensions(t.text),r=x.call(this,t.y),i=S.call(this,r)-n.h,s=this.ctx.transform.applyToPoint(new a(t.x,r)),c=this.ctx.transform.decompose(),u=new l;u=(u=(u=u.multiply(c.translate)).multiply(c.skew)).multiply(c.scale);for(var h,d,f,p=this.ctx.transform.applyToRectangle(new o(t.x,r,n.w,n.h)),v=u.applyToRectangle(new o(t.x,i,n.w,n.h)),w=m.call(this,v),A=[],N=0;N<w.length;N+=1)-1===A.indexOf(w[N])&&A.push(w[N]);if(b(A),this.autoPaging)for(var E=A[0],L=A[A.length-1],k=E;k<L+1;k++){this.pdf.setPage(k);var C=1===k?this.posY+this.margin[0]:this.margin[0],T=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],P=this.pdf.internal.pageSize.height-this.margin[2],I=P-this.margin[0],D=this.pdf.internal.pageSize.width-this.margin[1],F=D-this.margin[3],M=1===k?0:T+(k-2)*I;if(0!==this.ctx.clip_path.length){var O=this.path;h=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(h,this.posX+this.margin[3],-1*M+C),_.call(this,"fill",!0),this.path=O}var R=y([JSON.parse(JSON.stringify(v))],this.posX+this.margin[3],-M+C+this.ctx.prevPageLastElemOffset)[0];t.scale>=.01&&(d=this.pdf.internal.getFontSize(),this.pdf.setFontSize(d*t.scale),f=this.lineWidth,this.lineWidth=f*t.scale);var j="text"!==this.autoPaging;if(j||R.y+R.h<=P){if(j||R.y>=C&&R.x<=D){var B=j?t.text:this.pdf.splitTextToSize(t.text,t.maxWidth||D-R.x)[0],q=y([JSON.parse(JSON.stringify(p))],this.posX+this.margin[3],-M+C+this.ctx.prevPageLastElemOffset)[0],U=j&&(k>E||k<L)&&g.call(this);U&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],F,I,null).clip().discardPath()),this.pdf.text(B,q.x,q.y,{angle:t.angle,align:e,renderingMode:t.renderingMode}),U&&this.pdf.restoreGraphicsState()}}else R.y<P&&(this.ctx.prevPageLastElemOffset+=P-R.y);t.scale>=.01&&(this.pdf.setFontSize(d),this.lineWidth=f)}else t.scale>=.01&&(d=this.pdf.internal.getFontSize(),this.pdf.setFontSize(d*t.scale),f=this.lineWidth,this.lineWidth=f*t.scale),this.pdf.text(t.text,s.x+this.posX,s.y+this.posY,{angle:t.angle,align:e,renderingMode:t.renderingMode,maxWidth:t.maxWidth}),t.scale>=.01&&(this.pdf.setFontSize(d),this.lineWidth=f)},C=function(t,e,i,s){i=i||0,s=s||0,this.pdf.internal.out(n(t+i)+" "+r(e+s)+" l")},T=function(t,e,n){return this.pdf.lines(t,e,n,null,null)},P=function(t,n,r,a,o,l,c,u){this.pdf.internal.out([e(i(r+t)),e(s(a+n)),e(i(o+t)),e(s(l+n)),e(i(c+t)),e(s(u+n)),"c"].join(" "))},I=function(t,e,n,r){for(var i=2*Math.PI,s=Math.PI/2;e>n;)e-=i;var a=Math.abs(n-e);a<i&&r&&(a=i-a);for(var o=[],l=r?-1:1,c=e;a>1e-5;){var u=c+l*Math.min(a,s);o.push(D.call(this,t,c,u)),a-=Math.abs(u-c),c=u}return o},D=function(t,e,n){var r=(n-e)/2,i=t*Math.cos(r),s=t*Math.sin(r),a=i,o=-s,l=a*a+o*o,c=l+a*i+o*s,u=4/3*(Math.sqrt(2*l*c)-c)/(a*s-o*i),h=a-u*o,d=o+u*a,f=h,p=-d,g=r+e,m=Math.cos(g),v=Math.sin(g);return{x1:t*Math.cos(e),y1:t*Math.sin(e),x2:h*m-d*v,y2:h*v+d*m,x3:f*m-p*v,y3:f*v+p*m,x4:t*Math.cos(n),y4:t*Math.sin(n)}},F=function(t){return 180*t/Math.PI},M=function(t,e,n,r,i,s){var a=t+.5*(n-t),l=e+.5*(r-e),c=i+.5*(n-i),u=s+.5*(r-s),h=Math.min(t,i,a,c),d=Math.max(t,i,a,c),f=Math.min(e,s,l,u),p=Math.max(e,s,l,u);return new o(h,f,d-h,p-f)},O=function(t,e,n,r,i,s,a,l){var c,u,h,d,f,p,g,m,v,y,b,w,_,x,S=n-t,A=r-e,N=i-n,E=s-r,L=a-i,k=l-s;for(u=0;u<41;u++)v=(g=(h=t+(c=u/40)*S)+c*((f=n+c*N)-h))+c*(f+c*(i+c*L-f)-g),y=(m=(d=e+c*A)+c*((p=r+c*E)-d))+c*(p+c*(s+c*k-p)-m),0==u?(b=v,w=y,_=v,x=y):(b=Math.min(b,v),w=Math.min(w,y),_=Math.max(_,v),x=Math.max(x,y));return new o(Math.round(b),Math.round(w),Math.round(_-b),Math.round(x-w))},R=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var t,e,n=(t=this.ctx.lineDash,e=this.ctx.lineDashOffset,JSON.stringify({lineDash:t,lineDashOffset:e}));this.prevLineDash!==n&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=n)}}}(MS.API),
/**
 * @license
 * jsPDF filters PlugIn
 * Copyright (c) 2014 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(t){var e=function(t){var e,n,r,i,s,a,o,l,c,u;for(n=[],r=0,i=(t+=e="\0\0\0\0".slice(t.length%4||4)).length;i>r;r+=4)0!==(s=(t.charCodeAt(r)<<24)+(t.charCodeAt(r+1)<<16)+(t.charCodeAt(r+2)<<8)+t.charCodeAt(r+3))?(a=(s=((s=((s=((s=(s-(u=s%85))/85)-(c=s%85))/85)-(l=s%85))/85)-(o=s%85))/85)%85,n.push(a+33,o+33,l+33,c+33,u+33)):n.push(122);return function(t,e){for(var n=e;n>0;n--)t.pop()}(n,e.length),String.fromCharCode.apply(String,n)+"~>"},n=function(t){var e,n,r,i,s,a=String,o="length",l=255,c="charCodeAt",u="slice",h="replace";for(t[u](-2),t=t[u](0,-2)[h](/\s/g,"")[h]("z","!!!!!"),r=[],i=0,s=(t+=e="uuuuu"[u](t[o]%5||5))[o];s>i;i+=5)n=52200625*(t[c](i)-33)+614125*(t[c](i+1)-33)+7225*(t[c](i+2)-33)+85*(t[c](i+3)-33)+(t[c](i+4)-33),r.push(l&n>>24,l&n>>16,l&n>>8,l&n);return function(t,e){for(var n=e;n>0;n--)t.pop()}(r,e[o]),a.fromCharCode.apply(a,r)},r=function(t){var e=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(t=t.replace(/\s/g,"")).indexOf(">")&&(t=t.substr(0,t.indexOf(">"))),t.length%2&&(t+="0"),!1===e.test(t))return"";for(var n="",r=0;r<t.length;r+=2)n+=String.fromCharCode("0x"+(t[r]+t[r+1]));return n},i=function(t){for(var e=new Uint8Array(t.length),n=t.length;n--;)e[n]=t.charCodeAt(n);return(e=Zx(e)).reduce(function(t,e){return t+String.fromCharCode(e)},"")};t.processDataByFilters=function(t,s){var a=0,o=t||"",l=[];for("string"==typeof(s=s||[])&&(s=[s]),a=0;a<s.length;a+=1)switch(s[a]){case"ASCII85Decode":case"/ASCII85Decode":o=n(o),l.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":o=e(o),l.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":o=r(o),l.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":o=o.split("").map(function(t){return("0"+t.charCodeAt().toString(16)).slice(-2)}).join("")+">",l.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":o=i(o),l.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[a]+'" is not implemented')}return{data:o,reverseChain:l.reverse().join(" ")}}}(MS.API),
/**
 * @license
 * jsPDF fileloading PlugIn
 * Copyright (c) 2018 Aras Abbasi (aras.abbasi@gmail.com)
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(t){t.loadFile=function(t,e,n){return function(t,e,n){e=!1!==e,n="function"==typeof n?n:function(){};var r=void 0;try{r=function(t,e,n){var r=new XMLHttpRequest,i=0,s=function(t){var e=t.length,n=[],r=String.fromCharCode;for(i=0;i<e;i+=1)n.push(r(255&t.charCodeAt(i)));return n.join("")};if(r.open("GET",t,!e),r.overrideMimeType("text/plain; charset=x-user-defined"),!1===e&&(r.onload=function(){200===r.status?n(s(this.responseText)):n(void 0)}),r.send(null),e&&200===r.status)return s(r.responseText)}(t,e,n)}catch(i){}return r}(t,e,n)},t.loadImageFile=t.loadFile}(MS.API),function(t){function e(){return(nS.html2canvas?Promise.resolve(nS.html2canvas):lx(()=>import("./html2canvas.esm-BTH0Ap93.js"),[])).catch(function(t){return Promise.reject(new Error("Could not load html2canvas: "+t))}).then(function(t){return t.default?t.default:t})}function n(){return(nS.DOMPurify?Promise.resolve(nS.DOMPurify):lx(()=>import("./purify.es-TwCFItbS.js"),[])).catch(function(t){return Promise.reject(new Error("Could not load dompurify: "+t))}).then(function(t){return t.default?t.default:t})}var r=function(t){var e=cx(t);return"undefined"===e?"undefined":"string"===e||t instanceof String?"string":"number"===e||t instanceof Number?"number":"function"===e||t instanceof Function?"function":t&&t.constructor===Array?"array":t&&1===t.nodeType?"element":"object"===e?"object":"unknown"},i=function(t,e){var n=document.createElement(t);for(var r in e.className&&(n.className=e.className),e.innerHTML&&e.dompurify&&(n.innerHTML=e.dompurify.sanitize(e.innerHTML)),e.style)n.style[r]=e.style[r];return n},s=function t(e){var n=Object.assign(t.convert(Promise.resolve()),JSON.parse(JSON.stringify(t.template))),r=t.convert(Promise.resolve(),n);return(r=r.setProgress(1,t,1,[t])).set(e)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(t,e){return t.__proto__=e||s.prototype,t},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(t,e){return this.then(function(){switch(e=e||function(t){switch(r(t)){case"string":return"string";case"element":return"canvas"===t.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(t)){case"string":return this.then(n).then(function(e){return this.set({src:i("div",{innerHTML:t,dompurify:e})})});case"element":return this.set({src:t});case"canvas":return this.set({canvas:t});case"img":return this.set({img:t});default:return this.error("Unknown source type.")}})},s.prototype.to=function(t){switch(t){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var t={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},e=function t(e,n){for(var r=3===e.nodeType?document.createTextNode(e.nodeValue):e.cloneNode(!1),i=e.firstChild;i;i=i.nextSibling)!0!==n&&1===i.nodeType&&"SCRIPT"===i.nodeName||r.appendChild(t(i,n));return 1===e.nodeType&&("CANVAS"===e.nodeName?(r.width=e.width,r.height=e.height,r.getContext("2d").drawImage(e,0,0)):"TEXTAREA"!==e.nodeName&&"SELECT"!==e.nodeName||(r.value=e.value),r.addEventListener("load",function(){r.scrollTop=e.scrollTop,r.scrollLeft=e.scrollLeft},!0)),r}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===e.tagName&&(t.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:t}),this.prop.container.appendChild(e),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var t=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(t).then(e).then(function(t){var e=Object.assign({},this.opt.html2canvas);return delete e.onrendered,t(this.prop.container,e)}).then(function(t){(this.opt.html2canvas.onrendered||function(){})(t),this.prop.canvas=t,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var t=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(t).then(e).then(function(t){var e=this.opt.jsPDF,n=this.opt.fontFaces,r="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,i=Object.assign({async:!0,allowTaint:!0,scale:r,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete i.onrendered,e.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,e.context2d.posX=this.opt.x,e.context2d.posY=this.opt.y,e.context2d.margin=this.opt.margin,e.context2d.fontFaces=n,n)for(var s=0;s<n.length;++s){var a=n[s],o=a.src.find(function(t){return"truetype"===t.format});o&&e.addFont(o.url,a.ref.name,a.ref.style)}return i.windowHeight=i.windowHeight||0,i.windowHeight=0==i.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):i.windowHeight,e.context2d.save(!0),t(this.prop.container,i)}).then(function(t){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(t),this.prop.canvas=t,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var t=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=t})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(t,e,n){return"img"===(n=n||"pdf").toLowerCase()||"image"===n.toLowerCase()?this.outputImg(t,e):this.outputPdf(t,e)},s.prototype.outputPdf=function(t,e){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(t,e)})},s.prototype.outputImg=function(t){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(t){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+t+'" is not supported.'}})},s.prototype.save=function(t){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(t?{filename:t}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(t){if("object"!==r(t))return this;var e=Object.keys(t||{}).map(function(e){if(e in s.template.prop)return function(){this.prop[e]=t[e]};switch(e){case"margin":return this.setMargin.bind(this,t.margin);case"jsPDF":return function(){return this.opt.jsPDF=t.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,t.pageSize);default:return function(){this.opt[e]=t[e]}}},this);return this.then(function(){return this.thenList(e)})},s.prototype.get=function(t,e){return this.then(function(){var n=t in s.template.prop?this.prop[t]:this.opt[t];return e?e(n):n})},s.prototype.setMargin=function(t){return this.then(function(){switch(r(t)){case"number":t=[t,t,t,t];case"array":if(2===t.length&&(t=[t[0],t[1],t[0],t[1]]),4===t.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=t}).then(this.setPageSize)},s.prototype.setPageSize=function(t){function e(t,e){return Math.floor(t*e/72*96)}return this.then(function(){(t=t||MS.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(t.inner={width:t.width-this.opt.margin[1]-this.opt.margin[3],height:t.height-this.opt.margin[0]-this.opt.margin[2]},t.inner.px={width:e(t.inner.width,t.k),height:e(t.inner.height,t.k)},t.inner.ratio=t.inner.height/t.inner.width),this.prop.pageSize=t})},s.prototype.setProgress=function(t,e,n,r){return null!=t&&(this.progress.val=t),null!=e&&(this.progress.state=e),null!=n&&(this.progress.n=n),null!=r&&(this.progress.stack=r),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(t,e,n,r){return this.setProgress(t?this.progress.val+t:null,e||null,n?this.progress.n+n:null,r?this.progress.stack.concat(r):null)},s.prototype.then=function(t,e){var n=this;return this.thenCore(t,e,function(t,e){return n.updateProgress(null,null,1,[t]),Promise.prototype.then.call(this,function(e){return n.updateProgress(null,t),e}).then(t,e).then(function(t){return n.updateProgress(1),t})})},s.prototype.thenCore=function(t,e,n){n=n||Promise.prototype.then,t&&(t=t.bind(this)),e&&(e=e.bind(this));var r=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?this:s.convert(Object.assign({},this),Promise.prototype),i=n.call(r,t,e);return s.convert(i,this.__proto__)},s.prototype.thenExternal=function(t,e){return Promise.prototype.then.call(this,t,e)},s.prototype.thenList=function(t){var e=this;return t.forEach(function(t){e=e.thenCore(t)}),e},s.prototype.catch=function(t){t&&(t=t.bind(this));var e=Promise.prototype.catch.call(this,t);return s.convert(e,this)},s.prototype.catchExternal=function(t){return Promise.prototype.catch.call(this,t)},s.prototype.error=function(t){return this.then(function(){throw new Error(t)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,MS.getPageSize=function(t,e,n){if("object"===cx(t)){var r=t;t=r.orientation,e=r.unit||e,n=r.format||n}e=e||"mm",n=n||"a4",t=(""+(t||"P")).toLowerCase();var i,s=(""+n).toLowerCase(),a={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(e){case"pt":i=1;break;case"mm":i=72/25.4;break;case"cm":i=72/2.54;break;case"in":i=72;break;case"px":i=.75;break;case"pc":case"em":i=12;break;case"ex":i=6;break;default:throw"Invalid unit: "+e}var o,l=0,c=0;if(a.hasOwnProperty(s))l=a[s][1]/i,c=a[s][0]/i;else try{l=n[1],c=n[0]}catch(SA){throw new Error("Invalid format: "+n)}if("p"===t||"portrait"===t)t="p",c>l&&(o=c,c=l,l=o);else{if("l"!==t&&"landscape"!==t)throw"Invalid orientation: "+t;t="l",l>c&&(o=c,c=l,l=o)}return{width:c,height:l,unit:e,k:i,orientation:t}},t.html=function(t,e){(e=e||{}).callback=e.callback||function(){},e.html2canvas=e.html2canvas||{},e.html2canvas.canvas=e.html2canvas.canvas||this.canvas,e.jsPDF=e.jsPDF||this,e.fontFaces=e.fontFaces?e.fontFaces.map(IA):null;var n=new s(e);return e.worker?n:n.from(t).doCallback()}}(MS.API),MS.API.addJS=function(t){return VA=t,this.internal.events.subscribe("postPutResources",function(){qA=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(qA+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),UA=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+VA+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==qA&&void 0!==UA&&this.internal.out("/Names <</JavaScript "+qA+" 0 R>>")}),this},
/**
 * @license
 * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(t){var e;t.events.push(["postPutResources",function(){var t=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=t.outline.render().split(/\r\n/),i=0;i<r.length;i++){var s=r[i],a=n.exec(s);if(null!=a){var o=a[1];t.internal.newObjectDeferredBegin(o,!1)}t.internal.write(s)}if(this.outline.createNamedDestinations){var l=this.internal.pages.length,c=[];for(i=0;i<l;i++){var u=t.internal.newObject();c.push(u);var h=t.internal.getPageInfo(i+1);t.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var d=t.internal.newObject();for(t.internal.write("<< /Names [ "),i=0;i<c.length;i++)t.internal.write("(page_"+(i+1)+")"+c[i]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+d+" 0 R"),t.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(t,e,n){var r={title:e,options:n,children:[]};return null==t&&(t=this.root),t.children.push(r),r},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(e){e.id=t.internal.newObjectDeferred();for(var n=0;n<e.children.length;n++)this.genIds_r(e.children[n])},t.outline.renderRoot=function(t){this.objStart(t),this.line("/Type /Outlines"),t.children.length>0&&(this.line("/First "+this.makeRef(t.children[0])),this.line("/Last "+this.makeRef(t.children[t.children.length-1]))),this.line("/Count "+this.count_r({count:0},t)),this.objEnd()},t.outline.renderItems=function(e){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,r=0;r<e.children.length;r++){var i=e.children[r];this.objStart(i),this.line("/Title "+this.makeString(i.title)),this.line("/Parent "+this.makeRef(e)),r>0&&this.line("/Prev "+this.makeRef(e.children[r-1])),r<e.children.length-1&&this.line("/Next "+this.makeRef(e.children[r+1])),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1])));var s=this.count=this.count_r({count:0},i);if(s>0&&this.line("/Count "+s),i.options&&i.options.pageNumber){var a=t.internal.getPageInfo(i.options.pageNumber);this.line("/Dest ["+a.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var o=0;o<e.children.length;o++)this.renderItems(e.children[o])},t.outline.line=function(t){this.ctx.val+=t+"\r\n"},t.outline.makeRef=function(t){return t.id+" 0 R"},t.outline.makeString=function(e){return"("+t.internal.pdfEscape(e)+")"},t.outline.objStart=function(t){this.ctx.val+="\r\n"+t.id+" 0 obj\r\n<<\r\n"},t.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},t.outline.count_r=function(t,e){for(var n=0;n<e.children.length;n++)t.count++,this.count_r(t,e.children[n]);return t.count}}])}(MS.API),
/**
 * @license
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(t,n,r,i,s,a){var o,l=this.decode.DCT_DECODE,c=null;if("string"==typeof t||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=s||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(o=function(t){for(var n,r=256*t.charCodeAt(4)+t.charCodeAt(5),i=t.length,s={width:0,height:0,numcomponents:1},a=4;a<i;a+=2){if(a+=r,-1!==e.indexOf(t.charCodeAt(a+1))){n=256*t.charCodeAt(a+5)+t.charCodeAt(a+6),s={width:256*t.charCodeAt(a+7)+t.charCodeAt(a+8),height:n,numcomponents:t.charCodeAt(a+9)};break}r=256*t.charCodeAt(a+2)+t.charCodeAt(a+3)}return s}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}c={data:t,width:o.width,height:o.height,colorSpace:a,bitsPerComponent:8,filter:l,index:n,alias:r}}return c}}(MS.API);var HA,WA,$A,GA,KA,YA=function(){var t,e,n;function r(t){var e,n,r,i,s,a,o,l,c,u,h,d,f,p;for(this.data=t,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},a=null;;){switch(e=this.readUInt32(),c=function(){var t,e;for(e=[],t=0;t<4;++t)e.push(String.fromCharCode(this.data[this.pos++]));return e}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(e);break;case"fcTL":a&&this.animation.frames.push(a),this.pos+=4,a={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},s=this.readUInt16(),i=this.readUInt16()||100,a.delay=1e3*s/i,a.disposeOp=this.data[this.pos++],a.blendOp=this.data[this.pos++],a.data=[];break;case"IDAT":case"fdAT":for("fdAT"===c&&(this.pos+=4,e-=4),t=(null!=a?a.data:void 0)||this.imgData,d=0;0<=e?d<e:d>e;0<=e?++d:--d)t.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(r=this.palette.length/3,this.transparency.indexed=this.read(e),this.transparency.indexed.length>r)throw new Error("More transparent colors than palette size");if((u=r-this.transparency.indexed.length)>0)for(f=0;0<=u?f<u:f>u;0<=u?++f:--f)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(e)[0];break;case 2:this.transparency.rgb=this.read(e)}break;case"tEXt":o=(h=this.read(e)).indexOf(0),l=String.fromCharCode.apply(String,h.slice(0,o)),this.text[l]=String.fromCharCode.apply(String,h.slice(o+1));break;case"IEND":return a&&this.animation.frames.push(a),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(p=this.colorType)||6===p,n=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*n,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=e}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(t){var e,n;for(n=[],e=0;0<=t?e<t:e>t;0<=t?++e:--e)n.push(this.data[this.pos++]);return n},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(t){var e=this.pixelBitlength/8,n=new Uint8Array(this.width*this.height*e),r=0,i=this;if(null==t&&(t=this.imgData),0===t.length)return new Uint8Array(0);function s(s,a,o,l){var c,u,h,d,f,p,g,m,v,y,b,w,_,x,S,A,N,E,L,k,C,T=Math.ceil((i.width-s)/o),P=Math.ceil((i.height-a)/l),I=i.width==T&&i.height==P;for(x=e*T,w=I?n:new Uint8Array(x*P),p=t.length,_=0,u=0;_<P&&r<p;){switch(t[r++]){case 0:for(d=N=0;N<x;d=N+=1)w[u++]=t[r++];break;case 1:for(d=E=0;E<x;d=E+=1)c=t[r++],f=d<e?0:w[u-e],w[u++]=(c+f)%256;break;case 2:for(d=L=0;L<x;d=L+=1)c=t[r++],h=(d-d%e)/e,S=_&&w[(_-1)*x+h*e+d%e],w[u++]=(S+c)%256;break;case 3:for(d=k=0;k<x;d=k+=1)c=t[r++],h=(d-d%e)/e,f=d<e?0:w[u-e],S=_&&w[(_-1)*x+h*e+d%e],w[u++]=(c+Math.floor((f+S)/2))%256;break;case 4:for(d=C=0;C<x;d=C+=1)c=t[r++],h=(d-d%e)/e,f=d<e?0:w[u-e],0===_?S=A=0:(S=w[(_-1)*x+h*e+d%e],A=h&&w[(_-1)*x+(h-1)*e+d%e]),g=f+S-A,m=Math.abs(g-f),y=Math.abs(g-S),b=Math.abs(g-A),v=m<=y&&m<=b?f:y<=b?S:A,w[u++]=(c+v)%256;break;default:throw new Error("Invalid filter algorithm: "+t[r-1])}if(!I){var D=((a+_*l)*i.width+s)*e,F=_*x;for(d=0;d<T;d+=1){for(var M=0;M<e;M+=1)n[D++]=w[F++];D+=(o-1)*e}}_++}}return t=tS(t),1==i.interlaceMethod?(s(0,0,8,8),s(4,0,8,8),s(0,4,4,8),s(2,0,4,4),s(0,2,2,4),s(1,0,2,2),s(0,1,1,2)):s(0,0,1,1),n},r.prototype.decodePalette=function(){var t,e,n,r,i,s,a,o,l;for(n=this.palette,s=this.transparency.indexed||[],i=new Uint8Array((s.length||0)+n.length),r=0,t=0,e=a=0,o=n.length;a<o;e=a+=3)i[r++]=n[e],i[r++]=n[e+1],i[r++]=n[e+2],i[r++]=null!=(l=s[t++])?l:255;return i},r.prototype.copyToImageData=function(t,e){var n,r,i,s,a,o,l,c,u,h,d;if(r=this.colors,u=null,n=this.hasAlphaChannel,this.palette.length&&(u=null!=(d=this._decodedPalette)?d:this._decodedPalette=this.decodePalette(),r=4,n=!0),c=(i=t.data||t).length,a=u||e,s=o=0,1===r)for(;s<c;)l=u?4*e[s/4]:o,h=a[l++],i[s++]=h,i[s++]=h,i[s++]=h,i[s++]=n?a[l++]:255,o=l;else for(;s<c;)l=u?4*e[s/4]:o,i[s++]=a[l++],i[s++]=a[l++],i[s++]=a[l++],i[s++]=n?a[l++]:255,o=l},r.prototype.decode=function(){var t;return t=new Uint8Array(this.width*this.height*4),this.copyToImageData(t,this.decodePixels()),t};var i=function(){if("[object Window]"===Object.prototype.toString.call(nS)){try{e=nS.document.createElement("canvas"),n=e.getContext("2d")}catch(t){return!1}return!0}return!1};return i(),t=function(t){var r;if(!0===i())return n.width=t.width,n.height=t.height,n.clearRect(0,0,t.width,t.height),n.putImageData(t,0,0),(r=new Image).src=e.toDataURL(),r;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(e){var n,r,i,s,a,o,l,c;if(this.animation){for(c=[],r=a=0,o=(l=this.animation.frames).length;a<o;r=++a)n=l[r],i=e.createImageData(n.width,n.height),s=this.decodePixels(new Uint8Array(n.data)),this.copyToImageData(i,s),n.imageData=i,c.push(n.image=t(i));return c}},r.prototype.renderFrame=function(t,e){var n,r,i;return n=(r=this.animation.frames)[e],i=r[e-1],0===e&&t.clearRect(0,0,this.width,this.height),1===(null!=i?i.disposeOp:void 0)?t.clearRect(i.xOffset,i.yOffset,i.width,i.height):2===(null!=i?i.disposeOp:void 0)&&t.putImageData(i.imageData,i.xOffset,i.yOffset),0===n.blendOp&&t.clearRect(n.xOffset,n.yOffset,n.width,n.height),t.drawImage(n.image,n.xOffset,n.yOffset)},r.prototype.animate=function(t){var e,n,r,i,s,a,o=this;return n=0,a=this.animation,i=a.numFrames,r=a.frames,s=a.numPlays,(e=function(){var a,l;if(a=n++%i,l=r[a],o.renderFrame(t,a),i>1&&n/i<s)return o.animation._timeout=setTimeout(e,l.delay)})()},r.prototype.stopAnimation=function(){var t;return clearTimeout(null!=(t=this.animation)?t._timeout:void 0)},r.prototype.render=function(t){var e,n;return t._png&&t._png.stopAnimation(),t._png=this,t.width=this.width,t.height=this.height,e=t.getContext("2d"),this.animation?(this.decodeFrames(e),this.animate(e)):(n=e.createImageData(this.width,this.height),this.copyToImageData(n,this.decodePixels()),e.putImageData(n,0,0))},r}();
/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */
/**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function XA(t){var e=0;if(71!==t[e++]||73!==t[e++]||70!==t[e++]||56!==t[e++]||56!=(t[e++]+1&253)||97!==t[e++])throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,a=1<<1+(7&i);t[e++],t[e++];var o=null,l=null;s&&(o=e,l=a,e+=3*a);var c=!0,u=[],h=0,d=null,f=0,p=null;for(this.width=n,this.height=r;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(11!==t[e]||78==t[e+1]&&69==t[e+2]&&84==t[e+3]&&83==t[e+4]&&67==t[e+5]&&65==t[e+6]&&80==t[e+7]&&69==t[e+8]&&50==t[e+9]&&46==t[e+10]&&48==t[e+11]&&3==t[e+12]&&1==t[e+13]&&0==t[e+16])e+=14,p=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((L=t[e++])>=0))throw Error("Invalid block size");if(0===L)break;e+=L}break;case 249:if(4!==t[e++]||0!==t[e+4])throw new Error("Invalid graphics extension block.");var g=t[e++];h=t[e++]|t[e++]<<8,d=t[e++],!(1&g)&&(d=null),f=g>>2&7,e++;break;case 254:for(;;){if(!((L=t[e++])>=0))throw Error("Invalid block size");if(0===L)break;e+=L}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var m=t[e++]|t[e++]<<8,v=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,w=t[e++],_=w>>6&1,x=1<<1+(7&w),S=o,A=l,N=!1;w>>7&&(N=!0,S=e,A=x,e+=3*x);var E=e;for(e++;;){var L;if(!((L=t[e++])>=0))throw Error("Invalid block size");if(0===L)break;e+=L}u.push({x:m,y:v,width:y,height:b,has_local_palette:N,palette_offset:S,palette_size:A,data_offset:E,data_length:e-E,transparent_index:d,interlaced:!!_,delay:h,disposal:f});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return p},this.frameInfo=function(t){if(t<0||t>=u.length)throw new Error("Frame index out of range.");return u[t]},this.decodeAndBlitFrameBGRA=function(e,r){var i=this.frameInfo(e),s=i.width*i.height,a=new Uint8Array(s);QA(t,i.data_offset,a,s);var o=i.palette_offset,l=i.transparent_index;null===l&&(l=256);var c=i.width,u=n-c,h=c,d=4*(i.y*n+i.x),f=4*((i.y+i.height)*n+i.x),p=d,g=4*u;!0===i.interlaced&&(g+=4*n*7);for(var m=8,v=0,y=a.length;v<y;++v){var b=a[v];if(0===h&&(h=c,(p+=g)>=f&&(g=4*u+4*n*(m-1),p=d+(c+u)*(m<<1),m>>=1)),b===l)p+=4;else{var w=t[o+3*b],_=t[o+3*b+1],x=t[o+3*b+2];r[p++]=x,r[p++]=_,r[p++]=w,r[p++]=255}--h}},this.decodeAndBlitFrameRGBA=function(e,r){var i=this.frameInfo(e),s=i.width*i.height,a=new Uint8Array(s);QA(t,i.data_offset,a,s);var o=i.palette_offset,l=i.transparent_index;null===l&&(l=256);var c=i.width,u=n-c,h=c,d=4*(i.y*n+i.x),f=4*((i.y+i.height)*n+i.x),p=d,g=4*u;!0===i.interlaced&&(g+=4*n*7);for(var m=8,v=0,y=a.length;v<y;++v){var b=a[v];if(0===h&&(h=c,(p+=g)>=f&&(g=4*u+4*n*(m-1),p=d+(c+u)*(m<<1),m>>=1)),b===l)p+=4;else{var w=t[o+3*b],_=t[o+3*b+1],x=t[o+3*b+2];r[p++]=w,r[p++]=_,r[p++]=x,r[p++]=255}--h}}}function QA(t,e,n,r){for(var i=t[e++],s=1<<i,a=s+1,o=a+1,l=i+1,c=(1<<l)-1,u=0,h=0,d=0,f=t[e++],p=new Int32Array(4096),g=null;;){for(;u<16&&0!==f;)h|=t[e++]<<u,u+=8,1===f?f=t[e++]:--f;if(u<l)break;var m=h&c;if(h>>=l,u-=l,m!==s){if(m===a)break;for(var v=m<o?m:g,y=0,b=v;b>s;)b=p[b]>>8,++y;var w=b;if(d+y+(v!==m?1:0)>r)return void iS.log("Warning, gif stream longer than expected.");n[d++]=w;var _=d+=y;for(v!==m&&(n[d++]=w),b=v;y--;)b=p[b],n[--_]=255&b,b>>=8;null!==g&&o<4096&&(p[o++]=g<<8|w,o>=c+1&&l<12&&(++l,c=c<<1|1)),g=m}else o=a+1,c=(1<<(l=i+1))-1,g=null}return d!==r&&iS.log("Warning, gif stream shorter than expected."),n
/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/}function JA(t){var e,n,r,i,s,a=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),h=new Array(65535),d=new Array(65535),f=new Array(64),p=new Array(64),g=[],m=0,v=7,y=new Array(64),b=new Array(64),w=new Array(64),_=new Array(256),x=new Array(2048),S=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],A=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],N=[0,1,2,3,4,5,6,7,8,9,10,11],E=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],L=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],k=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],C=[0,1,2,3,4,5,6,7,8,9,10,11],T=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],P=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function I(t,e){for(var n=0,r=0,i=new Array,s=1;s<=16;s++){for(var a=1;a<=t[s];a++)i[e[r]]=[],i[e[r]][0]=n,i[e[r]][1]=s,r++,n++;n*=2}return i}function D(t){for(var e=t[0],n=t[1]-1;n>=0;)e&1<<n&&(m|=1<<v),n--,--v<0&&(255==m?(F(255),F(0)):F(m),v=7,m=0)}function F(t){g.push(t)}function M(t){F(t>>8&255),F(255&t)}function O(t,e,n,r,i){for(var s,a=i[0],o=i[240],l=function(t,e){var n,r,i,s,a,o,l,c,u,h,d=0;for(u=0;u<8;++u){n=t[d],r=t[d+1],i=t[d+2],s=t[d+3],a=t[d+4],o=t[d+5],l=t[d+6];var p=n+(c=t[d+7]),g=n-c,m=r+l,v=r-l,y=i+o,b=i-o,w=s+a,_=s-a,x=p+w,S=p-w,A=m+y,N=m-y;t[d]=x+A,t[d+4]=x-A;var E=.707106781*(N+S);t[d+2]=S+E,t[d+6]=S-E;var L=.382683433*((x=_+b)-(N=v+g)),k=.5411961*x+L,C=1.306562965*N+L,T=.707106781*(A=b+v),P=g+T,I=g-T;t[d+5]=I+k,t[d+3]=I-k,t[d+1]=P+C,t[d+7]=P-C,d+=8}for(d=0,u=0;u<8;++u){n=t[d],r=t[d+8],i=t[d+16],s=t[d+24],a=t[d+32],o=t[d+40],l=t[d+48];var D=n+(c=t[d+56]),F=n-c,M=r+l,O=r-l,R=i+o,j=i-o,B=s+a,q=s-a,U=D+B,V=D-B,z=M+R,H=M-R;t[d]=U+z,t[d+32]=U-z;var W=.707106781*(H+V);t[d+16]=V+W,t[d+48]=V-W;var $=.382683433*((U=q+j)-(H=O+F)),G=.5411961*U+$,K=1.306562965*H+$,Y=.707106781*(z=j+O),X=F+Y,Q=F-Y;t[d+40]=Q+G,t[d+24]=Q-G,t[d+8]=X+K,t[d+56]=X-K,d++}for(u=0;u<64;++u)h=t[u]*e[u],f[u]=h>0?h+.5|0:h-.5|0;return f}(t,e),c=0;c<64;++c)p[S[c]]=l[c];var u=p[0]-n;n=p[0],0==u?D(r[0]):(D(r[d[s=32767+u]]),D(h[s]));for(var g=63;g>0&&0==p[g];)g--;if(0==g)return D(a),n;for(var m,v=1;v<=g;){for(var y=v;0==p[v]&&v<=g;)++v;var b=v-y;if(b>=16){m=b>>4;for(var w=1;w<=m;++w)D(o);b&=15}s=32767+p[v],D(i[(b<<4)+d[s]]),D(h[s]),v++}return 63!=g&&D(a),n}function R(t){t=Math.min(Math.max(t,1),100),s!=t&&(function(t){for(var e=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;n<64;n++){var r=a((e[n]*t+50)/100);r=Math.min(Math.max(r,1),255),o[S[n]]=r}for(var i=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],s=0;s<64;s++){var h=a((i[s]*t+50)/100);h=Math.min(Math.max(h,1),255),l[S[s]]=h}for(var d=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],f=0,p=0;p<8;p++)for(var g=0;g<8;g++)c[f]=1/(o[S[f]]*d[p]*d[g]*8),u[f]=1/(l[S[f]]*d[p]*d[g]*8),f++}(t<50?Math.floor(5e3/t):Math.floor(200-2*t)),s=t)}this.encode=function(t,s){var a,h;s&&R(s),g=new Array,m=0,v=7,M(65496),M(65504),M(16),F(74),F(70),F(73),F(70),F(0),F(1),F(1),F(0),M(1),M(1),F(0),F(0),function(){M(65499),M(132),F(0);for(var t=0;t<64;t++)F(o[t]);F(1);for(var e=0;e<64;e++)F(l[e])}(),a=t.width,h=t.height,M(65472),M(17),F(8),M(h),M(a),F(3),F(1),F(17),F(0),F(2),F(17),F(1),F(3),F(17),F(1),function(){M(65476),M(418),F(0);for(var t=0;t<16;t++)F(A[t+1]);for(var e=0;e<=11;e++)F(N[e]);F(16);for(var n=0;n<16;n++)F(E[n+1]);for(var r=0;r<=161;r++)F(L[r]);F(1);for(var i=0;i<16;i++)F(k[i+1]);for(var s=0;s<=11;s++)F(C[s]);F(17);for(var a=0;a<16;a++)F(T[a+1]);for(var o=0;o<=161;o++)F(P[o])}(),M(65498),M(12),F(3),F(1),F(0),F(2),F(17),F(3),F(17),F(0),F(63),F(0);var d=0,f=0,p=0;m=0,v=7,this.encode.displayName="_encode_";for(var _,S,I,j,B,q,U,V,z,H=t.data,W=t.width,$=t.height,G=4*W,K=0;K<$;){for(_=0;_<G;){for(B=G*K+_,U=-1,V=0,z=0;z<64;z++)q=B+(V=z>>3)*G+(U=4*(7&z)),K+V>=$&&(q-=G*(K+1+V-$)),_+U>=G&&(q-=_+U-G+4),S=H[q++],I=H[q++],j=H[q++],y[z]=(x[S]+x[I+256|0]+x[j+512|0]>>16)-128,b[z]=(x[S+768|0]+x[I+1024|0]+x[j+1280|0]>>16)-128,w[z]=(x[S+1280|0]+x[I+1536|0]+x[j+1792|0]>>16)-128;d=O(y,c,d,e,r),f=O(b,u,f,n,i),p=O(w,u,p,n,i),_+=32}K+=8}if(v>=0){var Y=[];Y[1]=v+1,Y[0]=(1<<v+1)-1,D(Y)}return M(65497),new Uint8Array(g)},t=t||50,function(){for(var t=String.fromCharCode,e=0;e<256;e++)_[e]=t(e)}(),e=I(A,N),n=I(k,C),r=I(E,L),i=I(T,P),function(){for(var t=1,e=2,n=1;n<=15;n++){for(var r=t;r<e;r++)d[32767+r]=n,h[32767+r]=[],h[32767+r][1]=n,h[32767+r][0]=r;for(var i=-(e-1);i<=-t;i++)d[32767+i]=n,h[32767+i]=[],h[32767+i][1]=n,h[32767+i][0]=e-1+i;t<<=1,e<<=1}}(),function(){for(var t=0;t<256;t++)x[t]=19595*t,x[t+256|0]=38470*t,x[t+512|0]=7471*t+32768,x[t+768|0]=-11059*t,x[t+1024|0]=-21709*t,x[t+1280|0]=32768*t+8421375,x[t+1536|0]=-27439*t,x[t+1792|0]=-5329*t}(),R(t)}
/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ZA(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function tN(t){function e(t){if(!t)throw Error("assert :P")}function n(t,e,n){for(var r=0;4>r;r++)if(t[e+r]!=n.charCodeAt(r))return!0;return!1}function r(t,e,n,r,i){for(var s=0;s<i;s++)t[e+s]=n[r+s]}function i(t,e,n,r){for(var i=0;i<r;i++)t[e+i]=n}function s(t){return new Int32Array(t)}function a(t,e){for(var n=[],r=0;r<t;r++)n.push(new e);return n}function o(t,e){var n=[];return function t(n,r,i){for(var s=i[r],a=0;a<s&&(n.push(i.length>r+1?[]:new e),!(i.length<r+1));a++)t(n[a],r+1,i)}(n,0,t),n}var l=function(){var t=this;function l(t,e){for(var n=1<<e-1>>>0;t&n;)n>>>=1;return n?(t&n-1)+n:t}function c(t,n,r,i,s){e(!(i%r));do{t[n+(i-=r)]=s}while(0<i)}function u(t,n,r,i,a){if(e(2328>=a),512>=a)var o=s(512);else if(null==(o=s(a)))return 0;return function(t,n,r,i,a,o){var u,d,f=n,p=1<<r,g=s(16),m=s(16);for(e(0!=a),e(null!=i),e(null!=t),e(0<r),d=0;d<a;++d){if(15<i[d])return 0;++g[i[d]]}if(g[0]==a)return 0;for(m[1]=0,u=1;15>u;++u){if(g[u]>1<<u)return 0;m[u+1]=m[u]+g[u]}for(d=0;d<a;++d)u=i[d],0<i[d]&&(o[m[u]++]=d);if(1==m[15])return(i=new h).g=0,i.value=o[0],c(t,f,1,p,i),p;var v,y=-1,b=p-1,w=0,_=1,x=1,S=1<<r;for(d=0,u=1,a=2;u<=r;++u,a<<=1){if(_+=x<<=1,0>(x-=g[u]))return 0;for(;0<g[u];--g[u])(i=new h).g=u,i.value=o[d++],c(t,f+w,a,S,i),w=l(w,u)}for(u=r+1,a=2;15>=u;++u,a<<=1){if(_+=x<<=1,0>(x-=g[u]))return 0;for(;0<g[u];--g[u]){if(i=new h,(w&b)!=y){for(f+=S,v=1<<(y=u)-r;15>y&&!(0>=(v-=g[y]));)++y,v<<=1;p+=S=1<<(v=y-r),t[n+(y=w&b)].g=v+r,t[n+y].value=f-n-y}i.g=u-r,i.value=o[d++],c(t,f+(w>>r),a,S,i),w=l(w,u)}}return _!=2*m[15]-1?0:p}(t,n,r,i,a,o)}function h(){this.value=this.g=0}function d(){this.value=this.g=0}function f(){this.G=a(5,h),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(jn,d)}function p(t,n,r,i){e(null!=t),e(null!=n),e(2147483648>i),t.Ca=254,t.I=0,t.b=-8,t.Ka=0,t.oa=n,t.pa=r,t.Jd=n,t.Yc=r+i,t.Zc=4<=i?r+i-4+1:r,E(t)}function g(t,e){for(var n=0;0<e--;)n|=k(t,128)<<e;return n}function m(t,e){var n=g(t,e);return L(t)?-n:n}function v(t,n,r,i){var s,a=0;for(e(null!=t),e(null!=n),e(4294967288>i),t.Sb=i,t.Ra=0,t.u=0,t.h=0,4<i&&(i=4),s=0;s<i;++s)a+=n[r+s]<<8*s;t.Ra=a,t.bb=i,t.oa=n,t.pa=r}function y(t){for(;8<=t.u&&t.bb<t.Sb;)t.Ra>>>=8,t.Ra+=t.oa[t.pa+t.bb]<<Un-8>>>0,++t.bb,t.u-=8;S(t)&&(t.h=1,t.u=0)}function b(t,n){if(e(0<=n),!t.h&&n<=qn){var r=x(t)&Bn[n];return t.u+=n,y(t),r}return t.h=1,t.u=0}function w(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function _(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function x(t){return t.Ra>>>(t.u&Un-1)>>>0}function S(t){return e(t.bb<=t.Sb),t.h||t.bb==t.Sb&&t.u>Un}function A(t,e){t.u=e,t.h=S(t)}function N(t){t.u>=Vn&&(e(t.u>=Vn),y(t))}function E(t){e(null!=t&&null!=t.oa),t.pa<t.Zc?(t.I=(t.oa[t.pa++]|t.I<<8)>>>0,t.b+=8):(e(null!=t&&null!=t.oa),t.pa<t.Yc?(t.b+=8,t.I=t.oa[t.pa++]|t.I<<8):t.Ka?t.b=0:(t.I<<=8,t.b+=8,t.Ka=1))}function L(t){return g(t,1)}function k(t,e){var n=t.Ca;0>t.b&&E(t);var r=t.b,i=n*e>>>8,s=(t.I>>>r>i)+0;for(s?(n-=i,t.I-=i+1<<r>>>0):n=i+1,r=n,i=0;256<=r;)i+=8,r>>=8;return r=7^i+zn[r],t.b-=r,t.Ca=(n<<r)-1,s}function C(t,e,n){t[e+0]=n>>24&255,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=255&n}function T(t,e){return t[e+0]|t[e+1]<<8}function P(t,e){return T(t,e)|t[e+2]<<16}function I(t,e){return T(t,e)|T(t,e+2)<<16}function D(t,n){var r=1<<n;return e(null!=t),e(0<n),t.X=s(r),null==t.X?0:(t.Mb=32-n,t.Xa=n,1)}function F(t,n){e(null!=t),e(null!=n),e(t.Xa==n.Xa),r(n.X,0,t.X,0,1<<n.Xa)}function M(){this.X=[],this.Xa=this.Mb=0}function O(t,n,r,i){e(null!=r),e(null!=i);var s=r[0],a=i[0];return 0==s&&(s=(t*a+n/2)/n),0==a&&(a=(n*s+t/2)/t),0>=s||0>=a?0:(r[0]=s,i[0]=a,1)}function R(t,e){return t+(1<<e)-1>>>e}function j(t,e){return((4278255360&t)+(4278255360&e)>>>0&4278255360)+((16711935&t)+(16711935&e)>>>0&16711935)>>>0}function B(e,n){t[n]=function(n,r,i,s,a,o,l){var c;for(c=0;c<a;++c){var u=t[e](o[l+c-1],i,s+c);o[l+c]=j(n[r+c],u)}}}function q(){this.ud=this.hd=this.jd=0}function U(t,e){return((4278124286&(t^e))>>>1)+(t&e)>>>0}function V(t){return 0<=t&&256>t?t:0>t?0:255<t?255:void 0}function z(t,e){return V(t+(t-e+.5>>1))}function H(t,e,n){return Math.abs(e-n)-Math.abs(t-n)}function W(t,e,n,r,i,s,a){for(r=s[a-1],n=0;n<i;++n)s[a+n]=r=j(t[e+n],r)}function $(t,e,n,r,i){var s;for(s=0;s<n;++s){var a=t[e+s],o=a>>8&255,l=16711935&(l=(l=16711935&a)+((o<<16)+o));r[i+s]=(4278255360&a)+l>>>0}}function G(t,e){e.jd=255&t,e.hd=t>>8&255,e.ud=t>>16&255}function K(t,e,n,r,i,s){var a;for(a=0;a<r;++a){var o=e[n+a],l=o>>>8,c=o,u=255&(u=(u=o>>>16)+((t.jd<<24>>24)*(l<<24>>24)>>>5));c=255&(c=(c+=(t.hd<<24>>24)*(l<<24>>24)>>>5)+((t.ud<<24>>24)*(u<<24>>24)>>>5)),i[s+a]=(4278255360&o)+(u<<16)+c}}function Y(e,n,r,i,s){t[n]=function(t,e,n,r,a,o,l,c,u){for(r=l;r<c;++r)for(l=0;l<u;++l)a[o++]=s(n[i(t[e++])])},t[e]=function(e,n,a,o,l,c,u){var h=8>>e.b,d=e.Ea,f=e.K[0],p=e.w;if(8>h)for(e=(1<<e.b)-1,p=(1<<h)-1;n<a;++n){var g,m=0;for(g=0;g<d;++g)g&e||(m=i(o[l++])),c[u++]=s(f[m&p]),m>>=h}else t["VP8LMapColor"+r](o,l,f,p,c,u,n,a,d)}}function X(t,e,n,r,i){for(n=e+n;e<n;){var s=t[e++];r[i++]=s>>16&255,r[i++]=s>>8&255,r[i++]=255&s}}function Q(t,e,n,r,i){for(n=e+n;e<n;){var s=t[e++];r[i++]=s>>16&255,r[i++]=s>>8&255,r[i++]=255&s,r[i++]=s>>24&255}}function J(t,e,n,r,i){for(n=e+n;e<n;){var s=(a=t[e++])>>16&240|a>>12&15,a=240&a|a>>28&15;r[i++]=s,r[i++]=a}}function Z(t,e,n,r,i){for(n=e+n;e<n;){var s=(a=t[e++])>>16&248|a>>13&7,a=a>>5&224|a>>3&31;r[i++]=s,r[i++]=a}}function tt(t,e,n,r,i){for(n=e+n;e<n;){var s=t[e++];r[i++]=255&s,r[i++]=s>>8&255,r[i++]=s>>16&255}}function et(t,e,n,i,s,a){if(0==a)for(n=e+n;e<n;)C(i,((a=t[e++])[0]>>24|a[1]>>8&65280|a[2]<<8&16711680|a[3]<<24)>>>0),s+=32;else r(i,s,t,e,n)}function nt(e,n){t[n][0]=t[e+"0"],t[n][1]=t[e+"1"],t[n][2]=t[e+"2"],t[n][3]=t[e+"3"],t[n][4]=t[e+"4"],t[n][5]=t[e+"5"],t[n][6]=t[e+"6"],t[n][7]=t[e+"7"],t[n][8]=t[e+"8"],t[n][9]=t[e+"9"],t[n][10]=t[e+"10"],t[n][11]=t[e+"11"],t[n][12]=t[e+"12"],t[n][13]=t[e+"13"],t[n][14]=t[e+"0"],t[n][15]=t[e+"0"]}function rt(t){return t==Vr||t==zr||t==Hr||t==Wr}function it(){this.eb=[],this.size=this.A=this.fb=0}function st(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function at(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new it,this.f.kb=new st,this.sd=null}function ot(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function lt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ct(t){return alert("todo:WebPSamplerProcessPlane"),t.T}function ut(t,e){var n=t.T,i=e.ba.f.RGBA,s=i.eb,a=i.fb+t.ka*i.A,o=mi[e.ba.S],l=t.y,c=t.O,u=t.f,h=t.N,d=t.ea,f=t.W,p=e.cc,g=e.dc,m=e.Mc,v=e.Nc,y=t.ka,b=t.ka+t.T,w=t.U,_=w+1>>1;for(0==y?o(l,c,null,null,u,h,d,f,u,h,d,f,s,a,null,null,w):(o(e.ec,e.fc,l,c,p,g,m,v,u,h,d,f,s,a-i.A,s,a,w),++n);y+2<b;y+=2)p=u,g=h,m=d,v=f,h+=t.Rc,f+=t.Rc,a+=2*i.A,o(l,(c+=2*t.fa)-t.fa,l,c,p,g,m,v,u,h,d,f,s,a-i.A,s,a,w);return c+=t.fa,t.j+b<t.o?(r(e.ec,e.fc,l,c,w),r(e.cc,e.dc,u,h,_),r(e.Mc,e.Nc,d,f,_),n--):1&b||o(l,c,null,null,u,h,d,f,u,h,d,f,s,a+i.A,null,null,w),n}function ht(t,n,r){var i=t.F,s=[t.J];if(null!=i){var a=t.U,o=n.ba.S,l=o==Br||o==Hr;n=n.ba.f.RGBA;var c=[0],u=t.ka;c[0]=t.T,t.Kb&&(0==u?--c[0]:(--u,s[0]-=t.width),t.j+t.ka+t.T==t.o&&(c[0]=t.o-t.j-u));var h=n.eb;u=n.fb+u*n.A,t=Ar(i,s[0],t.width,a,c,h,u+(l?0:3),n.A),e(r==c),t&&rt(o)&&xr(h,u,l,a,c,n.A)}return 0}function dt(t){var e=t.ma,n=e.ba.S,r=11>n,i=n==Or||n==jr||n==Br||n==qr||12==n||rt(n);if(e.memory=null,e.Ib=null,e.Jb=null,e.Nd=null,!Mn(e.Oa,t,i?11:12))return 0;if(i&&rt(n)&&yn(),t.da)alert("todo:use_scaling");else{if(r){if(e.Ib=ct,t.Kb){if(n=t.U+1>>1,e.memory=s(t.U+2*n),null==e.memory)return 0;e.ec=e.memory,e.fc=0,e.cc=e.ec,e.dc=e.fc+t.U,e.Mc=e.cc,e.Nc=e.dc+n,e.Ib=ut,yn()}}else alert("todo:EmitYUV");i&&(e.Jb=ht,r&&mn())}if(r&&!Ci){for(t=0;256>t;++t)Ti[t]=89858*(t-128)+Ni>>Ai,Di[t]=-22014*(t-128)+Ni,Ii[t]=-45773*(t-128),Pi[t]=113618*(t-128)+Ni>>Ai;for(t=Ei;t<Li;++t)e=76283*(t-16)+Ni>>Ai,Fi[t-Ei]=Wt(e,255),Mi[t-Ei]=Wt(e+8>>4,15);Ci=1}return 1}function ft(t){var n=t.ma,r=t.U,i=t.T;return e(!(1&t.ka)),0>=r||0>=i?0:(r=n.Ib(t,n),null!=n.Jb&&n.Jb(t,n,r),n.Dc+=r,1)}function pt(t){t.ma.memory=null}function gt(t,e,n,r){return 47!=b(t,8)?0:(e[0]=b(t,14)+1,n[0]=b(t,14)+1,r[0]=b(t,1),0!=b(t,3)?0:!t.h)}function mt(t,e){if(4>t)return t+1;var n=t-2>>1;return(2+(1&t)<<n)+b(e,n)+1}function vt(t,e){return 120<e?e-120:1<=(n=((n=Qr[e-1])>>4)*t+(8-(15&n)))?n:1;var n}function yt(t,e,n){var r=x(n),i=t[e+=255&r].g-8;return 0<i&&(A(n,n.u+8),r=x(n),e+=t[e].value,e+=r&(1<<i)-1),A(n,n.u+t[e].g),t[e].value}function bt(t,n,r){return r.g+=t.g,r.value+=t.value<<n>>>0,e(8>=r.g),t.g}function wt(t,n,r){var i=t.xc;return e((n=0==i?0:t.vc[t.md*(r>>i)+(n>>i)])<t.Wb),t.Ya[n]}function _t(t,n,i,s){var a=t.ab,o=t.c*n,l=t.C;n=l+n;var c=i,u=s;for(s=t.Ta,i=t.Ua;0<a--;){var h=t.gc[a],d=l,f=n,p=c,g=u,m=(u=s,c=i,h.Ea);switch(e(d<f),e(f<=h.nc),h.hc){case 2:$n(p,g,(f-d)*m,u,c);break;case 0:var v=d,y=f,b=u,w=c,_=(E=h).Ea;0==v&&(Hn(p,g,null,null,1,b,w),W(p,g+1,0,0,_-1,b,w+1),g+=_,w+=_,++v);for(var x=1<<E.b,S=x-1,A=R(_,E.b),N=E.K,E=E.w+(v>>E.b)*A;v<y;){var L=N,k=E,C=1;for(Wn(p,g,b,w-_,1,b,w);C<_;){var T=(C&~S)+x;T>_&&(T=_),(0,Qn[L[k++]>>8&15])(p,g+ +C,b,w+C-_,T-C,b,w+C),C=T}g+=_,w+=_,++v&S||(E+=A)}f!=h.nc&&r(u,c-m,u,c+(f-d-1)*m,m);break;case 1:for(m=p,y=g,_=(p=h.Ea)-(w=p&~(b=(g=1<<h.b)-1)),v=R(p,h.b),x=h.K,h=h.w+(d>>h.b)*v;d<f;){for(S=x,A=h,N=new q,E=y+w,L=y+p;y<E;)G(S[A++],N),Jn(N,m,y,g,u,c),y+=g,c+=g;y<L&&(G(S[A++],N),Jn(N,m,y,_,u,c),y+=_,c+=_),++d&b||(h+=v)}break;case 3:if(p==u&&g==c&&0<h.b){for(y=u,p=m=c+(f-d)*m-(w=(f-d)*R(h.Ea,h.b)),g=u,b=c,v=[],w=(_=w)-1;0<=w;--w)v[w]=g[b+w];for(w=_-1;0<=w;--w)y[p+w]=v[w];Gn(h,d,f,u,m,u,c)}else Gn(h,d,f,p,g,u,c)}c=s,u=i}u!=i&&r(s,i,c,u,o)}function xt(t,n){var r=t.V,i=t.Ba+t.c*t.C,s=n-t.C;if(e(n<=t.l.o),e(16>=s),0<s){var a=t.l,o=t.Ta,l=t.Ua,c=a.width;if(_t(t,s,r,i),s=l=[l],e((r=t.C)<(i=n)),e(a.v<a.va),i>a.o&&(i=a.o),r<a.j){var u=a.j-r;r=a.j,s[0]+=u*c}if(r>=i?r=0:(s[0]+=4*a.v,a.ka=r-a.j,a.U=a.va-a.v,a.T=i-r,r=1),r){if(l=l[0],11>(r=t.ca).S){var h=r.f.RGBA,d=(i=r.S,s=a.U,a=a.T,u=h.eb,h.A),f=a;for(h=h.fb+t.Ma*h.A;0<f--;){var p=o,g=l,m=s,v=u,y=h;switch(i){case Mr:Zn(p,g,m,v,y);break;case Or:tr(p,g,m,v,y);break;case Vr:tr(p,g,m,v,y),xr(v,y,0,m,1,0);break;case Rr:rr(p,g,m,v,y);break;case jr:et(p,g,m,v,y,1);break;case zr:et(p,g,m,v,y,1),xr(v,y,0,m,1,0);break;case Br:et(p,g,m,v,y,0);break;case Hr:et(p,g,m,v,y,0),xr(v,y,1,m,1,0);break;case qr:er(p,g,m,v,y);break;case Wr:er(p,g,m,v,y),Sr(v,y,m,1,0);break;case Ur:nr(p,g,m,v,y);break;default:e(0)}l+=c,h+=d}t.Ma+=a}else alert("todo:EmitRescaledRowsYUVA");e(t.Ma<=r.height)}}t.C=n,e(t.C<=t.i)}function St(t){var e;if(0<t.ua)return 0;for(e=0;e<t.Wb;++e){var n=t.Ya[e].G,r=t.Ya[e].H;if(0<n[1][r[1]+0].g||0<n[2][r[2]+0].g||0<n[3][r[3]+0].g)return 0}return 1}function At(t,n,r,i,s,a){if(0!=t.Z){var o=t.qd,l=t.rd;for(e(null!=gi[t.Z]);n<r;++n)gi[t.Z](o,l,i,s,i,s,a),o=i,l=s,s+=a;t.qd=o,t.rd=l}}function Nt(t,n){var r=t.l.ma,i=0==r.Z||1==r.Z?t.l.j:t.C;if(i=t.C<i?i:t.C,e(n<=t.l.o),n>i){var s=t.l.width,a=r.ca,o=r.tb+s*i,l=t.V,c=t.Ba+t.c*i,u=t.gc;e(1==t.ab),e(3==u[0].hc),Yn(u[0],i,n,l,c,a,o),At(r,i,n,a,o,s)}t.C=t.Ma=n}function Et(t,n,r,i,s,a,o){var l=t.$/i,c=t.$%i,u=t.m,h=t.s,d=r+t.$,f=d;s=r+i*s;var p=r+i*a,g=280+h.ua,m=t.Pb?l:16777216,v=0<h.ua?h.Wa:null,y=h.wc,b=d<p?wt(h,c,l):null;e(t.C<a),e(p<=s);var w=!1;t:for(;;){for(;w||d<p;){var _=0;if(l>=m){var E=d-r;e((m=t).Pb),m.wd=m.m,m.xd=E,0<m.s.ua&&F(m.s.Wa,m.s.vb),m=l+Zr}if(c&y||(b=wt(h,c,l)),e(null!=b),b.Qb&&(n[d]=b.qb,w=!0),!w)if(N(u),b.jc){_=u,E=n;var L=d,k=b.pd[x(_)&jn-1];e(b.jc),256>k.g?(A(_,_.u+k.g),E[L]=k.value,_=0):(A(_,_.u+k.g-256),e(256<=k.value),_=k.value),0==_&&(w=!0)}else _=yt(b.G[0],b.H[0],u);if(u.h)break;if(w||256>_){if(!w)if(b.nd)n[d]=(b.qb|_<<8)>>>0;else{if(N(u),w=yt(b.G[1],b.H[1],u),N(u),E=yt(b.G[2],b.H[2],u),L=yt(b.G[3],b.H[3],u),u.h)break;n[d]=(L<<24|w<<16|_<<8|E)>>>0}if(w=!1,++d,++c>=i&&(c=0,++l,null!=o&&l<=a&&!(l%16)&&o(t,l),null!=v))for(;f<d;)_=n[f++],v.X[(506832829*_&4294967295)>>>v.Mb]=_}else if(280>_){if(_=mt(_-256,u),E=yt(b.G[4],b.H[4],u),N(u),E=vt(i,E=mt(E,u)),u.h)break;if(d-r<E||s-d<_)break t;for(L=0;L<_;++L)n[d+L]=n[d+L-E];for(d+=_,c+=_;c>=i;)c-=i,++l,null!=o&&l<=a&&!(l%16)&&o(t,l);if(e(d<=s),c&y&&(b=wt(h,c,l)),null!=v)for(;f<d;)_=n[f++],v.X[(506832829*_&4294967295)>>>v.Mb]=_}else{if(!(_<g))break t;for(w=_-280,e(null!=v);f<d;)_=n[f++],v.X[(506832829*_&4294967295)>>>v.Mb]=_;_=d,e(!(w>>>(E=v).Xa)),n[_]=E.X[w],w=!0}w||e(u.h==S(u))}if(t.Pb&&u.h&&d<s)e(t.m.h),t.a=5,t.m=t.wd,t.$=t.xd,0<t.s.ua&&F(t.s.vb,t.s.Wa);else{if(u.h)break t;null!=o&&o(t,l>a?a:l),t.a=0,t.$=d-r}return 1}return t.a=3,0}function Lt(t){e(null!=t),t.vc=null,t.yc=null,t.Ya=null;var n=t.Wa;null!=n&&(n.X=null),t.vb=null,e(null!=t)}function kt(){var e=new an;return null==e?null:(e.a=0,e.xb=pi,nt("Predictor","VP8LPredictors"),nt("Predictor","VP8LPredictors_C"),nt("PredictorAdd","VP8LPredictorsAdd"),nt("PredictorAdd","VP8LPredictorsAdd_C"),$n=$,Jn=K,Zn=X,tr=Q,er=J,nr=Z,rr=tt,t.VP8LMapColor32b=Kn,t.VP8LMapColor8b=Xn,e)}function Ct(t,n,r,o,l){var c=1,d=[t],p=[n],g=o.m,m=o.s,v=null,y=0;t:for(;;){if(r)for(;c&&b(g,1);){var w=d,_=p,S=o,E=1,L=S.m,k=S.gc[S.ab],C=b(L,2);if(S.Oc&1<<C)c=0;else{switch(S.Oc|=1<<C,k.hc=C,k.Ea=w[0],k.nc=_[0],k.K=[null],++S.ab,e(4>=S.ab),C){case 0:case 1:k.b=b(L,3)+2,E=Ct(R(k.Ea,k.b),R(k.nc,k.b),0,S,k.K),k.K=k.K[0];break;case 3:var T,P=b(L,8)+1,I=16<P?0:4<P?1:2<P?2:3;if(w[0]=R(k.Ea,I),k.b=I,T=E=Ct(P,1,0,S,k.K)){var F,M=P,O=k,B=1<<(8>>O.b),q=s(B);if(null==q)T=0;else{var U=O.K[0],V=O.w;for(q[0]=O.K[0][0],F=1;F<1*M;++F)q[F]=j(U[V+F],q[F-1]);for(;F<4*B;++F)q[F]=0;O.K[0]=null,O.K[0]=q,T=1}}E=T;break;case 2:break;default:e(0)}c=E}}if(d=d[0],p=p[0],c&&b(g,1)&&!(c=1<=(y=b(g,4))&&11>=y)){o.a=3;break t}var z;if(z=c)e:{var H,W,$,G=o,K=d,Y=p,X=y,Q=r,J=G.m,Z=G.s,tt=[null],et=1,nt=0,rt=Jr[X];n:for(;;){if(Q&&b(J,1)){var it=b(J,3)+2,st=R(K,it),at=R(Y,it),ot=st*at;if(!Ct(st,at,0,G,tt))break n;for(tt=tt[0],Z.xc=it,H=0;H<ot;++H){var lt=tt[H]>>8&65535;tt[H]=lt,lt>=et&&(et=lt+1)}}if(J.h)break n;for(W=0;5>W;++W){var ct=Kr[W];!W&&0<X&&(ct+=1<<X),nt<ct&&(nt=ct)}var ut=a(et*rt,h),ht=et,dt=a(ht,f);if(null==dt)var ft=null;else e(65536>=ht),ft=dt;var pt=s(nt);if(null==ft||null==pt||null==ut){G.a=1;break n}var gt=ut;for(H=$=0;H<et;++H){var mt=ft[H],vt=mt.G,yt=mt.H,wt=0,_t=1,xt=0;for(W=0;5>W;++W){ct=Kr[W],vt[W]=gt,yt[W]=$,!W&&0<X&&(ct+=1<<X);r:{var St,At=ct,Nt=G,kt=pt,Tt=gt,Pt=$,It=0,Dt=Nt.m,Ft=b(Dt,1);if(i(kt,0,0,At),Ft){var Mt=b(Dt,1)+1,Ot=b(Dt,1),Rt=b(Dt,0==Ot?1:8);kt[Rt]=1,2==Mt&&(kt[Rt=b(Dt,8)]=1);var jt=1}else{var Bt=s(19),qt=b(Dt,4)+4;if(19<qt){Nt.a=3;var Ut=0;break r}for(St=0;St<qt;++St)Bt[Xr[St]]=b(Dt,3);var Vt=void 0,zt=void 0,Ht=Nt,Wt=Bt,$t=At,Gt=kt,Kt=0,Yt=Ht.m,Xt=8,Qt=a(128,h);i:for(;u(Qt,0,7,Wt,19);){if(b(Yt,1)){var Jt=2+2*b(Yt,3);if((Vt=2+b(Yt,Jt))>$t)break i}else Vt=$t;for(zt=0;zt<$t&&Vt--;){N(Yt);var Zt=Qt[0+(127&x(Yt))];A(Yt,Yt.u+Zt.g);var te=Zt.value;if(16>te)Gt[zt++]=te,0!=te&&(Xt=te);else{var ee=16==te,ne=te-16,re=Gr[ne],ie=b(Yt,$r[ne])+re;if(zt+ie>$t)break i;for(var se=ee?Xt:0;0<ie--;)Gt[zt++]=se}}Kt=1;break i}Kt||(Ht.a=3),jt=Kt}(jt=jt&&!Dt.h)&&(It=u(Tt,Pt,8,kt,At)),jt&&0!=It?Ut=It:(Nt.a=3,Ut=0)}if(0==Ut)break n;if(_t&&1==Yr[W]&&(_t=0==gt[$].g),wt+=gt[$].g,$+=Ut,3>=W){var ae,oe=pt[0];for(ae=1;ae<ct;++ae)pt[ae]>oe&&(oe=pt[ae]);xt+=oe}}if(mt.nd=_t,mt.Qb=0,_t&&(mt.qb=(vt[3][yt[3]+0].value<<24|vt[1][yt[1]+0].value<<16|vt[2][yt[2]+0].value)>>>0,0==wt&&256>vt[0][yt[0]+0].value&&(mt.Qb=1,mt.qb+=vt[0][yt[0]+0].value<<8)),mt.jc=!mt.Qb&&6>xt,mt.jc){var le,ce=mt;for(le=0;le<jn;++le){var ue=le,he=ce.pd[ue],de=ce.G[0][ce.H[0]+ue];256<=de.value?(he.g=de.g+256,he.value=de.value):(he.g=0,he.value=0,ue>>=bt(de,8,he),ue>>=bt(ce.G[1][ce.H[1]+ue],16,he),ue>>=bt(ce.G[2][ce.H[2]+ue],0,he),bt(ce.G[3][ce.H[3]+ue],24,he))}}}Z.vc=tt,Z.Wb=et,Z.Ya=ft,Z.yc=ut,z=1;break e}z=0}if(!(c=z)){o.a=3;break t}if(0<y){if(m.ua=1<<y,!D(m.Wa,y)){o.a=1,c=0;break t}}else m.ua=0;var fe=o,pe=d,ge=p,me=fe.s,ve=me.xc;if(fe.c=pe,fe.i=ge,me.md=R(pe,ve),me.wc=0==ve?-1:(1<<ve)-1,r){o.xb=fi;break t}if(null==(v=s(d*p))){o.a=1,c=0;break t}c=(c=Et(o,v,0,d,p,p,null))&&!g.h;break t}return c?(null!=l?l[0]=v:(e(null==v),e(r)),o.$=0,r||Lt(m)):Lt(m),c}function Tt(t,n){var r=t.c*t.i,i=r+n+16*n;return e(t.c<=n),t.V=s(i),null==t.V?(t.Ta=null,t.Ua=0,t.a=1,0):(t.Ta=t.V,t.Ua=t.Ba+r+n,1)}function Pt(t,n){var r=t.C,i=n-r,s=t.V,a=t.Ba+t.c*r;for(e(n<=t.l.o);0<i;){var o=16<i?16:i,l=t.l.ma,c=t.l.width,u=c*o,h=l.ca,d=l.tb+c*r,f=t.Ta,p=t.Ua;_t(t,o,s,a),Nr(f,p,h,d,u),At(l,r,r+o,h,d,c),i-=o,s+=o*t.c,r+=o}e(r==n),t.C=t.Ma=n}function It(){this.ub=this.yd=this.td=this.Rb=0}function Dt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ft(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Mt(){var t;this.Yb=(function t(e,n,r){for(var i=r[n],s=0;s<i&&(e.push(r.length>n+1?[]:0),!(r.length<n+1));s++)t(e[s],n+1,r)}(t=[],0,[3,11]),t)}function Ot(){this.jb=s(3),this.Wc=o([4,8],Mt),this.Xc=o([4,17],Mt)}function Rt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function jt(){this.ld=this.La=this.dd=this.tc=0}function Bt(){this.Na=this.la=0}function qt(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ut(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Vt(){this.uc=this.M=this.Nb=0,this.wa=Array(new jt),this.Y=0,this.ya=Array(new Ut),this.aa=0,this.l=new $t}function zt(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Ht(){this.cb=this.a=0,this.sc="",this.m=new w,this.Od=new It,this.Kc=new Dt,this.ed=new Rt,this.Qa=new Ft,this.Ic=this.$c=this.Aa=0,this.D=new Vt,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,w),this.ia=0,this.pb=a(4,qt),this.Pa=new Ot,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new zt),this.Hd=0,this.rb=Array(new Bt),this.sb=0,this.wa=Array(new jt),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ut),this.L=this.aa=0,this.gd=o([4,2],jt),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Wt(t,e){return 0>t?0:t>e?e:t}function $t(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Gt(){var t=new Ht;return null!=t&&(t.a=0,t.sc="OK",t.cb=0,t.Xb=0,ni||(ni=Qt)),t}function Kt(t,e,n){return 0==t.a&&(t.a=e,t.sc=n,t.cb=0),0}function Yt(t,e,n){return 3<=n&&157==t[e+0]&&1==t[e+1]&&42==t[e+2]}function Xt(t,n){if(null==t)return 0;if(t.a=0,t.sc="OK",null==n)return Kt(t,2,"null VP8Io passed to VP8GetHeaders()");var r=n.data,s=n.w,a=n.ha;if(4>a)return Kt(t,7,"Truncated header.");var o=r[s+0]|r[s+1]<<8|r[s+2]<<16,l=t.Od;if(l.Rb=!(1&o),l.td=o>>1&7,l.yd=o>>4&1,l.ub=o>>5,3<l.td)return Kt(t,3,"Incorrect keyframe parameters.");if(!l.yd)return Kt(t,4,"Frame not displayable.");s+=3,a-=3;var c=t.Kc;if(l.Rb){if(7>a)return Kt(t,7,"cannot parse picture header");if(!Yt(r,s,a))return Kt(t,3,"Bad code word");c.c=16383&(r[s+4]<<8|r[s+3]),c.Td=r[s+4]>>6,c.i=16383&(r[s+6]<<8|r[s+5]),c.Ud=r[s+6]>>6,s+=7,a-=7,t.za=c.c+15>>4,t.Ub=c.i+15>>4,n.width=c.c,n.height=c.i,n.Da=0,n.j=0,n.v=0,n.va=n.width,n.o=n.height,n.da=0,n.ib=n.width,n.hb=n.height,n.U=n.width,n.T=n.height,i((o=t.Pa).jb,0,255,o.jb.length),e(null!=(o=t.Qa)),o.Cb=0,o.Bb=0,o.Fb=1,i(o.Zb,0,0,o.Zb.length),i(o.Lb,0,0,o.Lb)}if(l.ub>a)return Kt(t,7,"bad partition length");p(o=t.m,r,s,l.ub),s+=l.ub,a-=l.ub,l.Rb&&(c.Ld=L(o),c.Kd=L(o)),c=t.Qa;var u,h=t.Pa;if(e(null!=o),e(null!=c),c.Cb=L(o),c.Cb){if(c.Bb=L(o),L(o)){for(c.Fb=L(o),u=0;4>u;++u)c.Zb[u]=L(o)?m(o,7):0;for(u=0;4>u;++u)c.Lb[u]=L(o)?m(o,6):0}if(c.Bb)for(u=0;3>u;++u)h.jb[u]=L(o)?g(o,8):255}else c.Bb=0;if(o.Ka)return Kt(t,3,"cannot parse segment header");if((c=t.ed).zd=L(o),c.Tb=g(o,6),c.wb=g(o,3),c.Pc=L(o),c.Pc&&L(o)){for(h=0;4>h;++h)L(o)&&(c.vd[h]=m(o,6));for(h=0;4>h;++h)L(o)&&(c.od[h]=m(o,6))}if(t.L=0==c.Tb?0:c.zd?1:2,o.Ka)return Kt(t,3,"cannot parse filter header");var d=a;if(a=u=s,s=u+d,c=d,t.Xb=(1<<g(t.m,2))-1,d<3*(h=t.Xb))r=7;else{for(u+=3*h,c-=3*h,d=0;d<h;++d){var f=r[a+0]|r[a+1]<<8|r[a+2]<<16;f>c&&(f=c),p(t.Jc[+d],r,u,f),u+=f,c-=f,a+=3}p(t.Jc[+h],r,u,c),r=u<s?0:5}if(0!=r)return Kt(t,r,"cannot parse partitions");for(r=g(u=t.m,7),a=L(u)?m(u,4):0,s=L(u)?m(u,4):0,c=L(u)?m(u,4):0,h=L(u)?m(u,4):0,u=L(u)?m(u,4):0,d=t.Qa,f=0;4>f;++f){if(d.Cb){var v=d.Zb[f];d.Fb||(v+=r)}else{if(0<f){t.pb[f]=t.pb[0];continue}v=r}var y=t.pb[f];y.Sc[0]=ti[Wt(v+a,127)],y.Sc[1]=ei[Wt(v+0,127)],y.Eb[0]=2*ti[Wt(v+s,127)],y.Eb[1]=101581*ei[Wt(v+c,127)]>>16,8>y.Eb[1]&&(y.Eb[1]=8),y.Qc[0]=ti[Wt(v+h,117)],y.Qc[1]=ei[Wt(v+u,127)],y.lc=v+u}if(!l.Rb)return Kt(t,4,"Not a key frame.");for(L(o),l=t.Pa,r=0;4>r;++r){for(a=0;8>a;++a)for(s=0;3>s;++s)for(c=0;11>c;++c)h=k(o,li[r][a][s][c])?g(o,8):ai[r][a][s][c],l.Wc[r][a].Yb[s][c]=h;for(a=0;17>a;++a)l.Xc[r][a]=l.Wc[r][ci[a]]}return t.kc=L(o),t.kc&&(t.Bd=g(o,8)),t.cb=1}function Qt(t,e,n,r,i,s,a){var o=e[i].Yb[n];for(n=0;16>i;++i){if(!k(t,o[n+0]))return i;for(;!k(t,o[n+1]);)if(o=e[++i].Yb[0],n=0,16==i)return 16;var l=e[i+1].Yb;if(k(t,o[n+2])){var c=t,u=0;if(k(c,(d=o)[(h=n)+3]))if(k(c,d[h+6])){for(o=0,h=2*(u=k(c,d[h+8]))+(d=k(c,d[h+9+u])),u=0,d=ri[h];d[o];++o)u+=u+k(c,d[o]);u+=3+(8<<h)}else k(c,d[h+7])?(u=7+2*k(c,165),u+=k(c,145)):u=5+k(c,159);else u=k(c,d[h+4])?3+k(c,d[h+5]):2;o=l[2]}else u=1,o=l[1];l=a+ii[i],0>(c=t).b&&E(c);var h,d=c.b,f=(h=c.Ca>>1)-(c.I>>d)>>31;--c.b,c.Ca+=f,c.Ca|=1,c.I-=(h+1&f)<<d,s[l]=((u^f)-f)*r[(0<i)+0]}return 16}function Jt(t){var e=t.rb[t.sb-1];e.la=0,e.Na=0,i(t.zc,0,0,t.zc.length),t.ja=0}function Zt(t,e,n,r,i){i=t[e+n+32*r]+(i>>3),t[e+n+32*r]=-256&i?0>i?0:255:i}function te(t,e,n,r,i,s){Zt(t,e,0,n,r+i),Zt(t,e,1,n,r+s),Zt(t,e,2,n,r-s),Zt(t,e,3,n,r-i)}function ee(t){return(20091*t>>16)+t}function ne(t,e,n,r){var i,a=0,o=s(16);for(i=0;4>i;++i){var l=t[e+0]+t[e+8],c=t[e+0]-t[e+8],u=(35468*t[e+4]>>16)-ee(t[e+12]),h=ee(t[e+4])+(35468*t[e+12]>>16);o[a+0]=l+h,o[a+1]=c+u,o[a+2]=c-u,o[a+3]=l-h,a+=4,e++}for(i=a=0;4>i;++i)l=(t=o[a+0]+4)+o[a+8],c=t-o[a+8],u=(35468*o[a+4]>>16)-ee(o[a+12]),Zt(n,r,0,0,l+(h=ee(o[a+4])+(35468*o[a+12]>>16))),Zt(n,r,1,0,c+u),Zt(n,r,2,0,c-u),Zt(n,r,3,0,l-h),a++,r+=32}function re(t,e,n,r){var i=t[e+0]+4,s=35468*t[e+4]>>16,a=ee(t[e+4]),o=35468*t[e+1]>>16;te(n,r,0,i+a,t=ee(t[e+1]),o),te(n,r,1,i+s,t,o),te(n,r,2,i-s,t,o),te(n,r,3,i-a,t,o)}function ie(t,e,n,r,i){ne(t,e,n,r),i&&ne(t,e+16,n,r+4)}function se(t,e,n,r){sr(t,e+0,n,r,1),sr(t,e+32,n,r+128,1)}function ae(t,e,n,r){var i;for(t=t[e+0]+4,i=0;4>i;++i)for(e=0;4>e;++e)Zt(n,r,e,i,t)}function oe(t,e,n,r){t[e+0]&&lr(t,e+0,n,r),t[e+16]&&lr(t,e+16,n,r+4),t[e+32]&&lr(t,e+32,n,r+128),t[e+48]&&lr(t,e+48,n,r+128+4)}function le(t,e,n,r){var i,a=s(16);for(i=0;4>i;++i){var o=t[e+0+i]+t[e+12+i],l=t[e+4+i]+t[e+8+i],c=t[e+4+i]-t[e+8+i],u=t[e+0+i]-t[e+12+i];a[0+i]=o+l,a[8+i]=o-l,a[4+i]=u+c,a[12+i]=u-c}for(i=0;4>i;++i)o=(t=a[0+4*i]+3)+a[3+4*i],l=a[1+4*i]+a[2+4*i],c=a[1+4*i]-a[2+4*i],u=t-a[3+4*i],n[r+0]=o+l>>3,n[r+16]=u+c>>3,n[r+32]=o-l>>3,n[r+48]=u-c>>3,r+=64}function ce(t,e,n){var r,i=e-32,s=Dr,a=255-t[i-1];for(r=0;r<n;++r){var o,l=s,c=a+t[e-1];for(o=0;o<n;++o)t[e+o]=l[c+t[i+o]];e+=32}}function ue(t,e){ce(t,e,4)}function he(t,e){ce(t,e,8)}function de(t,e){ce(t,e,16)}function fe(t,e){var n;for(n=0;16>n;++n)r(t,e+32*n,t,e-32,16)}function pe(t,e){var n;for(n=16;0<n;--n)i(t,e,t[e-1],16),e+=32}function ge(t,e,n){var r;for(r=0;16>r;++r)i(e,n+32*r,t,16)}function me(t,e){var n,r=16;for(n=0;16>n;++n)r+=t[e-1+32*n]+t[e+n-32];ge(r>>5,t,e)}function ve(t,e){var n,r=8;for(n=0;16>n;++n)r+=t[e-1+32*n];ge(r>>4,t,e)}function ye(t,e){var n,r=8;for(n=0;16>n;++n)r+=t[e+n-32];ge(r>>4,t,e)}function be(t,e){ge(128,t,e)}function we(t,e,n){return t+2*e+n+2>>2}function _e(t,e){var n,i=e-32;for(i=new Uint8Array([we(t[i-1],t[i+0],t[i+1]),we(t[i+0],t[i+1],t[i+2]),we(t[i+1],t[i+2],t[i+3]),we(t[i+2],t[i+3],t[i+4])]),n=0;4>n;++n)r(t,e+32*n,i,0,i.length)}function xe(t,e){var n=t[e-1],r=t[e-1+32],i=t[e-1+64],s=t[e-1+96];C(t,e+0,16843009*we(t[e-1-32],n,r)),C(t,e+32,16843009*we(n,r,i)),C(t,e+64,16843009*we(r,i,s)),C(t,e+96,16843009*we(i,s,s))}function Se(t,e){var n,r=4;for(n=0;4>n;++n)r+=t[e+n-32]+t[e-1+32*n];for(r>>=3,n=0;4>n;++n)i(t,e+32*n,r,4)}function Ae(t,e){var n=t[e-1+0],r=t[e-1+32],i=t[e-1+64],s=t[e-1-32],a=t[e+0-32],o=t[e+1-32],l=t[e+2-32],c=t[e+3-32];t[e+0+96]=we(r,i,t[e-1+96]),t[e+1+96]=t[e+0+64]=we(n,r,i),t[e+2+96]=t[e+1+64]=t[e+0+32]=we(s,n,r),t[e+3+96]=t[e+2+64]=t[e+1+32]=t[e+0+0]=we(a,s,n),t[e+3+64]=t[e+2+32]=t[e+1+0]=we(o,a,s),t[e+3+32]=t[e+2+0]=we(l,o,a),t[e+3+0]=we(c,l,o)}function Ne(t,e){var n=t[e+1-32],r=t[e+2-32],i=t[e+3-32],s=t[e+4-32],a=t[e+5-32],o=t[e+6-32],l=t[e+7-32];t[e+0+0]=we(t[e+0-32],n,r),t[e+1+0]=t[e+0+32]=we(n,r,i),t[e+2+0]=t[e+1+32]=t[e+0+64]=we(r,i,s),t[e+3+0]=t[e+2+32]=t[e+1+64]=t[e+0+96]=we(i,s,a),t[e+3+32]=t[e+2+64]=t[e+1+96]=we(s,a,o),t[e+3+64]=t[e+2+96]=we(a,o,l),t[e+3+96]=we(o,l,l)}function Ee(t,e){var n=t[e-1+0],r=t[e-1+32],i=t[e-1+64],s=t[e-1-32],a=t[e+0-32],o=t[e+1-32],l=t[e+2-32],c=t[e+3-32];t[e+0+0]=t[e+1+64]=s+a+1>>1,t[e+1+0]=t[e+2+64]=a+o+1>>1,t[e+2+0]=t[e+3+64]=o+l+1>>1,t[e+3+0]=l+c+1>>1,t[e+0+96]=we(i,r,n),t[e+0+64]=we(r,n,s),t[e+0+32]=t[e+1+96]=we(n,s,a),t[e+1+32]=t[e+2+96]=we(s,a,o),t[e+2+32]=t[e+3+96]=we(a,o,l),t[e+3+32]=we(o,l,c)}function Le(t,e){var n=t[e+0-32],r=t[e+1-32],i=t[e+2-32],s=t[e+3-32],a=t[e+4-32],o=t[e+5-32],l=t[e+6-32],c=t[e+7-32];t[e+0+0]=n+r+1>>1,t[e+1+0]=t[e+0+64]=r+i+1>>1,t[e+2+0]=t[e+1+64]=i+s+1>>1,t[e+3+0]=t[e+2+64]=s+a+1>>1,t[e+0+32]=we(n,r,i),t[e+1+32]=t[e+0+96]=we(r,i,s),t[e+2+32]=t[e+1+96]=we(i,s,a),t[e+3+32]=t[e+2+96]=we(s,a,o),t[e+3+64]=we(a,o,l),t[e+3+96]=we(o,l,c)}function ke(t,e){var n=t[e-1+0],r=t[e-1+32],i=t[e-1+64],s=t[e-1+96];t[e+0+0]=n+r+1>>1,t[e+2+0]=t[e+0+32]=r+i+1>>1,t[e+2+32]=t[e+0+64]=i+s+1>>1,t[e+1+0]=we(n,r,i),t[e+3+0]=t[e+1+32]=we(r,i,s),t[e+3+32]=t[e+1+64]=we(i,s,s),t[e+3+64]=t[e+2+64]=t[e+0+96]=t[e+1+96]=t[e+2+96]=t[e+3+96]=s}function Ce(t,e){var n=t[e-1+0],r=t[e-1+32],i=t[e-1+64],s=t[e-1+96],a=t[e-1-32],o=t[e+0-32],l=t[e+1-32],c=t[e+2-32];t[e+0+0]=t[e+2+32]=n+a+1>>1,t[e+0+32]=t[e+2+64]=r+n+1>>1,t[e+0+64]=t[e+2+96]=i+r+1>>1,t[e+0+96]=s+i+1>>1,t[e+3+0]=we(o,l,c),t[e+2+0]=we(a,o,l),t[e+1+0]=t[e+3+32]=we(n,a,o),t[e+1+32]=t[e+3+64]=we(r,n,a),t[e+1+64]=t[e+3+96]=we(i,r,n),t[e+1+96]=we(s,i,r)}function Te(t,e){var n;for(n=0;8>n;++n)r(t,e+32*n,t,e-32,8)}function Pe(t,e){var n;for(n=0;8>n;++n)i(t,e,t[e-1],8),e+=32}function Ie(t,e,n){var r;for(r=0;8>r;++r)i(e,n+32*r,t,8)}function De(t,e){var n,r=8;for(n=0;8>n;++n)r+=t[e+n-32]+t[e-1+32*n];Ie(r>>4,t,e)}function Fe(t,e){var n,r=4;for(n=0;8>n;++n)r+=t[e+n-32];Ie(r>>3,t,e)}function Me(t,e){var n,r=4;for(n=0;8>n;++n)r+=t[e-1+32*n];Ie(r>>3,t,e)}function Oe(t,e){Ie(128,t,e)}function Re(t,e,n){var r=t[e-n],i=t[e+0],s=3*(i-r)+Pr[1020+t[e-2*n]-t[e+n]],a=Ir[112+(s+4>>3)];t[e-n]=Dr[255+r+Ir[112+(s+3>>3)]],t[e+0]=Dr[255+i-a]}function je(t,e,n,r){var i=t[e+0],s=t[e+n];return Fr[255+t[e-2*n]-t[e-n]]>r||Fr[255+s-i]>r}function Be(t,e,n,r){return 4*Fr[255+t[e-n]-t[e+0]]+Fr[255+t[e-2*n]-t[e+n]]<=r}function qe(t,e,n,r,i){var s=t[e-3*n],a=t[e-2*n],o=t[e-n],l=t[e+0],c=t[e+n],u=t[e+2*n],h=t[e+3*n];return 4*Fr[255+o-l]+Fr[255+a-c]>r?0:Fr[255+t[e-4*n]-s]<=i&&Fr[255+s-a]<=i&&Fr[255+a-o]<=i&&Fr[255+h-u]<=i&&Fr[255+u-c]<=i&&Fr[255+c-l]<=i}function Ue(t,e,n,r){var i=2*r+1;for(r=0;16>r;++r)Be(t,e+r,n,i)&&Re(t,e+r,n)}function Ve(t,e,n,r){var i=2*r+1;for(r=0;16>r;++r)Be(t,e+r*n,1,i)&&Re(t,e+r*n,1)}function ze(t,e,n,r){var i;for(i=3;0<i;--i)Ue(t,e+=4*n,n,r)}function He(t,e,n,r){var i;for(i=3;0<i;--i)Ve(t,e+=4,n,r)}function We(t,e,n,r,i,s,a,o){for(s=2*s+1;0<i--;){if(qe(t,e,n,s,a))if(je(t,e,n,o))Re(t,e,n);else{var l=t,c=e,u=n,h=l[c-2*u],d=l[c-u],f=l[c+0],p=l[c+u],g=l[c+2*u],m=27*(y=Pr[1020+3*(f-d)+Pr[1020+h-p]])+63>>7,v=18*y+63>>7,y=9*y+63>>7;l[c-3*u]=Dr[255+l[c-3*u]+y],l[c-2*u]=Dr[255+h+v],l[c-u]=Dr[255+d+m],l[c+0]=Dr[255+f-m],l[c+u]=Dr[255+p-v],l[c+2*u]=Dr[255+g-y]}e+=r}}function $e(t,e,n,r,i,s,a,o){for(s=2*s+1;0<i--;){if(qe(t,e,n,s,a))if(je(t,e,n,o))Re(t,e,n);else{var l=t,c=e,u=n,h=l[c-u],d=l[c+0],f=l[c+u],p=Ir[112+(4+(g=3*(d-h))>>3)],g=Ir[112+(g+3>>3)],m=p+1>>1;l[c-2*u]=Dr[255+l[c-2*u]+m],l[c-u]=Dr[255+h+g],l[c+0]=Dr[255+d-p],l[c+u]=Dr[255+f-m]}e+=r}}function Ge(t,e,n,r,i,s){We(t,e,n,1,16,r,i,s)}function Ke(t,e,n,r,i,s){We(t,e,1,n,16,r,i,s)}function Ye(t,e,n,r,i,s){var a;for(a=3;0<a;--a)$e(t,e+=4*n,n,1,16,r,i,s)}function Xe(t,e,n,r,i,s){var a;for(a=3;0<a;--a)$e(t,e+=4,1,n,16,r,i,s)}function Qe(t,e,n,r,i,s,a,o){We(t,e,i,1,8,s,a,o),We(n,r,i,1,8,s,a,o)}function Je(t,e,n,r,i,s,a,o){We(t,e,1,i,8,s,a,o),We(n,r,1,i,8,s,a,o)}function Ze(t,e,n,r,i,s,a,o){$e(t,e+4*i,i,1,8,s,a,o),$e(n,r+4*i,i,1,8,s,a,o)}function tn(t,e,n,r,i,s,a,o){$e(t,e+4,1,i,8,s,a,o),$e(n,r+4,1,i,8,s,a,o)}function en(){this.ba=new at,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new lt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function nn(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function rn(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function sn(){this.ua=0,this.Wa=new M,this.vb=new M,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new f,this.yc=new h}function an(){this.xb=this.a=0,this.l=new $t,this.ca=new at,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new _,this.Pb=0,this.wd=new _,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new sn,this.ab=0,this.gc=a(4,rn),this.Oc=0}function on(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new $t,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ln(t,e,n,r,i,s,a){for(t=null==t?0:t[e+0],e=0;e<a;++e)i[s+e]=t+n[r+e]&255,t=i[s+e]}function cn(t,e,n,r,i,s,a){var o;if(null==t)ln(null,null,n,r,i,s,a);else for(o=0;o<a;++o)i[s+o]=t[e+o]+n[r+o]&255}function un(t,e,n,r,i,s,a){if(null==t)ln(null,null,n,r,i,s,a);else{var o,l=t[e+0],c=l,u=l;for(o=0;o<a;++o)c=u+(l=t[e+o])-c,u=n[r+o]+(-256&c?0>c?0:255:c)&255,c=l,i[s+o]=u}}function hn(t,n,i,a){var o=n.width,l=n.o;if(e(null!=t&&null!=n),0>i||0>=a||i+a>l)return null;if(!t.Cc){if(null==t.ga){var c;if(t.ga=new on,(c=null==t.ga)||(c=n.width*n.o,e(0==t.Gb.length),t.Gb=s(c),t.Uc=0,null==t.Gb?c=0:(t.mb=t.Gb,t.nb=t.Uc,t.rc=null,c=1),c=!c),!c){c=t.ga;var u=t.Fa,h=t.P,d=t.qc,f=t.mb,p=t.nb,g=h+1,m=d-1,y=c.l;if(e(null!=u&&null!=f&&null!=n),gi[0]=null,gi[1]=ln,gi[2]=cn,gi[3]=un,c.ca=f,c.tb=p,c.c=n.width,c.i=n.height,e(0<c.c&&0<c.i),1>=d)n=0;else if(c.$a=3&u[h+0],c.Z=u[h+0]>>2&3,c.Lc=u[h+0]>>4&3,h=u[h+0]>>6&3,0>c.$a||1<c.$a||4<=c.Z||1<c.Lc||h)n=0;else if(y.put=ft,y.ac=dt,y.bc=pt,y.ma=c,y.width=n.width,y.height=n.height,y.Da=n.Da,y.v=n.v,y.va=n.va,y.j=n.j,y.o=n.o,c.$a)t:{e(1==c.$a),n=kt();e:for(;;){if(null==n){n=0;break t}if(e(null!=c),c.mc=n,n.c=c.c,n.i=c.i,n.l=c.l,n.l.ma=c,n.l.width=c.c,n.l.height=c.i,n.a=0,v(n.m,u,g,m),!Ct(c.c,c.i,1,n,null))break e;if(1==n.ab&&3==n.gc[0].hc&&St(n.s)?(c.ic=1,u=n.c*n.i,n.Ta=null,n.Ua=0,n.V=s(u),n.Ba=0,null==n.V?(n.a=1,n=0):n=1):(c.ic=0,n=Tt(n,c.c)),!n)break e;n=1;break t}c.mc=null,n=0}else n=m>=c.c*c.i;c=!n}if(c)return null;1!=t.ga.Lc?t.Ga=0:a=l-i}e(null!=t.ga),e(i+a<=l);t:{if(n=(u=t.ga).c,l=u.l.o,0==u.$a){if(g=t.rc,m=t.Vc,y=t.Fa,h=t.P+1+i*n,d=t.mb,f=t.nb+i*n,e(h<=t.P+t.qc),0!=u.Z)for(e(null!=gi[u.Z]),c=0;c<a;++c)gi[u.Z](g,m,y,h,d,f,n),g=d,m=f,f+=n,h+=n;else for(c=0;c<a;++c)r(d,f,y,h,n),g=d,m=f,f+=n,h+=n;t.rc=g,t.Vc=m}else{if(e(null!=u.mc),n=i+a,e(null!=(c=u.mc)),e(n<=c.i),c.C>=n)n=1;else if(u.ic||mn(),u.ic){u=c.V,g=c.Ba,m=c.c;var b=c.i,w=(y=1,h=c.$/m,d=c.$%m,f=c.m,p=c.s,c.$),_=m*b,x=m*n,A=p.wc,E=w<x?wt(p,d,h):null;e(w<=_),e(n<=b),e(St(p));e:for(;;){for(;!f.h&&w<x;){if(d&A||(E=wt(p,d,h)),e(null!=E),N(f),256>(b=yt(E.G[0],E.H[0],f)))u[g+w]=b,++w,++d>=m&&(d=0,++h<=n&&!(h%16)&&Nt(c,h));else{if(!(280>b)){y=0;break e}b=mt(b-256,f);var L,k=yt(E.G[4],E.H[4],f);if(N(f),!(w>=(k=vt(m,k=mt(k,f)))&&_-w>=b)){y=0;break e}for(L=0;L<b;++L)u[g+w+L]=u[g+w+L-k];for(w+=b,d+=b;d>=m;)d-=m,++h<=n&&!(h%16)&&Nt(c,h);w<x&&d&A&&(E=wt(p,d,h))}e(f.h==S(f))}Nt(c,h>n?n:h);break e}!y||f.h&&w<_?(y=0,c.a=f.h?5:3):c.$=w,n=y}else n=Et(c,c.V,c.Ba,c.c,c.i,n,Pt);if(!n){a=0;break t}}i+a>=l&&(t.Cc=1),a=1}if(!a)return null;if(t.Cc&&(null!=(a=t.ga)&&(a.mc=null),t.ga=null,0<t.Ga))return alert("todo:WebPDequantizeLevels"),null}return t.nb+i*o}function dn(t,e,n,r,i,s){for(;0<i--;){var a,o=t,l=e+(n?1:0),c=t,u=e+(n?0:3);for(a=0;a<r;++a){var h=c[u+4*a];255!=h&&(h*=32897,o[l+4*a+0]=o[l+4*a+0]*h>>23,o[l+4*a+1]=o[l+4*a+1]*h>>23,o[l+4*a+2]=o[l+4*a+2]*h>>23)}e+=s}}function fn(t,e,n,r,i){for(;0<r--;){var s;for(s=0;s<n;++s){var a=t[e+2*s+0],o=15&(c=t[e+2*s+1]),l=4369*o,c=(240&c|c>>4)*l>>16;t[e+2*s+0]=(240&a|a>>4)*l>>16&240|(15&a|a<<4)*l>>16>>4&15,t[e+2*s+1]=240&c|o}e+=i}}function pn(t,e,n,r,i,s,a,o){var l,c,u=255;for(c=0;c<i;++c){for(l=0;l<r;++l){var h=t[e+l];s[a+4*l]=h,u&=h}e+=n,a+=o}return 255!=u}function gn(t,e,n,r,i){var s;for(s=0;s<i;++s)n[r+s]=t[e+s]>>8}function mn(){xr=dn,Sr=fn,Ar=pn,Nr=gn}function vn(n,r,i){t[n]=function(t,n,s,a,o,l,c,u,h,d,f,p,g,m,v,y,b){var w,_=b-1>>1,x=o[l+0]|c[u+0]<<16,S=h[d+0]|f[p+0]<<16;e(null!=t);var A=3*x+S+131074>>2;for(r(t[n+0],255&A,A>>16,g,m),null!=s&&(A=3*S+x+131074>>2,r(s[a+0],255&A,A>>16,v,y)),w=1;w<=_;++w){var N=o[l+w]|c[u+w]<<16,E=h[d+w]|f[p+w]<<16,L=x+N+S+E+524296,k=L+2*(N+S)>>3;A=k+x>>1,x=(L=L+2*(x+E)>>3)+N>>1,r(t[n+2*w-1],255&A,A>>16,g,m+(2*w-1)*i),r(t[n+2*w-0],255&x,x>>16,g,m+(2*w-0)*i),null!=s&&(A=L+S>>1,x=k+E>>1,r(s[a+2*w-1],255&A,A>>16,v,y+(2*w-1)*i),r(s[a+2*w+0],255&x,x>>16,v,y+(2*w+0)*i)),x=N,S=E}1&b||(A=3*x+S+131074>>2,r(t[n+b-1],255&A,A>>16,g,m+(b-1)*i),null!=s&&(A=3*S+x+131074>>2,r(s[a+b-1],255&A,A>>16,v,y+(b-1)*i)))}}function yn(){mi[Mr]=vi,mi[Or]=bi,mi[Rr]=yi,mi[jr]=wi,mi[Br]=_i,mi[qr]=xi,mi[Ur]=Si,mi[Vr]=bi,mi[zr]=wi,mi[Hr]=_i,mi[Wr]=xi}function bn(t){return-16384&t?0>t?0:255:t>>ki}function wn(t,e){return bn((19077*t>>8)+(26149*e>>8)-14234)}function _n(t,e,n){return bn((19077*t>>8)-(6419*e>>8)-(13320*n>>8)+8708)}function xn(t,e){return bn((19077*t>>8)+(33050*e>>8)-17685)}function Sn(t,e,n,r,i){r[i+0]=wn(t,n),r[i+1]=_n(t,e,n),r[i+2]=xn(t,e)}function An(t,e,n,r,i){r[i+0]=xn(t,e),r[i+1]=_n(t,e,n),r[i+2]=wn(t,n)}function Nn(t,e,n,r,i){var s=_n(t,e,n);e=s<<3&224|xn(t,e)>>3,r[i+0]=248&wn(t,n)|s>>5,r[i+1]=e}function En(t,e,n,r,i){var s=240&xn(t,e)|15;r[i+0]=240&wn(t,n)|_n(t,e,n)>>4,r[i+1]=s}function Ln(t,e,n,r,i){r[i+0]=255,Sn(t,e,n,r,i+1)}function kn(t,e,n,r,i){An(t,e,n,r,i),r[i+3]=255}function Cn(t,e,n,r,i){Sn(t,e,n,r,i),r[i+3]=255}function Wt(t,e){return 0>t?0:t>e?e:t}function Tn(e,n,r){t[e]=function(t,e,i,s,a,o,l,c,u){for(var h=c+(-2&u)*r;c!=h;)n(t[e+0],i[s+0],a[o+0],l,c),n(t[e+1],i[s+0],a[o+0],l,c+r),e+=2,++s,++o,c+=2*r;1&u&&n(t[e+0],i[s+0],a[o+0],l,c)}}function Pn(t,e,n){return 0==n?0==t?0==e?6:5:0==e?4:0:n}function In(t,e,n,r,i){switch(t>>>30){case 3:sr(e,n,r,i,0);break;case 2:ar(e,n,r,i);break;case 1:lr(e,n,r,i)}}function Dn(t,e){var n,s,a=e.M,o=e.Nb,l=t.oc,c=t.pc+40,u=t.oc,h=t.pc+584,d=t.oc,f=t.pc+600;for(n=0;16>n;++n)l[c+32*n-1]=129;for(n=0;8>n;++n)u[h+32*n-1]=129,d[f+32*n-1]=129;for(0<a?l[c-1-32]=u[h-1-32]=d[f-1-32]=129:(i(l,c-32-1,127,21),i(u,h-32-1,127,9),i(d,f-32-1,127,9)),s=0;s<t.za;++s){var p=e.ya[e.aa+s];if(0<s){for(n=-1;16>n;++n)r(l,c+32*n-4,l,c+32*n+12,4);for(n=-1;8>n;++n)r(u,h+32*n-4,u,h+32*n+4,4),r(d,f+32*n-4,d,f+32*n+4,4)}var g=t.Gd,m=t.Hd+s,v=p.ad,y=p.Hc;if(0<a&&(r(l,c-32,g[m].y,0,16),r(u,h-32,g[m].f,0,8),r(d,f-32,g[m].ea,0,8)),p.Za){var b=l,w=c-32+16;for(0<a&&(s>=t.za-1?i(b,w,g[m].y[15],4):r(b,w,g[m+1].y,0,4)),n=0;4>n;n++)b[w+128+n]=b[w+256+n]=b[w+384+n]=b[w+0+n];for(n=0;16>n;++n,y<<=2)b=l,w=c+Oi[n],hi[p.Ob[n]](b,w),In(y,v,16*+n,b,w)}else if(b=Pn(s,a,p.Ob[0]),ui[b](l,c),0!=y)for(n=0;16>n;++n,y<<=2)In(y,v,16*+n,l,c+Oi[n]);for(n=p.Gc,b=Pn(s,a,p.Dd),di[b](u,h),di[b](d,f),y=v,b=u,w=h,255&(p=n|0)&&(170&p?or(y,256,b,w):cr(y,256,b,w)),p=d,y=f,255&(n>>=8)&&(170&n?or(v,320,p,y):cr(v,320,p,y)),a<t.Ub-1&&(r(g[m].y,0,l,c+480,16),r(g[m].f,0,u,h+224,8),r(g[m].ea,0,d,f+224,8)),n=8*o*t.B,g=t.sa,m=t.ta+16*s+16*o*t.R,v=t.qa,p=t.ra+8*s+n,y=t.Ha,b=t.Ia+8*s+n,n=0;16>n;++n)r(g,m+n*t.R,l,c+32*n,16);for(n=0;8>n;++n)r(v,p+n*t.B,u,h+32*n,8),r(y,b+n*t.B,d,f+32*n,8)}}function Fn(t,r,i,s,a,o,l,c,u){var h=[0],d=[0],f=0,p=null!=u?u.kd:0,g=null!=u?u:new nn;if(null==t||12>i)return 7;g.data=t,g.w=r,g.ha=i,r=[r],i=[i],g.gb=[g.gb];t:{var m=r,y=i,b=g.gb;if(e(null!=t),e(null!=y),e(null!=b),b[0]=0,12<=y[0]&&!n(t,m[0],"RIFF")){if(n(t,m[0]+8,"WEBP")){b=3;break t}var w=I(t,m[0]+4);if(12>w||4294967286<w){b=3;break t}if(p&&w>y[0]-8){b=7;break t}b[0]=w,m[0]+=12,y[0]-=12}b=0}if(0!=b)return b;for(w=0<g.gb[0],i=i[0];;){t:{var x=t;y=r,b=i;var S=h,A=d,N=m=[0];if((k=f=[f])[0]=0,8>b[0])b=7;else{if(!n(x,y[0],"VP8X")){if(10!=I(x,y[0]+4)){b=3;break t}if(18>b[0]){b=7;break t}var E=I(x,y[0]+8),L=1+P(x,y[0]+12);if(2147483648<=L*(x=1+P(x,y[0]+15))){b=3;break t}null!=N&&(N[0]=E),null!=S&&(S[0]=L),null!=A&&(A[0]=x),y[0]+=18,b[0]-=18,k[0]=1}b=0}}if(f=f[0],m=m[0],0!=b)return b;if(y=!!(2&m),!w&&f)return 3;if(null!=o&&(o[0]=!!(16&m)),null!=l&&(l[0]=y),null!=c&&(c[0]=0),l=h[0],m=d[0],f&&y&&null==u){b=0;break}if(4>i){b=7;break}if(w&&f||!w&&!f&&!n(t,r[0],"ALPH")){i=[i],g.na=[g.na],g.P=[g.P],g.Sa=[g.Sa];t:{E=t,b=r,w=i;var k=g.gb;S=g.na,A=g.P,N=g.Sa,L=22,e(null!=E),e(null!=w),x=b[0];var C=w[0];for(e(null!=S),e(null!=N),S[0]=null,A[0]=null,N[0]=0;;){if(b[0]=x,w[0]=C,8>C){b=7;break t}var T=I(E,x+4);if(4294967286<T){b=3;break t}var D=8+T+1&-2;if(L+=D,0<k&&L>k){b=3;break t}if(!n(E,x,"VP8 ")||!n(E,x,"VP8L")){b=0;break t}if(C[0]<D){b=7;break t}n(E,x,"ALPH")||(S[0]=E,A[0]=x+8,N[0]=T),x+=D,C-=D}}if(i=i[0],g.na=g.na[0],g.P=g.P[0],g.Sa=g.Sa[0],0!=b)break}i=[i],g.Ja=[g.Ja],g.xa=[g.xa];t:if(k=t,b=r,w=i,S=g.gb[0],A=g.Ja,N=g.xa,E=b[0],x=!n(k,E,"VP8 "),L=!n(k,E,"VP8L"),e(null!=k),e(null!=w),e(null!=A),e(null!=N),8>w[0])b=7;else{if(x||L){if(k=I(k,E+4),12<=S&&k>S-12){b=3;break t}if(p&&k>w[0]-8){b=7;break t}A[0]=k,b[0]+=8,w[0]-=8,N[0]=L}else N[0]=5<=w[0]&&47==k[E+0]&&!(k[E+4]>>5),A[0]=w[0];b=0}if(i=i[0],g.Ja=g.Ja[0],g.xa=g.xa[0],r=r[0],0!=b)break;if(4294967286<g.Ja)return 3;if(null==c||y||(c[0]=g.xa?2:1),l=[l],m=[m],g.xa){if(5>i){b=7;break}c=l,p=m,y=o,null==t||5>i?t=0:5<=i&&47==t[r+0]&&!(t[r+4]>>5)?(w=[0],k=[0],S=[0],v(A=new _,t,r,i),gt(A,w,k,S)?(null!=c&&(c[0]=w[0]),null!=p&&(p[0]=k[0]),null!=y&&(y[0]=S[0]),t=1):t=0):t=0}else{if(10>i){b=7;break}c=m,null==t||10>i||!Yt(t,r+3,i-3)?t=0:(p=t[r+0]|t[r+1]<<8|t[r+2]<<16,y=16383&(t[r+7]<<8|t[r+6]),t=16383&(t[r+9]<<8|t[r+8]),1&p||3<(p>>1&7)||!(p>>4&1)||p>>5>=g.Ja||!y||!t?t=0:(l&&(l[0]=y),c&&(c[0]=t),t=1))}if(!t)return 3;if(l=l[0],m=m[0],f&&(h[0]!=l||d[0]!=m))return 3;null!=u&&(u[0]=g,u.offset=r-u.w,e(4294967286>r-u.w),e(u.offset==u.ha-i));break}return 0==b||7==b&&f&&null==u?(null!=o&&(o[0]|=null!=g.na&&0<g.na.length),null!=s&&(s[0]=l),null!=a&&(a[0]=m),0):b}function Mn(t,e,n){var r=e.width,i=e.height,s=0,a=0,o=r,l=i;if(e.Da=null!=t&&0<t.Da,e.Da&&(o=t.cd,l=t.bd,s=t.v,a=t.j,11>n||(s&=-2,a&=-2),0>s||0>a||0>=o||0>=l||s+o>r||a+l>i))return 0;if(e.v=s,e.j=a,e.va=s+o,e.o=a+l,e.U=o,e.T=l,e.da=null!=t&&0<t.da,e.da){if(!O(o,l,n=[t.ib],s=[t.hb]))return 0;e.ib=n[0],e.hb=s[0]}return e.ob=null!=t&&t.ob,e.Kb=null==t||!t.Sd,e.da&&(e.ob=e.ib<3*r/4&&e.hb<3*i/4,e.Kb=0),1}function On(t){if(null==t)return 2;if(11>t.S){var e=t.f.RGBA;e.fb+=(t.height-1)*e.A,e.A=-e.A}else e=t.f.kb,t=t.height,e.O+=(t-1)*e.fa,e.fa=-e.fa,e.N+=(t-1>>1)*e.Ab,e.Ab=-e.Ab,e.W+=(t-1>>1)*e.Db,e.Db=-e.Db,null!=e.F&&(e.J+=(t-1)*e.lb,e.lb=-e.lb);return 0}function Rn(t,e,n,r){if(null==r||0>=t||0>=e)return 2;if(null!=n){if(n.Da){var i=n.cd,a=n.bd,o=-2&n.v,l=-2&n.j;if(0>o||0>l||0>=i||0>=a||o+i>t||l+a>e)return 2;t=i,e=a}if(n.da){if(!O(t,e,i=[n.ib],a=[n.hb]))return 2;t=i[0],e=a[0]}}r.width=t,r.height=e;t:{var c=r.width,u=r.height;if(t=r.S,0>=c||0>=u||!(t>=Mr&&13>t))t=2;else{if(0>=r.Rd&&null==r.sd){o=a=i=e=0;var h=(l=c*qi[t])*u;if(11>t||(a=(u+1)/2*(e=(c+1)/2),12==t&&(o=(i=c)*u)),null==(u=s(h+2*a+o))){t=1;break t}r.sd=u,11>t?((c=r.f.RGBA).eb=u,c.fb=0,c.A=l,c.size=h):((c=r.f.kb).y=u,c.O=0,c.fa=l,c.Fd=h,c.f=u,c.N=0+h,c.Ab=e,c.Cd=a,c.ea=u,c.W=0+h+a,c.Db=e,c.Ed=a,12==t&&(c.F=u,c.J=0+h+2*a),c.Tc=o,c.lb=i)}if(e=1,i=r.S,a=r.width,o=r.height,i>=Mr&&13>i)if(11>i)t=r.f.RGBA,e&=(l=Math.abs(t.A))*(o-1)+a<=t.size,e&=l>=a*qi[i],e&=null!=t.eb;else{t=r.f.kb,l=(a+1)/2,h=(o+1)/2,c=Math.abs(t.fa),u=Math.abs(t.Ab);var d=Math.abs(t.Db),f=Math.abs(t.lb),p=f*(o-1)+a;e&=c*(o-1)+a<=t.Fd,e&=u*(h-1)+l<=t.Cd,e=(e&=d*(h-1)+l<=t.Ed)&c>=a&u>=l&d>=l,e&=null!=t.y,e&=null!=t.f,e&=null!=t.ea,12==i&&(e&=f>=a,e&=p<=t.Tc,e&=null!=t.F)}else e=0;t=e?0:2}}return 0!=t||null!=n&&n.fd&&(t=On(r)),t}var jn=64,Bn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],qn=24,Un=32,Vn=8,zn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];B("Predictor0","PredictorAdd0"),t.Predictor0=function(){return 4278190080},t.Predictor1=function(t){return t},t.Predictor2=function(t,e,n){return e[n+0]},t.Predictor3=function(t,e,n){return e[n+1]},t.Predictor4=function(t,e,n){return e[n-1]},t.Predictor5=function(t,e,n){return U(U(t,e[n+1]),e[n+0])},t.Predictor6=function(t,e,n){return U(t,e[n-1])},t.Predictor7=function(t,e,n){return U(t,e[n+0])},t.Predictor8=function(t,e,n){return U(e[n-1],e[n+0])},t.Predictor9=function(t,e,n){return U(e[n+0],e[n+1])},t.Predictor10=function(t,e,n){return U(U(t,e[n-1]),U(e[n+0],e[n+1]))},t.Predictor11=function(t,e,n){var r=e[n+0];return 0>=H(r>>24&255,t>>24&255,(e=e[n-1])>>24&255)+H(r>>16&255,t>>16&255,e>>16&255)+H(r>>8&255,t>>8&255,e>>8&255)+H(255&r,255&t,255&e)?r:t},t.Predictor12=function(t,e,n){var r=e[n+0];return(V((t>>24&255)+(r>>24&255)-((e=e[n-1])>>24&255))<<24|V((t>>16&255)+(r>>16&255)-(e>>16&255))<<16|V((t>>8&255)+(r>>8&255)-(e>>8&255))<<8|V((255&t)+(255&r)-(255&e)))>>>0},t.Predictor13=function(t,e,n){var r=e[n-1];return(z((t=U(t,e[n+0]))>>24&255,r>>24&255)<<24|z(t>>16&255,r>>16&255)<<16|z(t>>8&255,r>>8&255)<<8|z(255&t,255&r))>>>0};var Hn=t.PredictorAdd0;t.PredictorAdd1=W,B("Predictor2","PredictorAdd2"),B("Predictor3","PredictorAdd3"),B("Predictor4","PredictorAdd4"),B("Predictor5","PredictorAdd5"),B("Predictor6","PredictorAdd6"),B("Predictor7","PredictorAdd7"),B("Predictor8","PredictorAdd8"),B("Predictor9","PredictorAdd9"),B("Predictor10","PredictorAdd10"),B("Predictor11","PredictorAdd11"),B("Predictor12","PredictorAdd12"),B("Predictor13","PredictorAdd13");var Wn=t.PredictorAdd2;Y("ColorIndexInverseTransform","MapARGB","32b",function(t){return t>>8&255},function(t){return t}),Y("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(t){return t},function(t){return t>>8&255});var $n,Gn=t.ColorIndexInverseTransform,Kn=t.MapARGB,Yn=t.VP8LColorIndexInverseTransformAlpha,Xn=t.MapAlpha,Qn=t.VP8LPredictorsAdd=[];Qn.length=16,(t.VP8LPredictors=[]).length=16,(t.VP8LPredictorsAdd_C=[]).length=16,(t.VP8LPredictors_C=[]).length=16;var Jn,Zn,tr,er,nr,rr,ir,sr,ar,or,lr,cr,ur,hr,dr,fr,pr,gr,mr,vr,yr,br,wr,_r,xr,Sr,Ar,Nr,Er=s(511),Lr=s(2041),kr=s(225),Cr=s(767),Tr=0,Pr=Lr,Ir=kr,Dr=Cr,Fr=Er,Mr=0,Or=1,Rr=2,jr=3,Br=4,qr=5,Ur=6,Vr=7,zr=8,Hr=9,Wr=10,$r=[2,3,7],Gr=[3,3,11],Kr=[280,256,256,256,40],Yr=[0,1,1,1,0],Xr=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Qr=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Jr=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Zr=8,ti=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ei=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ni=null,ri=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],ii=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],si=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],ai=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],oi=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],li=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],ci=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ui=[],hi=[],di=[],fi=1,pi=2,gi=[],mi=[];vn("UpsampleRgbLinePair",Sn,3),vn("UpsampleBgrLinePair",An,3),vn("UpsampleRgbaLinePair",Cn,4),vn("UpsampleBgraLinePair",kn,4),vn("UpsampleArgbLinePair",Ln,4),vn("UpsampleRgba4444LinePair",En,2),vn("UpsampleRgb565LinePair",Nn,2);var vi=t.UpsampleRgbLinePair,yi=t.UpsampleBgrLinePair,bi=t.UpsampleRgbaLinePair,wi=t.UpsampleBgraLinePair,_i=t.UpsampleArgbLinePair,xi=t.UpsampleRgba4444LinePair,Si=t.UpsampleRgb565LinePair,Ai=16,Ni=1<<Ai-1,Ei=-227,Li=482,ki=6,Ci=0,Ti=s(256),Pi=s(256),Ii=s(256),Di=s(256),Fi=s(Li-Ei),Mi=s(Li-Ei);Tn("YuvToRgbRow",Sn,3),Tn("YuvToBgrRow",An,3),Tn("YuvToRgbaRow",Cn,4),Tn("YuvToBgraRow",kn,4),Tn("YuvToArgbRow",Ln,4),Tn("YuvToRgba4444Row",En,2),Tn("YuvToRgb565Row",Nn,2);var Oi=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ri=[0,2,8],ji=[8,7,6,4,4,2,2,2,1,1,1,1],Bi=1;this.WebPDecodeRGBA=function(t,n,o,l,c){var u=Or,h=new en,d=new at;h.ba=d,d.S=u,d.width=[d.width],d.height=[d.height];var f=d.width,p=d.height,g=new ot;if(null==g||null==t)var m=2;else e(null!=g),m=Fn(t,n,o,g.width,g.height,g.Pd,g.Qd,g.format,null);if(0!=m?f=0:(null!=f&&(f[0]=g.width[0]),null!=p&&(p[0]=g.height[0]),f=1),f){d.width=d.width[0],d.height=d.height[0],null!=l&&(l[0]=d.width),null!=c&&(c[0]=d.height);t:{if(l=new $t,(c=new nn).data=t,c.w=n,c.ha=o,c.kd=1,n=[0],e(null!=c),(0==(t=Fn(c.data,c.w,c.ha,null,null,null,n,null,c))||7==t)&&n[0]&&(t=4),0==(n=t)){if(e(null!=h),l.data=c.data,l.w=c.w+c.offset,l.ha=c.ha-c.offset,l.put=ft,l.ac=dt,l.bc=pt,l.ma=h,c.xa){if(null==(t=kt())){h=1;break t}if(function(t,n){var r=[0],i=[0],s=[0];e:for(;;){if(null==t)return 0;if(null==n)return t.a=2,0;if(t.l=n,t.a=0,v(t.m,n.data,n.w,n.ha),!gt(t.m,r,i,s)){t.a=3;break e}if(t.xb=pi,n.width=r[0],n.height=i[0],!Ct(r[0],i[0],1,t,null))break e;return 1}return e(0!=t.a),0}(t,l)){if(l=0==(n=Rn(l.width,l.height,h.Oa,h.ba))){e:{l=t;n:for(;;){if(null==l){l=0;break e}if(e(null!=l.s.yc),e(null!=l.s.Ya),e(0<l.s.Wb),e(null!=(o=l.l)),e(null!=(c=o.ma)),0!=l.xb){if(l.ca=c.ba,l.tb=c.tb,e(null!=l.ca),!Mn(c.Oa,o,jr)){l.a=2;break n}if(!Tt(l,o.width))break n;if(o.da)break n;if((o.da||rt(l.ca.S))&&mn(),11>l.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=l.ca.f.kb.F&&mn()),l.Pb&&0<l.s.ua&&null==l.s.vb.X&&!D(l.s.vb,l.s.Wa.Xa)){l.a=1;break n}l.xb=0}if(!Et(l,l.V,l.Ba,l.c,l.i,o.o,xt))break n;c.Dc=l.Ma,l=1;break e}e(0!=l.a),l=0}l=!l}l&&(n=t.a)}else n=t.a}else{if(null==(t=new Gt)){h=1;break t}if(t.Fa=c.na,t.P=c.P,t.qc=c.Sa,Xt(t,l)){if(0==(n=Rn(l.width,l.height,h.Oa,h.ba))){if(t.Aa=0,o=h.Oa,e(null!=(c=t)),null!=o){if(0<(f=0>(f=o.Md)?0:100<f?255:255*f/100)){for(p=g=0;4>p;++p)12>(m=c.pb[p]).lc&&(m.ia=f*ji[0>m.lc?0:m.lc]>>3),g|=m.ia;g&&(alert("todo:VP8InitRandom"),c.ia=1)}c.Ga=o.Id,100<c.Ga?c.Ga=100:0>c.Ga&&(c.Ga=0)}(function(t,n){if(null==t)return 0;if(null==n)return Kt(t,2,"NULL VP8Io parameter in VP8Decode().");if(!t.cb&&!Xt(t,n))return 0;if(e(t.cb),null==n.ac||n.ac(n)){n.ob&&(t.L=0);var o=Ri[t.L];if(2==t.L?(t.yb=0,t.zb=0):(t.yb=n.v-o>>4,t.zb=n.j-o>>4,0>t.yb&&(t.yb=0),0>t.zb&&(t.zb=0)),t.Va=n.o+15+o>>4,t.Hb=n.va+15+o>>4,t.Hb>t.za&&(t.Hb=t.za),t.Va>t.Ub&&(t.Va=t.Ub),0<t.L){var l=t.ed;for(o=0;4>o;++o){var c;if(t.Qa.Cb){var u=t.Qa.Lb[o];t.Qa.Fb||(u+=l.Tb)}else u=l.Tb;for(c=0;1>=c;++c){var h=t.gd[o][c],d=u;if(l.Pc&&(d+=l.vd[0],c&&(d+=l.od[0])),0<(d=0>d?0:63<d?63:d)){var f=d;0<l.wb&&(f=4<l.wb?f>>2:f>>1)>9-l.wb&&(f=9-l.wb),1>f&&(f=1),h.dd=f,h.tc=2*d+f,h.ld=40<=d?2:15<=d?1:0}else h.tc=0;h.La=c}}}o=0}else Kt(t,6,"Frame setup failed"),o=t.a;if(o=0==o){if(o){t.$c=0,0<t.Aa||(t.Ic=Bi);e:{o=t.Ic,l=4*(f=t.za);var p=32*f,g=f+1,m=0<t.L?f*(0<t.Aa?2:1):0,v=(2==t.Aa?2:1)*f;if((h=l+832+(c=3*(16*o+Ri[t.L])/2*p)+(u=null!=t.Fa&&0<t.Fa.length?t.Kc.c*t.Kc.i:0))!=h)o=0;else{if(h>t.Vb){if(t.Vb=0,t.Ec=s(h),t.Fc=0,null==t.Ec){o=Kt(t,1,"no memory during frame initialization.");break e}t.Vb=h}h=t.Ec,d=t.Fc,t.Ac=h,t.Bc=d,d+=l,t.Gd=a(p,zt),t.Hd=0,t.rb=a(g+1,Bt),t.sb=1,t.wa=m?a(m,jt):null,t.Y=0,t.D.Nb=0,t.D.wa=t.wa,t.D.Y=t.Y,0<t.Aa&&(t.D.Y+=f),e(!0),t.oc=h,t.pc=d,d+=832,t.ya=a(v,Ut),t.aa=0,t.D.ya=t.ya,t.D.aa=t.aa,2==t.Aa&&(t.D.aa+=f),t.R=16*f,t.B=8*f,f=(p=Ri[t.L])*t.R,p=p/2*t.B,t.sa=h,t.ta=d+f,t.qa=t.sa,t.ra=t.ta+16*o*t.R+p,t.Ha=t.qa,t.Ia=t.ra+8*o*t.B+p,t.$c=0,d+=c,t.mb=u?h:null,t.nb=u?d:null,e(d+u<=t.Fc+t.Vb),Jt(t),i(t.Ac,t.Bc,0,l),o=1}}if(o){if(n.ka=0,n.y=t.sa,n.O=t.ta,n.f=t.qa,n.N=t.ra,n.ea=t.Ha,n.Vd=t.Ia,n.fa=t.R,n.Rc=t.B,n.F=null,n.J=0,!Tr){for(o=-255;255>=o;++o)Er[255+o]=0>o?-o:o;for(o=-1020;1020>=o;++o)Lr[1020+o]=-128>o?-128:127<o?127:o;for(o=-112;112>=o;++o)kr[112+o]=-16>o?-16:15<o?15:o;for(o=-255;510>=o;++o)Cr[255+o]=0>o?0:255<o?255:o;Tr=1}ir=le,sr=ie,or=se,lr=ae,cr=oe,ar=re,ur=Ge,hr=Ke,dr=Qe,fr=Je,pr=Ye,gr=Xe,mr=Ze,vr=tn,yr=Ue,br=Ve,wr=ze,_r=He,hi[0]=Se,hi[1]=ue,hi[2]=_e,hi[3]=xe,hi[4]=Ae,hi[5]=Ee,hi[6]=Ne,hi[7]=Le,hi[8]=Ce,hi[9]=ke,ui[0]=me,ui[1]=de,ui[2]=fe,ui[3]=pe,ui[4]=ve,ui[5]=ye,ui[6]=be,di[0]=De,di[1]=he,di[2]=Te,di[3]=Pe,di[4]=Me,di[5]=Fe,di[6]=Oe,o=1}else o=0}o&&(o=function(t,n){for(t.M=0;t.M<t.Va;++t.M){var a,o=t.Jc[t.M&t.Xb],l=t.m,c=t;for(a=0;a<c.za;++a){var u=l,h=c,d=h.Ac,f=h.Bc+4*a,p=h.zc,g=h.ya[h.aa+a];if(h.Qa.Bb?g.$b=k(u,h.Pa.jb[0])?2+k(u,h.Pa.jb[2]):k(u,h.Pa.jb[1]):g.$b=0,h.kc&&(g.Ad=k(u,h.Bd)),g.Za=!k(u,145)+0,g.Za){var m=g.Ob,v=0;for(h=0;4>h;++h){var y,b=p[0+h];for(y=0;4>y;++y){b=oi[d[f+y]][b];for(var w=si[k(u,b[0])];0<w;)w=si[2*w+k(u,b[w])];b=-w,d[f+y]=b}r(m,v,d,f,4),v+=4,p[0+h]=b}}else b=k(u,156)?k(u,128)?1:3:k(u,163)?2:0,g.Ob[0]=b,i(d,f,b,4),i(p,0,b,4);g.Dd=k(u,142)?k(u,114)?k(u,183)?1:3:2:0}if(c.m.Ka)return Kt(t,7,"Premature end-of-partition0 encountered.");for(;t.ja<t.za;++t.ja){if(c=o,u=(l=t).rb[l.sb-1],d=l.rb[l.sb+l.ja],a=l.ya[l.aa+l.ja],f=l.kc?a.Ad:0)u.la=d.la=0,a.Za||(u.Na=d.Na=0),a.Hc=0,a.Gc=0,a.ia=0;else{var _,x;if(u=d,d=c,f=l.Pa.Xc,p=l.ya[l.aa+l.ja],g=l.pb[p.$b],h=p.ad,m=0,v=l.rb[l.sb-1],b=y=0,i(h,m,0,384),p.Za)var S=0,A=f[3];else{w=s(16);var N=u.Na+v.Na;if(N=ni(d,f[1],N,g.Eb,0,w,0),u.Na=v.Na=(0<N)+0,1<N)ir(w,0,h,m);else{var E=w[0]+3>>3;for(w=0;256>w;w+=16)h[m+w]=E}S=1,A=f[0]}var L=15&u.la,C=15&v.la;for(w=0;4>w;++w){var T=1&C;for(E=x=0;4>E;++E)L=L>>1|(T=(N=ni(d,A,N=T+(1&L),g.Sc,S,h,m))>S)<<7,x=x<<2|(3<N?3:1<N?2:0!=h[m+0]),m+=16;L>>=4,C=C>>1|T<<7,y=(y<<8|x)>>>0}for(A=L,S=C>>4,_=0;4>_;_+=2){for(x=0,L=u.la>>4+_,C=v.la>>4+_,w=0;2>w;++w){for(T=1&C,E=0;2>E;++E)N=T+(1&L),L=L>>1|(T=0<(N=ni(d,f[2],N,g.Qc,0,h,m)))<<3,x=x<<2|(3<N?3:1<N?2:0!=h[m+0]),m+=16;L>>=2,C=C>>1|T<<5}b|=x<<4*_,A|=L<<4<<_,S|=(240&C)<<_}u.la=A,v.la=S,p.Hc=y,p.Gc=b,p.ia=43690&b?0:g.ia,f=!(y|b)}if(0<l.L&&(l.wa[l.Y+l.ja]=l.gd[a.$b][a.Za],l.wa[l.Y+l.ja].La|=!f),c.Ka)return Kt(t,7,"Premature end-of-file encountered.")}if(Jt(t),l=n,c=1,a=(o=t).D,u=0<o.L&&o.M>=o.zb&&o.M<=o.Va,0==o.Aa)e:{if(a.M=o.M,a.uc=u,Dn(o,a),c=1,a=(x=o.D).Nb,u=(b=Ri[o.L])*o.R,d=b/2*o.B,w=16*a*o.R,E=8*a*o.B,f=o.sa,p=o.ta-u+w,g=o.qa,h=o.ra-d+E,m=o.Ha,v=o.Ia-d+E,C=0==(L=x.M),y=L>=o.Va-1,2==o.Aa&&Dn(o,x),x.uc)for(T=(N=o).D.M,e(N.D.uc),x=N.yb;x<N.Hb;++x){S=x,A=T;var P=(I=(U=N).D).Nb;_=U.R;var I=I.wa[I.Y+S],D=U.sa,F=U.ta+16*P*_+16*S,M=I.dd,O=I.tc;if(0!=O)if(e(3<=O),1==U.L)0<S&&br(D,F,_,O+4),I.La&&_r(D,F,_,O),0<A&&yr(D,F,_,O+4),I.La&&wr(D,F,_,O);else{var R=U.B,j=U.qa,B=U.ra+8*P*R+8*S,q=U.Ha,U=U.Ia+8*P*R+8*S;P=I.ld,0<S&&(hr(D,F,_,O+4,M,P),fr(j,B,q,U,R,O+4,M,P)),I.La&&(gr(D,F,_,O,M,P),vr(j,B,q,U,R,O,M,P)),0<A&&(ur(D,F,_,O+4,M,P),dr(j,B,q,U,R,O+4,M,P)),I.La&&(pr(D,F,_,O,M,P),mr(j,B,q,U,R,O,M,P))}}if(o.ia&&alert("todo:DitherRow"),null!=l.put){if(x=16*L,L=16*(L+1),C?(l.y=o.sa,l.O=o.ta+w,l.f=o.qa,l.N=o.ra+E,l.ea=o.Ha,l.W=o.Ia+E):(x-=b,l.y=f,l.O=p,l.f=g,l.N=h,l.ea=m,l.W=v),y||(L-=b),L>l.o&&(L=l.o),l.F=null,l.J=null,null!=o.Fa&&0<o.Fa.length&&x<L&&(l.J=hn(o,l,x,L-x),l.F=o.mb,null==l.F&&0==l.F.length)){c=Kt(o,3,"Could not decode alpha data.");break e}x<l.j&&(b=l.j-x,x=l.j,e(!(1&b)),l.O+=o.R*b,l.N+=o.B*(b>>1),l.W+=o.B*(b>>1),null!=l.F&&(l.J+=l.width*b)),x<L&&(l.O+=l.v,l.N+=l.v>>1,l.W+=l.v>>1,null!=l.F&&(l.J+=l.v),l.ka=x-l.j,l.U=l.va-l.v,l.T=L-x,c=l.put(l))}a+1!=o.Ic||y||(r(o.sa,o.ta-u,f,p+16*o.R,u),r(o.qa,o.ra-d,g,h+8*o.B,d),r(o.Ha,o.Ia-d,m,v+8*o.B,d))}if(!c)return Kt(t,6,"Output aborted.")}return 1}(t,n)),null!=n.bc&&n.bc(n),o&=1}return o?(t.cb=0,o):0})(t,l)||(n=t.a)}}else n=t.a}0==n&&null!=h.Oa&&h.Oa.fd&&(n=On(h.ba))}h=n}u=0!=h?null:11>u?d.f.RGBA.eb:d.f.kb.y}else u=null;return u};var qi=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(t,e){for(var n="",r=0;r<4;r++)n+=String.fromCharCode(t[e++]);return n}function u(t,e){return(t[e+0]|t[e+1]<<8|t[e+2]<<16)>>>0}function h(t,e){return(t[e+0]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}new l;var d=[0],f=[0],p=[],g=new l,m=t,v=function(t,e){var n={},r=0,i=!1,s=0,a=0;if(n.frames=[],!
/** @license
       * Copyright (c) 2017 Dominik Homberger
      Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
      The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
      THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
      https://webpjs.appspot.com
      WebPRiffParser dominikhlbg@gmail.com
      */
function(t,e){for(var n=0;n<4;n++)if(t[e+n]!="RIFF".charCodeAt(n))return!0;return!1}(t,e)){var o,l;for(h(t,e+=4),e+=8;e<t.length;){var d=c(t,e),f=h(t,e+=4);e+=4;var p=f+(1&f);switch(d){case"VP8 ":case"VP8L":void 0===n.frames[r]&&(n.frames[r]={}),(v=n.frames[r]).src_off=i?a:e-8,v.src_size=s+f+8,r++,i&&(i=!1,s=0,a=0);break;case"VP8X":(v=n.header={}).feature_flags=t[e];var g=e+4;v.canvas_width=1+u(t,g),g+=3,v.canvas_height=1+u(t,g),g+=3;break;case"ALPH":i=!0,s=p+8,a=e-8;break;case"ANIM":(v=n.header).bgcolor=h(t,e),g=e+4,v.loop_count=(o=t)[(l=g)+0]|o[l+1]<<8,g+=2;break;case"ANMF":var m,v;(v=n.frames[r]={}).offset_x=2*u(t,e),e+=3,v.offset_y=2*u(t,e),e+=3,v.width=1+u(t,e),e+=3,v.height=1+u(t,e),e+=3,v.duration=u(t,e),e+=3,m=t[e++],v.dispose=1&m,v.blend=m>>1&1}"ANMF"!=d&&(e+=p)}return n}}(m,0);v.response=m,v.rgbaoutput=!0,v.dataurl=!1;var y=v.header?v.header:null,b=v.frames?v.frames:null;if(y){y.loop_counter=y.loop_count,d=[y.canvas_height],f=[y.canvas_width];for(var w=0;w<b.length&&0!=b[w].blend;w++);}var _=b[0],x=g.WebPDecodeRGBA(m,_.src_off,_.src_size,f,d);_.rgba=x,_.imgwidth=f[0],_.imgheight=d[0];for(var S=0;S<f[0]*d[0]*4;S++)p[S]=x[S];return this.width=f,this.height=d,this.data=p,this}!function(t){var e=function(e,r,l,c){var u=4,h=s;switch(c){case t.image_compression.FAST:u=1,h=i;break;case t.image_compression.MEDIUM:u=6,h=a;break;case t.image_compression.SLOW:u=9,h=o}var d=Zx(e=n(e,r,l,h),{level:u});return t.__addimage__.arrayBufferToBinaryString(d)},n=function(t,e,n,r){for(var i,s,a,o=t.length/e,l=new Uint8Array(t.length+o),h=c(),d=0;d<o;d+=1){if(a=d*e,i=t.subarray(a,a+e),r)l.set(r(i,n,s),a+d);else{for(var f,p=h.length,g=[];f<p;f+=1)g[f]=h[f](i,n,s);var m=u(g.concat());l.set(g[m],a+d)}s=i}return l},r=function(t){var e=Array.apply([],t);return e.unshift(0),e},i=function(t,e){var n,r=[],i=t.length;r[0]=1;for(var s=0;s<i;s+=1)n=t[s-e]||0,r[s+1]=t[s]-n+256&255;return r},s=function(t,e,n){var r,i=[],s=t.length;i[0]=2;for(var a=0;a<s;a+=1)r=n&&n[a]||0,i[a+1]=t[a]-r+256&255;return i},a=function(t,e,n){var r,i,s=[],a=t.length;s[0]=3;for(var o=0;o<a;o+=1)r=t[o-e]||0,i=n&&n[o]||0,s[o+1]=t[o]+256-(r+i>>>1)&255;return s},o=function(t,e,n){var r,i,s,a,o=[],c=t.length;o[0]=4;for(var u=0;u<c;u+=1)r=t[u-e]||0,i=n&&n[u]||0,s=n&&n[u-e]||0,a=l(r,i,s),o[u+1]=t[u]-a+256&255;return o},l=function(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),i=Math.abs(t-n),s=Math.abs(t+e-n-n);return r<=i&&r<=s?t:i<=s?e:n},c=function(){return[r,i,s,a,o]},u=function(t){var e=t.map(function(t){return t.reduce(function(t,e){return t+Math.abs(e)},0)});return e.indexOf(Math.min.apply(null,e))};t.processPNG=function(n,r,i,s){var a,o,l,c,u,h,d,f,p,g,m,v,y,b,w,_=this.decode.FLATE_DECODE,x="";if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){if(n=(l=new YA(n)).imgData,o=l.bits,a=l.colorSpace,u=l.colors,-1!==[4,6].indexOf(l.colorType)){if(8===l.bits){p=(f=32==l.pixelBitlength?new Uint32Array(l.decodePixels().buffer):16==l.pixelBitlength?new Uint16Array(l.decodePixels().buffer):new Uint8Array(l.decodePixels().buffer)).length,m=new Uint8Array(p*l.colors),g=new Uint8Array(p);var S,A=l.pixelBitlength-l.bits;for(b=0,w=0;b<p;b++){for(y=f[b],S=0;S<A;)m[w++]=y>>>S&255,S+=l.bits;g[b]=y>>>S&255}}if(16===l.bits){p=(f=new Uint32Array(l.decodePixels().buffer)).length,m=new Uint8Array(p*(32/l.pixelBitlength)*l.colors),g=new Uint8Array(p*(32/l.pixelBitlength)),v=l.colors>1,b=0,w=0;for(var N=0;b<p;)y=f[b++],m[w++]=y>>>0&255,v&&(m[w++]=y>>>16&255,y=f[b++],m[w++]=y>>>0&255),g[N++]=y>>>16&255;o=8}s!==t.image_compression.NONE?(n=e(m,l.width*l.colors,l.colors,s),d=e(g,l.width,1,s)):(n=m,d=g,_=void 0)}if(3===l.colorType&&(a=this.color_spaces.INDEXED,h=l.palette,l.transparency.indexed)){var E=l.transparency.indexed,L=0;for(b=0,p=E.length;b<p;++b)L+=E[b];if((L/=255)==p-1&&-1!==E.indexOf(0))c=[E.indexOf(0)];else if(L!==p){for(f=l.decodePixels(),g=new Uint8Array(f.length),b=0,p=f.length;b<p;b++)g[b]=E[f[b]];d=e(g,l.width,1)}}var k=function(e){var n;switch(e){case t.image_compression.FAST:n=11;break;case t.image_compression.MEDIUM:n=13;break;case t.image_compression.SLOW:n=14;break;default:n=12}return n}(s);return _===this.decode.FLATE_DECODE&&(x="/Predictor "+k+" "),x+="/Colors "+u+" /BitsPerComponent "+o+" /Columns "+l.width,(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(d&&this.__addimage__.isArrayBuffer(d)||this.__addimage__.isArrayBufferView(d))&&(d=this.__addimage__.arrayBufferToBinaryString(d)),{alias:i,data:n,index:r,filter:_,decodeParameters:x,transparency:c,palette:h,sMask:d,predictor:k,width:l.width,height:l.height,bitsPerComponent:o,colorSpace:a}}}}(MS.API),function(t){t.processGIF89A=function(e,n,r,i){var s=new XA(e),a=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:a,height:o},u=new JA(100).encode(c,100);return t.processJPEG.call(this,u,n,r,i)},t.processGIF87A=t.processGIF89A}(MS.API),ZA.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ZA.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){iS.log("bit decode error:"+n)}},ZA.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}0!==n&&(this.pos+=4-n)}},ZA.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*i*4,o=s>>4,l=15&s,c=this.palette[o];if(this.data[a]=c.blue,this.data[a+1]=c.green,this.data[a+2]=c.red,this.data[a+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[a+4]=c.blue,this.data[a+4+1]=c.green,this.data[a+4+2]=c.red,this.data[a+4+3]=255}0!==e&&(this.pos+=4-e)}},ZA.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}0!==t&&(this.pos+=4-t)}},ZA.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,c=s>>15?255:0,u=r*this.width*4+4*i;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=a,this.data[u+3]=c}this.pos+=t}},ZA.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&n)/n*255|0,c=(a>>11)/e*255|0,u=i*this.width*4+4*s;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=255}this.pos+=t}},ZA.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},ZA.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=a}},ZA.prototype.getData=function(){return this.data},
/**
 * @license
 * Copyright (c) 2018 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(t){t.processBMP=function(e,n,r,i){var s=new ZA(e,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new JA(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}}(MS.API),tN.prototype.getData=function(){return this.data},
/**
 * @license
 * Copyright (c) 2019 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(t){t.processWEBP=function(e,n,r,i){var s=new tN(e),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new JA(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}}(MS.API),MS.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,l=0,c=0;c<i;c+=4){var u=r[c],h=r[c+1],d=r[c+2],f=r[c+3];s[o++]=u,s[o++]=h,s[o++]=d,a[l++]=f}var p=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:p,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},MS.API.setLanguage=function(t){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]&&(this.internal.languageSettings.languageCode=t,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},HA=MS.API,WA=HA.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,h=!1!==e.doKerning,d=0,f=t.length,p=0,g=o[0]||l,m=[];for(n=0;n<f;n++)r=t.charCodeAt(n),"function"==typeof i.metadata.widthOfString?m.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+a*(1e3/s)||0)/1e3):(d=h&&"object"===cx(c[r])&&!isNaN(parseInt(c[r][p],10))?c[r][p]/u:0,m.push((o[r]||g)/l+d)),p=r;return m},$A=HA.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return HA.processArabic&&(t=HA.processArabic(t)),"function"==typeof r.metadata.widthOfString?r.metadata.widthOfString(t,n,i)/n:WA.apply(this,arguments).reduce(function(t,e){return t+e},0)},GA=function(t,e,n,r){for(var i=[],s=0,a=t.length,o=0;s!==a&&o+e[s]<n;)o+=e[s],s++;i.push(t.slice(0,s));var l=s;for(o=0;s!==a;)o+e[s]>r&&(i.push(t.slice(l,s)),o=0,l=s),o+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},KA=function(t,e,n){n||(n={});var r,i,s,a,o,l,c,u=[],h=[u],d=n.textIndent||0,f=0,p=0,g=t.split(" "),m=WA.apply(this,[" ",n])[0];if(l=-1===n.lineIndent?g[0].length+2:n.lineIndent||0){var v=Array(l).join(" "),y=[];g.map(function(t){(t=t.split(/\s*\n/)).length>1?y=y.concat(t.map(function(t,e){return(e&&t.length?"\n":"")+t})):y.push(t[0])}),g=y,l=$A.apply(this,[v,n])}for(s=0,a=g.length;s<a;s++){var b=0;if(r=g[s],l&&"\n"==r[0]&&(r=r.substr(1),b=1),d+f+(p=(i=WA.apply(this,[r,n])).reduce(function(t,e){return t+e},0))>e||b){if(p>e){for(o=GA.apply(this,[r,i,e-(d+f),e]),u.push(o.shift()),u=[o.pop()];o.length;)h.push([o.shift()]);p=i.slice(r.length-(u[0]?u[0].length:0)).reduce(function(t,e){return t+e},0)}else u=[r];h.push(u),d=p+l,f=m}else u.push(r),d+=f+p,f=m}return c=l?function(t,e){return(e?v:"")+t.join(" ")}:function(t){return t.join(" ")},h.map(c)},HA.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=function(t){if(t.widths&&t.kerning)return{widths:t.widths,kerning:t.kerning};var e=this.internal.getFont(t.fontName,t.fontStyle);return e.metadata.Unicode?{widths:e.metadata.Unicode.widths||{0:1},kerning:e.metadata.Unicode.kerning||{}}:{font:e.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var o,l,c=[];for(o=0,l=r.length;o<l;o++)c=c.concat(KA.apply(this,[r[o],a,s]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},i=0;i<16;i++)n[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(t){return"0x"+parseInt(t,10).toString(16)},a=t.__fontmetrics__.compress=function(t){var e,n,i,o,l=["{"];for(var c in t){if(e=t[c],isNaN(parseInt(c,10))?n="'"+c+"'":(c=parseInt(c,10),n=(n=s(c).slice(2)).slice(0,-1)+r[n.slice(-1)]),"number"==typeof e)e<0?(i=s(e).slice(3),o="-"):(i=s(e).slice(2),o=""),i=o+i.slice(0,-1)+r[i.slice(-1)];else{if("object"!==cx(e))throw new Error("Don't know what to do with value type "+cx(e)+".");i=a(e)}l.push(n+i)}return l.push("}"),l.join("")},o=t.__fontmetrics__.uncompress=function(t){if("string"!=typeof t)throw new Error("Invalid argument passed to uncompress.");for(var e,r,i,s,a={},o=1,l=a,c=[],u="",h="",d=t.length-1,f=1;f<d;f+=1)"'"==(s=t[f])?e?(i=e.join(""),e=void 0):e=[]:e?e.push(s):"{"==s?(c.push([l,i]),l={},i=void 0):"}"==s?((r=c.pop())[0][r[1]]=l,i=void 0,l=r[0]):"-"==s?o=-1:void 0===i?n.hasOwnProperty(s)?(u+=n[s],i=parseInt(u,16)*o,o=1,u=""):u+=s:n.hasOwnProperty(s)?(h+=n[s],l[i]=parseInt(h,16)*o,o=1,i=void 0,h=""):h+=s;return a},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(t){var e=t.font,n=u.Unicode[e.postScriptName];n&&(e.metadata.Unicode={},e.metadata.Unicode.widths=n.widths,e.metadata.Unicode.kerning=n.kerning);var r=c.Unicode[e.postScriptName];r&&(e.metadata.Unicode.encoding=r,e.encoding=r.codePages[0])}])}(MS.API),
/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(t){var e=function(t){for(var e=t.length,n=new Uint8Array(e),r=0;r<e;r++)n[r]=t.charCodeAt(r);return n};t.API.events.push(["addFont",function(n){var r,i,s=void 0,a=n.font,o=n.instance;if(!a.isStandardFont){if(void 0===o)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if("string"!=typeof(s=!1===o.existsFileInVFS(a.postScriptName)?o.loadFile(a.postScriptName):o.getFileFromVFS(a.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");r=a,i=/^\x00\x01\x00\x00/.test(i=s)?e(i):e(lS(i)),r.metadata=t.API.TTFFont.open(i),r.metadata.Unicode=r.metadata.Unicode||{encoding:{},kerning:{},widths:[]},r.metadata.glyIdsUsed=[0]}}])}(MS),MS.API.addSvgAsImage=function(t,e,n,r,i,s,a,o){if(isNaN(e)||isNaN(n))throw iS.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw iS.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=i;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(nS.canvg?Promise.resolve(nS.canvg):lx(()=>import("./index.es-CivyYDMR.js"),[])).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t}).then(function(e){return e.fromString(c,t,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(t){return t.render(u)}).then(function(){h.addImage(l.toDataURL("image/jpeg",1),e,n,r,i,a,o)})},MS.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},MS.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],c=0,u=0,h=0;function d(t,e){var n,r=!1;for(n=0;n<t.length;n+=1)t[n]===e&&(r=!0);return r}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,"reset"===t||!0===e){var f=o.length;for(h=0;h<f;h+=1)n[o[h]].value=n[o[h]].defaultValue,n[o[h]].explicitSet=!1}if("object"===cx(t))for(i in t)if(s=t[i],d(o,i)&&void 0!==s){if("boolean"===n[i].type&&"boolean"==typeof s)n[i].value=s;else if("name"===n[i].type&&d(n[i].valueSet,s))n[i].value=s;else if("integer"===n[i].type&&Number.isInteger(s))n[i].value=s;else if("array"===n[i].type){for(c=0;c<s.length;c+=1)if(r=!0,1===s[c].length&&"number"==typeof s[c][0])l.push(String(s[c]-1));else if(s[c].length>1){for(u=0;u<s[c].length;u+=1)"number"!=typeof s[c][u]&&(r=!1);!0===r&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var t,e=[];for(t in n)!0===n[t].explicitSet&&("name"===n[t].type?e.push("/"+t+" /"+n[t].value):e.push("/"+t+" "+n[t].value));0!==e.length&&this.internal.write("/ViewerPreferences\n<<\n"+e.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},
/** ====================================================================
 * @license
 * jsPDF XMP metadata plugin
 * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */
function(t){var e=function(){var t='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',e=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),n=unescape(encodeURIComponent(t)),r=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),i=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),s=unescape(encodeURIComponent("</x:xmpmeta>")),a=n.length+r.length+i.length+e.length+s.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+a+" >>"),this.internal.write("stream"),this.internal.write(e+n+r+i+s),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(t,r){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:t,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(MS.API),function(t){var e=t.API,n=e.pdfEscape16=function(t,e){for(var n,r=e.metadata.Unicode.widths,i=["","0","00","000","0000"],s=[""],a=0,o=t.length;a<o;++a){if(n=e.metadata.characterToGlyph(t.charCodeAt(a)),e.metadata.glyIdsUsed.push(n),e.metadata.toUnicode[n]=t.charCodeAt(a),-1==r.indexOf(n)&&(r.push(n),r.push([parseInt(e.metadata.widthOfGlyph(n),10)])),"0"==n)return s.join("");n=n.toString(16),s.push(i[4-n.length],n)}return s.join("")},r=function(t){var e,n,r,i,s,a,o;for(s="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",r=[],a=0,o=(n=Object.keys(t).sort(function(t,e){return t-e})).length;a<o;a++)e=n[a],r.length>=100&&(s+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar",r=[]),void 0!==t[e]&&null!==t[e]&&"function"==typeof t[e].toString&&(i=("0000"+t[e].toString(16)).slice(-4),e=("0000"+(+e).toString(16)).slice(-4),r.push("<"+e+"><"+i+">"));return r.length&&(s+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar\n"),s+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};e.events.push(["putFont",function(e){!function(e){var n=e.font,i=e.out,s=e.newObject,a=e.putStream;if(n.metadata instanceof t.API.TTFFont&&"Identity-H"===n.encoding){for(var o=n.metadata.Unicode.widths,l=n.metadata.subset.encode(n.metadata.glyIdsUsed,1),c="",u=0;u<l.length;u++)c+=String.fromCharCode(l[u]);var h=s();a({data:c,addLength1:!0,objectId:h}),i("endobj");var d=s();a({data:r(n.metadata.toUnicode),addLength1:!0,objectId:d}),i("endobj");var f=s();i("<<"),i("/Type /FontDescriptor"),i("/FontName /"+CS(n.fontName)),i("/FontFile2 "+h+" 0 R"),i("/FontBBox "+t.API.PDFObject.convert(n.metadata.bbox)),i("/Flags "+n.metadata.flags),i("/StemV "+n.metadata.stemV),i("/ItalicAngle "+n.metadata.italicAngle),i("/Ascent "+n.metadata.ascender),i("/Descent "+n.metadata.decender),i("/CapHeight "+n.metadata.capHeight),i(">>"),i("endobj");var p=s();i("<<"),i("/Type /Font"),i("/BaseFont /"+CS(n.fontName)),i("/FontDescriptor "+f+" 0 R"),i("/W "+t.API.PDFObject.convert(o)),i("/CIDToGIDMap /Identity"),i("/DW 1000"),i("/Subtype /CIDFontType2"),i("/CIDSystemInfo"),i("<<"),i("/Supplement 0"),i("/Registry (Adobe)"),i("/Ordering ("+n.encoding+")"),i(">>"),i(">>"),i("endobj"),n.objectNumber=s(),i("<<"),i("/Type /Font"),i("/Subtype /Type0"),i("/ToUnicode "+d+" 0 R"),i("/BaseFont /"+CS(n.fontName)),i("/Encoding /"+n.encoding),i("/DescendantFonts ["+p+" 0 R]"),i(">>"),i("endobj"),n.isAlreadyPutted=!0}}(e)}]),e.events.push(["putFont",function(e){!function(e){var n=e.font,i=e.out,s=e.newObject,a=e.putStream;if(n.metadata instanceof t.API.TTFFont&&"WinAnsiEncoding"===n.encoding){for(var o=n.metadata.rawData,l="",c=0;c<o.length;c++)l+=String.fromCharCode(o[c]);var u=s();a({data:l,addLength1:!0,objectId:u}),i("endobj");var h=s();a({data:r(n.metadata.toUnicode),addLength1:!0,objectId:h}),i("endobj");var d=s();i("<<"),i("/Descent "+n.metadata.decender),i("/CapHeight "+n.metadata.capHeight),i("/StemV "+n.metadata.stemV),i("/Type /FontDescriptor"),i("/FontFile2 "+u+" 0 R"),i("/Flags 96"),i("/FontBBox "+t.API.PDFObject.convert(n.metadata.bbox)),i("/FontName /"+CS(n.fontName)),i("/ItalicAngle "+n.metadata.italicAngle),i("/Ascent "+n.metadata.ascender),i(">>"),i("endobj"),n.objectNumber=s();for(var f=0;f<n.metadata.hmtx.widths.length;f++)n.metadata.hmtx.widths[f]=parseInt(n.metadata.hmtx.widths[f]*(1e3/n.metadata.head.unitsPerEm));i("<</Subtype/TrueType/Type/Font/ToUnicode "+h+" 0 R/BaseFont/"+CS(n.fontName)+"/FontDescriptor "+d+" 0 R/Encoding/"+n.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(n.metadata.hmtx.widths)+">>"),i("endobj"),n.isAlreadyPutted=!0}}(e)}]);var i=function(t){var e,r=t.text||"",i=t.x,s=t.y,a=t.options||{},o=t.mutex||{},l=o.pdfEscape,c=o.activeFontKey,u=o.fonts,h=c,d="",f=0,p="",g=u[h].encoding;if("Identity-H"!==u[h].encoding)return{text:r,x:i,y:s,options:a,mutex:o};for(p=r,h=c,Array.isArray(r)&&(p=r[0]),f=0;f<p.length;f+=1)u[h].metadata.hasOwnProperty("cmap")&&(e=u[h].metadata.cmap.unicode.codeMap[p[f].charCodeAt(0)]),e||p[f].charCodeAt(0)<256&&u[h].metadata.hasOwnProperty("Unicode")?d+=p[f]:d+="";var m="";return parseInt(h.slice(1))<14||"WinAnsiEncoding"===g?m=l(d,h).split("").map(function(t){return t.charCodeAt(0).toString(16)}).join(""):"Identity-H"===g&&(m=n(d,u[h])),o.isHex=!0,{text:m,x:i,y:s,options:a,mutex:o}};e.events.push(["postProcessText",function(t){var e=t.text||"",n=[],r={text:e,x:t.x,y:t.y,options:t.options,mutex:t.mutex};if(Array.isArray(e)){var s=0;for(s=0;s<e.length;s+=1)Array.isArray(e[s])&&3===e[s].length?n.push([i(Object.assign({},r,{text:e[s][0]})).text,e[s][1],e[s][2]]):n.push(i(Object.assign({},r,{text:e[s]})).text);t.text=n}else t.text=i(Object.assign({},r,{text:e})).text}])}(MS),
/**
 * @license
 * jsPDF virtual FileSystem functionality
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(t){var e=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(t){return e.call(this),void 0!==this.internal.vFS[t]},t.addFileToVFS=function(t,n){return e.call(this),this.internal.vFS[t]=n,this},t.getFileFromVFS=function(t){return e.call(this),void 0!==this.internal.vFS[t]?this.internal.vFS[t]:null}}(MS.API),
/**
 * @license
 * Unicode Bidi Engine based on the work of Alex Shensis (@asthensis)
 * MIT License
 */
function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(t){var n,r,i,s,a,o,l,c=e,u=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],d={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},f={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},p=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],g=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),m=!1,v=0;this.__bidiEngine__={};var y=function(t){var e=t.charCodeAt(),n=e>>8,r=f[n];return void 0!==r?c[256*r+(255&e)]:252===n||253===n?"AL":g.test(n)?"L":8===n?"R":"N"},b=function(t){for(var e,n=0;n<t.length;n++){if("L"===(e=y(t.charAt(n))))return!1;if("R"===e)return!0}return!1},w=function(t,e,a,o){var l,c,u,h,d=e[o];switch(d){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":m=!1;break;case"N":case"AN":break;case"EN":m&&(d="AN");break;case"AL":m=!0,d="R";break;case"WS":case"BN":d="N";break;case"CS":o<1||o+1>=e.length||"EN"!==(l=a[o-1])&&"AN"!==l||"EN"!==(c=e[o+1])&&"AN"!==c?d="N":m&&(c="AN"),d=c===l?c:"N";break;case"ES":d="EN"===(l=o>0?a[o-1]:"B")&&o+1<e.length&&"EN"===e[o+1]?"EN":"N";break;case"ET":if(o>0&&"EN"===a[o-1]){d="EN";break}if(m){d="N";break}for(u=o+1,h=e.length;u<h&&"ET"===e[u];)u++;d=u<h&&"EN"===e[u]?"EN":"N";break;case"NSM":if(i&&!s){for(h=e.length,u=o+1;u<h&&"NSM"===e[u];)u++;if(u<h){var f=t[o],p=f>=1425&&f<=2303||64286===f;if(l=e[u],p&&("R"===l||"AL"===l)){d="R";break}}}d=o<1||"B"===(l=e[o-1])?"N":a[o-1];break;case"B":m=!1,n=!0,d=v;break;case"S":r=!0,d="N"}return d},_=function(t,e,n){var r=t.split("");return n&&x(r,n,{hiLevel:v}),r.reverse(),e&&e.reverse(),r.join("")},x=function(t,e,i){var s,a,o,l,c,f=-1,p=t.length,g=0,b=[],_=v?h:u,x=[];for(m=!1,n=!1,r=!1,a=0;a<p;a++)x[a]=y(t[a]);for(o=0;o<p;o++){if(c=g,b[o]=w(t,x,b,o),s=240&(g=_[c][d[b[o]]]),g&=15,e[o]=l=_[g][5],s>0)if(16===s){for(a=f;a<o;a++)e[a]=1;f=-1}else f=-1;if(_[g][6])-1===f&&(f=o);else if(f>-1){for(a=f;a<o;a++)e[a]=l;f=-1}"B"===x[o]&&(e[o]=0),i.hiLevel|=l}r&&function(t,e,n){for(var r=0;r<n;r++)if("S"===t[r]){e[r]=v;for(var i=r-1;i>=0&&"WS"===t[i];i--)e[i]=v}}(x,e,p)},S=function(t,e,r,i,s){if(!(s.hiLevel<t)){if(1===t&&1===v&&!n)return e.reverse(),void(r&&r.reverse());for(var a,o,l,c,u=e.length,h=0;h<u;){if(i[h]>=t){for(l=h+1;l<u&&i[l]>=t;)l++;for(c=h,o=l-1;c<o;c++,o--)a=e[c],e[c]=e[o],e[o]=a,r&&(a=r[c],r[c]=r[o],r[o]=a);h=l}h++}}},A=function(t,e,n){var r=t.split(""),i={hiLevel:v};return n||(n=[]),x(r,n,i),function(t,e,n){if(0!==n.hiLevel&&l)for(var r,i=0;i<t.length;i++)1===e[i]&&(r=p.indexOf(t[i]))>=0&&(t[i]=p[r+1])}(r,n,i),S(2,r,e,n,i),S(1,r,e,n,i),r.join("")};return this.__bidiEngine__.doBidiReorder=function(t,e,n){if(function(t,e){if(e)for(var n=0;n<t.length;n++)e[n]=n;void 0===s&&(s=b(t)),void 0===o&&(o=b(t))}(t,e),i||!a||o)if(i&&a&&s^o)v=s?1:0,t=_(t,e,n);else if(!i&&a&&o)v=s?1:0,t=A(t,e,n),t=_(t,e);else if(!i||s||a||o){if(i&&!a&&s^o)t=_(t,e),s?(v=0,t=A(t,e,n)):(v=1,t=A(t,e,n),t=_(t,e));else if(i&&s&&!a&&o)v=1,t=A(t,e,n),t=_(t,e);else if(!i&&!a&&s^o){var r=l;s?(v=1,t=A(t,e,n),v=0,l=!1,t=A(t,e,n),l=r):(v=0,t=A(t,e,n),t=_(t,e),v=1,l=!1,t=A(t,e,n),l=r,t=_(t,e))}}else v=0,t=A(t,e,n);else v=s?1:0,t=A(t,e,n);return t},this.__bidiEngine__.setOptions=function(t){t&&(i=t.isInputVisual,a=t.isOutputVisual,s=t.isInputRtl,o=t.isOutputRtl,l=t.isSymmetricSwapping)},this.__bidiEngine__.setOptions(t),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(t){var e=t.text,r=(t.x,t.y,t.options||{}),i=(t.mutex,r.lang,[]);if(r.isInputVisual="boolean"!=typeof r.isInputVisual||r.isInputVisual,n.setOptions(r),"[object Array]"===Object.prototype.toString.call(e)){var s=0;for(i=[],s=0;s<e.length;s+=1)"[object Array]"===Object.prototype.toString.call(e[s])?i.push([n.doBidiReorder(e[s][0]),e[s][1],e[s][2]]):i.push([n.doBidiReorder(e[s])]);t.text=i}else t.text=n.doBidiReorder(e);n.setOptions({isInputVisual:!0})}])}(MS),MS.API.TTFFont=function(){function t(t){var e;if(this.rawData=t,e=this.contents=new nN(t),this.contents.pos=4,"ttcf"===e.readString(4))throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new _N(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new rN(this.contents),this.head=new aN(this),this.name=new fN(this),this.cmap=new lN(this),this.toUnicode={},this.hhea=new cN(this),this.maxp=new pN(this),this.hmtx=new gN(this),this.post=new hN(this),this.os2=new uN(this),this.loca=new wN(this),this.glyf=new vN(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var t,e,n,r,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var e,n,r,i;for(i=[],e=0,n=(r=this.bbox).length;e<n;e++)t=r[e],i.push(Math.round(t*this.scaleFactor));return i}.call(this),this.stemV=0,this.post.exists?(n=255&(r=this.post.italic_angle),!!(32768&(e=r>>16))&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(i=this.familyClass)||2===i||3===i||4===i||5===i||7===i,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(t){var e;return(null!=(e=this.cmap.unicode)?e.codeMap[t]:void 0)||0},t.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},t.prototype.widthOfString=function(t,e,n){var r,i,s,a;for(s=0,i=0,a=(t=""+t).length;0<=a?i<a:i>a;i=0<=a?++i:--i)r=t.charCodeAt(i),s+=this.widthOfGlyph(this.characterToGlyph(r))+n*(1e3/e)||0;return s*(e/1e3)},t.prototype.lineHeight=function(t,e){var n;return null==e&&(e=!1),n=e?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},t}();var eN,nN=function(){function t(t){this.data=null!=t?t:[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(t){return this.data[this.pos++]=t},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},t.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},t.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},t.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},t.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},t.prototype.readString=function(t){var e,n;for(n=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)n[e]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(t){var e,n,r;for(r=[],e=0,n=t.length;0<=n?e<n:e>n;e=0<=n?++e:--e)r.push(this.writeByte(t.charCodeAt(e)));return r},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(t){return this.writeInt16(t)},t.prototype.readLongLong=function(){var t,e,n,r,i,s,a,o;return t=this.readByte(),e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^n)+4294967296*(255^r)+16777216*(255^i)+65536*(255^s)+256*(255^a)+(255^o)+1):72057594037927940*t+281474976710656*e+1099511627776*n+4294967296*r+16777216*i+65536*s+256*a+o},t.prototype.writeLongLong=function(t){var e,n;return e=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(t){return this.writeInt32(t)},t.prototype.read=function(t){var e,n;for(e=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)e.push(this.readByte());return e},t.prototype.write=function(t){var e,n,r,i;for(i=[],n=0,r=t.length;n<r;n++)e=t[n],i.push(this.writeByte(e));return i},t}(),rN=function(){var t;function e(t){var e,n,r;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},n=0,r=this.tableCount;0<=r?n<r:n>r;n=0<=r?++n:--n)e={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[e.tag]=e}return e.prototype.encode=function(e){var n,r,i,s,a,o,l,c,u,h,d,f,p;for(p in d=Object.keys(e).length,o=Math.log(2),u=16*Math.floor(Math.log(d)/o),s=Math.floor(u/o),c=16*d-u,(r=new nN).writeInt(this.scalarType),r.writeShort(d),r.writeShort(u),r.writeShort(s),r.writeShort(c),i=16*d,l=r.pos+i,a=null,f=[],e)for(h=e[p],r.writeString(p),r.writeInt(t(h)),r.writeInt(l),r.writeInt(h.length),f=f.concat(h),"head"===p&&(a=l),l+=h.length;l%4;)f.push(0),l++;return r.write(f),n=2981146554-t(r.data),r.pos=a+8,r.writeUInt32(n),r.data},t=function(t){var e,n,r,i;for(t=mN.call(t);t.length%4;)t.push(0);for(r=new nN(t),n=0,e=0,i=t.length;e<i;e=e+=4)n+=r.readUInt32();return 4294967295&n},e}(),iN={}.hasOwnProperty,sN=function(t,e){for(var n in e)iN.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};eN=function(){function t(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var aN=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return sN(t,eN),t.prototype.tag="head",t.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},t.prototype.encode=function(t){var e;return(e=new nN).writeInt(this.version),e.writeInt(this.revision),e.writeInt(this.checkSumAdjustment),e.writeInt(this.magicNumber),e.writeShort(this.flags),e.writeShort(this.unitsPerEm),e.writeLongLong(this.created),e.writeLongLong(this.modified),e.writeShort(this.xMin),e.writeShort(this.yMin),e.writeShort(this.xMax),e.writeShort(this.yMax),e.writeShort(this.macStyle),e.writeShort(this.lowestRecPPEM),e.writeShort(this.fontDirectionHint),e.writeShort(t),e.writeShort(this.glyphDataFormat),e.data},t}(),oN=function(){function t(t,e){var n,r,i,s,a,o,l,c,u,h,d,f,p,g,m,v,y;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),u=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(o=0;o<256;++o)this.codeMap[o]=t.readByte();break;case 4:for(d=t.readUInt16(),h=d/2,t.pos+=6,i=function(){var e,n;for(n=[],o=e=0;0<=h?e<h:e>h;o=0<=h?++e:--e)n.push(t.readUInt16());return n}(),t.pos+=2,p=function(){var e,n;for(n=[],o=e=0;0<=h?e<h:e>h;o=0<=h?++e:--e)n.push(t.readUInt16());return n}(),l=function(){var e,n;for(n=[],o=e=0;0<=h?e<h:e>h;o=0<=h?++e:--e)n.push(t.readUInt16());return n}(),c=function(){var e,n;for(n=[],o=e=0;0<=h?e<h:e>h;o=0<=h?++e:--e)n.push(t.readUInt16());return n}(),r=(this.length-t.pos+this.offset)/2,a=function(){var e,n;for(n=[],o=e=0;0<=r?e<r:e>r;o=0<=r?++e:--e)n.push(t.readUInt16());return n}(),o=m=0,y=i.length;m<y;o=++m)for(g=i[o],n=v=f=p[o];f<=g?v<=g:v>=g;n=f<=g?++v:--v)0===c[o]?s=n+l[o]:0!==(s=a[c[o]/2+(n-f)-(h-o)]||0)&&(s+=l[o]),this.codeMap[n]=65535&s}t.pos=u}return t.encode=function(t,e){var n,r,i,s,a,o,l,c,u,h,d,f,p,g,m,v,y,b,w,_,x,S,A,N,E,L,k,C,T,P,I,D,F,M,O,R,j,B,q,U,V,z,H,W,$,G;switch(C=new nN,s=Object.keys(t).sort(function(t,e){return t-e}),e){case"macroman":for(p=0,g=function(){var t=[];for(f=0;f<256;++f)t.push(0);return t}(),v={0:0},i={},T=0,F=s.length;T<F;T++)null==v[H=t[r=s[T]]]&&(v[H]=++p),i[r]={old:t[r],new:v[t[r]]},g[r]=v[t[r]];return C.writeUInt16(1),C.writeUInt16(0),C.writeUInt32(12),C.writeUInt16(0),C.writeUInt16(262),C.writeUInt16(0),C.write(g),{charMap:i,subtable:C.data,maxGlyphID:p+1};case"unicode":for(L=[],u=[],y=0,v={},n={},m=l=null,P=0,M=s.length;P<M;P++)null==v[w=t[r=s[P]]]&&(v[w]=++y),n[r]={old:w,new:v[w]},a=v[w]-r,null!=m&&a===l||(m&&u.push(m),L.push(r),l=a),m=r;for(m&&u.push(m),u.push(65535),L.push(65535),N=2*(A=L.length),S=2*Math.pow(Math.log(A)/Math.LN2,2),h=Math.log(S/2)/Math.LN2,x=2*A-S,o=[],_=[],d=[],f=I=0,O=L.length;I<O;f=++I){if(E=L[f],c=u[f],65535===E){o.push(0),_.push(0);break}if(E-(k=n[E].new)>=32768)for(o.push(0),_.push(2*(d.length+A-f)),r=D=E;E<=c?D<=c:D>=c;r=E<=c?++D:--D)d.push(n[r].new);else o.push(k-E),_.push(0)}for(C.writeUInt16(3),C.writeUInt16(1),C.writeUInt32(12),C.writeUInt16(4),C.writeUInt16(16+8*A+2*d.length),C.writeUInt16(0),C.writeUInt16(N),C.writeUInt16(S),C.writeUInt16(h),C.writeUInt16(x),V=0,R=u.length;V<R;V++)r=u[V],C.writeUInt16(r);for(C.writeUInt16(0),z=0,j=L.length;z<j;z++)r=L[z],C.writeUInt16(r);for(W=0,B=o.length;W<B;W++)a=o[W],C.writeUInt16(a);for($=0,q=_.length;$<q;$++)b=_[$],C.writeUInt16(b);for(G=0,U=d.length;G<U;G++)p=d[G],C.writeUInt16(p);return{charMap:n,subtable:C.data,maxGlyphID:y+1}}},t}(),lN=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return sN(t,eN),t.prototype.tag="cmap",t.prototype.parse=function(t){var e,n,r;for(t.pos=this.offset,this.version=t.readUInt16(),r=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=r?n<r:n>r;n=0<=r?++n:--n)e=new oN(t,this.offset),this.tables.push(e),e.isUnicode&&null==this.unicode&&(this.unicode=e);return!0},t.encode=function(t,e){var n,r;return null==e&&(e="macroman"),n=oN.encode(t,e),(r=new nN).writeUInt16(0),r.writeUInt16(1),n.table=r.data.concat(n.subtable),n},t}(),cN=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return sN(t,eN),t.prototype.tag="hhea",t.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},t}(),uN=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return sN(t,eN),t.prototype.tag="OS/2",t.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var e,n;for(n=[],e=0;e<10;++e)n.push(t.readByte());return n}(),this.charRange=function(){var e,n;for(n=[],e=0;e<4;++e)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var e,n;for(n=[],e=0;e<2;e=++e)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},t}(),hN=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return sN(t,eN),t.prototype.tag="post",t.prototype.parse=function(t){var e,n,r;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=t.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],r=[];t.pos<this.offset+this.length;)e=t.readByte(),r.push(this.names.push(t.readString(e)));return r;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=function(){var e,n,r;for(r=[],i=e=0,n=this.file.maxp.numGlyphs;0<=n?e<n:e>n;i=0<=n?++e:--e)r.push(t.readUInt32());return r}.call(this)}},t}(),dN=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},fN=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return sN(t,eN),t.prototype.tag="name",t.prototype.parse=function(t){var e,n,r,i,s,a,o,l,c,u,h;for(t.pos=this.offset,t.readShort(),e=t.readShort(),a=t.readShort(),n=[],i=0;0<=e?i<e:i>e;i=0<=e?++i:--i)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+a+t.readShort()});for(o={},i=c=0,u=n.length;c<u;i=++c)r=n[i],t.pos=r.offset,l=t.readString(r.length),s=new dN(l,r),null==o[h=r.nameID]&&(o[h]=[]),o[r.nameID].push(s);this.strings=o,this.copyright=o[0],this.fontFamily=o[1],this.fontSubfamily=o[2],this.uniqueSubfamily=o[3],this.fontName=o[4],this.version=o[5];try{this.postscriptName=o[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(d){this.postscriptName=o[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=o[7],this.manufacturer=o[8],this.designer=o[9],this.description=o[10],this.vendorUrl=o[11],this.designerUrl=o[12],this.license=o[13],this.licenseUrl=o[14],this.preferredFamily=o[15],this.preferredSubfamily=o[17],this.compatibleFull=o[18],this.sampleText=o[19]},t}(),pN=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return sN(t,eN),t.prototype.tag="maxp",t.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},t}(),gN=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return sN(t,eN),t.prototype.tag="hmtx",t.prototype.parse=function(t){var e,n,r,i,s,a,o;for(t.pos=this.offset,this.metrics=[],e=0,a=this.file.hhea.numberOfMetrics;0<=a?e<a:e>a;e=0<=a?++e:--e)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var n,i;for(i=[],e=n=0;0<=r?n<r:n>r;e=0<=r?++n:--n)i.push(t.readInt16());return i}(),this.widths=function(){var t,e,n,r;for(r=[],t=0,e=(n=this.metrics).length;t<e;t++)i=n[t],r.push(i.advance);return r}.call(this),n=this.widths[this.widths.length-1],o=[],e=s=0;0<=r?s<r:s>r;e=0<=r?++s:--s)o.push(this.widths.push(n));return o},t.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},t}(),mN=[].slice,vN=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return sN(t,eN),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(t){var e,n,r,i,s,a,o,l,c,u;return t in this.cache?this.cache[t]:(i=this.file.loca,e=this.file.contents,n=i.indexOf(t),0===(r=i.lengthOf(t))?this.cache[t]=null:(e.pos=this.offset+n,s=(a=new nN(e.read(r))).readShort(),l=a.readShort(),u=a.readShort(),o=a.readShort(),c=a.readShort(),this.cache[t]=-1===s?new bN(a,l,u,o,c):new yN(a,s,l,u,o,c),this.cache[t]))},t.prototype.encode=function(t,e,n){var r,i,s,a,o;for(s=[],i=[],a=0,o=e.length;a<o;a++)r=t[e[a]],i.push(s.length),r&&(s=s.concat(r.encode(n)));return i.push(s.length),{table:s,offsets:i}},t}(),yN=function(){function t(t,e,n,r,i,s){this.raw=t,this.numberOfContours=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),bN=function(){function t(t,e,n,r,i){var s,a;for(this.raw=t,this.xMin=e,this.yMin=n,this.xMax=r,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;a=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&a;)s.pos+=1&a?4:2,128&a?s.pos+=8:64&a?s.pos+=4:8&a&&(s.pos+=2)}return t.prototype.encode=function(){var t,e,n;for(e=new nN(mN.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)e.pos=this.glyphOffsets[t];return e.data},t}(),wN=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return sN(t,eN),t.prototype.tag="loca",t.prototype.parse=function(t){var e,n;return t.pos=this.offset,e=this.file.head.indexToLocFormat,this.offsets=0===e?function(){var e,r;for(r=[],n=0,e=this.length;n<e;n+=2)r.push(2*t.readUInt16());return r}.call(this):function(){var e,r;for(r=[],n=0,e=this.length;n<e;n+=4)r.push(t.readUInt32());return r}.call(this)},t.prototype.indexOf=function(t){return this.offsets[t]},t.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},t.prototype.encode=function(t,e){for(var n=new Uint32Array(this.offsets.length),r=0,i=0,s=0;s<n.length;++s)if(n[s]=r,i<e.length&&e[i]==s){++i,n[s]=r;var a=this.offsets[s],o=this.offsets[s+1]-a;o>0&&(r+=o)}for(var l=new Array(4*n.length),c=0;c<n.length;++c)l[4*c+3]=255&n[c],l[4*c+2]=(65280&n[c])>>8,l[4*c+1]=(16711680&n[c])>>16,l[4*c]=(4278190080&n[c])>>24;return l},t}(),_N=function(){function t(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var t,e,n,r,i;for(e in r=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[e],t[e]=r[n];return t},t.prototype.glyphsFor=function(t){var e,n,r,i,s,a,o;for(r={},s=0,a=t.length;s<a;s++)r[i=t[s]]=this.font.glyf.glyphFor(i);for(i in e=[],r)(null!=(n=r[i])?n.compound:void 0)&&e.push.apply(e,n.glyphIDs);if(e.length>0)for(i in o=this.glyphsFor(e))n=o[i],r[i]=n;return r},t.prototype.encode=function(t,e){var n,r,i,s,a,o,l,c,u,h,d,f,p,g,m;for(r in n=lN.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(t),d={0:0},m=n.charMap)d[(o=m[r]).old]=o.new;for(f in h=n.maxGlyphID,s)f in d||(d[f]=h++);return c=function(t){var e,n;for(e in n={},t)n[t[e]]=e;return n}(d),u=Object.keys(c).sort(function(t,e){return t-e}),p=function(){var t,e,n;for(n=[],t=0,e=u.length;t<e;t++)a=u[t],n.push(c[a]);return n}(),i=this.font.glyf.encode(s,p,d),l=this.font.loca.encode(i.offsets,p),g={cmap:this.font.cmap.raw(),glyf:i.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(g["OS/2"]=this.font.os2.raw()),this.font.directory.encode(g)},t}();MS.API.PDFObject=function(){var t;function e(){}return t=function(t,e){return(Array(e+1).join("0")+t).slice(-e)},e.convert=function(n){var r,i,s,a;if(Array.isArray(n))return"["+function(){var t,i,s;for(s=[],t=0,i=n.length;t<i;t++)r=n[t],s.push(e.convert(r));return s}().join(" ")+"]";if("string"==typeof n)return"/"+n;if(null!=n?n.isString:void 0)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(n)){for(i in s=["<<"],n)a=n[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join("\n")}return""+n},e}();const xN=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:NA,AcroFormAppearance:_A,AcroFormButton:pA,AcroFormCheckBox:yA,AcroFormChoiceField:uA,AcroFormComboBox:dA,AcroFormEditBox:fA,AcroFormListBox:hA,AcroFormPasswordField:wA,AcroFormPushButton:gA,AcroFormRadioButton:mA,AcroFormTextField:bA,GState:PS,ShadingPattern:DS,TilingPattern:FS,default:MS,jsPDF:MS},Symbol.toStringTag,{value:"Module"}));var SN="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function AN(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function NN(t){if(t.__esModule)return t;var e=t.default;if("function"==typeof e){var n=function t(){return this instanceof t?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(e){var r=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(n,e,r.get?r:{enumerable:!0,get:function(){return t[e]}})}),n}const EN=NN(xN);
/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */var LN;"undefined"!=typeof globalThis?globalThis:void 0!==SN||("undefined"!=typeof window?window:"undefined"!=typeof self&&self),LN=function(t){return function(){var e={172:function(t,e){var n=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.CellHookData=e.HookData=void 0;var r=function(){return function(t,e,n){this.table=e,this.pageNumber=e.pageNumber,this.pageCount=this.pageNumber,this.settings=e.settings,this.cursor=n,this.doc=t.getDocument()}}();e.HookData=r;var i=function(t){function e(e,n,r,i,s,a){var o=t.call(this,e,n,a)||this;return o.cell=r,o.row=i,o.column=s,o.section=i.section,o}return n(e,t),e}(r);e.CellHookData=i},340:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),i=n(136),s=n(744),a=n(776),o=n(664),l=n(972);e.default=function(t){t.API.autoTable=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];1===e.length?t=e[0]:(console.error("Use of deprecated autoTable initiation"),(t=e[2]||{}).columns=e[0],t.body=e[1]);var r=(0,a.parseInput)(this,t),i=(0,l.createTable)(this,r);return(0,o.drawTable)(this,i),this},t.API.lastAutoTable=!1,t.API.previousAutoTable=!1,t.API.autoTable.previous=!1,t.API.autoTableText=function(t,e,n,r){(0,i.default)(t,e,n,r,this)},t.API.autoTableSetDefaults=function(t){return s.DocHandler.setDefaults(t,this),this},t.autoTableSetDefaults=function(t,e){s.DocHandler.setDefaults(t,e)},t.API.autoTableHtmlToJson=function(t,e){var n;if(void 0===e&&(e=!1),"undefined"==typeof window)return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new s.DocHandler(this),a=(0,r.parseHtml)(i,t,window,e,!1),o=a.head,l=a.body;return{columns:(null===(n=o[0])||void 0===n?void 0:n.map(function(t){return t.content}))||[],rows:l,data:l}},t.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var t=this.lastAutoTable;return t&&t.finalY?t.finalY:0},t.API.autoTableAddPageContent=function(e){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),t.API.autoTable.globalDefaults||(t.API.autoTable.globalDefaults={}),t.API.autoTable.globalDefaults.addPageContent=e,this},t.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}},136:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,r,i){r=r||{};var s=i.internal.scaleFactor,a=i.internal.getFontSize()/s,o=a*(i.getLineHeightFactor?i.getLineHeightFactor():1.15),l="",c=1;if("middle"!==r.valign&&"bottom"!==r.valign&&"center"!==r.halign&&"right"!==r.halign||(c=(l="string"==typeof t?t.split(/\r\n|\r|\n/g):t).length||1),n+=a*(2-1.15),"middle"===r.valign?n-=c/2*o:"bottom"===r.valign&&(n-=c*o),"center"===r.halign||"right"===r.halign){var u=a;if("center"===r.halign&&(u*=.5),l&&c>=1){for(var h=0;h<l.length;h++)i.text(l[h],e-i.getStringUnitWidth(l[h])*u,n),n+=o;return i}e-=i.getStringUnitWidth(t)*u}return"justify"===r.halign?i.text(t,e,n,{maxWidth:r.maxWidth||100,align:"justify"}):i.text(t,e,n),i}},420:function(t,e){function n(t,e){var n=t>0,r=e||0===e;return n&&r?"DF":n?"S":r?"F":null}function r(t,e){var n,r,i,s;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(3===t.length)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(2===t.length)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t=1===t.length?t[0]:e}return"object"==typeof t?("number"==typeof t.vertical&&(t.top=t.vertical,t.bottom=t.vertical),"number"==typeof t.horizontal&&(t.right=t.horizontal,t.left=t.horizontal),{left:null!==(n=t.left)&&void 0!==n?n:e,top:null!==(r=t.top)&&void 0!==r?r:e,right:null!==(i=t.right)&&void 0!==i?i:e,bottom:null!==(s=t.bottom)&&void 0!==s?s:e}):("number"!=typeof t&&(t=e),{top:t,right:t,bottom:t,left:t})}Object.defineProperty(e,"__esModule",{value:!0}),e.getPageAvailableWidth=e.parseSpacing=e.getFillStyle=e.addTableBorder=e.getStringWidth=void 0,e.getStringWidth=function(t,e,n){return n.applyStyles(e,!0),(Array.isArray(t)?t:[t]).map(function(t){return n.getTextWidth(t)}).reduce(function(t,e){return Math.max(t,e)},0)},e.addTableBorder=function(t,e,r,i){var s=e.settings.tableLineWidth,a=e.settings.tableLineColor;t.applyStyles({lineWidth:s,lineColor:a});var o=n(s,!1);o&&t.rect(r.x,r.y,e.getWidth(t.pageSize().width),i.y-r.y,o)},e.getFillStyle=n,e.parseSpacing=r,e.getPageAvailableWidth=function(t,e){var n=r(e.settings.margin,0);return t.pageSize().width-(n.left+n.right)}},796:function(t,e){var n=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.getTheme=e.defaultStyles=e.HtmlRowInput=void 0;var r=function(t){function e(e){var n=t.call(this)||this;return n._element=e,n}return n(e,t),e}(Array);e.HtmlRowInput=r,e.defaultStyles=function(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}},e.getTheme=function(t){return{striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}}[t]}},903:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.parseCss=void 0;var r=n(420);function i(t,e){var n=s(t,e);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])];return 0===parseInt(r[4])||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function s(t,e){var n=e(t);return"rgba(0, 0, 0, 0)"===n||"transparent"===n||"initial"===n||"inherit"===n?null==t.parentElement?null:s(t.parentElement,e):n}e.parseCss=function(t,e,n,s,a){var o={},l=96/72,c=i(e,function(t){return a.getComputedStyle(t).backgroundColor});null!=c&&(o.fillColor=c);var u=i(e,function(t){return a.getComputedStyle(t).color});null!=u&&(o.textColor=u);var h=function(t,e){var n=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],i=96/(72/e),s=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,a=n.map(function(t){return parseInt(t||"0")/i}),o=(0,r.parseSpacing)(a,0);return s>o.top&&(o.top=s),s>o.bottom&&(o.bottom=s),o}(s,n);h&&(o.cellPadding=h);var d="borderTopColor",f=l*n,p=s.borderTopWidth;if(s.borderBottomWidth===p&&s.borderRightWidth===p&&s.borderLeftWidth===p){var g=(parseFloat(p)||0)/f;g&&(o.lineWidth=g)}else o.lineWidth={top:(parseFloat(s.borderTopWidth)||0)/f,right:(parseFloat(s.borderRightWidth)||0)/f,bottom:(parseFloat(s.borderBottomWidth)||0)/f,left:(parseFloat(s.borderLeftWidth)||0)/f},o.lineWidth.top||(o.lineWidth.right?d="borderRightColor":o.lineWidth.bottom?d="borderBottomColor":o.lineWidth.left&&(d="borderLeftColor"));var m=i(e,function(t){return a.getComputedStyle(t)[d]});null!=m&&(o.lineColor=m);var v=["left","right","center","justify"];-1!==v.indexOf(s.textAlign)&&(o.halign=s.textAlign),-1!==(v=["middle","bottom","top"]).indexOf(s.verticalAlign)&&(o.valign=s.verticalAlign);var y=parseInt(s.fontSize||"");isNaN(y)||(o.fontSize=y/l);var b=function(t){var e="";return("bold"===t.fontWeight||"bolder"===t.fontWeight||parseInt(t.fontWeight)>=700)&&(e="bold"),"italic"!==t.fontStyle&&"oblique"!==t.fontStyle||(e+="italic"),e}(s);b&&(o.fontStyle=b);var w=(s.fontFamily||"").toLowerCase();return-1!==t.indexOf(w)&&(o.font=w),o}},744:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.DocHandler=void 0;var n={},r=function(){function t(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(t,e){void 0===e&&(e=null),e?e.__autoTableDocumentDefaults=t:n=t},t.unifyColor=function(t){return Array.isArray(t)?t:"number"==typeof t?[t,t,t]:"string"==typeof t?[t]:null},t.prototype.applyStyles=function(e,n){var r,i,s;void 0===n&&(n=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var a=this.jsPDFDocument.internal.getFont(),o=a.fontStyle,l=a.fontName;if(e.font&&(l=e.font),e.fontStyle){o=e.fontStyle;var c=this.getFontList()[l];c&&-1===c.indexOf(o)&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(c[0]),o=c[0])}if(this.jsPDFDocument.setFont(l,o),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!n){var u=t.unifyColor(e.fillColor);u&&(r=this.jsPDFDocument).setFillColor.apply(r,u),(u=t.unifyColor(e.textColor))&&(i=this.jsPDFDocument).setTextColor.apply(i,u),(u=t.unifyColor(e.lineColor))&&(s=this.jsPDFDocument).setDrawColor.apply(s,u),"number"==typeof e.lineWidth&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(t,e,n){return this.jsPDFDocument.splitTextToSize(t,e,n)},t.prototype.rect=function(t,e,n,r,i){return this.jsPDFDocument.rect(t,e,n,r,i)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return n||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return null==t.width&&(t={width:t.getWidth(),height:t.getHeight()}),t},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}();e.DocHandler=r},4:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.parseHtml=void 0;var r=n(903),i=n(796);function s(t,e,n,s,o,l){for(var c=new i.HtmlRowInput(s),u=0;u<s.cells.length;u++){var h=s.cells[u],d=n.getComputedStyle(h);if(o||"none"!==d.display){var f=void 0;l&&(f=(0,r.parseCss)(t,h,e,d,n)),c.push({rowSpan:h.rowSpan,colSpan:h.colSpan,styles:f,_element:h,content:a(h)})}}var p=n.getComputedStyle(s);if(c.length>0&&(o||"none"!==p.display))return c}function a(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(t){return t.trim()}).join("\n"),e.innerText||e.textContent||""}e.parseHtml=function(t,e,n,r,i){var a,o,l;void 0===r&&(r=!1),void 0===i&&(i=!1),l="string"==typeof e?n.document.querySelector(e):e;var c=Object.keys(t.getFontList()),u=t.scaleFactor(),h=[],d=[],f=[];if(!l)return console.error("Html table could not be found with input: ",e),{head:h,body:d,foot:f};for(var p=0;p<l.rows.length;p++){var g=l.rows[p],m=null===(o=null===(a=null==g?void 0:g.parentElement)||void 0===a?void 0:a.tagName)||void 0===o?void 0:o.toLowerCase(),v=s(c,u,n,g,r,i);v&&("thead"===m?h.push(v):"tfoot"===m?f.push(v):d.push(v))}return{head:h,body:d,foot:f}}},776:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.parseInput=void 0;var r=n(4),i=n(356),s=n(420),a=n(744),o=n(792);e.parseInput=function(t,e){var n=new a.DocHandler(t),l=n.getDocumentOptions(),c=n.getGlobalOptions();(0,o.default)(n,c,l,e);var u,h=(0,i.assign)({},c,l,e);"undefined"!=typeof window&&(u=window);var d=function(t,e,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},s=function(s){if("columnStyles"===s){var a=t[s],o=e[s],l=n[s];r.columnStyles=(0,i.assign)({},a,o,l)}else{var c=[t,e,n].map(function(t){return t[s]||{}});r[s]=(0,i.assign)({},c[0],c[1],c[2])}},a=0,o=Object.keys(r);a<o.length;a++)s(o[a]);return r}(c,l,e),f=function(t,e,n){for(var r={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,s=[t,e,n];i<s.length;i++){var a=s[i];a.didParseCell&&r.didParseCell.push(a.didParseCell),a.willDrawCell&&r.willDrawCell.push(a.willDrawCell),a.didDrawCell&&r.didDrawCell.push(a.didDrawCell),a.willDrawPage&&r.willDrawPage.push(a.willDrawPage),a.didDrawPage&&r.didDrawPage.push(a.didDrawPage)}return r}(c,l,e),p=function(t,e){var n,r,i,a,o,l,c,u,h,d,f,p,g,m,v=(0,s.parseSpacing)(e.margin,40/t.scaleFactor()),y=null!==(n=function(t,e){var n=t.getLastAutoTable(),r=t.scaleFactor(),i=t.pageNumber(),s=!1;return n&&n.startPageNumber&&(s=n.startPageNumber+n.pageNumber-1===i),"number"==typeof e?e:null!=e&&!1!==e||!s||null==(null==n?void 0:n.finalY)?null:n.finalY+20/r}(t,e.startY))&&void 0!==n?n:v.top;g=!0===e.showFoot?"everyPage":!1===e.showFoot?"never":null!==(r=e.showFoot)&&void 0!==r?r:"everyPage",m=!0===e.showHead?"everyPage":!1===e.showHead?"never":null!==(i=e.showHead)&&void 0!==i?i:"everyPage";var b=null!==(a=e.useCss)&&void 0!==a&&a,w=e.theme||(b?"plain":"striped"),_=!!e.horizontalPageBreak,x=null!==(o=e.horizontalPageBreakRepeat)&&void 0!==o?o:null;return{includeHiddenHtml:null!==(l=e.includeHiddenHtml)&&void 0!==l&&l,useCss:b,theme:w,startY:y,margin:v,pageBreak:null!==(c=e.pageBreak)&&void 0!==c?c:"auto",rowPageBreak:null!==(u=e.rowPageBreak)&&void 0!==u?u:"auto",tableWidth:null!==(h=e.tableWidth)&&void 0!==h?h:"auto",showHead:m,showFoot:g,tableLineWidth:null!==(d=e.tableLineWidth)&&void 0!==d?d:0,tableLineColor:null!==(f=e.tableLineColor)&&void 0!==f?f:200,horizontalPageBreak:_,horizontalPageBreakRepeat:x,horizontalPageBreakBehaviour:null!==(p=e.horizontalPageBreakBehaviour)&&void 0!==p?p:"afterAllRows"}}(n,h),g=function(t,e,n){var i=e.head||[],s=e.body||[],a=e.foot||[];if(e.html){var o=e.includeHiddenHtml;if(n){var l=(0,r.parseHtml)(t,e.html,n,o,e.useCss)||{};i=l.head||i,s=l.body||i,a=l.foot||i}else console.error("Cannot parse html in non browser environment")}var c=e.columns||function(t,e,n){var r=t[0]||e[0]||n[0]||[],i=[];return Object.keys(r).filter(function(t){return"_element"!==t}).forEach(function(t){var e,n=1;"object"!=typeof(e=Array.isArray(r)?r[parseInt(t)]:r[t])||Array.isArray(e)||(n=(null==e?void 0:e.colSpan)||1);for(var s=0;s<n;s++){var a={dataKey:Array.isArray(r)?i.length:t+(s>0?"_".concat(s):"")};i.push(a)}}),i}(i,s,a);return{columns:c,head:i,body:s,foot:a}}(n,h,u);return{id:e.tableId,content:g,hooks:f,styles:d,settings:p}}},792:function(t,e){function n(t){t.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),t.minCellHeight||(t.minCellHeight=t.rowHeight)):t.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),t.cellWidth||(t.cellWidth=t.columnWidth))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r,i){for(var s=function(e){e&&"object"!=typeof e&&console.error("The options parameter should be of type object, is: "+typeof e),void 0!==e.extendWidth&&(e.tableWidth=e.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),void 0!==e.margins&&(void 0===e.margin&&(e.margin=e.margins),console.error("Use of deprecated option: margins, use margin instead.")),e.startY&&"number"!=typeof e.startY&&(console.error("Invalid value for startY option",e.startY),delete e.startY),!e.didDrawPage&&(e.afterPageContent||e.beforePageContent||e.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),e.didDrawPage=function(n){t.applyStyles(t.userStyles),e.beforePageContent&&e.beforePageContent(n),t.applyStyles(t.userStyles),e.afterPageContent&&e.afterPageContent(n),t.applyStyles(t.userStyles),e.afterPageAdd&&n.pageNumber>1&&n.afterPageAdd(n),t.applyStyles(t.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(t){e[t]&&console.error('The "'.concat(t,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(t){var n=t[0],r=t[1];e[r]&&(console.error("Use of deprecated option ".concat(r,". Use ").concat(n," instead")),e[n]=e[r])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(t){var n="string"==typeof t?t:t[0],r="string"==typeof t?t:t[1];void 0!==e[n]&&(void 0===e.styles[r]&&(e.styles[r]=e[n]),console.error("Use of deprecated option: "+n+", use the style "+r+" instead."))});for(var r=0,i=["styles","bodyStyles","headStyles","footStyles"];r<i.length;r++)n(e[i[r]]||{});for(var s=e.columnStyles||{},a=0,o=Object.keys(s);a<o.length;a++)n(s[o[a]]||{})},a=0,o=[e,r,i];a<o.length;a++)s(o[a])}},260:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.Column=e.Cell=e.Row=e.Table=void 0;var r=n(796),i=n(172),s=n(420),a=function(){function t(t,e){this.pageNumber=1,this.pageCount=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=e.columns,this.head=e.head,this.body=e.body,this.foot=e.foot}return t.prototype.getHeadHeight=function(t){return this.head.reduce(function(e,n){return e+n.getMaxCellHeight(t)},0)},t.prototype.getFootHeight=function(t){return this.foot.reduce(function(e,n){return e+n.getMaxCellHeight(t)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(t,e,n,r,s,a){for(var o=0,l=e;o<l.length;o++){var c=!1===(0,l[o])(new i.CellHookData(t,this,n,r,s,a));if(n.text=Array.isArray(n.text)?n.text:[n.text],c)return!1}return!0},t.prototype.callEndPageHooks=function(t,e){t.applyStyles(t.userStyles);for(var n=0,r=this.hooks.didDrawPage;n<r.length;n++)(0,r[n])(new i.HookData(t,this,e))},t.prototype.callWillDrawPageHooks=function(t,e){for(var n=0,r=this.hooks.willDrawPage;n<r.length;n++)(0,r[n])(new i.HookData(t,this,e))},t.prototype.getWidth=function(t){if("number"==typeof this.settings.tableWidth)return this.settings.tableWidth;if("wrap"===this.settings.tableWidth)return this.columns.reduce(function(t,e){return t+e.wrappedWidth},0);var e=this.settings.margin;return t-e.left-e.right},t}();e.Table=a;var o=function(){function t(t,e,n,i,s){void 0===s&&(s=!1),this.height=0,this.raw=t,t instanceof r.HtmlRowInput&&(this.raw=t._element,this.element=t._element),this.index=e,this.section=n,this.cells=i,this.spansMultiplePages=s}return t.prototype.getMaxCellHeight=function(t){var e=this;return t.reduce(function(t,n){var r;return Math.max(t,(null===(r=e.cells[n.index])||void 0===r?void 0:r.height)||0)},0)},t.prototype.hasRowSpan=function(t){var e=this;return t.filter(function(t){var n=e.cells[t.index];return!!n&&n.rowSpan>1}).length>0},t.prototype.canEntireRowFit=function(t,e){return this.getMaxCellHeight(e)<=t},t.prototype.getMinimumRowHeight=function(t,e){var n=this;return t.reduce(function(t,r){var i=n.cells[r.index];if(!i)return 0;var s=e.getLineHeight(i.styles.fontSize),a=i.padding("vertical")+s;return a>t?a:t},0)},t}();e.Row=o;var l=function(){function t(t,e,n){var r,i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=e,this.section=n,this.raw=t;var s=t;null==t||"object"!=typeof t||Array.isArray(t)?(this.rowSpan=1,this.colSpan=1):(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,s=null!==(i=null!==(r=t.content)&&void 0!==r?r:t.title)&&void 0!==i?i:t,t._element&&(this.raw=t._element));var a=null!=s?""+s:"";this.text=a.split(/\r\n|\r|\n/g)}return t.prototype.getTextPos=function(){var t,e;if("top"===this.styles.valign)t=this.y+this.padding("top");else if("bottom"===this.styles.valign)t=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");t=this.y+n/2+this.padding("top")}if("right"===this.styles.halign)e=this.x+this.width-this.padding("right");else if("center"===this.styles.halign){var r=this.width-this.padding("horizontal");e=this.x+r/2+this.padding("left")}else e=this.x+this.padding("left");return{x:e,y:t}},t.prototype.getContentHeight=function(t,e){void 0===e&&(e=1.15);var n=(Array.isArray(this.text)?this.text.length:1)*(this.styles.fontSize/t*e)+this.padding("vertical");return Math.max(n,this.styles.minCellHeight)},t.prototype.padding=function(t){var e=(0,s.parseSpacing)(this.styles.cellPadding,0);return"vertical"===t?e.top+e.bottom:"horizontal"===t?e.left+e.right:e[t]},t}();e.Cell=l;var c=function(){function t(t,e,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=e,this.index=n}return t.prototype.getMaxCustomCellWidth=function(t){for(var e=0,n=0,r=t.allRows();n<r.length;n++){var i=r[n].cells[this.index];i&&"number"==typeof i.styles.cellWidth&&(e=Math.max(e,i.styles.cellWidth))}return e},t}();e.Column=c},356:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.assign=void 0,e.assign=function(t,e,n,r,i){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(t),a=1;a<arguments.length;a++){var o=arguments[a];if(null!=o)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(s[l]=o[l])}return s}},972:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.createTable=void 0;var r=n(744),i=n(260),s=n(324),a=n(796),o=n(356);function l(t,e,n,r,s,a){var o={};return e.map(function(e,l){for(var c=0,h={},d=0,f=0,p=0,g=n;p<g.length;p++){var m=g[p];if(null==o[m.index]||0===o[m.index].left)if(0===f){var v=void 0,y={};"object"!=typeof(v=Array.isArray(e)?e[m.index-d-c]:e[m.dataKey])||Array.isArray(v)||(y=(null==v?void 0:v.styles)||{});var b=u(t,m,l,s,r,a,y),w=new i.Cell(v,b,t);h[m.dataKey]=w,h[m.index]=w,f=w.colSpan-1,o[m.index]={left:w.rowSpan-1,times:f}}else f--,d++;else o[m.index].left--,f=o[m.index].times,c++}return new i.Row(e,l,t,h)})}function c(t,e){var n={};return t.forEach(function(t){if(null!=t.raw){var r=function(t,e){if("head"===t){if("object"==typeof e)return e.header||e.title||null;if("string"==typeof e||"number"==typeof e)return e}else if("foot"===t&&"object"==typeof e)return e.footer;return null}(e,t.raw);null!=r&&(n[t.dataKey]=r)}}),Object.keys(n).length>0?n:null}function u(t,e,n,r,i,s,l){var c,u=(0,a.getTheme)(r);"head"===t?c=i.headStyles:"body"===t?c=i.bodyStyles:"foot"===t&&(c=i.footStyles);var h=(0,o.assign)({},u.table,u[t],i.styles,c),d=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},f="body"===t?d:{},p="body"===t&&n%2==0?(0,o.assign)({},u.alternateRow,i.alternateRowStyles):{},g=(0,a.defaultStyles)(s),m=(0,o.assign)({},g,h,p,f);return(0,o.assign)(m,l)}e.createTable=function(t,e){var n=new r.DocHandler(t),a=function(t,e){var n,r=t.content,s=function(t){return t.map(function(t,e){var n,r,s;return s="object"==typeof t&&null!==(r=null!==(n=t.dataKey)&&void 0!==n?n:t.key)&&void 0!==r?r:e,new i.Column(s,t,e)})}(r.columns);0===r.head.length&&(n=c(s,"head"))&&r.head.push(n),0===r.foot.length&&(n=c(s,"foot"))&&r.foot.push(n);var a=t.settings.theme,o=t.styles;return{columns:s,head:l("head",r.head,s,o,a,e),body:l("body",r.body,s,o,a,e),foot:l("foot",r.foot,s,o,a,e)}}(e,n.scaleFactor()),o=new i.Table(e,a);return(0,s.calculateWidths)(n,o),n.applyStyles(n.userStyles),o}},664:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.addPage=e.drawTable=void 0;var r=n(420),i=n(260),s=n(744),a=n(356),o=n(136),l=n(224);function c(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),"firstPage"!==i.showHead&&"everyPage"!==i.showHead||e.head.forEach(function(i){return p(t,e,i,n,r)})}function u(t,e,n,r,i,s){t.applyStyles(t.userStyles),s=null!=s?s:e.body.length;var a=Math.min(n+s,e.body.length),o=-1;return e.body.slice(n,a).forEach(function(s,a){var l=n+a===e.body.length-1,c=m(t,e,l,r);s.canEntireRowFit(c,i)&&(p(t,e,s,r,i),o=n+a)}),o}function h(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),"lastPage"!==i.showFoot&&"everyPage"!==i.showFoot||e.foot.forEach(function(i){return p(t,e,i,n,r)})}function d(t,e,n){var r=n.getLineHeight(t.styles.fontSize),i=t.padding("vertical"),s=Math.floor((e-i)/r);return Math.max(0,s)}function f(t,e,n,r,s,o,l){var c=m(t,e,r,o);if(n.canEntireRowFit(c,l))p(t,e,n,o,l);else if(function(t,e,n,r){var i=t.pageSize().height,s=r.settings.margin,a=i-(s.top+s.bottom);"body"===e.section&&(a-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var o=e.getMinimumRowHeight(r.columns,t),l=o<n;if(o>a)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!l)return!1;var c=e.hasRowSpan(r.columns);return e.getMaxCellHeight(r.columns)>a?(c&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!c&&"avoid"!==r.settings.rowPageBreak}(t,n,c,e)){var u=function(t,e,n,r){var s={};t.spansMultiplePages=!0,t.height=0;for(var o=0,l=0,c=n.columns;l<c.length;l++){var u=c[l];if(b=t.cells[u.index]){Array.isArray(b.text)||(b.text=[b.text]);var h=new i.Cell(b.raw,b.styles,b.section);(h=(0,a.assign)(h,b)).text=[];var f=d(b,e,r);b.text.length>f&&(h.text=b.text.splice(f,b.text.length));var p=r.scaleFactor(),g=r.getLineHeightFactor();b.contentHeight=b.getContentHeight(p,g),b.contentHeight>=e&&(b.contentHeight=e,h.styles.minCellHeight-=e),b.contentHeight>t.height&&(t.height=b.contentHeight),h.contentHeight=h.getContentHeight(p,g),h.contentHeight>o&&(o=h.contentHeight),s[u.index]=h}}var m=new i.Row(t.raw,-1,t.section,s,!0);m.height=o;for(var v=0,y=n.columns;v<y.length;v++){var b;u=y[v],(h=m.cells[u.index])&&(h.height=m.height),(b=t.cells[u.index])&&(b.height=t.height)}return m}(n,c,e,t);p(t,e,n,o,l),v(t,e,s,o,l),f(t,e,u,r,s,o,l)}else v(t,e,s,o,l),f(t,e,n,r,s,o,l)}function p(t,e,n,r,i){r.x=e.settings.margin.left;for(var s=0,a=i;s<a.length;s++){var l=a[s],c=n.cells[l.index];if(c)if(t.applyStyles(c.styles),c.x=r.x,c.y=r.y,!1!==e.callCellHooks(t,e.hooks.willDrawCell,c,n,l,r)){g(t,c,r);var u=c.getTextPos();(0,o.default)(c.text,u.x,u.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,c,n,l,r),r.x+=l.width}else r.x+=l.width;else r.x+=l.width}r.y+=n.height}function g(t,e,n){var i=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),"number"==typeof i.lineWidth){var s=(0,r.getFillStyle)(i.lineWidth,i.fillColor);s&&t.rect(e.x,n.y,e.width,e.height,s)}else"object"==typeof i.lineWidth&&(i.fillColor&&t.rect(e.x,n.y,e.width,e.height,"F"),function(t,e,n,r){var i,s,a,o;function l(e,n,r,i,s){t.getDocument().setLineWidth(e),t.getDocument().line(n,r,i,s,"S")}r.top&&(i=n.x,s=n.y,a=n.x+e.width,o=n.y,r.right&&(a+=.5*r.right),r.left&&(i-=.5*r.left),l(r.top,i,s,a,o)),r.bottom&&(i=n.x,s=n.y+e.height,a=n.x+e.width,o=n.y+e.height,r.right&&(a+=.5*r.right),r.left&&(i-=.5*r.left),l(r.bottom,i,s,a,o)),r.left&&(i=n.x,s=n.y,a=n.x,o=n.y+e.height,r.top&&(s-=.5*r.top),r.bottom&&(o+=.5*r.bottom),l(r.left,i,s,a,o)),r.right&&(i=n.x+e.width,s=n.y,a=n.x+e.width,o=n.y+e.height,r.top&&(s-=.5*r.top),r.bottom&&(o+=.5*r.bottom),l(r.right,i,s,a,o))}(t,e,n,i.lineWidth))}function m(t,e,n,r){var i=e.settings.margin.bottom,s=e.settings.showFoot;return("everyPage"===s||"lastPage"===s&&n)&&(i+=e.getFootHeight(e.columns)),t.pageSize().height-r.y-i}function v(t,e,n,i,s,a){void 0===s&&(s=[]),void 0===a&&(a=!1),t.applyStyles(t.userStyles),"everyPage"!==e.settings.showFoot||a||e.foot.forEach(function(n){return p(t,e,n,i,s)}),e.callEndPageHooks(t,i);var o=e.settings.margin;(0,r.addTableBorder)(t,e,n,i),y(t),e.pageNumber++,e.pageCount++,i.x=o.left,i.y=o.top,n.y=o.top,e.callWillDrawPageHooks(t,i),"everyPage"===e.settings.showHead&&(e.head.forEach(function(n){return p(t,e,n,i,s)}),t.applyStyles(t.userStyles))}function y(t){var e=t.pageNumber();return t.setPage(e+1),t.pageNumber()===e&&(t.addPage(),!0)}e.drawTable=function(t,e){var n=e.settings,i=n.startY,o=n.margin,d={x:o.left,y:i},g=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),m=i+o.bottom+g;"avoid"===n.pageBreak&&(m+=e.body.reduce(function(t,e){return t+e.height},0));var b=new s.DocHandler(t);("always"===n.pageBreak||null!=n.startY&&m>b.pageSize().height)&&(y(b),d.y=o.top),e.callWillDrawPageHooks(b,d);var w=(0,a.assign)({},d);e.startPageNumber=b.pageNumber(),n.horizontalPageBreak?function(t,e,n,r){var i=(0,l.calculateAllColumnsCanFitInPage)(t,e),s=e.settings;if("afterAllRows"===s.horizontalPageBreakBehaviour)i.forEach(function(i,s){t.applyStyles(t.userStyles),s>0?v(t,e,n,r,i.columns,!0):c(t,e,r,i.columns),function(t,e,n,r,i){t.applyStyles(t.userStyles),e.body.forEach(function(s,a){var o=a===e.body.length-1;f(t,e,s,o,n,r,i)})}(t,e,n,r,i.columns),h(t,e,r,i.columns)});else for(var a=-1,o=i[0],d=function(){var s=a;if(o){t.applyStyles(t.userStyles);var l=o.columns;a>=0?v(t,e,n,r,l,!0):c(t,e,r,l),s=u(t,e,a+1,r,l),h(t,e,r,l)}var d=s-a;i.slice(1).forEach(function(i){t.applyStyles(t.userStyles),v(t,e,n,r,i.columns,!0),u(t,e,a+1,r,i.columns,d),h(t,e,r,i.columns)}),a=s};a<e.body.length-1;)d()}(b,e,w,d):(b.applyStyles(b.userStyles),"firstPage"!==n.showHead&&"everyPage"!==n.showHead||e.head.forEach(function(t){return p(b,e,t,d,e.columns)}),b.applyStyles(b.userStyles),e.body.forEach(function(t,n){var r=n===e.body.length-1;f(b,e,t,r,w,d,e.columns)}),b.applyStyles(b.userStyles),"lastPage"!==n.showFoot&&"everyPage"!==n.showFoot||e.foot.forEach(function(t){return p(b,e,t,d,e.columns)})),(0,r.addTableBorder)(b,e,w,d),e.callEndPageHooks(b,d),e.finalY=d.y,t.lastAutoTable=e,t.previousAutoTable=e,t.autoTable&&(t.autoTable.previous=e),b.applyStyles(b.userStyles)},e.addPage=v},224:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.calculateAllColumnsCanFitInPage=void 0;var r=n(420);function i(t,e,n){var i;void 0===n&&(n={});var s=(0,r.getPageAvailableWidth)(t,e),a=new Map,o=[],l=[],c=[];e.settings.horizontalPageBreakRepeat,Array.isArray(e.settings.horizontalPageBreakRepeat)?c=e.settings.horizontalPageBreakRepeat:"string"!=typeof e.settings.horizontalPageBreakRepeat&&"number"!=typeof e.settings.horizontalPageBreakRepeat||(c=[e.settings.horizontalPageBreakRepeat]),c.forEach(function(t){var n=e.columns.find(function(e){return e.dataKey===t||e.index===t});n&&!a.has(n.index)&&(a.set(n.index,!0),o.push(n.index),l.push(e.columns[n.index]),s-=n.wrappedWidth)});for(var u=!0,h=null!==(i=null==n?void 0:n.start)&&void 0!==i?i:0;h<e.columns.length;)if(a.has(h))h++;else{var d=e.columns[h].wrappedWidth;if(!(u||s>=d))break;u=!1,o.push(h),l.push(e.columns[h]),s-=d,h++}return{colIndexes:o,columns:l,lastIndex:h-1}}e.calculateAllColumnsCanFitInPage=function(t,e){for(var n=[],r=0;r<e.columns.length;r++){var s=i(t,e,{start:r});s.columns.length&&(n.push(s),r=s.lastIndex)}return n}},324:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.ellipsize=e.resizeColumns=e.calculateWidths=void 0;var r=n(420);function i(t,e,n){for(var r=e,s=t.reduce(function(t,e){return t+e.wrappedWidth},0),a=0;a<t.length;a++){var o=t[a],l=r*(o.wrappedWidth/s),c=o.width+l,u=n(o),h=c<u?u:c;e-=h-o.width,o.width=h}if(e=Math.round(1e10*e)/1e10){var d=t.filter(function(t){return!(e<0)||t.width>n(t)});d.length&&(e=i(d,e,n))}return e}function s(t,e,n,i,s){return t.map(function(t){return function(t,e,n,i,s){var a=1e4*i.scaleFactor();if((e=Math.ceil(e*a)/a)>=(0,r.getStringWidth)(t,n,i))return t;for(;e<(0,r.getStringWidth)(t+s,n,i)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+s}(t,e,n,i,s)})}e.calculateWidths=function(t,e){!function(t,e){var n=t.scaleFactor(),i=e.settings.horizontalPageBreak,s=(0,r.getPageAvailableWidth)(t,e);e.allRows().forEach(function(a){for(var o=0,l=e.columns;o<l.length;o++){var c=l[o],u=a.cells[c.index];if(u){var h=e.hooks.didParseCell;e.callCellHooks(t,h,u,a,c,null);var d=u.padding("horizontal");u.contentWidth=(0,r.getStringWidth)(u.text,u.styles,t)+d;var f=(0,r.getStringWidth)(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,t);if(u.minReadableWidth=f+u.padding("horizontal"),"number"==typeof u.styles.cellWidth)u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if("wrap"===u.styles.cellWidth||!0===i)u.contentWidth>s?(u.minWidth=s,u.wrappedWidth=s):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var p=10/n;u.minWidth=u.styles.minCellWidth||p,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),e.allRows().forEach(function(t){for(var n=0,r=e.columns;n<r.length;n++){var i=r[n],s=t.cells[i.index];if(s&&1===s.colSpan)i.wrappedWidth=Math.max(i.wrappedWidth,s.wrappedWidth),i.minWidth=Math.max(i.minWidth,s.minWidth),i.minReadableWidth=Math.max(i.minReadableWidth,s.minReadableWidth);else{var a=e.styles.columnStyles[i.dataKey]||e.styles.columnStyles[i.index]||{},o=a.cellWidth||a.minCellWidth;o&&"number"==typeof o&&(i.minWidth=o,i.wrappedWidth=o)}s&&(s.colSpan>1&&!i.minWidth&&(i.minWidth=s.minWidth),s.colSpan>1&&!i.wrappedWidth&&(i.wrappedWidth=s.minWidth))}})}(t,e);var n=[],a=0;e.columns.forEach(function(t){var r=t.getMaxCustomCellWidth(e);r?t.width=r:(t.width=t.wrappedWidth,n.push(t)),a+=t.width});var o=e.getWidth(t.pageSize().width)-a;o&&(o=i(n,o,function(t){return Math.max(t.minReadableWidth,t.minWidth)})),o&&(o=i(n,o,function(t){return t.minWidth})),o=Math.abs(o),!e.settings.horizontalPageBreak&&o>.1/t.scaleFactor()&&(o=o<1?o:Math.round(o),console.warn("Of the table content, ".concat(o," units width could not fit page"))),function(t){for(var e=t.allRows(),n=0;n<e.length;n++)for(var r=e[n],i=null,s=0,a=0,o=0;o<t.columns.length;o++){var l=t.columns[o];if((a-=1)>1&&t.columns[o+1])s+=l.width,delete r.cells[l.index];else if(i){var c=i;delete r.cells[l.index],i=null,c.width=l.width+s}else{if(!(c=r.cells[l.index]))continue;if(a=c.colSpan,s=0,c.colSpan>1){i=c,s+=l.width;continue}c.width=l.width+s}}}(e),function(t,e){for(var n={count:0,height:0},r=0,i=t.allRows();r<i.length;r++){for(var a=i[r],o=0,l=t.columns;o<l.length;o++){var c=l[o],u=a.cells[c.index];if(u){e.applyStyles(u.styles,!0);var h=u.width-u.padding("horizontal");if("linebreak"===u.styles.overflow)u.text=e.splitTextToSize(u.text,h+1/e.scaleFactor(),{fontSize:u.styles.fontSize});else if("ellipsize"===u.styles.overflow)u.text=s(u.text,h,u.styles,e,"...");else if("hidden"===u.styles.overflow)u.text=s(u.text,h,u.styles,e,"");else if("function"==typeof u.styles.overflow){var d=u.styles.overflow(u.text,h);u.text="string"==typeof d?[d]:d}u.contentHeight=u.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var f=u.contentHeight/u.rowSpan;u.rowSpan>1&&n.count*n.height<f*u.rowSpan?n={height:f,count:u.rowSpan}:n&&n.count>0&&n.height>f&&(f=n.height),f>a.height&&(a.height=f)}}n.count--}}(e,t),function(t){for(var e={},n=1,r=t.allRows(),i=0;i<r.length;i++)for(var s=r[i],a=0,o=t.columns;a<o.length;a++){var l=o[a],c=e[l.index];if(n>1)n--,delete s.cells[l.index];else if(c)c.cell.height+=s.height,n=c.cell.colSpan,delete s.cells[l.index],c.left--,c.left<=1&&delete e[l.index];else{var u=s.cells[l.index];if(!u)continue;if(u.height=s.height,u.rowSpan>1){var h=r.length-i,d=u.rowSpan>h?h:u.rowSpan;e[l.index]={cell:u,left:d,row:s}}}}}(e)},e.resizeColumns=i,e.ellipsize=s},964:function(e){if(void 0===t){var n=new Error("Cannot find module 'undefined'");throw n.code="MODULE_NOT_FOUND",n}e.exports=t}},n={};function r(t){var i=n[t];if(void 0!==i)return i.exports;var s=n[t]={exports:{}};return e[t].call(s.exports,s,s.exports,r),s.exports}var i={};return function(){var t=i;Object.defineProperty(t,"__esModule",{value:!0}),t.Cell=t.Column=t.Row=t.Table=t.CellHookData=t.__drawTable=t.__createTable=t.applyPlugin=void 0;var e=r(340),n=r(776),s=r(664),a=r(972),o=r(260);Object.defineProperty(t,"Table",{enumerable:!0,get:function(){return o.Table}});var l=r(172);Object.defineProperty(t,"CellHookData",{enumerable:!0,get:function(){return l.CellHookData}});var c=r(260);function u(t){(0,e.default)(t)}Object.defineProperty(t,"Cell",{enumerable:!0,get:function(){return c.Cell}}),Object.defineProperty(t,"Column",{enumerable:!0,get:function(){return c.Column}}),Object.defineProperty(t,"Row",{enumerable:!0,get:function(){return c.Row}}),t.applyPlugin=u,t.__createTable=function(t,e){var r=(0,n.parseInput)(t,e);return(0,a.createTable)(t,r)},t.__drawTable=function(t,e){(0,s.drawTable)(t,e)};try{var h=r(964);h.jsPDF&&(h=h.jsPDF),u(h)}catch(d){}t.default=function(t,e){var r=(0,n.parseInput)(t,e),i=(0,a.createTable)(t,r);(0,s.drawTable)(t,i)}}(),i}()},LN(function(){try{return EN}catch(AA){}}());const kN={name:"Reports",data:()=>({CONSTANTS:Gm,exams:[],marks:[],students:[],selectedExam:null,attendedStudents:[],loading:!0,savingMarks:!1}),computed:{completedExams(){return this.exams.filter(t=>t.status===Gm.EXAM_STATUS.COMPLETED)},averageMark(){const t=this.attendedStudents.filter(t=>null!=t.mark&&""!==t.mark);if(0===t.length)return 0;const e=t.reduce((t,e)=>t+(e.mark||0),0);return Math.round(e/t.length)},highestMark(){const t=this.attendedStudents.filter(t=>null!=t.mark&&""!==t.mark);return 0===t.length?0:Math.max(...t.map(t=>t.mark||0))},passRate(){const t=this.attendedStudents.filter(t=>null!=t.mark&&""!==t.mark);if(0===t.length)return 0;const e=t.filter(t=>(t.mark||0)>=40);return Math.round(e.length/t.length*100)}},async mounted(){await this.loadData();const t=this.$route.query.exam;if(t){const e=this.completedExams.find(e=>e.id===t);e&&await this.selectExam(e)}},methods:{async loadData(){try{Qm("Loading reports data"),this.loading=!0;const[t,e]=await Promise.all([gv.getAll(),fv.getAll()]);this.exams=t,this.students=e,Zm(`Loaded ${t.length} exams and ${e.length} students`)}catch(t){Jm("Error loading reports data",t),this.showToast("Failed to load data","error")}finally{this.loading=!1}},async selectExam(t){try{this.selectedExam=t;const e=Object.keys(t.attendance||{}).filter(e=>t.attendance[e].attended);this.attendedStudents=e.map(e=>{const n=this.students.find(t=>t.indexNo===e);if(!n)return null;const r=this.marks.find(n=>n.examId===t.id&&n.studentId===e);return{...n,mark:r?r.mark:"",grade:r?this.calculateGradeFromMark(r.mark):"",markId:r?r.id:null}}).filter(Boolean),this.attendedStudents.sort((t,e)=>t.indexNo.localeCompare(e.indexNo))}catch(e){console.error("Error selecting exam:",e),this.showToast("Failed to load exam data","error")}},calculateGrade(t){null!=t.mark&&""!==t.mark?t.grade=this.calculateGradeFromMark(t.mark):t.grade=""},calculateGradeFromMark:t=>t>=75?"A":t>=65?"B":t>=55?"C":t>=40?"S":"F",getGradeClass(t){switch(t){case"A":return"grade-a";case"B":return"grade-b";case"C":return"grade-c";case"S":return"grade-s";case"F":return"grade-f";default:return""}},async saveAllMarks(){try{this.savingMarks=!0;for(const t of this.attendedStudents)if(null!=t.mark&&""!==t.mark){const e={examId:this.selectedExam.id,studentId:t.indexNo,mark:parseInt(t.mark),subject:this.selectedExam.subject};if(t.markId)await marksService.update(t.markId,e);else{const n=await marksService.create(e);t.markId=n.id}}this.showToast("Marks saved successfully","success"),await this.loadData()}catch(t){console.error("Error saving marks:",t),this.showToast("Failed to save marks","error")}finally{this.savingMarks=!1}},hasMarks(t){return this.marks.some(e=>e.examId===t)},getAttendedCount:t=>t.attendance?Object.values(t.attendance).filter(t=>t.attended).length:0,async generateReport(){try{if(!this.selectedExam||!this.hasMarks(this.selectedExam.id))return void this.showToast("Please add marks before generating report","error");const t=new MS;t.setFontSize(20),t.setFont(void 0,"bold"),t.text(Gm.APP_NAME,105,20,{align:"center"}),t.setFontSize(12),t.setFont(void 0,"italic"),t.text(Gm.APP_SLOGAN,105,30,{align:"center"}),t.setFontSize(16),t.setFont(void 0,"bold"),t.text(`${this.selectedExam.subject} - ${this.selectedExam.batch}`,105,45,{align:"center"}),t.setFontSize(12),t.setFont(void 0,"normal"),t.text(`Exam Date: ${this.formatDate(this.selectedExam.date)}`,105,55,{align:"center"});const e=this.attendedStudents.filter(t=>null!=t.mark&&""!==t.mark).map(t=>[t.indexNo,t.name,t.mark,t.grade]);t.autoTable({head:[["Index No","Student Name","Marks","Grade"]],body:e,startY:70,theme:"striped",headStyles:{fillColor:[102,126,234],textColor:255,fontStyle:"bold"},styles:{fontSize:10,cellPadding:5},columnStyles:{0:{cellWidth:25},1:{cellWidth:80},2:{cellWidth:25,halign:"center"},3:{cellWidth:25,halign:"center"}}});const n=t.lastAutoTable.finalY+20;t.setFontSize(12),t.setFont(void 0,"bold"),t.text("Summary:",20,n),t.setFont(void 0,"normal"),t.text(`Total Students: ${this.attendedStudents.length}`,20,n+10),t.text(`Average Mark: ${this.averageMark}%`,20,n+20),t.text(`Highest Mark: ${this.highestMark}%`,20,n+30),t.text(`Pass Rate: ${this.passRate}%`,20,n+40),t.setFontSize(8),t.text(`Generated on: ${(new Date).toLocaleDateString("en-GB")}`,20,280),t.text("Pesalai Undergraduates Admin System",105,280,{align:"center"});const r=`${this.selectedExam.subject}_${this.selectedExam.batch}_${this.selectedExam.date}.pdf`;t.save(r),this.showToast("Report generated successfully","success")}catch(t){console.error("Error generating report:",t),this.showToast("Failed to generate report","error")}},formatDate:t=>new Date(t).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),showToast(t,e="success"){const n=document.createElement("div");n.className=`toast ${e}`,n.innerHTML=`\n        <div style="display: flex; align-items: center; gap: 8px;">\n          <i class="fas fa-${"success"===e?"check-circle":"exclamation-triangle"}"></i>\n          <span>${t}</span>\n        </div>\n      `,document.body.appendChild(n),setTimeout(()=>{n.remove()},3e3)}}},CN={class:"reports-page"},TN={class:"reports-content"},PN={class:"container-fluid"},IN={key:0,class:"loading-state"},DN={key:1,class:"empty-state"},FN={key:2,class:"reports-sections"},MN={class:"exam-selection"},ON={class:"exams-grid"},RN=["onClick"],jN={class:"exam-header"},BN={class:"exam-batch"},qN={class:"exam-details"},UN={class:"detail-item"},VN={class:"detail-item"},zN={class:"detail-item"},HN={class:"exam-status"},WN={key:0,class:"marks-section"},$N={class:"section-header"},GN={class:"section-actions"},KN=["disabled"],YN=["disabled"],XN={key:0,class:"spinner"},QN={key:1},JN={class:"marks-table-container"},ZN={key:0,class:"no-students"},tE={key:1,class:"marks-table"},eE={class:"table-body"},nE={class:"table-cell"},rE={class:"table-cell"},iE={class:"table-cell"},sE=["onUpdate:modelValue","onInput"],aE={class:"table-cell"},oE={class:"marks-summary"},lE={class:"summary-stats"},cE={class:"stat-item"},uE={class:"value"},hE={class:"stat-item"},dE={class:"value"},fE={class:"stat-item"},pE={class:"value"},gE={class:"stat-item"},mE={class:"value"},vE={class:"bottom-nav"};const yE=[{path:"/",name:"Login",component:dv,meta:{requiresAuth:!1}},{path:"/dashboard",name:"Dashboard",component:qv,meta:{requiresAuth:!0}},{path:"/students",name:"Students",component:Py,meta:{requiresAuth:!0}},{path:"/attendance",name:"Attendance",component:Ab,meta:{requiresAuth:!0}},{path:"/exams",name:"Exams",component:i_,meta:{requiresAuth:!0}},{path:"/finance",name:"Finance",component:ax,meta:{requiresAuth:!0}},{path:"/reports",name:"Reports",component:ds(kN,[["render",function(t,e,n,r,i,s){const a=En("router-link");return Vr(),$r("div",CN,[e[26]||(e[26]=ei('<div class="page-header" data-v-8eda7ade><div class="container-fluid" data-v-8eda7ade><div class="header-content" data-v-8eda7ade><div class="header-left" data-v-8eda7ade><h1 data-v-8eda7ade><i class="fas fa-file-pdf" data-v-8eda7ade></i> Reports &amp; Marks</h1><p data-v-8eda7ade>Generate PDF reports and manage student marks</p></div></div></div></div>',1)),Qr("div",TN,[Qr("div",PN,[i.loading?(Vr(),$r("div",IN,[...e[2]||(e[2]=[Qr("div",{class:"spinner"},null,-1),Qr("p",null,"Loading exams...",-1)])])):0===s.completedExams.length?(Vr(),$r("div",DN,[e[4]||(e[4]=Qr("i",{class:"fas fa-file-pdf"},null,-1)),e[5]||(e[5]=Qr("h3",null,"No completed exams",-1)),e[6]||(e[6]=Qr("p",null,"Complete exams to generate reports",-1)),Jr(a,{to:"/exams",class:"btn btn-primary"},{default:Xe(()=>[...e[3]||(e[3]=[Qr("i",{class:"fas fa-clipboard-list"},null,-1),ti(" Go to Exams ",-1)])]),_:1})])):(Vr(),$r("div",FN,[Qr("div",MN,[e[11]||(e[11]=Qr("h3",null,"Select Exam for Report",-1)),Qr("div",ON,[(Vr(!0),$r(Or,null,Cn(s.completedExams,t=>{var n;return Vr(),$r("div",{key:t.id,class:z(["exam-card",{selected:(null==(n=i.selectedExam)?void 0:n.id)===t.id}]),onClick:e=>s.selectExam(t)},[Qr("div",jN,[Qr("h4",null,Y(t.subject),1),Qr("span",BN,Y(t.batch),1)]),Qr("div",qN,[Qr("div",UN,[e[7]||(e[7]=Qr("i",{class:"fas fa-calendar"},null,-1)),Qr("span",null,Y(s.formatDate(t.date)),1)]),Qr("div",VN,[e[8]||(e[8]=Qr("i",{class:"fas fa-users"},null,-1)),Qr("span",null,Y(s.getAttendedCount(t))+" students",1)]),Qr("div",zN,[e[9]||(e[9]=Qr("i",{class:"fas fa-dollar-sign"},null,-1)),Qr("span",null,"Rs. "+Y(t.totalIncome||0),1)])]),Qr("div",HN,[e[10]||(e[10]=Qr("i",{class:"fas fa-check-circle"},null,-1)),Qr("span",null,Y(s.hasMarks(t.id)?"Marks Added":"Marks Pending"),1)])],10,RN)}),128))])]),i.selectedExam?(Vr(),$r("div",WN,[Qr("div",$N,[Qr("h3",null,"Manage Marks - "+Y(i.selectedExam.subject)+" ("+Y(i.selectedExam.batch)+")",1),Qr("div",GN,[Qr("button",{onClick:e[0]||(e[0]=(...t)=>s.generateReport&&s.generateReport(...t)),class:"btn btn-success",disabled:!s.hasMarks(i.selectedExam.id)},[...e[12]||(e[12]=[Qr("i",{class:"fas fa-file-pdf"},null,-1),ti(" Generate PDF ",-1)])],8,KN),Qr("button",{onClick:e[1]||(e[1]=(...t)=>s.saveAllMarks&&s.saveAllMarks(...t)),class:"btn btn-primary",disabled:i.savingMarks},[i.savingMarks?(Vr(),$r("span",XN)):(Vr(),$r("span",QN,[...e[13]||(e[13]=[Qr("i",{class:"fas fa-save"},null,-1),ti(" Save Marks",-1)])]))],8,YN)])]),Qr("div",JN,[0===i.attendedStudents.length?(Vr(),$r("div",ZN,[...e[14]||(e[14]=[Qr("p",null,"No students attended this exam",-1)])])):(Vr(),$r("div",tE,[e[15]||(e[15]=ei('<div class="table-header" data-v-8eda7ade><div class="header-cell" data-v-8eda7ade>Index No</div><div class="header-cell" data-v-8eda7ade>Student Name</div><div class="header-cell" data-v-8eda7ade>Marks</div><div class="header-cell" data-v-8eda7ade>Grade</div></div>',1)),Qr("div",eE,[(Vr(!0),$r(Or,null,Cn(i.attendedStudents,t=>(Vr(),$r("div",{key:t.indexNo,class:"table-row"},[Qr("div",nE,Y(t.indexNo),1),Qr("div",rE,Y(t.name),1),Qr("div",iE,[Qe(Qr("input",{"onUpdate:modelValue":e=>t.mark=e,type:"number",class:"mark-input",min:"0",max:"100",placeholder:"0",onInput:e=>s.calculateGrade(t)},null,40,sE),[[rs,t.mark,void 0,{number:!0}]])]),Qr("div",aE,[Qr("span",{class:z(["grade-badge",s.getGradeClass(t.grade)])},Y(t.grade||"-"),3)])]))),128))])]))]),Qr("div",oE,[Qr("div",lE,[Qr("div",cE,[e[16]||(e[16]=Qr("span",{class:"label"},"Total Students:",-1)),Qr("span",uE,Y(i.attendedStudents.length),1)]),Qr("div",hE,[e[17]||(e[17]=Qr("span",{class:"label"},"Average Mark:",-1)),Qr("span",dE,Y(s.averageMark)+"%",1)]),Qr("div",fE,[e[18]||(e[18]=Qr("span",{class:"label"},"Highest Mark:",-1)),Qr("span",pE,Y(s.highestMark)+"%",1)]),Qr("div",gE,[e[19]||(e[19]=Qr("span",{class:"label"},"Pass Rate:",-1)),Qr("span",mE,Y(s.passRate)+"%",1)])])])])):ni("",!0)]))])]),Qr("nav",vE,[Jr(a,{to:"/dashboard",class:"nav-link"},{default:Xe(()=>[...e[20]||(e[20]=[Qr("i",{class:"fas fa-home"},null,-1),Qr("span",null,"Dashboard",-1)])]),_:1}),Jr(a,{to:"/students",class:"nav-link"},{default:Xe(()=>[...e[21]||(e[21]=[Qr("i",{class:"fas fa-users"},null,-1),Qr("span",null,"Students",-1)])]),_:1}),Jr(a,{to:"/attendance",class:"nav-link"},{default:Xe(()=>[...e[22]||(e[22]=[Qr("i",{class:"fas fa-calendar-check"},null,-1),Qr("span",null,"Attendance",-1)])]),_:1}),Jr(a,{to:"/exams",class:"nav-link"},{default:Xe(()=>[...e[23]||(e[23]=[Qr("i",{class:"fas fa-clipboard-list"},null,-1),Qr("span",null,"Exams",-1)])]),_:1}),Jr(a,{to:"/finance",class:"nav-link"},{default:Xe(()=>[...e[24]||(e[24]=[Qr("i",{class:"fas fa-chart-line"},null,-1),Qr("span",null,"Finance",-1)])]),_:1}),Jr(a,{to:"/reports",class:"nav-link active"},{default:Xe(()=>[...e[25]||(e[25]=[Qr("i",{class:"fas fa-file-pdf"},null,-1),Qr("span",null,"Reports",-1)])]),_:1})])])}],["__scopeId","data-v-8eda7ade"]]),meta:{requiresAuth:!0}},{path:"/:pathMatch(.*)*",redirect:"/"}],bE=function(t){const e=Sa(t.routes,t),n=t.parseQuery||Pa,r=t.stringifyQuery||Ia,i=t.history,s=Ba(),a=Ba(),o=Ba(),l=be(Gs,!0);let c=Gs;gs&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=ys.bind(null,t=>""+t),h=ys.bind(null,js),d=ys.bind(null,Bs);function f(t,s){if(s=vs({},s||l.value),"string"==typeof t){const r=Us(n,t,s.path),a=e.resolve({path:r.path},s),o=i.createHref(r.fullPath);return vs(r,a,{params:d(a.params),hash:Bs(r.hash),redirectedFrom:void 0,href:o})}let a;if(null!=t.path)a=vs({},t,{path:Us(n,t.path,s.path).path});else{const e=vs({},t.params);for(const t in e)null==e[t]&&delete e[t];a=vs({},t,{params:h(e)}),s.params=h(s.params)}const o=e.resolve(a,s),c=t.hash||"";o.params=u(d(o.params));const f=function(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}(r,vs({},t,{hash:(p=c,Ms(p).replace(Ps,"{").replace(Ds,"}").replace(Cs,"^")),path:o.path}));var p;const g=i.createHref(f);return vs({fullPath:f,hash:c,query:r===Ia?Da(t.query):t.query||{}},o,{redirectedFrom:void 0,href:g})}function p(t){return"string"==typeof t?Us(n,t,l.value.path):vs({},t)}function g(t,e){if(c!==t)return da(8,{from:e,to:t})}function m(t){return y(t)}function v(t){const e=t.matched[t.matched.length-1];if(e&&e.redirect){const{redirect:n}=e;let r="function"==typeof n?n(t):n;return"string"==typeof r&&(r=r.includes("?")||r.includes("#")?r=p(r):{path:r},r.params={}),vs({query:t.query,hash:t.hash,params:null!=r.path?{}:t.params},r)}}function y(t,e){const n=c=f(t),i=l.value,s=t.state,a=t.force,o=!0===t.replace,u=v(n);if(u)return y(vs(p(u),{state:"object"==typeof u?vs({},s,u.state):s,force:a,replace:o}),e||n);const h=n;let d;return h.redirectedFrom=e,!a&&function(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&zs(e.matched[r],n.matched[i])&&Hs(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}(r,i,n)&&(d=da(16,{to:h,from:i}),P(i,i,!0,!1)),(d?Promise.resolve(d):_(h,i)).catch(t=>fa(t)?fa(t,2)?t:T(t):C(t,h,i)).then(t=>{if(t){if(fa(t,2))return y(vs({replace:o},p(t.to),{state:"object"==typeof t.to?vs({},s,t.to.state):s,force:a}),e||h)}else t=S(h,i,!0,o,s);return x(h,i,t),t})}function b(t,e){const n=g(t,e);return n?Promise.reject(n):Promise.resolve()}function w(t){const e=F.values().next().value;return e&&"function"==typeof e.runWithContext?e.runWithContext(t):t()}function _(t,e){let n;const[r,i,o]=function(t,e){const n=[],r=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let a=0;a<s;a++){const s=e.matched[a];s&&(t.matched.find(t=>zs(t,s))?r.push(s):n.push(s));const o=t.matched[a];o&&(e.matched.find(t=>zs(t,o))||i.push(o))}return[n,r,i]}(t,e);n=Ua(r.reverse(),"beforeRouteLeave",t,e);for(const s of r)s.leaveGuards.forEach(r=>{n.push(qa(r,t,e))});const l=b.bind(null,t,e);return n.push(l),O(n).then(()=>{n=[];for(const r of s.list())n.push(qa(r,t,e));return n.push(l),O(n)}).then(()=>{n=Ua(i,"beforeRouteUpdate",t,e);for(const r of i)r.updateGuards.forEach(r=>{n.push(qa(r,t,e))});return n.push(l),O(n)}).then(()=>{n=[];for(const r of o)if(r.beforeEnter)if(ws(r.beforeEnter))for(const i of r.beforeEnter)n.push(qa(i,t,e));else n.push(qa(r.beforeEnter,t,e));return n.push(l),O(n)}).then(()=>(t.matched.forEach(t=>t.enterCallbacks={}),n=Ua(o,"beforeRouteEnter",t,e,w),n.push(l),O(n))).then(()=>{n=[];for(const r of a.list())n.push(qa(r,t,e));return n.push(l),O(n)}).catch(t=>fa(t,8)?t:Promise.reject(t))}function x(t,e,n){o.list().forEach(r=>w(()=>r(t,e,n)))}function S(t,e,n,r,s){const a=g(t,e);if(a)return a;const o=e===Gs,c=gs?history.state:{};n&&(r||o?i.replace(t.fullPath,vs({scroll:o&&c&&c.scroll},s)):i.push(t.fullPath,s)),l.value=t,P(t,e,n,o),T()}let A;function N(){A||(A=i.listen((t,e,n)=>{if(!M.listening)return;const r=f(t),s=v(r);if(s)return void y(vs(s,{replace:!0,force:!0}),r).catch(bs);c=r;const a=l.value;var o,u;gs&&(o=ra(a.fullPath,n.delta),u=ea(),ia.set(o,u)),_(r,a).catch(t=>fa(t,12)?t:fa(t,2)?(y(vs(p(t.to),{force:!0}),r).then(t=>{fa(t,20)&&!n.delta&&n.type===Ks.pop&&i.go(-1,!1)}).catch(bs),Promise.reject()):(n.delta&&i.go(-n.delta,!1),C(t,r,a))).then(t=>{(t=t||S(r,a,!1))&&(n.delta&&!fa(t,8)?i.go(-n.delta,!1):n.type===Ks.pop&&fa(t,20)&&i.go(-1,!1)),x(r,a,t)}).catch(bs)}))}let E,L=Ba(),k=Ba();function C(t,e,n){T(t);const r=k.list();return r.length?r.forEach(r=>r(t,e,n)):console.error(t),Promise.reject(t)}function T(t){return E||(E=!t,N(),L.list().forEach(([e,n])=>t?n(t):e()),L.reset()),t}function P(e,n,r,i){const{scrollBehavior:s}=t;if(!gs||!s)return Promise.resolve();const a=!r&&function(t){const e=ia.get(t);return ia.delete(t),e}(ra(e.fullPath,0))||(i||!r)&&history.state&&history.state.scroll||null;return qe().then(()=>s(e,n,a)).then(t=>t&&na(t)).catch(t=>C(t,e,n))}const I=t=>i.go(t);let D;const F=new Set,M={currentRoute:l,listening:!0,addRoute:function(t,n){let r,i;return la(t)?(r=e.getRecordMatcher(t),i=n):i=t,e.addRoute(i,r)},removeRoute:function(t){const n=e.getRecordMatcher(t);n&&e.removeRoute(n)},clearRoutes:e.clearRoutes,hasRoute:function(t){return!!e.getRecordMatcher(t)},getRoutes:function(){return e.getRoutes().map(t=>t.record)},resolve:f,options:t,push:m,replace:function(t){return m(vs(p(t),{replace:!0}))},go:I,back:()=>I(-1),forward:()=>I(1),beforeEach:s.add,beforeResolve:a.add,afterEach:o.add,onError:k.add,isReady:function(){return E&&l.value!==Gs?Promise.resolve():new Promise((t,e)=>{L.add([t,e])})},install(t){t.component("RouterLink",za),t.component("RouterView",Ka),t.config.globalProperties.$router=this,Object.defineProperty(t.config.globalProperties,"$route",{enumerable:!0,get:()=>_e(l)}),gs&&!D&&l.value===Gs&&(D=!0,m(i.location).catch(t=>{}));const e={};for(const r in Gs)Object.defineProperty(e,r,{get:()=>l.value[r],enumerable:!0});t.provide(Oa,this),t.provide(Ra,le(e)),t.provide(ja,l);const n=t.unmount;F.add(t),t.unmount=function(){F.delete(t),F.size<1&&(c=Gs,A&&A(),A=null,l.value=Gs,D=!1,E=!1),n()}}};function O(t){return t.reduce((t,e)=>t.then(()=>w(e)),Promise.resolve())}return M}({history:function(t){const e=oa(t=Js(t)),n=function(t,e,n,r){let i=[],s=[],a=null;const o=({state:s})=>{const o=sa(t,location),l=n.value,c=e.value;let u=0;if(s){if(n.value=o,e.value=s,a&&a===l)return void(a=null);u=c?s.position-c.position:0}else r(o);i.forEach(t=>{t(n.value,l,{delta:u,type:Ks.pop,direction:u?u>0?Xs.forward:Xs.back:Xs.unknown})})};function l(){const{history:t}=window;t.state&&t.replaceState(vs({},t.state,{scroll:ea()}),"")}return window.addEventListener("popstate",o),window.addEventListener("beforeunload",l,{passive:!0}),{pauseListeners:function(){a=n.value},listen:function(t){i.push(t);const e=()=>{const e=i.indexOf(t);e>-1&&i.splice(e,1)};return s.push(e),e},destroy:function(){for(const t of s)t();s=[],window.removeEventListener("popstate",o),window.removeEventListener("beforeunload",l)}}}(t,e.state,e.location,e.replace),r=vs({location:"",base:t,go:function(t,e=!0){e||n.pauseListeners(),history.go(t)},createHref:ta.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}(),routes:yE});bE.beforeEach((t,e,n)=>{const r=localStorage.getItem("pesalai_auth")===Gm.ADMIN_PASSWORD;t.meta.requiresAuth&&!r?n("/"):"Login"===t.name&&r?n("/dashboard"):n()});const wE=((...t)=>{const e=(hs||(hs=pr(us))).createApp(...t),{mount:n}=e;return e.mount=t=>{const r=function(t){if(m(t)){return document.querySelector(t)}return t}(t);if(!r)return;const i=e._component;g(i)||i.render||i.template||(i.template=r.innerHTML),1===r.nodeType&&(r.textContent="");const s=n(r,!1,function(t){if(t instanceof SVGElement)return"svg";if("function"==typeof MathMLElement&&t instanceof MathMLElement)return"mathml"}(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),s},e})(ps);wE.use(bE),wE.mount("#app");export{cx as _,SN as c,AN as g};
