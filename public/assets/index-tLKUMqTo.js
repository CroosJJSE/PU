/**
* @vue/shared v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
function t(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return t=>t in e}!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver(t=>{for(const n of t)if("childList"===n.type)for(const t of n.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)}).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),"use-credentials"===t.crossOrigin?e.credentials="include":"anonymous"===t.crossOrigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();const e={},n=[],r=()=>{},s=()=>!1,i=t=>111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),a=t=>t.startsWith("onUpdate:"),o=Object.assign,l=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},c=Object.prototype.hasOwnProperty,u=(t,e)=>c.call(t,e),h=Array.isArray,d=t=>"[object Map]"===x(t),f=t=>"[object Set]"===x(t),p=t=>"[object Date]"===x(t),m=t=>"function"==typeof t,g=t=>"string"==typeof t,v=t=>"symbol"==typeof t,y=t=>null!==t&&"object"==typeof t,b=t=>(y(t)||m(t))&&m(t.then)&&m(t.catch),w=Object.prototype.toString,x=t=>w.call(t),S=t=>"[object Object]"===x(t),_=t=>g(t)&&"NaN"!==t&&"-"!==t[0]&&""+parseInt(t,10)===t,A=t(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),N=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},E=/-\w/g,k=N(t=>t.replace(E,t=>t.slice(1).toUpperCase())),C=/\B([A-Z])/g,L=N(t=>t.replace(C,"-$1").toLowerCase()),T=N(t=>t.charAt(0).toUpperCase()+t.slice(1)),P=N(t=>t?`on${T(t)}`:""),I=(t,e)=>!Object.is(t,e),D=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},F=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},M=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let O;const R=()=>O||(O="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{});function j(t){if(h(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=g(r)?V(r):j(r);if(s)for(const t in s)e[t]=s[t]}return e}if(g(t)||y(t))return t}const B=/;(?![^(]*\))/g,q=/:([^]+)/,U=/\/\*[^]*?\*\//g;function V(t){const e={};return t.replace(U,"").split(B).forEach(t=>{if(t){const n=t.split(q);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function z(t){let e="";if(g(t))e=t;else if(h(t))for(let n=0;n<t.length;n++){const r=z(t[n]);r&&(e+=r+" ")}else if(y(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const H=t("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function $(t){return!!t||""===t}function W(t,e){if(t===e)return!0;let n=p(t),r=p(e);if(n||r)return!(!n||!r)&&t.getTime()===e.getTime();if(n=v(t),r=v(e),n||r)return t===e;if(n=h(t),r=h(e),n||r)return!(!n||!r)&&function(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=W(t[r],e[r]);return n}(t,e);if(n=y(t),r=y(e),n||r){if(!n||!r)return!1;if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t){const r=t.hasOwnProperty(n),s=e.hasOwnProperty(n);if(r&&!s||!r&&s||!W(t[n],e[n]))return!1}}return String(t)===String(e)}function G(t,e){return t.findIndex(t=>W(t,e))}const K=t=>!(!t||!0!==t.__v_isRef),Y=t=>g(t)?t:null==t?"":h(t)||y(t)&&(t.toString===w||!m(t.toString))?K(t)?Y(t.value):JSON.stringify(t,X,2):String(t),X=(t,e)=>K(e)?X(t,e.value):d(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[e,n],r)=>(t[Q(e,r)+" =>"]=n,t),{})}:f(e)?{[`Set(${e.size})`]:[...e.values()].map(t=>Q(t))}:v(e)?Q(e):!y(e)||h(e)||S(e)?e:String(e),Q=(t,e="")=>{var n;return v(t)?`Symbol(${null!=(n=t.description)?n:e})`:t};
/**
* @vue/reactivity v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
let J,Z;class tt{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=J,!t&&J&&(this.index=(J.scopes||(J.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){let t,e;if(this._isPaused=!0,this.scopes)for(t=0,e=this.scopes.length;t<e;t++)this.scopes[t].pause();for(t=0,e=this.effects.length;t<e;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){let t,e;if(this._isPaused=!1,this.scopes)for(t=0,e=this.scopes.length;t<e;t++)this.scopes[t].resume();for(t=0,e=this.effects.length;t<e;t++)this.effects[t].resume()}}run(t){if(this._active){const e=J;try{return J=this,t()}finally{J=e}}}on(){1===++this._on&&(this.prevScope=J,J=this)}off(){this._on>0&&0===--this._on&&(J=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){let e,n;for(this._active=!1,e=0,n=this.effects.length;e<n;e++)this.effects[e].stop();for(this.effects.length=0,e=0,n=this.cleanups.length;e<n;e++)this.cleanups[e]();if(this.cleanups.length=0,this.scopes){for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const t=this.parent.scopes.pop();t&&t!==this&&(this.parent.scopes[this.index]=t,t.index=this.index)}this.parent=void 0}}}const et=new WeakSet;class nt{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,J&&J.active&&J.effects.push(this)}pause(){this.flags|=64}resume(){64&this.flags&&(this.flags&=-65,et.has(this)&&(et.delete(this),this.trigger()))}notify(){2&this.flags&&!(32&this.flags)||8&this.flags||at(this)}run(){if(!(1&this.flags))return this.fn();this.flags|=2,bt(this),ct(this);const t=Z,e=mt;Z=this,mt=!0;try{return this.fn()}finally{ut(this),Z=t,mt=e,this.flags&=-3}}stop(){if(1&this.flags){for(let t=this.deps;t;t=t.nextDep)ft(t);this.deps=this.depsTail=void 0,bt(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){64&this.flags?et.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ht(this)&&this.run()}get dirty(){return ht(this)}}let rt,st,it=0;function at(t,e=!1){if(t.flags|=8,e)return t.next=st,void(st=t);t.next=rt,rt=t}function ot(){it++}function lt(){if(--it>0)return;if(st){let t=st;for(st=void 0;t;){const e=t.next;t.next=void 0,t.flags&=-9,t=e}}let t;for(;rt;){let n=rt;for(rt=void 0;n;){const r=n.next;if(n.next=void 0,n.flags&=-9,1&n.flags)try{n.trigger()}catch(e){t||(t=e)}n=r}}if(t)throw t}function ct(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function ut(t){let e,n=t.depsTail,r=n;for(;r;){const t=r.prevDep;-1===r.version?(r===n&&(n=t),ft(r),pt(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=t}t.deps=e,t.depsTail=n}function ht(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(dt(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function dt(t){if(4&t.flags&&!(16&t.flags))return;if(t.flags&=-17,t.globalVersion===wt)return;if(t.globalVersion=wt,!t.isSSR&&128&t.flags&&(!t.deps&&!t._dirty||!ht(t)))return;t.flags|=2;const e=t.dep,n=Z,r=mt;Z=t,mt=!0;try{ct(t);const n=t.fn(t._value);(0===e.version||I(n,t._value))&&(t.flags|=128,t._value=n,e.version++)}catch(s){throw e.version++,s}finally{Z=n,mt=r,ut(t),t.flags&=-3}}function ft(t,e=!1){const{dep:n,prevSub:r,nextSub:s}=t;if(r&&(r.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let t=n.computed.deps;t;t=t.nextDep)ft(t,!0)}e||--n.sc||!n.map||n.map.delete(n.key)}function pt(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let mt=!0;const gt=[];function vt(){gt.push(mt),mt=!1}function yt(){const t=gt.pop();mt=void 0===t||t}function bt(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const t=Z;Z=void 0;try{e()}finally{Z=t}}}let wt=0;class xt{constructor(t,e){this.sub=t,this.dep=e,this.version=e.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class St{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Z||!mt||Z===this.computed)return;let e=this.activeLink;if(void 0===e||e.sub!==Z)e=this.activeLink=new xt(Z,this),Z.deps?(e.prevDep=Z.depsTail,Z.depsTail.nextDep=e,Z.depsTail=e):Z.deps=Z.depsTail=e,_t(e);else if(-1===e.version&&(e.version=this.version,e.nextDep)){const t=e.nextDep;t.prevDep=e.prevDep,e.prevDep&&(e.prevDep.nextDep=t),e.prevDep=Z.depsTail,e.nextDep=void 0,Z.depsTail.nextDep=e,Z.depsTail=e,Z.deps===e&&(Z.deps=t)}return e}trigger(t){this.version++,wt++,this.notify(t)}notify(t){ot();try{0;for(let t=this.subs;t;t=t.prevSub)t.sub.notify()&&t.sub.dep.notify()}finally{lt()}}}function _t(t){if(t.dep.sc++,4&t.sub.flags){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let t=e.deps;t;t=t.nextDep)_t(t)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const At=new WeakMap,Nt=Symbol(""),Et=Symbol(""),kt=Symbol("");function Ct(t,e,n){if(mt&&Z){let e=At.get(t);e||At.set(t,e=new Map);let r=e.get(n);r||(e.set(n,r=new St),r.map=e,r.key=n),r.track()}}function Lt(t,e,n,r,s,i){const a=At.get(t);if(!a)return void wt++;const o=t=>{t&&t.trigger()};if(ot(),"clear"===e)a.forEach(o);else{const s=h(t),i=s&&_(n);if(s&&"length"===n){const t=Number(r);a.forEach((e,n)=>{("length"===n||n===kt||!v(n)&&n>=t)&&o(e)})}else switch((void 0!==n||a.has(void 0))&&o(a.get(n)),i&&o(a.get(kt)),e){case"add":s?i&&o(a.get("length")):(o(a.get(Nt)),d(t)&&o(a.get(Et)));break;case"delete":s||(o(a.get(Nt)),d(t)&&o(a.get(Et)));break;case"set":d(t)&&o(a.get(Nt))}}lt()}function Tt(t){const e=me(t);return e===t?e:(Ct(e,0,kt),fe(t)?e:e.map(ge))}function Pt(t){return Ct(t=me(t),0,kt),t}const It={__proto__:null,[Symbol.iterator](){return Dt(this,Symbol.iterator,ge)},concat(...t){return Tt(this).concat(...t.map(t=>h(t)?Tt(t):t))},entries(){return Dt(this,"entries",t=>(t[1]=ge(t[1]),t))},every(t,e){return Mt(this,"every",t,e,void 0,arguments)},filter(t,e){return Mt(this,"filter",t,e,t=>t.map(ge),arguments)},find(t,e){return Mt(this,"find",t,e,ge,arguments)},findIndex(t,e){return Mt(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Mt(this,"findLast",t,e,ge,arguments)},findLastIndex(t,e){return Mt(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Mt(this,"forEach",t,e,void 0,arguments)},includes(...t){return Rt(this,"includes",t)},indexOf(...t){return Rt(this,"indexOf",t)},join(t){return Tt(this).join(t)},lastIndexOf(...t){return Rt(this,"lastIndexOf",t)},map(t,e){return Mt(this,"map",t,e,void 0,arguments)},pop(){return jt(this,"pop")},push(...t){return jt(this,"push",t)},reduce(t,...e){return Ot(this,"reduce",t,e)},reduceRight(t,...e){return Ot(this,"reduceRight",t,e)},shift(){return jt(this,"shift")},some(t,e){return Mt(this,"some",t,e,void 0,arguments)},splice(...t){return jt(this,"splice",t)},toReversed(){return Tt(this).toReversed()},toSorted(t){return Tt(this).toSorted(t)},toSpliced(...t){return Tt(this).toSpliced(...t)},unshift(...t){return jt(this,"unshift",t)},values(){return Dt(this,"values",ge)}};function Dt(t,e,n){const r=Pt(t),s=r[e]();return r===t||fe(t)||(s._next=s.next,s.next=()=>{const t=s._next();return t.value&&(t.value=n(t.value)),t}),s}const Ft=Array.prototype;function Mt(t,e,n,r,s,i){const a=Pt(t),o=a!==t&&!fe(t),l=a[e];if(l!==Ft[e]){const e=l.apply(t,i);return o?ge(e):e}let c=n;a!==t&&(o?c=function(e,r){return n.call(this,ge(e),r,t)}:n.length>2&&(c=function(e,r){return n.call(this,e,r,t)}));const u=l.call(a,c,r);return o&&s?s(u):u}function Ot(t,e,n,r){const s=Pt(t);let i=n;return s!==t&&(fe(t)?n.length>3&&(i=function(e,r,s){return n.call(this,e,r,s,t)}):i=function(e,r,s){return n.call(this,e,ge(r),s,t)}),s[e](i,...r)}function Rt(t,e,n){const r=me(t);Ct(r,0,kt);const s=r[e](...n);return-1!==s&&!1!==s||!pe(n[0])?s:(n[0]=me(n[0]),r[e](...n))}function jt(t,e,n=[]){vt(),ot();const r=me(t)[e].apply(t,n);return lt(),yt(),r}const Bt=t("__proto__,__v_isRef,__isVue"),qt=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>"arguments"!==t&&"caller"!==t).map(t=>Symbol[t]).filter(v));function Ut(t){v(t)||(t=String(t));const e=me(this);return Ct(e,0,t),e.hasOwnProperty(t)}class Vt{constructor(t=!1,e=!1){this._isReadonly=t,this._isShallow=e}get(t,e,n){if("__v_skip"===e)return t.__v_skip;const r=this._isReadonly,s=this._isShallow;if("__v_isReactive"===e)return!r;if("__v_isReadonly"===e)return r;if("__v_isShallow"===e)return s;if("__v_raw"===e)return n===(r?s?ie:se:s?re:ne).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const i=h(t);if(!r){let t;if(i&&(t=It[e]))return t;if("hasOwnProperty"===e)return Ut}const a=Reflect.get(t,e,ye(t)?t:n);return(v(e)?qt.has(e):Bt(e))?a:(r||Ct(t,0,e),s?a:ye(a)?i&&_(e)?a:a.value:y(a)?r?ce(a):oe(a):a)}}class zt extends Vt{constructor(t=!1){super(!1,t)}set(t,e,n,r){let s=t[e];if(!this._isShallow){const e=de(s);if(fe(n)||de(n)||(s=me(s),n=me(n)),!h(t)&&ye(s)&&!ye(n))return e||(s.value=n),!0}const i=h(t)&&_(e)?Number(e)<t.length:u(t,e),a=Reflect.set(t,e,n,ye(t)?t:r);return t===me(r)&&(i?I(n,s)&&Lt(t,"set",e,n):Lt(t,"add",e,n)),a}deleteProperty(t,e){const n=u(t,e);t[e];const r=Reflect.deleteProperty(t,e);return r&&n&&Lt(t,"delete",e,void 0),r}has(t,e){const n=Reflect.has(t,e);return v(e)&&qt.has(e)||Ct(t,0,e),n}ownKeys(t){return Ct(t,0,h(t)?"length":Nt),Reflect.ownKeys(t)}}class Ht extends Vt{constructor(t=!1){super(!0,t)}set(t,e){return!0}deleteProperty(t,e){return!0}}const $t=new zt,Wt=new Ht,Gt=new zt(!0),Kt=t=>t,Yt=t=>Reflect.getPrototypeOf(t);function Xt(t){return function(...e){return"delete"!==t&&("clear"===t?void 0:this)}}function Qt(t,e){const n={get(n){const r=this.__v_raw,s=me(r),i=me(n);t||(I(n,i)&&Ct(s,0,n),Ct(s,0,i));const{has:a}=Yt(s),o=e?Kt:t?ve:ge;return a.call(s,n)?o(r.get(n)):a.call(s,i)?o(r.get(i)):void(r!==s&&r.get(n))},get size(){const e=this.__v_raw;return!t&&Ct(me(e),0,Nt),e.size},has(e){const n=this.__v_raw,r=me(n),s=me(e);return t||(I(e,s)&&Ct(r,0,e),Ct(r,0,s)),e===s?n.has(e):n.has(e)||n.has(s)},forEach(n,r){const s=this,i=s.__v_raw,a=me(i),o=e?Kt:t?ve:ge;return!t&&Ct(a,0,Nt),i.forEach((t,e)=>n.call(r,o(t),o(e),s))}};o(n,t?{add:Xt("add"),set:Xt("set"),delete:Xt("delete"),clear:Xt("clear")}:{add(t){e||fe(t)||de(t)||(t=me(t));const n=me(this);return Yt(n).has.call(n,t)||(n.add(t),Lt(n,"add",t,t)),this},set(t,n){e||fe(n)||de(n)||(n=me(n));const r=me(this),{has:s,get:i}=Yt(r);let a=s.call(r,t);a||(t=me(t),a=s.call(r,t));const o=i.call(r,t);return r.set(t,n),a?I(n,o)&&Lt(r,"set",t,n):Lt(r,"add",t,n),this},delete(t){const e=me(this),{has:n,get:r}=Yt(e);let s=n.call(e,t);s||(t=me(t),s=n.call(e,t)),r&&r.call(e,t);const i=e.delete(t);return s&&Lt(e,"delete",t,void 0),i},clear(){const t=me(this),e=0!==t.size,n=t.clear();return e&&Lt(t,"clear",void 0,void 0),n}});return["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=function(t,e,n){return function(...r){const s=this.__v_raw,i=me(s),a=d(i),o="entries"===t||t===Symbol.iterator&&a,l="keys"===t&&a,c=s[t](...r),u=n?Kt:e?ve:ge;return!e&&Ct(i,0,l?Et:Nt),{next(){const{value:t,done:e}=c.next();return e?{value:t,done:e}:{value:o?[u(t[0]),u(t[1])]:u(t),done:e}},[Symbol.iterator](){return this}}}}(r,t,e)}),n}function Jt(t,e){const n=Qt(t,e);return(e,r,s)=>"__v_isReactive"===r?!t:"__v_isReadonly"===r?t:"__v_raw"===r?e:Reflect.get(u(n,r)&&r in e?n:e,r,s)}const Zt={get:Jt(!1,!1)},te={get:Jt(!1,!0)},ee={get:Jt(!0,!1)},ne=new WeakMap,re=new WeakMap,se=new WeakMap,ie=new WeakMap;function ae(t){return t.__v_skip||!Object.isExtensible(t)?0:function(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((t=>x(t).slice(8,-1))(t))}function oe(t){return de(t)?t:ue(t,!1,$t,Zt,ne)}function le(t){return ue(t,!1,Gt,te,re)}function ce(t){return ue(t,!0,Wt,ee,se)}function ue(t,e,n,r,s){if(!y(t))return t;if(t.__v_raw&&(!e||!t.__v_isReactive))return t;const i=ae(t);if(0===i)return t;const a=s.get(t);if(a)return a;const o=new Proxy(t,2===i?r:n);return s.set(t,o),o}function he(t){return de(t)?he(t.__v_raw):!(!t||!t.__v_isReactive)}function de(t){return!(!t||!t.__v_isReadonly)}function fe(t){return!(!t||!t.__v_isShallow)}function pe(t){return!!t&&!!t.__v_raw}function me(t){const e=t&&t.__v_raw;return e?me(e):t}const ge=t=>y(t)?oe(t):t,ve=t=>y(t)?ce(t):t;function ye(t){return!!t&&!0===t.__v_isRef}function be(t,e){return ye(t)?t:new we(t,e)}class we{constructor(t,e){this.dep=new St,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=e?t:me(t),this._value=e?t:ge(t),this.__v_isShallow=e}get value(){return this.dep.track(),this._value}set value(t){const e=this._rawValue,n=this.__v_isShallow||fe(t)||de(t);t=n?t:me(t),I(t,e)&&(this._rawValue=t,this._value=n?t:ge(t),this.dep.trigger())}}function xe(t){return ye(t)?t.value:t}const Se={get:(t,e,n)=>"__v_raw"===e?t:xe(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return ye(s)&&!ye(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function _e(t){return he(t)?t:new Proxy(t,Se)}class Ae{constructor(t,e,n){this.fn=t,this.setter=e,this._value=void 0,this.dep=new St(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=wt-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!e,this.isSSR=n}notify(){if(this.flags|=16,!(8&this.flags)&&Z!==this)return at(this,!0),!0}get value(){const t=this.dep.track();return dt(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}const Ne={},Ee=new WeakMap;let ke;function Ce(t,n,s=e){const{immediate:i,deep:a,once:o,scheduler:c,augmentJob:u,call:d}=s,f=t=>a?t:fe(t)||!1===a||0===a?Le(t,1):Le(t);let p,g,v,y,b=!1,w=!1;if(ye(t)?(g=()=>t.value,b=fe(t)):he(t)?(g=()=>f(t),b=!0):h(t)?(w=!0,b=t.some(t=>he(t)||fe(t)),g=()=>t.map(t=>ye(t)?t.value:he(t)?f(t):m(t)?d?d(t,2):t():void 0)):g=m(t)?n?d?()=>d(t,2):t:()=>{if(v){vt();try{v()}finally{yt()}}const e=ke;ke=p;try{return d?d(t,3,[y]):t(y)}finally{ke=e}}:r,n&&a){const t=g,e=!0===a?1/0:a;g=()=>Le(t(),e)}const x=J,S=()=>{p.stop(),x&&x.active&&l(x.effects,p)};if(o&&n){const t=n;n=(...e)=>{t(...e),S()}}let _=w?new Array(t.length).fill(Ne):Ne;const A=t=>{if(1&p.flags&&(p.dirty||t))if(n){const t=p.run();if(a||b||(w?t.some((t,e)=>I(t,_[e])):I(t,_))){v&&v();const e=ke;ke=p;try{const e=[t,_===Ne?void 0:w&&_[0]===Ne?[]:_,y];_=t,d?d(n,3,e):n(...e)}finally{ke=e}}}else p.run()};return u&&u(A),p=new nt(g),p.scheduler=c?()=>c(A,!1):A,y=t=>function(t,e=!1,n=ke){if(n){let e=Ee.get(n);e||Ee.set(n,e=[]),e.push(t)}}(t,!1,p),v=p.onStop=()=>{const t=Ee.get(p);if(t){if(d)d(t,4);else for(const e of t)e();Ee.delete(p)}},n?i?A(!0):_=p.run():c?c(A.bind(null,!0),!0):p.run(),S.pause=p.pause.bind(p),S.resume=p.resume.bind(p),S.stop=S,S}function Le(t,e=1/0,n){if(e<=0||!y(t)||t.__v_skip)return t;if(((n=n||new Map).get(t)||0)>=e)return t;if(n.set(t,e),e--,ye(t))Le(t.value,e,n);else if(h(t))for(let r=0;r<t.length;r++)Le(t[r],e,n);else if(f(t)||d(t))t.forEach(t=>{Le(t,e,n)});else if(S(t)){for(const r in t)Le(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Le(t[r],e,n)}return t}
/**
* @vue/runtime-core v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Te(t,e,n,r){try{return r?t(...r):t()}catch(s){Ie(s,e,n)}}function Pe(t,e,n,r){if(m(t)){const s=Te(t,e,n,r);return s&&b(s)&&s.catch(t=>{Ie(t,e,n)}),s}if(h(t)){const s=[];for(let i=0;i<t.length;i++)s.push(Pe(t[i],e,n,r));return s}}function Ie(t,n,r,s=!0){n&&n.vnode;const{errorHandler:i,throwUnhandledErrorInProduction:a}=n&&n.appContext.config||e;if(n){let e=n.parent;const s=n.proxy,a=`https://vuejs.org/error-reference/#runtime-${r}`;for(;e;){const n=e.ec;if(n)for(let e=0;e<n.length;e++)if(!1===n[e](t,s,a))return;e=e.parent}if(i)return vt(),Te(i,null,10,[t,s,a]),void yt()}!function(t,e,n,r=!0,s=!1){if(s)throw t;console.error(t)}(t,0,0,s,a)}const De=[];let Fe=-1;const Me=[];let Oe=null,Re=0;const je=Promise.resolve();let Be=null;function qe(t){const e=Be||je;return t?e.then(this?t.bind(this):t):e}function Ue(t){if(!(1&t.flags)){const e=$e(t),n=De[De.length-1];!n||!(2&t.flags)&&e>=$e(n)?De.push(t):De.splice(function(t){let e=Fe+1,n=De.length;for(;e<n;){const r=e+n>>>1,s=De[r],i=$e(s);i<t||i===t&&2&s.flags?e=r+1:n=r}return e}(e),0,t),t.flags|=1,Ve()}}function Ve(){Be||(Be=je.then(We))}function ze(t,e,n=Fe+1){for(;n<De.length;n++){const e=De[n];if(e&&2&e.flags){if(t&&e.id!==t.uid)continue;De.splice(n,1),n--,4&e.flags&&(e.flags&=-2),e(),4&e.flags||(e.flags&=-2)}}}function He(t){if(Me.length){const t=[...new Set(Me)].sort((t,e)=>$e(t)-$e(e));if(Me.length=0,Oe)return void Oe.push(...t);for(Oe=t,Re=0;Re<Oe.length;Re++){const t=Oe[Re];4&t.flags&&(t.flags&=-2),8&t.flags||t(),t.flags&=-2}Oe=null,Re=0}}const $e=t=>null==t.id?2&t.flags?-1:1/0:t.id;function We(t){try{for(Fe=0;Fe<De.length;Fe++){const t=De[Fe];!t||8&t.flags||(4&t.flags&&(t.flags&=-2),Te(t,t.i,t.i?15:14),4&t.flags||(t.flags&=-2))}}finally{for(;Fe<De.length;Fe++){const t=De[Fe];t&&(t.flags&=-2)}Fe=-1,De.length=0,He(),Be=null,(De.length||Me.length)&&We()}}let Ge=null,Ke=null;function Ye(t){const e=Ge;return Ge=t,Ke=t&&t.type.__scopeId||null,e}function Xe(t,e=Ge,n){if(!e)return t;if(t._n)return t;const r=(...n)=>{r._d&&Hr(-1);const s=Ye(e);let i;try{i=t(...n)}finally{Ye(s),r._d&&Hr(1)}return i};return r._n=!0,r._c=!0,r._d=!0,r}function Qe(t,n){if(null===Ge)return t;const r=ws(Ge),s=t.dirs||(t.dirs=[]);for(let i=0;i<n.length;i++){let[t,a,o,l=e]=n[i];t&&(m(t)&&(t={mounted:t,updated:t}),t.deep&&Le(a),s.push({dir:t,instance:r,value:a,oldValue:void 0,arg:o,modifiers:l}))}return t}function Je(t,e,n,r){const s=t.dirs,i=e&&e.dirs;for(let a=0;a<s.length;a++){const o=s[a];i&&(o.oldValue=i[a].value);let l=o.dir[r];l&&(vt(),Pe(l,n,8,[t.el,o,t,e]),yt())}}const Ze=Symbol("_vte"),tn=Symbol("_leaveCb");function en(t,e){6&t.shapeFlag&&t.component?(t.transition=e,en(t.component.subTree,e)):128&t.shapeFlag?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function nn(t,e){return m(t)?(()=>o({name:t.name},e,{setup:t}))():t}function rn(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const sn=new WeakMap;function an(t,n,r,i,a=!1){if(h(t))return void t.forEach((t,e)=>an(t,n&&(h(n)?n[e]:n),r,i,a));if(ln(i)&&!a)return void(512&i.shapeFlag&&i.type.__asyncResolved&&i.component.subTree.component&&an(t,n,r,i.component.subTree));const o=4&i.shapeFlag?ws(i.component):i.el,c=a?null:o,{i:d,r:f}=t,p=n&&n.r,v=d.refs===e?d.refs={}:d.refs,y=d.setupState,b=me(y),w=y===e?s:t=>u(b,t);if(null!=p&&p!==f)if(on(n),g(p))v[p]=null,w(p)&&(y[p]=null);else if(ye(p)){p.value=null;const t=n;t.k&&(v[t.k]=null)}if(m(f))Te(f,d,12,[c,v]);else{const e=g(f),n=ye(f);if(e||n){const s=()=>{if(t.f){const n=e?w(f)?y[f]:v[f]:f.value;if(a)h(n)&&l(n,o);else if(h(n))n.includes(o)||n.push(o);else if(e)v[f]=[o],w(f)&&(y[f]=v[f]);else{const e=[o];f.value=e,t.k&&(v[t.k]=e)}}else e?(v[f]=c,w(f)&&(y[f]=c)):n&&(f.value=c,t.k&&(v[t.k]=c))};if(c){const e=()=>{s(),sn.delete(t)};e.id=-1,sn.set(t,e),fr(e,r)}else on(t),s()}}}function on(t){const e=sn.get(t);e&&(e.flags|=8,sn.delete(t))}R().requestIdleCallback,R().cancelIdleCallback;const ln=t=>!!t.type.__asyncLoader,cn=t=>t.type.__isKeepAlive;function un(t,e){dn(t,"a",e)}function hn(t,e){dn(t,"da",e)}function dn(t,e,n=cs){const r=t.__wdc||(t.__wdc=()=>{let e=n;for(;e;){if(e.isDeactivated)return;e=e.parent}return t()});if(pn(e,r,n),n){let t=n.parent;for(;t&&t.parent;)cn(t.parent.vnode)&&fn(r,e,n,t),t=t.parent}}function fn(t,e,n,r){const s=pn(e,t,r,!0);xn(()=>{l(r[e],s)},n)}function pn(t,e,n=cs,r=!1){if(n){const s=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...r)=>{vt();const s=fs(n),i=Pe(e,n,t,r);return s(),yt(),i});return r?s.unshift(i):s.push(i),i}}const mn=t=>(e,n=cs)=>{gs&&"sp"!==t||pn(t,(...t)=>e(...t),n)},gn=mn("bm"),vn=mn("m"),yn=mn("bu"),bn=mn("u"),wn=mn("bum"),xn=mn("um"),Sn=mn("sp"),_n=mn("rtg"),An=mn("rtc");function Nn(t,e=cs){pn("ec",t,e)}function En(t,e){return function(t,e,n=!0,r=!1){const s=Ge||cs;if(s){const n=s.type;{const t=xs(n,!1);if(t&&(t===e||t===k(e)||t===T(k(e))))return n}const i=Cn(s[t]||n[t],e)||Cn(s.appContext[t],e);return!i&&r?n:i}}("components",t,!0,e)||t}const kn=Symbol.for("v-ndc");function Cn(t,e){return t&&(t[e]||t[k(e)]||t[T(k(e))])}function Ln(t,e,n,r){let s;const i=n,a=h(t);if(a||g(t)){let n=!1,r=!1;a&&he(t)&&(n=!fe(t),r=de(t),t=Pt(t)),s=new Array(t.length);for(let a=0,o=t.length;a<o;a++)s[a]=e(n?r?ve(ge(t[a])):ge(t[a]):t[a],a,void 0,i)}else if("number"==typeof t){s=new Array(t);for(let n=0;n<t;n++)s[n]=e(n+1,n,void 0,i)}else if(y(t))if(t[Symbol.iterator])s=Array.from(t,(t,n)=>e(t,n,void 0,i));else{const n=Object.keys(t);s=new Array(n.length);for(let r=0,a=n.length;r<a;r++){const a=n[r];s[r]=e(t[a],a,r,i)}}else s=[];return s}const Tn=t=>t?ms(t)?ws(t):Tn(t.parent):null,Pn=o(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Tn(t.parent),$root:t=>Tn(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Bn(t),$forceUpdate:t=>t.f||(t.f=()=>{Ue(t.update)}),$nextTick:t=>t.n||(t.n=qe.bind(t.proxy)),$watch:t=>Ar.bind(t)}),In=(t,n)=>t!==e&&!t.__isScriptSetup&&u(t,n),Dn={get({_:t},n){if("__v_skip"===n)return!0;const{ctx:r,setupState:s,data:i,props:a,accessCache:o,type:l,appContext:c}=t;let h;if("$"!==n[0]){const l=o[n];if(void 0!==l)switch(l){case 1:return s[n];case 2:return i[n];case 4:return r[n];case 3:return a[n]}else{if(In(s,n))return o[n]=1,s[n];if(i!==e&&u(i,n))return o[n]=2,i[n];if((h=t.propsOptions[0])&&u(h,n))return o[n]=3,a[n];if(r!==e&&u(r,n))return o[n]=4,r[n];Mn&&(o[n]=0)}}const d=Pn[n];let f,p;return d?("$attrs"===n&&Ct(t.attrs,0,""),d(t)):(f=l.__cssModules)&&(f=f[n])?f:r!==e&&u(r,n)?(o[n]=4,r[n]):(p=c.config.globalProperties,u(p,n)?p[n]:void 0)},set({_:t},n,r){const{data:s,setupState:i,ctx:a}=t;return In(i,n)?(i[n]=r,!0):s!==e&&u(s,n)?(s[n]=r,!0):!u(t.props,n)&&(("$"!==n[0]||!(n.slice(1)in t))&&(a[n]=r,!0))},has({_:{data:t,setupState:n,accessCache:r,ctx:s,appContext:i,propsOptions:a,type:o}},l){let c,h;return!!(r[l]||t!==e&&"$"!==l[0]&&u(t,l)||In(n,l)||(c=a[0])&&u(c,l)||u(s,l)||u(Pn,l)||u(i.config.globalProperties,l)||(h=o.__cssModules)&&h[l])},defineProperty(t,e,n){return null!=n.get?t._.accessCache[e]=0:u(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Fn(t){return h(t)?t.reduce((t,e)=>(t[e]=null,t),{}):t}let Mn=!0;function On(t){const e=Bn(t),n=t.proxy,s=t.ctx;Mn=!1,e.beforeCreate&&Rn(e.beforeCreate,t,"bc");const{data:i,computed:a,methods:o,watch:l,provide:c,inject:u,created:d,beforeMount:f,mounted:p,beforeUpdate:g,updated:v,activated:b,deactivated:w,beforeDestroy:x,beforeUnmount:S,destroyed:_,unmounted:A,render:N,renderTracked:E,renderTriggered:k,errorCaptured:C,serverPrefetch:L,expose:T,inheritAttrs:P,components:I,directives:D,filters:F}=e;if(u&&function(t,e){h(t)&&(t=zn(t));for(const n in t){const r=t[n];let s;s=y(r)?"default"in r?Jn(r.from||n,r.default,!0):Jn(r.from||n):Jn(r),ye(s)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>s.value,set:t=>s.value=t}):e[n]=s}}(u,s,null),o)for(const r in o){const t=o[r];m(t)&&(s[r]=t.bind(n))}if(i){const e=i.call(n,n);y(e)&&(t.data=oe(e))}if(Mn=!0,a)for(const h in a){const t=a[h],e=m(t)?t.bind(n,n):m(t.get)?t.get.bind(n,n):r,i=!m(t)&&m(t.set)?t.set.bind(n):r,o=Ss({get:e,set:i});Object.defineProperty(s,h,{enumerable:!0,configurable:!0,get:()=>o.value,set:t=>o.value=t})}if(l)for(const r in l)jn(l[r],s,n,r);if(c){const t=m(c)?c.call(n):c;Reflect.ownKeys(t).forEach(e=>{Qn(e,t[e])})}function M(t,e){h(e)?e.forEach(e=>t(e.bind(n))):e&&t(e.bind(n))}if(d&&Rn(d,t,"c"),M(gn,f),M(vn,p),M(yn,g),M(bn,v),M(un,b),M(hn,w),M(Nn,C),M(An,E),M(_n,k),M(wn,S),M(xn,A),M(Sn,L),h(T))if(T.length){const e=t.exposed||(t.exposed={});T.forEach(t=>{Object.defineProperty(e,t,{get:()=>n[t],set:e=>n[t]=e,enumerable:!0})})}else t.exposed||(t.exposed={});N&&t.render===r&&(t.render=N),null!=P&&(t.inheritAttrs=P),I&&(t.components=I),D&&(t.directives=D),L&&rn(t)}function Rn(t,e,n){Pe(h(t)?t.map(t=>t.bind(e.proxy)):t.bind(e.proxy),e,n)}function jn(t,e,n,r){let s=r.includes(".")?Nr(n,r):()=>n[r];if(g(t)){const n=e[t];m(n)&&Sr(s,n)}else if(m(t))Sr(s,t.bind(n));else if(y(t))if(h(t))t.forEach(t=>jn(t,e,n,r));else{const r=m(t.handler)?t.handler.bind(n):e[t.handler];m(r)&&Sr(s,r,t)}}function Bn(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:a}}=t.appContext,o=i.get(e);let l;return o?l=o:s.length||n||r?(l={},s.length&&s.forEach(t=>qn(l,t,a,!0)),qn(l,e,a)):l=e,y(e)&&i.set(e,l),l}function qn(t,e,n,r=!1){const{mixins:s,extends:i}=e;i&&qn(t,i,n,!0),s&&s.forEach(e=>qn(t,e,n,!0));for(const a in e)if(r&&"expose"===a);else{const r=Un[a]||n&&n[a];t[a]=r?r(t[a],e[a]):e[a]}return t}const Un={data:Vn,props:Wn,emits:Wn,methods:$n,computed:$n,beforeCreate:Hn,created:Hn,beforeMount:Hn,mounted:Hn,beforeUpdate:Hn,updated:Hn,beforeDestroy:Hn,beforeUnmount:Hn,destroyed:Hn,unmounted:Hn,activated:Hn,deactivated:Hn,errorCaptured:Hn,serverPrefetch:Hn,components:$n,directives:$n,watch:function(t,e){if(!t)return e;if(!e)return t;const n=o(Object.create(null),t);for(const r in e)n[r]=Hn(t[r],e[r]);return n},provide:Vn,inject:function(t,e){return $n(zn(t),zn(e))}};function Vn(t,e){return e?t?function(){return o(m(t)?t.call(this,this):t,m(e)?e.call(this,this):e)}:e:t}function zn(t){if(h(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Hn(t,e){return t?[...new Set([].concat(t,e))]:e}function $n(t,e){return t?o(Object.create(null),t,e):e}function Wn(t,e){return t?h(t)&&h(e)?[...new Set([...t,...e])]:o(Object.create(null),Fn(t),Fn(null!=e?e:{})):e}function Gn(){return{app:null,config:{isNativeTag:s,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Kn=0;function Yn(t,e){return function(e,n=null){m(e)||(e=o({},e)),null==n||y(n)||(n=null);const r=Gn(),s=new WeakSet,i=[];let a=!1;const l=r.app={_uid:Kn++,_component:e,_props:n,_container:null,_context:r,_instance:null,version:As,get config(){return r.config},set config(t){},use:(t,...e)=>(s.has(t)||(t&&m(t.install)?(s.add(t),t.install(l,...e)):m(t)&&(s.add(t),t(l,...e))),l),mixin:t=>(r.mixins.includes(t)||r.mixins.push(t),l),component:(t,e)=>e?(r.components[t]=e,l):r.components[t],directive:(t,e)=>e?(r.directives[t]=e,l):r.directives[t],mount(s,i,o){if(!a){const i=l._ceVNode||Jr(e,n);return i.appContext=r,!0===o?o="svg":!1===o&&(o=void 0),t(i,s,o),a=!0,l._container=s,s.__vue_app__=l,ws(i.component)}},onUnmount(t){i.push(t)},unmount(){a&&(Pe(i,l._instance,16),t(null,l._container),delete l._container.__vue_app__)},provide:(t,e)=>(r.provides[t]=e,l),runWithContext(t){const e=Xn;Xn=l;try{return t()}finally{Xn=e}}};return l}}let Xn=null;function Qn(t,e){if(cs){let n=cs.provides;const r=cs.parent&&cs.parent.provides;r===n&&(n=cs.provides=Object.create(r)),n[t]=e}else;}function Jn(t,e,n=!1){const r=us();if(r||Xn){let s=Xn?Xn._context.provides:r?null==r.parent||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&m(e)?e.call(r&&r.proxy):e}}const Zn={},tr=()=>Object.create(Zn),er=t=>Object.getPrototypeOf(t)===Zn;function nr(t,n,r,s){const[i,a]=t.propsOptions;let o,l=!1;if(n)for(let e in n){if(A(e))continue;const c=n[e];let h;i&&u(i,h=k(e))?a&&a.includes(h)?(o||(o={}))[h]=c:r[h]=c:Tr(t.emitsOptions,e)||e in s&&c===s[e]||(s[e]=c,l=!0)}if(a){const n=me(r),s=o||e;for(let e=0;e<a.length;e++){const o=a[e];r[o]=rr(i,n,o,s[o],t,!u(s,o))}}return l}function rr(t,e,n,r,s,i){const a=t[n];if(null!=a){const t=u(a,"default");if(t&&void 0===r){const t=a.default;if(a.type!==Function&&!a.skipFactory&&m(t)){const{propsDefaults:i}=s;if(n in i)r=i[n];else{const a=fs(s);r=i[n]=t.call(null,e),a()}}else r=t;s.ce&&s.ce._setProp(n,r)}a[0]&&(i&&!t?r=!1:!a[1]||""!==r&&r!==L(n)||(r=!0))}return r}const sr=new WeakMap;function ir(t,r,s=!1){const i=s?sr:r.propsCache,a=i.get(t);if(a)return a;const l=t.props,c={},d=[];let f=!1;if(!m(t)){const e=t=>{f=!0;const[e,n]=ir(t,r,!0);o(c,e),n&&d.push(...n)};!s&&r.mixins.length&&r.mixins.forEach(e),t.extends&&e(t.extends),t.mixins&&t.mixins.forEach(e)}if(!l&&!f)return y(t)&&i.set(t,n),n;if(h(l))for(let n=0;n<l.length;n++){const t=k(l[n]);ar(t)&&(c[t]=e)}else if(l)for(const e in l){const t=k(e);if(ar(t)){const n=l[e],r=c[t]=h(n)||m(n)?{type:n}:o({},n),s=r.type;let i=!1,a=!0;if(h(s))for(let t=0;t<s.length;++t){const e=s[t],n=m(e)&&e.name;if("Boolean"===n){i=!0;break}"String"===n&&(a=!1)}else i=m(s)&&"Boolean"===s.name;r[0]=i,r[1]=a,(i||u(r,"default"))&&d.push(t)}}const p=[c,d];return y(t)&&i.set(t,p),p}function ar(t){return"$"!==t[0]&&!A(t)}const or=t=>"_"===t||"_ctx"===t||"$stable"===t,lr=t=>h(t)?t.map(rs):[rs(t)],cr=(t,e,n)=>{if(e._n)return e;const r=Xe((...t)=>lr(e(...t)),n);return r._c=!1,r},ur=(t,e,n)=>{const r=t._ctx;for(const s in t){if(or(s))continue;const n=t[s];if(m(n))e[s]=cr(0,n,r);else if(null!=n){const t=lr(n);e[s]=()=>t}}},hr=(t,e)=>{const n=lr(e);t.slots.default=()=>n},dr=(t,e,n)=>{for(const r in e)!n&&or(r)||(t[r]=e[r])},fr=function(t,e){e&&e.pendingBranch?h(t)?e.effects.push(...t):e.effects.push(t):(h(n=t)?Me.push(...n):Oe&&-1===n.id?Oe.splice(Re+1,0,n):1&n.flags||(Me.push(n),n.flags|=1),Ve());var n};function pr(t){return function(t){R().__VUE__=!0;const{insert:s,remove:i,patchProp:a,createElement:o,createText:l,createComment:c,setText:h,setElementText:d,parentNode:f,nextSibling:p,setScopeId:m=r,insertStaticContent:g}=t,v=(t,e,n,r=null,s=null,i=null,a=void 0,o=null,l=!!e.dynamicChildren)=>{if(t===e)return;t&&!Kr(t,e)&&(r=J(t),G(t,s,i,!0),t=null),-2===e.patchFlag&&(l=!1,e.dynamicChildren=null);const{type:c,ref:u,shapeFlag:h}=e;switch(c){case Rr:y(t,e,n,r);break;case jr:w(t,e,n,r);break;case Br:null==t&&x(e,n,r,a);break;case Or:O(t,e,n,r,s,i,a,o,l);break;default:1&h?N(t,e,n,r,s,i,a,o,l):6&h?j(t,e,n,r,s,i,a,o,l):(64&h||128&h)&&c.process(t,e,n,r,s,i,a,o,l,rt)}null!=u&&s?an(u,t&&t.ref,i,e||t,!e):null==u&&t&&null!=t.ref&&an(t.ref,null,i,t,!0)},y=(t,e,n,r)=>{if(null==t)s(e.el=l(e.children),n,r);else{const n=e.el=t.el;e.children!==t.children&&h(n,e.children)}},w=(t,e,n,r)=>{null==t?s(e.el=c(e.children||""),n,r):e.el=t.el},x=(t,e,n,r)=>{[t.el,t.anchor]=g(t.children,e,n,r,t.el,t.anchor)},S=({el:t,anchor:e},n,r)=>{let i;for(;t&&t!==e;)i=p(t),s(t,n,r),t=i;s(e,n,r)},_=({el:t,anchor:e})=>{let n;for(;t&&t!==e;)n=p(t),i(t),t=n;i(e)},N=(t,e,n,r,s,i,a,o,l)=>{"svg"===e.type?a="svg":"math"===e.type&&(a="mathml"),null==t?E(e,n,r,s,i,a,o,l):P(t,e,s,i,a,o,l)},E=(t,e,n,r,i,l,c,u)=>{let h,f;const{props:p,shapeFlag:m,transition:g,dirs:v}=t;if(h=t.el=o(t.type,l,p&&p.is,p),8&m?d(h,t.children):16&m&&T(t.children,h,null,r,i,mr(t,l),c,u),v&&Je(t,null,r,"created"),C(h,t,t.scopeId,c,r),p){for(const t in p)"value"===t||A(t)||a(h,t,null,p[t],l,r);"value"in p&&a(h,"value",null,p.value,l),(f=p.onVnodeBeforeMount)&&as(f,r,t)}v&&Je(t,null,r,"beforeMount");const y=function(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}(i,g);y&&g.beforeEnter(h),s(h,e,n),((f=p&&p.onVnodeMounted)||y||v)&&fr(()=>{f&&as(f,r,t),y&&g.enter(h),v&&Je(t,null,r,"mounted")},i)},C=(t,e,n,r,s)=>{if(n&&m(t,n),r)for(let i=0;i<r.length;i++)m(t,r[i]);if(s){let n=s.subTree;if(e===n||Mr(n.type)&&(n.ssContent===e||n.ssFallback===e)){const e=s.vnode;C(t,e,e.scopeId,e.slotScopeIds,s.parent)}}},T=(t,e,n,r,s,i,a,o,l=0)=>{for(let c=l;c<t.length;c++){const l=t[c]=o?ss(t[c]):rs(t[c]);v(null,l,e,n,r,s,i,a,o)}},P=(t,n,r,s,i,o,l)=>{const c=n.el=t.el;let{patchFlag:u,dynamicChildren:h,dirs:f}=n;u|=16&t.patchFlag;const p=t.props||e,m=n.props||e;let g;if(r&&gr(r,!1),(g=m.onVnodeBeforeUpdate)&&as(g,r,n,t),f&&Je(n,t,r,"beforeUpdate"),r&&gr(r,!0),(p.innerHTML&&null==m.innerHTML||p.textContent&&null==m.textContent)&&d(c,""),h?I(t.dynamicChildren,h,c,r,s,mr(n,i),o):l||z(t,n,c,null,r,s,mr(n,i),o,!1),u>0){if(16&u)M(c,p,m,r,i);else if(2&u&&p.class!==m.class&&a(c,"class",null,m.class,i),4&u&&a(c,"style",p.style,m.style,i),8&u){const t=n.dynamicProps;for(let e=0;e<t.length;e++){const n=t[e],s=p[n],o=m[n];o===s&&"value"!==n||a(c,n,s,o,i,r)}}1&u&&t.children!==n.children&&d(c,n.children)}else l||null!=h||M(c,p,m,r,i);((g=m.onVnodeUpdated)||f)&&fr(()=>{g&&as(g,r,n,t),f&&Je(n,t,r,"updated")},s)},I=(t,e,n,r,s,i,a)=>{for(let o=0;o<e.length;o++){const l=t[o],c=e[o],u=l.el&&(l.type===Or||!Kr(l,c)||198&l.shapeFlag)?f(l.el):n;v(l,c,u,null,r,s,i,a,!0)}},M=(t,n,r,s,i)=>{if(n!==r){if(n!==e)for(const e in n)A(e)||e in r||a(t,e,n[e],null,i,s);for(const e in r){if(A(e))continue;const o=r[e],l=n[e];o!==l&&"value"!==e&&a(t,e,l,o,i,s)}"value"in r&&a(t,"value",n.value,r.value,i)}},O=(t,e,n,r,i,a,o,c,u)=>{const h=e.el=t?t.el:l(""),d=e.anchor=t?t.anchor:l("");let{patchFlag:f,dynamicChildren:p,slotScopeIds:m}=e;m&&(c=c?c.concat(m):m),null==t?(s(h,n,r),s(d,n,r),T(e.children||[],n,d,i,a,o,c,u)):f>0&&64&f&&p&&t.dynamicChildren?(I(t.dynamicChildren,p,n,i,a,o,c),(null!=e.key||i&&e===i.subTree)&&vr(t,e,!0)):z(t,e,n,d,i,a,o,c,u)},j=(t,e,n,r,s,i,a,o,l)=>{e.slotScopeIds=o,null==t?512&e.shapeFlag?s.ctx.activate(e,n,r,a,l):B(e,n,r,s,i,a,l):q(t,e,l)},B=(t,n,r,s,i,a,o)=>{const l=t.component=function(t,n,r){const s=t.type,i=(n?n.appContext:t.appContext)||os,a={uid:ls++,vnode:t,type:s,parent:n,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new tt(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:n?n.provides:Object.create(i.provides),ids:n?n.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ir(s,i),emitsOptions:Lr(s,i),emit:null,emitted:null,propsDefaults:e,inheritAttrs:s.inheritAttrs,ctx:e,data:e,props:e,attrs:e,slots:e,refs:e,setupState:e,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};a.ctx={_:a},a.root=n?n.root:a,a.emit=kr.bind(null,a),t.ce&&t.ce(a);return a}(t,s,i);if(cn(t)&&(l.ctx.renderer=rt),function(t,e=!1,n=!1){e&&ds(e);const{props:r,children:s}=t.vnode,i=ms(t);(function(t,e,n,r=!1){const s={},i=tr();t.propsDefaults=Object.create(null),nr(t,e,s,i);for(const a in t.propsOptions[0])a in s||(s[a]=void 0);n?t.props=r?s:le(s):t.type.props?t.props=s:t.props=i,t.attrs=i})(t,r,i,e),((t,e,n)=>{const r=t.slots=tr();if(32&t.vnode.shapeFlag){const t=e._;t?(dr(r,e,n),n&&F(r,"_",t,!0)):ur(e,r)}else e&&hr(t,e)})(t,s,n||e);const a=i?function(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Dn);const{setup:r}=n;if(r){vt();const n=t.setupContext=r.length>1?function(t){const e=e=>{t.exposed=e||{}};return{attrs:new Proxy(t.attrs,bs),slots:t.slots,emit:t.emit,expose:e}}(t):null,s=fs(t),i=Te(r,t,0,[t.props,n]),a=b(i);if(yt(),s(),!a&&!t.sp||ln(t)||rn(t),a){if(i.then(ps,ps),e)return i.then(e=>{vs(t,e)}).catch(e=>{Ie(e,t,0)});t.asyncDep=i}else vs(t,i)}else ys(t)}(t,e):void 0;e&&ds(!1)}(l,!1,o),l.asyncDep){if(i&&i.registerDep(l,U,o),!t.el){const e=l.subTree=Jr(jr);w(null,e,n,r),t.placeholder=e.el}}else U(l,t,n,r,i,a,o)},q=(t,e,n)=>{const r=e.component=t.component;if(function(t,e,n){const{props:r,children:s,component:i}=t,{props:a,children:o,patchFlag:l}=e,c=i.emitsOptions;if(e.dirs||e.transition)return!0;if(!(n&&l>=0))return!(!s&&!o||o&&o.$stable)||r!==a&&(r?!a||Fr(r,a,c):!!a);if(1024&l)return!0;if(16&l)return r?Fr(r,a,c):!!a;if(8&l){const t=e.dynamicProps;for(let e=0;e<t.length;e++){const n=t[e];if(a[n]!==r[n]&&!Tr(c,n))return!0}}return!1}(t,e,n)){if(r.asyncDep&&!r.asyncResolved)return void V(r,e,n);r.next=e,r.update()}else e.el=t.el,r.vnode=e},U=(t,e,n,r,s,i,a)=>{const o=()=>{if(t.isMounted){let{next:e,bu:n,u:r,parent:l,vnode:c}=t;{const n=yr(t);if(n)return e&&(e.el=c.el,V(t,e,a)),void n.asyncDep.then(()=>{t.isUnmounted||o()})}let u,h=e;gr(t,!1),e?(e.el=c.el,V(t,e,a)):e=c,n&&D(n),(u=e.props&&e.props.onVnodeBeforeUpdate)&&as(u,l,e,c),gr(t,!0);const d=Pr(t),p=t.subTree;t.subTree=d,v(p,d,f(p.el),J(p),t,s,i),e.el=d.el,null===h&&function({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r!==t)break;(t=e.vnode).el=n,e=e.parent}}(t,d.el),r&&fr(r,s),(u=e.props&&e.props.onVnodeUpdated)&&fr(()=>as(u,l,e,c),s)}else{let a;const{el:o,props:l}=e,{bm:c,m:u,parent:h,root:d,type:f}=t,p=ln(e);gr(t,!1),c&&D(c),!p&&(a=l&&l.onVnodeBeforeMount)&&as(a,h,e),gr(t,!0);{d.ce&&!1!==d.ce._def.shadowRoot&&d.ce._injectChildStyle(f);const a=t.subTree=Pr(t);v(null,a,n,r,t,s,i),e.el=a.el}if(u&&fr(u,s),!p&&(a=l&&l.onVnodeMounted)){const t=e;fr(()=>as(a,h,t),s)}(256&e.shapeFlag||h&&ln(h.vnode)&&256&h.vnode.shapeFlag)&&t.a&&fr(t.a,s),t.isMounted=!0,e=n=r=null}};t.scope.on();const l=t.effect=new nt(o);t.scope.off();const c=t.update=l.run.bind(l),u=t.job=l.runIfDirty.bind(l);u.i=t,u.id=t.uid,l.scheduler=()=>Ue(u),gr(t,!0),c()},V=(t,n,r)=>{n.component=t;const s=t.vnode.props;t.vnode=n,t.next=null,function(t,e,n,r){const{props:s,attrs:i,vnode:{patchFlag:a}}=t,o=me(s),[l]=t.propsOptions;let c=!1;if(!(r||a>0)||16&a){let r;nr(t,e,s,i)&&(c=!0);for(const i in o)e&&(u(e,i)||(r=L(i))!==i&&u(e,r))||(l?!n||void 0===n[i]&&void 0===n[r]||(s[i]=rr(l,o,i,void 0,t,!0)):delete s[i]);if(i!==o)for(const t in i)e&&u(e,t)||(delete i[t],c=!0)}else if(8&a){const n=t.vnode.dynamicProps;for(let r=0;r<n.length;r++){let a=n[r];if(Tr(t.emitsOptions,a))continue;const h=e[a];if(l)if(u(i,a))h!==i[a]&&(i[a]=h,c=!0);else{const e=k(a);s[e]=rr(l,o,e,h,t,!1)}else h!==i[a]&&(i[a]=h,c=!0)}}c&&Lt(t.attrs,"set","")}(t,n.props,s,r),((t,n,r)=>{const{vnode:s,slots:i}=t;let a=!0,o=e;if(32&s.shapeFlag){const t=n._;t?r&&1===t?a=!1:dr(i,n,r):(a=!n.$stable,ur(n,i)),o=n}else n&&(hr(t,n),o={default:1});if(a)for(const e in i)or(e)||null!=o[e]||delete i[e]})(t,n.children,r),vt(),ze(t),yt()},z=(t,e,n,r,s,i,a,o,l=!1)=>{const c=t&&t.children,u=t?t.shapeFlag:0,h=e.children,{patchFlag:f,shapeFlag:p}=e;if(f>0){if(128&f)return void $(c,h,n,r,s,i,a,o,l);if(256&f)return void H(c,h,n,r,s,i,a,o,l)}8&p?(16&u&&Q(c,s,i),h!==c&&d(n,h)):16&u?16&p?$(c,h,n,r,s,i,a,o,l):Q(c,s,i,!0):(8&u&&d(n,""),16&p&&T(h,n,r,s,i,a,o,l))},H=(t,e,r,s,i,a,o,l,c)=>{e=e||n;const u=(t=t||n).length,h=e.length,d=Math.min(u,h);let f;for(f=0;f<d;f++){const n=e[f]=c?ss(e[f]):rs(e[f]);v(t[f],n,r,null,i,a,o,l,c)}u>h?Q(t,i,a,!0,!1,d):T(e,r,s,i,a,o,l,c,d)},$=(t,e,r,s,i,a,o,l,c)=>{let u=0;const h=e.length;let d=t.length-1,f=h-1;for(;u<=d&&u<=f;){const n=t[u],s=e[u]=c?ss(e[u]):rs(e[u]);if(!Kr(n,s))break;v(n,s,r,null,i,a,o,l,c),u++}for(;u<=d&&u<=f;){const n=t[d],s=e[f]=c?ss(e[f]):rs(e[f]);if(!Kr(n,s))break;v(n,s,r,null,i,a,o,l,c),d--,f--}if(u>d){if(u<=f){const t=f+1,n=t<h?e[t].el:s;for(;u<=f;)v(null,e[u]=c?ss(e[u]):rs(e[u]),r,n,i,a,o,l,c),u++}}else if(u>f)for(;u<=d;)G(t[u],i,a,!0),u++;else{const p=u,m=u,g=new Map;for(u=m;u<=f;u++){const t=e[u]=c?ss(e[u]):rs(e[u]);null!=t.key&&g.set(t.key,u)}let y,b=0;const w=f-m+1;let x=!1,S=0;const _=new Array(w);for(u=0;u<w;u++)_[u]=0;for(u=p;u<=d;u++){const n=t[u];if(b>=w){G(n,i,a,!0);continue}let s;if(null!=n.key)s=g.get(n.key);else for(y=m;y<=f;y++)if(0===_[y-m]&&Kr(n,e[y])){s=y;break}void 0===s?G(n,i,a,!0):(_[s-m]=u+1,s>=S?S=s:x=!0,v(n,e[s],r,null,i,a,o,l,c),b++)}const A=x?function(t){const e=t.slice(),n=[0];let r,s,i,a,o;const l=t.length;for(r=0;r<l;r++){const l=t[r];if(0!==l){if(s=n[n.length-1],t[s]<l){e[r]=s,n.push(r);continue}for(i=0,a=n.length-1;i<a;)o=i+a>>1,t[n[o]]<l?i=o+1:a=o;l<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}i=n.length,a=n[i-1];for(;i-- >0;)n[i]=a,a=e[a];return n}(_):n;for(y=A.length-1,u=w-1;u>=0;u--){const t=m+u,n=e[t],d=e[t+1],f=t+1<h?d.el||d.placeholder:s;0===_[u]?v(null,n,r,f,i,a,o,l,c):x&&(y<0||u!==A[y]?W(n,r,f,2):y--)}}},W=(t,e,n,r,a=null)=>{const{el:o,type:l,transition:c,children:u,shapeFlag:h}=t;if(6&h)return void W(t.component.subTree,e,n,r);if(128&h)return void t.suspense.move(e,n,r);if(64&h)return void l.move(t,e,n,rt);if(l===Or){s(o,e,n);for(let t=0;t<u.length;t++)W(u[t],e,n,r);return void s(t.anchor,e,n)}if(l===Br)return void S(t,e,n);if(2!==r&&1&h&&c)if(0===r)c.beforeEnter(o),s(o,e,n),fr(()=>c.enter(o),a);else{const{leave:r,delayLeave:a,afterLeave:l}=c,u=()=>{t.ctx.isUnmounted?i(o):s(o,e,n)},h=()=>{o._isLeaving&&o[tn](!0),r(o,()=>{u(),l&&l()})};a?a(o,u,h):h()}else s(o,e,n)},G=(t,e,n,r=!1,s=!1)=>{const{type:i,props:a,ref:o,children:l,dynamicChildren:c,shapeFlag:u,patchFlag:h,dirs:d,cacheIndex:f}=t;if(-2===h&&(s=!1),null!=o&&(vt(),an(o,null,n,t,!0),yt()),null!=f&&(e.renderCache[f]=void 0),256&u)return void e.ctx.deactivate(t);const p=1&u&&d,m=!ln(t);let g;if(m&&(g=a&&a.onVnodeBeforeUnmount)&&as(g,e,t),6&u)X(t.component,n,r);else{if(128&u)return void t.suspense.unmount(n,r);p&&Je(t,null,e,"beforeUnmount"),64&u?t.type.remove(t,e,n,rt,r):c&&!c.hasOnce&&(i!==Or||h>0&&64&h)?Q(c,e,n,!1,!0):(i===Or&&384&h||!s&&16&u)&&Q(l,e,n),r&&K(t)}(m&&(g=a&&a.onVnodeUnmounted)||p)&&fr(()=>{g&&as(g,e,t),p&&Je(t,null,e,"unmounted")},n)},K=t=>{const{type:e,el:n,anchor:r,transition:s}=t;if(e===Or)return void Y(n,r);if(e===Br)return void _(t);const a=()=>{i(n),s&&!s.persisted&&s.afterLeave&&s.afterLeave()};if(1&t.shapeFlag&&s&&!s.persisted){const{leave:e,delayLeave:r}=s,i=()=>e(n,a);r?r(t.el,a,i):i()}else a()},Y=(t,e)=>{let n;for(;t!==e;)n=p(t),i(t),t=n;i(e)},X=(t,e,n)=>{const{bum:r,scope:s,job:i,subTree:a,um:o,m:l,a:c}=t;br(l),br(c),r&&D(r),s.stop(),i&&(i.flags|=8,G(a,t,e,n)),o&&fr(o,e),fr(()=>{t.isUnmounted=!0},e)},Q=(t,e,n,r=!1,s=!1,i=0)=>{for(let a=i;a<t.length;a++)G(t[a],e,n,r,s)},J=t=>{if(6&t.shapeFlag)return J(t.component.subTree);if(128&t.shapeFlag)return t.suspense.next();const e=p(t.anchor||t.el),n=e&&e[Ze];return n?p(n):e};let Z=!1;const et=(t,e,n)=>{null==t?e._vnode&&G(e._vnode,null,null,!0):v(e._vnode||null,t,e,null,null,null,n),e._vnode=t,Z||(Z=!0,ze(),He(),Z=!1)},rt={p:v,um:G,m:W,r:K,mt:B,mc:T,pc:z,pbc:I,n:J,o:t};let st;return{render:et,hydrate:st,createApp:Yn(et)}}(t)}function mr({type:t,props:e},n){return"svg"===n&&"foreignObject"===t||"mathml"===n&&"annotation-xml"===t&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function gr({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function vr(t,e,n=!1){const r=t.children,s=e.children;if(h(r)&&h(s))for(let i=0;i<r.length;i++){const t=r[i];let e=s[i];1&e.shapeFlag&&!e.dynamicChildren&&((e.patchFlag<=0||32===e.patchFlag)&&(e=s[i]=ss(s[i]),e.el=t.el),n||-2===e.patchFlag||vr(t,e)),e.type===Rr&&-1!==e.patchFlag&&(e.el=t.el),e.type!==jr||e.el||(e.el=t.el)}}function yr(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:yr(e)}function br(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const wr=Symbol.for("v-scx"),xr=()=>Jn(wr);function Sr(t,e,n){return _r(t,e,n)}function _r(t,n,s=e){const{immediate:i,deep:a,flush:l,once:c}=s,u=o({},s),h=n&&i||!n&&"post"!==l;let d;if(gs)if("sync"===l){const t=xr();d=t.__watcherHandles||(t.__watcherHandles=[])}else if(!h){const t=()=>{};return t.stop=r,t.resume=r,t.pause=r,t}const f=cs;u.call=(t,e,n)=>Pe(t,f,e,n);let p=!1;"post"===l?u.scheduler=t=>{fr(t,f&&f.suspense)}:"sync"!==l&&(p=!0,u.scheduler=(t,e)=>{e?t():Ue(t)}),u.augmentJob=t=>{n&&(t.flags|=4),p&&(t.flags|=2,f&&(t.id=f.uid,t.i=f))};const m=Ce(t,n,u);return gs&&(d?d.push(m):h&&m()),m}function Ar(t,e,n){const r=this.proxy,s=g(t)?t.includes(".")?Nr(r,t):()=>r[t]:t.bind(r,r);let i;m(e)?i=e:(i=e.handler,n=e);const a=fs(this),o=_r(s,i.bind(r),n);return a(),o}function Nr(t,e){const n=e.split(".");return()=>{let e=t;for(let t=0;t<n.length&&e;t++)e=e[n[t]];return e}}const Er=(t,e)=>"modelValue"===e||"model-value"===e?t.modelModifiers:t[`${e}Modifiers`]||t[`${k(e)}Modifiers`]||t[`${L(e)}Modifiers`];function kr(t,n,...r){if(t.isUnmounted)return;const s=t.vnode.props||e;let i=r;const a=n.startsWith("update:"),o=a&&Er(s,n.slice(7));let l;o&&(o.trim&&(i=r.map(t=>g(t)?t.trim():t)),o.number&&(i=r.map(M)));let c=s[l=P(n)]||s[l=P(k(n))];!c&&a&&(c=s[l=P(L(n))]),c&&Pe(c,t,6,i);const u=s[l+"Once"];if(u){if(t.emitted){if(t.emitted[l])return}else t.emitted={};t.emitted[l]=!0,Pe(u,t,6,i)}}const Cr=new WeakMap;function Lr(t,e,n=!1){const r=n?Cr:e.emitsCache,s=r.get(t);if(void 0!==s)return s;const i=t.emits;let a={},l=!1;if(!m(t)){const r=t=>{const n=Lr(t,e,!0);n&&(l=!0,o(a,n))};!n&&e.mixins.length&&e.mixins.forEach(r),t.extends&&r(t.extends),t.mixins&&t.mixins.forEach(r)}return i||l?(h(i)?i.forEach(t=>a[t]=null):o(a,i),y(t)&&r.set(t,a),a):(y(t)&&r.set(t,null),null)}function Tr(t,e){return!(!t||!i(e))&&(e=e.slice(2).replace(/Once$/,""),u(t,e[0].toLowerCase()+e.slice(1))||u(t,L(e))||u(t,e))}function Pr(t){const{type:e,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:o,attrs:l,emit:c,render:u,renderCache:h,props:d,data:f,setupState:p,ctx:m,inheritAttrs:g}=t,v=Ye(t);let y,b;try{if(4&n.shapeFlag){const t=s||r,e=t;y=rs(u.call(e,t,h,d,p,f,m)),b=l}else{const t=e;0,y=rs(t.length>1?t(d,{attrs:l,slots:o,emit:c}):t(d,null)),b=e.props?l:Ir(l)}}catch(x){qr.length=0,Ie(x,t,1),y=Jr(jr)}let w=y;if(b&&!1!==g){const t=Object.keys(b),{shapeFlag:e}=w;t.length&&7&e&&(i&&t.some(a)&&(b=Dr(b,i)),w=Zr(w,b,!1,!0))}return n.dirs&&(w=Zr(w,null,!1,!0),w.dirs=w.dirs?w.dirs.concat(n.dirs):n.dirs),n.transition&&en(w,n.transition),y=w,Ye(v),y}const Ir=t=>{let e;for(const n in t)("class"===n||"style"===n||i(n))&&((e||(e={}))[n]=t[n]);return e},Dr=(t,e)=>{const n={};for(const r in t)a(r)&&r.slice(9)in e||(n[r]=t[r]);return n};function Fr(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(e[i]!==t[i]&&!Tr(n,i))return!0}return!1}const Mr=t=>t.__isSuspense;const Or=Symbol.for("v-fgt"),Rr=Symbol.for("v-txt"),jr=Symbol.for("v-cmt"),Br=Symbol.for("v-stc"),qr=[];let Ur=null;function Vr(t=!1){qr.push(Ur=t?null:[])}let zr=1;function Hr(t,e=!1){zr+=t,t<0&&Ur&&e&&(Ur.hasOnce=!0)}function $r(t){return t.dynamicChildren=zr>0?Ur||n:null,qr.pop(),Ur=qr[qr.length-1]||null,zr>0&&Ur&&Ur.push(t),t}function Wr(t,e,n,r,s,i){return $r(Qr(t,e,n,r,s,i,!0))}function Gr(t){return!!t&&!0===t.__v_isVNode}function Kr(t,e){return t.type===e.type&&t.key===e.key}const Yr=({key:t})=>null!=t?t:null,Xr=({ref:t,ref_key:e,ref_for:n})=>("number"==typeof t&&(t=""+t),null!=t?g(t)||ye(t)||m(t)?{i:Ge,r:t,k:e,f:!!n}:t:null);function Qr(t,e=null,n=null,r=0,s=null,i=(t===Or?0:1),a=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Yr(e),ref:e&&Xr(e),scopeId:Ke,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Ge};return o?(is(l,n),128&i&&t.normalize(l)):n&&(l.shapeFlag|=g(n)?8:16),zr>0&&!a&&Ur&&(l.patchFlag>0||6&i)&&32!==l.patchFlag&&Ur.push(l),l}const Jr=function(t,e=null,n=null,r=0,s=null,i=!1){t&&t!==kn||(t=jr);if(Gr(t)){const r=Zr(t,e,!0);return n&&is(r,n),zr>0&&!i&&Ur&&(6&r.shapeFlag?Ur[Ur.indexOf(t)]=r:Ur.push(r)),r.patchFlag=-2,r}a=t,m(a)&&"__vccOpts"in a&&(t=t.__vccOpts);var a;if(e){e=function(t){return t?pe(t)||er(t)?o({},t):t:null}(e);let{class:t,style:n}=e;t&&!g(t)&&(e.class=z(t)),y(n)&&(pe(n)&&!h(n)&&(n=o({},n)),e.style=j(n))}const l=g(t)?1:Mr(t)?128:(t=>t.__isTeleport)(t)?64:y(t)?4:m(t)?2:0;return Qr(t,e,n,r,s,l,i,!0)};function Zr(t,e,n=!1,r=!1){const{props:s,ref:a,patchFlag:o,children:l,transition:c}=t,u=e?function(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const t in r)if("class"===t)e.class!==r.class&&(e.class=z([e.class,r.class]));else if("style"===t)e.style=j([e.style,r.style]);else if(i(t)){const n=e[t],s=r[t];!s||n===s||h(n)&&n.includes(s)||(e[t]=n?[].concat(n,s):s)}else""!==t&&(e[t]=r[t])}return e}(s||{},e):s,d={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&Yr(u),ref:e&&e.ref?n&&a?h(a)?a.concat(Xr(e)):[a,Xr(e)]:Xr(e):a,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Or?-1===o?16:16|o:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:c,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Zr(t.ssContent),ssFallback:t.ssFallback&&Zr(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c&&r&&en(d,c.clone(d)),d}function ts(t=" ",e=0){return Jr(Rr,null,t,e)}function es(t,e){const n=Jr(Br,null,t);return n.staticCount=e,n}function ns(t="",e=!1){return e?(Vr(),$r(Jr(jr,null,t,n,r,!0))):Jr(jr,null,t);var n,r}function rs(t){return null==t||"boolean"==typeof t?Jr(jr):h(t)?Jr(Or,null,t.slice()):Gr(t)?ss(t):Jr(Rr,null,String(t))}function ss(t){return null===t.el&&-1!==t.patchFlag||t.memo?t:Zr(t)}function is(t,e){let n=0;const{shapeFlag:r}=t;if(null==e)e=null;else if(h(e))n=16;else if("object"==typeof e){if(65&r){const n=e.default;return void(n&&(n._c&&(n._d=!1),is(t,n()),n._c&&(n._d=!0)))}{n=32;const r=e._;r||er(e)?3===r&&Ge&&(1===Ge.slots._?e._=1:(e._=2,t.patchFlag|=1024)):e._ctx=Ge}}else m(e)?(e={default:e,_ctx:Ge},n=32):(e=String(e),64&r?(n=16,e=[ts(e)]):n=8);t.children=e,t.shapeFlag|=n}function as(t,e,n,r=null){Pe(t,e,7,[n,r])}const os=Gn();let ls=0;let cs=null;const us=()=>cs||Ge;let hs,ds;{const t=R(),e=(e,n)=>{let r;return(r=t[e])||(r=t[e]=[]),r.push(n),t=>{r.length>1?r.forEach(e=>e(t)):r[0](t)}};hs=e("__VUE_INSTANCE_SETTERS__",t=>cs=t),ds=e("__VUE_SSR_SETTERS__",t=>gs=t)}const fs=t=>{const e=cs;return hs(t),t.scope.on(),()=>{t.scope.off(),hs(e)}},ps=()=>{cs&&cs.scope.off(),hs(null)};function ms(t){return 4&t.vnode.shapeFlag}let gs=!1;function vs(t,e,n){m(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:y(e)&&(t.setupState=_e(e)),ys(t)}function ys(t,e,n){const s=t.type;t.render||(t.render=s.render||r);{const e=fs(t);vt();try{On(t)}finally{yt(),e()}}}const bs={get:(t,e)=>(Ct(t,0,""),t[e])};function ws(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(_e((e=t.exposed,!u(e,"__v_skip")&&Object.isExtensible(e)&&F(e,"__v_skip",!0),e)),{get:(e,n)=>n in e?e[n]:n in Pn?Pn[n](t):void 0,has:(t,e)=>e in t||e in Pn})):t.proxy;var e}function xs(t,e=!0){return m(t)?t.displayName||t.name:t.name||e&&t.__name}const Ss=(t,e)=>{const n=function(t,e,n=!1){let r,s;return m(t)?r=t:(r=t.get,s=t.set),new Ae(r,s,n)}(t,0,gs);return n};function _s(t,e,n){const r=(t,e,n)=>{Hr(-1);try{return Jr(t,e,n)}finally{Hr(1)}},s=arguments.length;return 2===s?y(e)&&!h(e)?Gr(e)?r(t,null,[e]):r(t,e):r(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):3===s&&Gr(n)&&(n=[n]),r(t,e,n))}const As="3.5.21";
/**
* @vue/runtime-dom v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ns;const Es="undefined"!=typeof window&&window.trustedTypes;if(Es)try{Ns=Es.createPolicy("vue",{createHTML:t=>t})}catch(YN){}const ks=Ns?t=>Ns.createHTML(t):t=>t,Cs="undefined"!=typeof document?document:null,Ls=Cs&&Cs.createElement("template"),Ts={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s="svg"===e?Cs.createElementNS("http://www.w3.org/2000/svg",t):"mathml"===e?Cs.createElementNS("http://www.w3.org/1998/Math/MathML",t):n?Cs.createElement(t,{is:n}):Cs.createElement(t);return"select"===t&&r&&null!=r.multiple&&s.setAttribute("multiple",r.multiple),s},createText:t=>Cs.createTextNode(t),createComment:t=>Cs.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Cs.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,i){const a=n?n.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),s!==i&&(s=s.nextSibling););else{Ls.innerHTML=ks("svg"===r?`<svg>${t}</svg>`:"mathml"===r?`<math>${t}</math>`:t);const s=Ls.content;if("svg"===r||"mathml"===r){const t=s.firstChild;for(;t.firstChild;)s.appendChild(t.firstChild);s.removeChild(t)}e.insertBefore(s,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Ps=Symbol("_vtc");const Is=Symbol("_vod"),Ds=Symbol("_vsh"),Fs={name:"show",beforeMount(t,{value:e},{transition:n}){t[Is]="none"===t.style.display?"":t.style.display,n&&e?n.beforeEnter(t):Ms(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),Ms(t,!0),r.enter(t)):r.leave(t,()=>{Ms(t,!1)}):Ms(t,e))},beforeUnmount(t,{value:e}){Ms(t,e)}};function Ms(t,e){t.style.display=e?t[Is]:"none",t[Ds]=!e}const Os=Symbol(""),Rs=/(?:^|;)\s*display\s*:/;const js=/\s*!important$/;function Bs(t,e,n){if(h(n))n.forEach(n=>Bs(t,e,n));else if(null==n&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=function(t,e){const n=Us[e];if(n)return n;let r=k(e);if("filter"!==r&&r in t)return Us[e]=r;r=T(r);for(let s=0;s<qs.length;s++){const n=qs[s]+r;if(n in t)return Us[e]=n}return e}(t,e);js.test(n)?t.setProperty(L(r),n.replace(js,""),"important"):t[r]=n}}const qs=["Webkit","Moz","ms"],Us={};const Vs="http://www.w3.org/1999/xlink";function zs(t,e,n,r,s,i=H(e)){r&&e.startsWith("xlink:")?null==n?t.removeAttributeNS(Vs,e.slice(6,e.length)):t.setAttributeNS(Vs,e,n):null==n||i&&!$(n)?t.removeAttribute(e):t.setAttribute(e,i?"":v(n)?String(n):n)}function Hs(t,e,n,r,s){if("innerHTML"===e||"textContent"===e)return void(null!=n&&(t[e]="innerHTML"===e?ks(n):n));const i=t.tagName;if("value"===e&&"PROGRESS"!==i&&!i.includes("-")){const r="OPTION"===i?t.getAttribute("value")||"":t.value,s=null==n?"checkbox"===t.type?"on":"":String(n);return r===s&&"_value"in t||(t.value=s),null==n&&t.removeAttribute(e),void(t._value=n)}let a=!1;if(""===n||null==n){const r=typeof t[e];"boolean"===r?n=$(n):null==n&&"string"===r?(n="",a=!0):"number"===r&&(n=0,a=!0)}try{t[e]=n}catch(YN){}a&&t.removeAttribute(s||e)}function $s(t,e,n,r){t.addEventListener(e,n,r)}const Ws=Symbol("_vei");function Gs(t,e,n,r,s=null){const i=t[Ws]||(t[Ws]={}),a=i[e];if(r&&a)a.value=r;else{const[n,o]=function(t){let e;if(Ks.test(t)){let n;for(e={};n=t.match(Ks);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}const n=":"===t[2]?t.slice(3):L(t.slice(2));return[n,e]}(e);if(r){const a=i[e]=function(t,e){const n=t=>{if(t._vts){if(t._vts<=n.attached)return}else t._vts=Date.now();Pe(function(t,e){if(h(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(t=>e=>!e._stopped&&t&&t(e))}return e}(t,n.value),e,5,[t])};return n.value=t,n.attached=Qs(),n}(r,s);$s(t,n,a,o)}else a&&(!function(t,e,n,r){t.removeEventListener(e,n,r)}(t,n,a,o),i[e]=void 0)}}const Ks=/(?:Once|Passive|Capture)$/;let Ys=0;const Xs=Promise.resolve(),Qs=()=>Ys||(Xs.then(()=>Ys=0),Ys=Date.now());const Js=t=>111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123;const Zs=t=>{const e=t.props["onUpdate:modelValue"]||!1;return h(e)?t=>D(e,t):e};function ti(t){t.target.composing=!0}function ei(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const ni=Symbol("_assign"),ri={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t[ni]=Zs(s);const i=r||s.props&&"number"===s.props.type;$s(t,e?"change":"input",e=>{if(e.target.composing)return;let r=t.value;n&&(r=r.trim()),i&&(r=M(r)),t[ni](r)}),n&&$s(t,"change",()=>{t.value=t.value.trim()}),e||($s(t,"compositionstart",ti),$s(t,"compositionend",ei),$s(t,"change",ei))},mounted(t,{value:e}){t.value=null==e?"":e},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:s,number:i}},a){if(t[ni]=Zs(a),t.composing)return;const o=null==e?"":e;if((!i&&"number"!==t.type||/^0\d/.test(t.value)?t.value:M(t.value))!==o){if(document.activeElement===t&&"range"!==t.type){if(r&&e===n)return;if(s&&t.value.trim()===o)return}t.value=o}}},si={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const s=f(e);$s(t,"change",()=>{const e=Array.prototype.filter.call(t.options,t=>t.selected).map(t=>n?M(ai(t)):ai(t));t[ni](t.multiple?s?new Set(e):e:e[0]),t._assigning=!0,qe(()=>{t._assigning=!1})}),t[ni]=Zs(r)},mounted(t,{value:e}){ii(t,e)},beforeUpdate(t,e,n){t[ni]=Zs(n)},updated(t,{value:e}){t._assigning||ii(t,e)}};function ii(t,e){const n=t.multiple,r=h(e);if(!n||r||f(e)){for(let s=0,i=t.options.length;s<i;s++){const i=t.options[s],a=ai(i);if(n)if(r){const t=typeof a;i.selected="string"===t||"number"===t?e.some(t=>String(t)===String(a)):G(e,a)>-1}else i.selected=e.has(a);else if(W(ai(i),e))return void(t.selectedIndex!==s&&(t.selectedIndex=s))}n||-1===t.selectedIndex||(t.selectedIndex=-1)}}function ai(t){return"_value"in t?t._value:t.value}const oi=["ctrl","shift","alt","meta"],li={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&0!==t.button,middle:t=>"button"in t&&1!==t.button,right:t=>"button"in t&&2!==t.button,exact:(t,e)=>oi.some(n=>t[`${n}Key`]&&!e.includes(n))},ci=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(n,...r)=>{for(let t=0;t<e.length;t++){const r=li[e[t]];if(r&&r(n,e))return}return t(n,...r)})},ui=o({patchProp:(t,e,n,r,s,o)=>{const l="svg"===s;"class"===e?function(t,e,n){const r=t[Ps];r&&(e=(e?[e,...r]:[...r]).join(" ")),null==e?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}(t,r,l):"style"===e?function(t,e,n){const r=t.style,s=g(n);let i=!1;if(n&&!s){if(e)if(g(e))for(const t of e.split(";")){const e=t.slice(0,t.indexOf(":")).trim();null==n[e]&&Bs(r,e,"")}else for(const t in e)null==n[t]&&Bs(r,t,"");for(const t in n)"display"===t&&(i=!0),Bs(r,t,n[t])}else if(s){if(e!==n){const t=r[Os];t&&(n+=";"+t),r.cssText=n,i=Rs.test(n)}}else e&&t.removeAttribute("style");Is in t&&(t[Is]=i?r.display:"",t[Ds]&&(r.display="none"))}(t,n,r):i(e)?a(e)||Gs(t,e,0,r,o):("."===e[0]?(e=e.slice(1),1):"^"===e[0]?(e=e.slice(1),0):function(t,e,n,r){if(r)return"innerHTML"===e||"textContent"===e||!!(e in t&&Js(e)&&m(n));if("spellcheck"===e||"draggable"===e||"translate"===e||"autocorrect"===e)return!1;if("form"===e)return!1;if("list"===e&&"INPUT"===t.tagName)return!1;if("type"===e&&"TEXTAREA"===t.tagName)return!1;if("width"===e||"height"===e){const e=t.tagName;if("IMG"===e||"VIDEO"===e||"CANVAS"===e||"SOURCE"===e)return!1}if(Js(e)&&g(n))return!1;return e in t}(t,e,r,l))?(Hs(t,e,r),t.tagName.includes("-")||"value"!==e&&"checked"!==e&&"selected"!==e||zs(t,e,r,l,0,"value"!==e)):!t._isVueCE||!/[A-Z]/.test(e)&&g(r)?("true-value"===e?t._trueValue=r:"false-value"===e&&(t._falseValue=r),zs(t,e,r,l)):Hs(t,k(e),r,0,e)}},Ts);let hi;const di=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n},fi={id:"app"};const pi=di({name:"App"},[["render",function(t,e,n,r,s,i){const a=En("router-view");return Vr(),Wr("div",fi,[Jr(a)])}]]),mi="undefined"!=typeof document;
/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */function gi(t){return"object"==typeof t||"displayName"in t||"props"in t||"__vccOpts"in t}const vi=Object.assign;function yi(t,e){const n={};for(const r in e){const s=e[r];n[r]=wi(s)?s.map(t):t(s)}return n}const bi=()=>{},wi=Array.isArray,xi=/#/g,Si=/&/g,_i=/\//g,Ai=/=/g,Ni=/\?/g,Ei=/\+/g,ki=/%5B/g,Ci=/%5D/g,Li=/%5E/g,Ti=/%60/g,Pi=/%7B/g,Ii=/%7C/g,Di=/%7D/g,Fi=/%20/g;function Mi(t){return encodeURI(""+t).replace(Ii,"|").replace(ki,"[").replace(Ci,"]")}function Oi(t){return Mi(t).replace(Ei,"%2B").replace(Fi,"+").replace(xi,"%23").replace(Si,"%26").replace(Ti,"`").replace(Pi,"{").replace(Di,"}").replace(Li,"^")}function Ri(t){return Oi(t).replace(Ai,"%3D")}function ji(t){return null==t?"":function(t){return Mi(t).replace(xi,"%23").replace(Ni,"%3F")}(t).replace(_i,"%2F")}function Bi(t){try{return decodeURIComponent(""+t)}catch(e){}return""+t}const qi=/\/$/;function Ui(t,e,n="/"){let r,s={},i="",a="";const o=e.indexOf("#");let l=e.indexOf("?");return o<l&&o>=0&&(l=-1),l>-1&&(r=e.slice(0,l),i=e.slice(l+1,o>-1?o:e.length),s=t(i)),o>-1&&(r=r||e.slice(0,o),a=e.slice(o,e.length)),r=function(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),s=r[r.length-1];".."!==s&&"."!==s||r.push("");let i,a,o=n.length-1;for(i=0;i<r.length;i++)if(a=r[i],"."!==a){if(".."!==a)break;o>1&&o--}return n.slice(0,o).join("/")+"/"+r.slice(i).join("/")}(null!=r?r:e,n),{fullPath:r+(i&&"?")+i+a,path:r,query:s,hash:Bi(a)}}function Vi(t,e){return e&&t.toLowerCase().startsWith(e.toLowerCase())?t.slice(e.length)||"/":t}function zi(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Hi(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!$i(t[n],e[n]))return!1;return!0}function $i(t,e){return wi(t)?Wi(t,e):wi(e)?Wi(e,t):t===e}function Wi(t,e){return wi(e)?t.length===e.length&&t.every((t,n)=>t===e[n]):1===t.length&&t[0]===e}const Gi={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Ki,Yi,Xi,Qi;function Ji(t){if(!t)if(mi){const e=document.querySelector("base");t=(t=e&&e.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return"/"!==t[0]&&"#"!==t[0]&&(t="/"+t),t.replace(qi,"")}(Yi=Ki||(Ki={})).pop="pop",Yi.push="push",(Qi=Xi||(Xi={})).back="back",Qi.forward="forward",Qi.unknown="";const Zi=/^[^#]+#/;function ta(t,e){return t.replace(Zi,"#")+e}const ea=()=>({left:window.scrollX,top:window.scrollY});function na(t){let e;if("el"in t){const n=t.el,r="string"==typeof n&&n.startsWith("#"),s="string"==typeof n?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=function(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(null!=e.left?e.left:window.scrollX,null!=e.top?e.top:window.scrollY)}function ra(t,e){return(history.state?history.state.position-e:-1)+t}const sa=new Map;function ia(t,e){const{pathname:n,search:r,hash:s}=e,i=t.indexOf("#");if(i>-1){let e=s.includes(t.slice(i))?t.slice(i).length:1,n=s.slice(e);return"/"!==n[0]&&(n="/"+n),Vi(n,"")}return Vi(n,t)+r+s}function aa(t,e,n,r=!1,s=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:s?ea():null}}function oa(t){const{history:e,location:n}=window,r={value:ia(t,n)},s={value:e.state};function i(r,i,a){const o=t.indexOf("#"),l=o>-1?(n.host&&document.querySelector("base")?t:t.slice(o))+r:location.protocol+"//"+location.host+t+r;try{e[a?"replaceState":"pushState"](i,"",l),s.value=i}catch(c){console.error(c),n[a?"replace":"assign"](l)}}return s.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0),{location:r,state:s,push:function(t,n){const a=vi({},s.value,e.state,{forward:t,scroll:ea()});i(a.current,a,!0),i(t,vi({},aa(r.value,t,null),{position:a.position+1},n),!1),r.value=t},replace:function(t,n){i(t,vi({},e.state,aa(s.value.back,t,s.value.forward,!0),n,{position:s.value.position}),!0),r.value=t}}}function la(t){return"string"==typeof t||"symbol"==typeof t}const ca=Symbol("");var ua,ha;function da(t,e){return vi(new Error,{type:t,[ca]:!0},e)}function fa(t,e){return t instanceof Error&&ca in t&&(null==e||!!(t.type&e))}(ha=ua||(ua={}))[ha.aborted=4]="aborted",ha[ha.cancelled=8]="cancelled",ha[ha.duplicated=16]="duplicated";const pa="[^/]+?",ma={sensitive:!1,strict:!1,start:!0,end:!0},ga=/[.+*?^${}()[\]/\\]/g;function va(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?1===t.length&&80===t[0]?-1:1:t.length>e.length?1===e.length&&80===e[0]?1:-1:0}function ya(t,e){let n=0;const r=t.score,s=e.score;for(;n<r.length&&n<s.length;){const t=va(r[n],s[n]);if(t)return t;n++}if(1===Math.abs(s.length-r.length)){if(ba(r))return 1;if(ba(s))return-1}return s.length-r.length}function ba(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const wa={type:0,value:""},xa=/[a-zA-Z0-9_]/;function Sa(t,e,n){const r=function(t,e){const n=vi({},ma,e),r=[];let s=n.start?"^":"";const i=[];for(const l of t){const t=l.length?[]:[90];n.strict&&!l.length&&(s+="/");for(let e=0;e<l.length;e++){const r=l[e];let a=40+(n.sensitive?.25:0);if(0===r.type)e||(s+="/"),s+=r.value.replace(ga,"\\$&"),a+=40;else if(1===r.type){const{value:t,repeatable:n,optional:c,regexp:u}=r;i.push({name:t,repeatable:n,optional:c});const h=u||pa;if(h!==pa){a+=10;try{new RegExp(`(${h})`)}catch(o){throw new Error(`Invalid custom RegExp for param "${t}" (${h}): `+o.message)}}let d=n?`((?:${h})(?:/(?:${h}))*)`:`(${h})`;e||(d=c&&l.length<2?`(?:/${d})`:"/"+d),c&&(d+="?"),s+=d,a+=20,c&&(a+=-8),n&&(a+=-20),".*"===h&&(a+=-50)}t.push(a)}r.push(t)}if(n.strict&&n.end){const t=r.length-1;r[t][r[t].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const a=new RegExp(s,n.sensitive?"":"i");return{re:a,score:r,keys:i,parse:function(t){const e=t.match(a),n={};if(!e)return null;for(let r=1;r<e.length;r++){const t=e[r]||"",s=i[r-1];n[s.name]=t&&s.repeatable?t.split("/"):t}return n},stringify:function(e){let n="",r=!1;for(const s of t){r&&n.endsWith("/")||(n+="/"),r=!1;for(const t of s)if(0===t.type)n+=t.value;else if(1===t.type){const{value:i,repeatable:a,optional:o}=t,l=i in e?e[i]:"";if(wi(l)&&!a)throw new Error(`Provided param "${i}" is an array but it is not repeatable (* or + modifiers)`);const c=wi(l)?l.join("/"):l;if(!c){if(!o)throw new Error(`Missing required param "${i}"`);s.length<2&&(n.endsWith("/")?n=n.slice(0,-1):r=!0)}n+=c}}return n||"/"}}}(function(t){if(!t)return[[]];if("/"===t)return[[wa]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(t){throw new Error(`ERR (${n})/"${c}": ${t}`)}let n=0,r=n;const s=[];let i;function a(){i&&s.push(i),i=[]}let o,l=0,c="",u="";function h(){c&&(0===n?i.push({type:0,value:c}):1===n||2===n||3===n?(i.length>1&&("*"===o||"+"===o)&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:u,repeatable:"*"===o||"+"===o,optional:"*"===o||"?"===o})):e("Invalid state to consume buffer"),c="")}function d(){c+=o}for(;l<t.length;)if(o=t[l++],"\\"!==o||2===n)switch(n){case 0:"/"===o?(c&&h(),a()):":"===o?(h(),n=1):d();break;case 4:d(),n=r;break;case 1:"("===o?n=2:xa.test(o)?d():(h(),n=0,"*"!==o&&"?"!==o&&"+"!==o&&l--);break;case 2:")"===o?"\\"==u[u.length-1]?u=u.slice(0,-1)+o:n=3:u+=o;break;case 3:h(),n=0,"*"!==o&&"?"!==o&&"+"!==o&&l--,u="";break;default:e("Unknown state")}else r=n,n=4;return 2===n&&e(`Unfinished custom RegExp for param "${c}"`),h(),a(),s}(t.path),n),s=vi(r,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function _a(t,e){const n=[],r=new Map;function s(t,n,r){const o=!r,l=Na(t);l.aliasOf=r&&r.record;const c=La(e,t),u=[l];if("alias"in t){const e="string"==typeof t.alias?[t.alias]:t.alias;for(const t of e)u.push(Na(vi({},l,{components:r?r.record.components:l.components,path:t,aliasOf:r?r.record:l})))}let h,d;for(const e of u){const{path:u}=e;if(n&&"/"!==u[0]){const t=n.record.path,r="/"===t[t.length-1]?"":"/";e.path=n.record.path+(u&&r+u)}if(h=Sa(e,n,c),r?r.alias.push(h):(d=d||h,d!==h&&d.alias.push(h),o&&t.name&&!ka(h)&&i(t.name)),Ta(h)&&a(h),l.children){const t=l.children;for(let e=0;e<t.length;e++)s(t[e],h,r&&r.children[e])}r=r||h}return d?()=>{i(d)}:bi}function i(t){if(la(t)){const e=r.get(t);e&&(r.delete(t),n.splice(n.indexOf(e),1),e.children.forEach(i),e.alias.forEach(i))}else{const e=n.indexOf(t);e>-1&&(n.splice(e,1),t.record.name&&r.delete(t.record.name),t.children.forEach(i),t.alias.forEach(i))}}function a(t){const e=function(t,e){let n=0,r=e.length;for(;n!==r;){const s=n+r>>1;ya(t,e[s])<0?r=s:n=s+1}const s=function(t){let e=t;for(;e=e.parent;)if(Ta(e)&&0===ya(t,e))return e;return}(t);s&&(r=e.lastIndexOf(s,r-1));return r}(t,n);n.splice(e,0,t),t.record.name&&!ka(t)&&r.set(t.record.name,t)}return e=La({strict:!1,end:!0,sensitive:!1},e),t.forEach(t=>s(t)),{addRoute:s,resolve:function(t,e){let s,i,a,o={};if("name"in t&&t.name){if(s=r.get(t.name),!s)throw da(1,{location:t});a=s.record.name,o=vi(Aa(e.params,s.keys.filter(t=>!t.optional).concat(s.parent?s.parent.keys.filter(t=>t.optional):[]).map(t=>t.name)),t.params&&Aa(t.params,s.keys.map(t=>t.name))),i=s.stringify(o)}else if(null!=t.path)i=t.path,s=n.find(t=>t.re.test(i)),s&&(o=s.parse(i),a=s.record.name);else{if(s=e.name?r.get(e.name):n.find(t=>t.re.test(e.path)),!s)throw da(1,{location:t,currentLocation:e});a=s.record.name,o=vi({},e.params,t.params),i=s.stringify(o)}const l=[];let c=s;for(;c;)l.unshift(c.record),c=c.parent;return{name:a,path:i,params:o,matched:l,meta:Ca(l)}},removeRoute:i,clearRoutes:function(){n.length=0,r.clear()},getRoutes:function(){return n},getRecordMatcher:function(t){return r.get(t)}}}function Aa(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function Na(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:Ea(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function Ea(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]="object"==typeof n?n[r]:n;return e}function ka(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Ca(t){return t.reduce((t,e)=>vi(t,e.meta),{})}function La(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function Ta({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Pa(t){const e={};if(""===t||"?"===t)return e;const n=("?"===t[0]?t.slice(1):t).split("&");for(let r=0;r<n.length;++r){const t=n[r].replace(Ei," "),s=t.indexOf("="),i=Bi(s<0?t:t.slice(0,s)),a=s<0?null:Bi(t.slice(s+1));if(i in e){let t=e[i];wi(t)||(t=e[i]=[t]),t.push(a)}else e[i]=a}return e}function Ia(t){let e="";for(let n in t){const r=t[n];if(n=Ri(n),null==r){void 0!==r&&(e+=(e.length?"&":"")+n);continue}(wi(r)?r.map(t=>t&&Oi(t)):[r&&Oi(r)]).forEach(t=>{void 0!==t&&(e+=(e.length?"&":"")+n,null!=t&&(e+="="+t))})}return e}function Da(t){const e={};for(const n in t){const r=t[n];void 0!==r&&(e[n]=wi(r)?r.map(t=>null==t?null:""+t):null==r?r:""+r)}return e}const Fa=Symbol(""),Ma=Symbol(""),Oa=Symbol(""),Ra=Symbol(""),ja=Symbol("");function Ba(){let t=[];return{add:function(e){return t.push(e),()=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)}},list:()=>t.slice(),reset:function(){t=[]}}}function qa(t,e,n,r,s,i=t=>t()){const a=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((o,l)=>{const c=t=>{var i;!1===t?l(da(4,{from:n,to:e})):t instanceof Error?l(t):"string"==typeof(i=t)||i&&"object"==typeof i?l(da(2,{from:e,to:t})):(a&&r.enterCallbacks[s]===a&&"function"==typeof t&&a.push(t),o())},u=i(()=>t.call(r&&r.instances[s],e,n,c));let h=Promise.resolve(u);t.length<3&&(h=h.then(c)),h.catch(t=>l(t))})}function Ua(t,e,n,r,s=t=>t()){const i=[];for(const a of t)for(const t in a.components){let o=a.components[t];if("beforeRouteEnter"===e||a.instances[t])if(gi(o)){const l=(o.__vccOpts||o)[e];l&&i.push(qa(l,n,r,a,t,s))}else{let l=o();i.push(()=>l.then(i=>{if(!i)throw new Error(`Couldn't resolve component "${t}" at "${a.path}"`);const o=(l=i).__esModule||"Module"===l[Symbol.toStringTag]||l.default&&gi(l.default)?i.default:i;var l;a.mods[t]=i,a.components[t]=o;const c=(o.__vccOpts||o)[e];return c&&qa(c,n,r,a,t,s)()}))}}return i}function Va(t){const e=Jn(Oa),n=Jn(Ra),r=Ss(()=>{const n=xe(t.to);return e.resolve(n)}),s=Ss(()=>{const{matched:t}=r.value,{length:e}=t,s=t[e-1],i=n.matched;if(!s||!i.length)return-1;const a=i.findIndex(zi.bind(null,s));if(a>-1)return a;const o=Ha(t[e-2]);return e>1&&Ha(s)===o&&i[i.length-1].path!==o?i.findIndex(zi.bind(null,t[e-2])):a}),i=Ss(()=>s.value>-1&&function(t,e){for(const n in e){const r=e[n],s=t[n];if("string"==typeof r){if(r!==s)return!1}else if(!wi(s)||s.length!==r.length||r.some((t,e)=>t!==s[e]))return!1}return!0}(n.params,r.value.params)),a=Ss(()=>s.value>-1&&s.value===n.matched.length-1&&Hi(n.params,r.value.params));return{route:r,href:Ss(()=>r.value.href),isActive:i,isExactActive:a,navigate:function(n={}){if(function(t){if(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)return;if(t.defaultPrevented)return;if(void 0!==t.button&&0!==t.button)return;if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}t.preventDefault&&t.preventDefault();return!0}(n)){const n=e[xe(t.replace)?"replace":"push"](xe(t.to)).catch(bi);return t.viewTransition&&"undefined"!=typeof document&&"startViewTransition"in document&&document.startViewTransition(()=>n),n}return Promise.resolve()}}}const za=nn({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Va,setup(t,{slots:e}){const n=oe(Va(t)),{options:r}=Jn(Oa),s=Ss(()=>({[$a(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[$a(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=e.default&&(1===(i=e.default(n)).length?i[0]:i);var i;return t.custom?r:_s("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},r)}}});function Ha(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const $a=(t,e,n)=>null!=t?t:null!=e?e:n,Wa=nn({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Jn(ja),s=Ss(()=>t.route||r.value),i=Jn(Ma,0),a=Ss(()=>{let t=xe(i);const{matched:e}=s.value;let n;for(;(n=e[t])&&!n.components;)t++;return t}),o=Ss(()=>s.value.matched[a.value]);Qn(Ma,Ss(()=>a.value+1)),Qn(Fa,o),Qn(ja,s);const l=be(c,!1);var c;return Sr(()=>[l.value,o.value,t.name],([t,e,n],[r,s,i])=>{e&&(e.instances[n]=t,s&&s!==e&&t&&t===r&&(e.leaveGuards.size||(e.leaveGuards=s.leaveGuards),e.updateGuards.size||(e.updateGuards=s.updateGuards))),!t||!e||s&&zi(e,s)&&r||(e.enterCallbacks[n]||[]).forEach(e=>e(t))},{flush:"post"}),()=>{const r=s.value,i=t.name,a=o.value,c=a&&a.components[i];if(!c)return Ga(n.default,{Component:c,route:r});const u=a.props[i],h=u?!0===u?r.params:"function"==typeof u?u(r):u:null,d=_s(c,vi({},h,e,{onVnodeUnmounted:t=>{t.component.isUnmounted&&(a.instances[i]=null)},ref:l}));return Ga(n.default,{Component:d,route:r})||d}}});function Ga(t,e){if(!t)return null;const n=t(e);return 1===n.length?n[0]:n}const Ka=Wa;var Ya={};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=63&s|128):55296==(64512&s)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(s=65536+((1023&s)<<10)+(1023&t.charCodeAt(++r)),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=63&s|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=63&s|128)}return e},Qa={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const e=t[s],i=s+1<t.length,a=i?t[s+1]:0,o=s+2<t.length,l=o?t[s+2]:0,c=e>>2,u=(3&e)<<4|a>>4;let h=(15&a)<<2|l>>6,d=63&l;o||(d=64,i||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Xa(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((31&s)<<6|63&i)}else if(s>239&&s<365){const i=((7&s)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(i>>10)),e[r++]=String.fromCharCode(56320+(1023&i))}else{const i=t[n++],a=t[n++];e[r++]=String.fromCharCode((15&s)<<12|(63&i)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const e=n[t.charAt(s++)],i=s<t.length?n[t.charAt(s)]:0;++s;const a=s<t.length?n[t.charAt(s)]:64;++s;const o=s<t.length?n[t.charAt(s)]:64;if(++s,null==e||null==i||null==a||null==o)throw new Ja;const l=e<<2|i>>4;if(r.push(l),64!==a){const t=i<<4&240|a>>2;if(r.push(t),64!==o){const t=a<<6&192|o;r.push(t)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Ja extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Za=function(t){return function(t){const e=Xa(t);return Qa.encodeByteArray(e,!0)}(t).replace(/\./g,"")};
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const to=()=>
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,eo=()=>{if("undefined"==typeof document)return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(YN){return}const e=t&&function(t){try{return Qa.decodeString(t,!0)}catch(YN){console.error("base64Decode failed: ",YN)}return null}(t[1]);return e&&JSON.parse(e)},no=()=>{try{return to()||(()=>{if("undefined"==typeof process)return;const t=Ya.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||eo()}catch(YN){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${YN}`)}},ro=t=>{const e=(t=>{var e,n;return null===(n=null===(e=no())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]},so=()=>{var t;return null===(t=no())||void 0===t?void 0:t.config};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class io{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),"function"==typeof t&&(this.promise.catch(()=>{}),1===t.length?t(e):t(e,n))}}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ao(){return!function(){var t;const e=null===(t=no())||void 0===t?void 0:t.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(YN){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}class oo extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,oo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lo.prototype.create)}}class lo{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t,...e){const n=e[0]||{},r=`${this.service}/${t}`,s=this.errors[t],i=s?function(t,e){return t.replace(co,(t,n)=>{const r=e[n];return null!=r?String(r):`<${n}?>`})}(s,n):"Error",a=`${this.serviceName}: ${i} (${r}).`;return new oo(r,a,n)}}const co=/\{\$([^}]+)}/g;function uo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const n=t[s],i=e[s];if(ho(n)&&ho(i)){if(!uo(n,i))return!1}else if(n!==i)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function ho(t){return null!==t&&"object"==typeof t}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fo(t){return t&&t._delegate?t._delegate:t}class po{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo="[DEFAULT]";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const t=new io;if(this.instancesDeferred.set(e,t),this.isInitialized(e)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:e});n&&t.resolve(n)}catch(YN){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(YN){if(r)return null;throw YN}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t))try{this.getOrInitializeService({instanceIdentifier:mo})}catch(YN){}for(const[t,e]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(t);try{const t=this.getOrInitializeService({instanceIdentifier:n});e.resolve(t)}catch(YN){}}}}clearInstance(t=mo){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...t.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return null!=this.component}isInitialized(t=mo){return this.instances.has(t)}getOptions(t=mo){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[s,i]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(s)&&i.resolve(r)}return r}onInit(t,e){var n;const r=this.normalizeInstanceIdentifier(e),s=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;s.add(t),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&t(i,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const s of n)try{s(t,e)}catch(r){}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=t,r===mo?void 0:r),options:e}),this.instances.set(t,n),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch(s){}var r;return n||null}normalizeInstanceIdentifier(t=mo){return this.component?this.component.multipleInstances?t:mo:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class vo{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new go(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yo,bo;(bo=yo||(yo={}))[bo.DEBUG=0]="DEBUG",bo[bo.VERBOSE=1]="VERBOSE",bo[bo.INFO=2]="INFO",bo[bo.WARN=3]="WARN",bo[bo.ERROR=4]="ERROR",bo[bo.SILENT=5]="SILENT";const wo={debug:yo.DEBUG,verbose:yo.VERBOSE,info:yo.INFO,warn:yo.WARN,error:yo.ERROR,silent:yo.SILENT},xo=yo.INFO,So={[yo.DEBUG]:"log",[yo.VERBOSE]:"log",[yo.INFO]:"info",[yo.WARN]:"warn",[yo.ERROR]:"error"},_o=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),s=So[e];if(!s)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[s](`[${r}]  ${t.name}:`,...n)};class Ao{constructor(t){this.name=t,this._logLevel=xo,this._logHandler=_o,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in yo))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?wo[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,yo.DEBUG,...t),this._logHandler(this,yo.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,yo.VERBOSE,...t),this._logHandler(this,yo.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,yo.INFO,...t),this._logHandler(this,yo.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,yo.WARN,...t),this._logHandler(this,yo.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,yo.ERROR,...t),this._logHandler(this,yo.ERROR,...t)}}let No,Eo;const ko=new WeakMap,Co=new WeakMap,Lo=new WeakMap,To=new WeakMap,Po=new WeakMap;let Io={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Co.get(t);if("objectStoreNames"===e)return t.objectStoreNames||Lo.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mo(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Do(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Eo||(Eo=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(Oo(this),e),Mo(ko.get(this))}:function(...e){return Mo(t.apply(Oo(this),e))}:function(e,...n){const r=t.call(Oo(this),e,...n);return Lo.set(r,e.sort?e.sort():[e]),Mo(r)}}function Fo(t){return"function"==typeof t?Do(t):(t instanceof IDBTransaction&&function(t){if(Co.has(t))return;const e=new Promise((e,n)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",i),t.removeEventListener("abort",i)},s=()=>{e(),r()},i=()=>{n(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",i),t.addEventListener("abort",i)});Co.set(t,e)}(t),e=t,(No||(No=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(t=>e instanceof t)?new Proxy(t,Io):t);var e}function Mo(t){if(t instanceof IDBRequest)return function(t){const e=new Promise((e,n)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",i)},s=()=>{e(Mo(t.result)),r()},i=()=>{n(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",i)});return e.then(e=>{e instanceof IDBCursor&&ko.set(e,t)}).catch(()=>{}),Po.set(e,t),e}(t);if(To.has(t))return To.get(t);const e=Fo(t);return e!==t&&(To.set(t,e),Po.set(e,t)),e}const Oo=t=>Po.get(t);const Ro=["get","getKey","getAll","getAllKeys","count"],jo=["put","add","delete","clear"],Bo=new Map;function qo(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Bo.get(e))return Bo.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=jo.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!s&&!Ro.includes(n))return;const i=async function(t,...e){const i=this.transaction(t,s?"readwrite":"readonly");let a=i.store;return r&&(a=a.index(e.shift())),(await Promise.all([a[n](...e),s&&i.done]))[0]};return Bo.set(e,i),i}Io=(t=>({...t,get:(e,n,r)=>qo(e,n)||t.get(e,n,r),has:(e,n)=>!!qo(e,n)||t.has(e,n)}))(Io);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Uo{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const e=t.getImmediate();return`${e.library}/${e.version}`}return null}).filter(t=>t).join(" ")}}const Vo="@firebase/app",zo="0.10.13",Ho=new Ao("@firebase/app"),$o="@firebase/app-compat",Wo="@firebase/analytics-compat",Go="@firebase/analytics",Ko="@firebase/app-check-compat",Yo="@firebase/app-check",Xo="@firebase/auth",Qo="@firebase/auth-compat",Jo="@firebase/database",Zo="@firebase/data-connect",tl="@firebase/database-compat",el="@firebase/functions",nl="@firebase/functions-compat",rl="@firebase/installations",sl="@firebase/installations-compat",il="@firebase/messaging",al="@firebase/messaging-compat",ol="@firebase/performance",ll="@firebase/performance-compat",cl="@firebase/remote-config",ul="@firebase/remote-config-compat",hl="@firebase/storage",dl="@firebase/storage-compat",fl="@firebase/firestore",pl="@firebase/vertexai-preview",ml="@firebase/firestore-compat",gl="firebase",vl="[DEFAULT]",yl={[Vo]:"fire-core",[$o]:"fire-core-compat",[Go]:"fire-analytics",[Wo]:"fire-analytics-compat",[Yo]:"fire-app-check",[Ko]:"fire-app-check-compat",[Xo]:"fire-auth",[Qo]:"fire-auth-compat",[Jo]:"fire-rtdb",[Zo]:"fire-data-connect",[tl]:"fire-rtdb-compat",[el]:"fire-fn",[nl]:"fire-fn-compat",[rl]:"fire-iid",[sl]:"fire-iid-compat",[il]:"fire-fcm",[al]:"fire-fcm-compat",[ol]:"fire-perf",[ll]:"fire-perf-compat",[cl]:"fire-rc",[ul]:"fire-rc-compat",[hl]:"fire-gcs",[dl]:"fire-gcs-compat",[fl]:"fire-fst",[ml]:"fire-fst-compat",[pl]:"fire-vertex","fire-js":"fire-js",[gl]:"fire-js-all"},bl=new Map,wl=new Map,xl=new Map;function Sl(t,e){try{t.container.addComponent(e)}catch(YN){Ho.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,YN)}}function _l(t){const e=t.name;if(xl.has(e))return Ho.debug(`There were multiple attempts to register component ${e}.`),!1;xl.set(e,t);for(const n of bl.values())Sl(n,t);for(const n of wl.values())Sl(n,t);return!0}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Al=new lo("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Nl{constructor(t,e,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new po("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Al.create("app-deleted",{appName:this._name})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(t,e={}){let n=t;if("object"!=typeof e){e={name:e}}const r=Object.assign({name:vl,automaticDataCollectionEnabled:!1},e),s=r.name;if("string"!=typeof s||!s)throw Al.create("bad-app-name",{appName:String(s)});if(n||(n=so()),!n)throw Al.create("no-options");const i=bl.get(s);if(i){if(uo(n,i.options)&&uo(r,i.config))return i;throw Al.create("duplicate-app",{appName:s})}const a=new vo(s);for(const l of xl.values())a.addComponent(l);const o=new Nl(n,r,a);return bl.set(s,o),o}function kl(t,e,n){var r;let s=null!==(r=yl[t])&&void 0!==r?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const t=[`Unable to register library "${s}" with version "${e}":`];return i&&t.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&a&&t.push("and"),a&&t.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Ho.warn(t.join(" "))}_l(new po(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cl="firebase-heartbeat-store";let Ll=null;function Tl(){return Ll||(Ll=function(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(t,e),o=Mo(a);return r&&a.addEventListener("upgradeneeded",t=>{r(Mo(a.result),t.oldVersion,t.newVersion,Mo(a.transaction),t)}),n&&a.addEventListener("blocked",t=>n(t.oldVersion,t.newVersion,t)),o.then(t=>{i&&t.addEventListener("close",()=>i()),s&&t.addEventListener("versionchange",t=>s(t.oldVersion,t.newVersion,t))}).catch(()=>{}),o}("firebase-heartbeat-database",1,{upgrade:(t,e)=>{if(0===e)try{t.createObjectStore(Cl)}catch(YN){console.warn(YN)}}}).catch(t=>{throw Al.create("idb-open",{originalErrorMessage:t.message})})),Ll}async function Pl(t,e){try{const n=(await Tl()).transaction(Cl,"readwrite"),r=n.objectStore(Cl);await r.put(e,Il(t)),await n.done}catch(YN){if(YN instanceof oo)Ho.warn(YN.message);else{const e=Al.create("idb-set",{originalErrorMessage:null==YN?void 0:YN.message});Ho.warn(e.message)}}}function Il(t){return`${t.name}!${t.options.appId}`}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new Ml(e),this._heartbeatsCachePromise=this._storage.read().then(t=>(this._heartbeatsCache=t,t))}async triggerHeartbeat(){var t,e;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Fl();if(null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(t=>t.date===r))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(t=>{const e=new Date(t.date).valueOf();return Date.now()-e<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}catch(YN){Ho.warn(YN)}}async getHeartbeatsHeader(){var t;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const e=Fl(),{heartbeatsToSend:n,unsentEntries:r}=function(t,e=1024){const n=[];let r=t.slice();for(const s of t){const t=n.find(t=>t.agent===s.agent);if(t){if(t.dates.push(s.date),Ol(n)>e){t.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Ol(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),s=Za(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(YN){return Ho.warn(YN),""}}}function Fl(){return(new Date).toISOString().substring(0,10)}class Ml{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"==typeof indexedDB}catch(YN){return!1}}()&&new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var t;e((null===(t=s.error)||void 0===t?void 0:t.message)||"")}}catch(n){e(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const t=await async function(t){try{const e=(await Tl()).transaction(Cl),n=await e.objectStore(Cl).get(Il(t));return await e.done,n}catch(YN){if(YN instanceof oo)Ho.warn(YN.message);else{const e=Al.create("idb-get",{originalErrorMessage:null==YN?void 0:YN.message});Ho.warn(e.message)}}}(this.app);return(null==t?void 0:t.heartbeats)?t:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return Pl(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}}async add(t){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return Pl(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}}}function Ol(t){return Za(JSON.stringify({version:2,heartbeats:t})).length}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rl;Rl="",_l(new po("platform-logger",t=>new Uo(t),"PRIVATE")),_l(new po("heartbeat",t=>new Dl(t),"PRIVATE")),kl(Vo,zo,Rl),kl(Vo,zo,"esm2017"),kl("fire-js","");
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
kl("firebase","10.14.1","app");var jl,Bl,ql="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};
/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/(function(){var t;
/** @license
  
   Copyright The Closure Library Authors.
   SPDX-License-Identifier: Apache-2.0
  */function e(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var i=t.g[3],a=e+(i^n&(s^i))+r[0]+3614090360&4294967295;a=(n=(s=(i=(e=(n=(s=(i=(e=(n=(s=(i=(e=(n=(s=(i=(e=(n=(s=(i=(e=(n=(s=(i=(e=(n=(s=(i=(e=(n=(s=(i=(e=(n=(s=(i=(e=(n=(s=(i=(e=(n=(s=(i=(e=(n=(s=(i=(e=(n=(s=(i=(e=(n=(s=(i=(e=(n=(s=(i=(e=n+(a<<7&4294967295|a>>>25))+((a=i+(s^e&(n^s))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^i&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(e^s&(i^e))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=e+(i^n&(s^i))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=i+(s^e&(n^s))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^i&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(e^s&(i^e))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=e+(i^n&(s^i))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=i+(s^e&(n^s))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^i&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(e^s&(i^e))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=e+(i^n&(s^i))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=i+(s^e&(n^s))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^i&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(e^s&(i^e))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=e+(s^i&(n^s))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^s&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=s+(e^n&(i^e))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^e&(s^i))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=e+(s^i&(n^s))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^s&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=s+(e^n&(i^e))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^e&(s^i))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=e+(s^i&(n^s))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^s&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=s+(e^n&(i^e))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^e&(s^i))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=e+(s^i&(n^s))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^s&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=s+(e^n&(i^e))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^e&(s^i))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=e+(n^s^i)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=i+(e^n^s)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=s+(i^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^i^e)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=e+(n^s^i)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=i+(e^n^s)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=s+(i^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^i^e)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=e+(n^s^i)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=i+(e^n^s)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=s+(i^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^i^e)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=e+(n^s^i)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=i+(e^n^s)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=s+(i^e^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^i^e)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=e+(s^(n|~i))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(e|~s))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=s+(e^(i|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(s|~e))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=e+(s^(n|~i))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(e|~s))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=s+(e^(i|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(s|~e))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=e+(s^(n|~i))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(e|~s))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=s+(e^(i|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(s|~e))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((i=(e=n+((a=e+(s^(n|~i))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(e|~s))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((s=i+((a=s+(e^(i|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(a<<21&4294967295|a>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+i&4294967295}function r(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var i=0|t[s];r&&i==e||(n[s]=i,r=!1)}this.g=n}!function(t,e){function n(){}n.prototype=e.prototype,t.D=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.C=function(t,n,r){for(var s=Array(arguments.length-2),i=2;i<arguments.length;i++)s[i-2]=arguments[i];return e.prototype[n].apply(t,s)}}(e,function(){this.blockSize=-1}),e.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},e.prototype.u=function(t,e){void 0===e&&(e=t.length);for(var r=e-this.blockSize,s=this.B,i=this.h,a=0;a<e;){if(0==i)for(;a<=r;)n(this,t,a),a+=this.blockSize;if("string"==typeof t){for(;a<e;)if(s[i++]=t.charCodeAt(a++),i==this.blockSize){n(this,s),i=0;break}}else for(;a<e;)if(s[i++]=t[a++],i==this.blockSize){n(this,s),i=0;break}}this.h=i,this.o+=e},e.prototype.v=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.o;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.u(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var s={};function i(t){return-128<=t&&128>t?function(t,e){var n=s;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(t){return new r([0|t],0>t?-1:0)}):new r([0|t],0>t?-1:0)}function a(t){if(isNaN(t)||!isFinite(t))return o;if(0>t)return d(a(-t));for(var e=[],n=1,s=0;t>=n;s++)e[s]=t/n|0,n*=4294967296;return new r(e,0)}var o=i(0),l=i(1),c=i(16777216);function u(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function h(t){return-1==t.h}function d(t){for(var e=t.g.length,n=[],s=0;s<e;s++)n[s]=~t.g[s];return new r(n,~t.h).add(l)}function f(t,e){return t.add(d(e))}function p(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function m(t,e){this.g=t,this.h=e}function g(t,e){if(u(e))throw Error("division by zero");if(u(t))return new m(o,o);if(h(t))return e=g(d(t),e),new m(d(e.g),d(e.h));if(h(e))return e=g(t,d(e)),new m(d(e.g),e.h);if(30<t.g.length){if(h(t)||h(e))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=e;0>=r.l(t);)n=v(n),r=v(r);var s=y(n,1),i=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=i.add(r);0>=c.l(t)&&(s=s.add(n),i=c),r=y(r,1),n=y(n,1)}return e=f(t,s.j(e)),new m(s,e)}for(s=o;0<=t.l(e);){for(n=Math.max(1,Math.floor(t.m()/e.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(i=a(n)).j(e);h(c)||0<c.l(t);)c=(i=a(n-=r)).j(e);u(i)&&(i=l),s=s.add(i),t=f(t,c)}return new m(s,t)}function v(t){for(var e=t.g.length+1,n=[],s=0;s<e;s++)n[s]=t.i(s)<<1|t.i(s-1)>>>31;return new r(n,t.h)}function y(t,e){var n=e>>5;e%=32;for(var s=t.g.length-n,i=[],a=0;a<s;a++)i[a]=0<e?t.i(a+n)>>>e|t.i(a+n+1)<<32-e:t.i(a+n);return new r(i,t.h)}(t=r.prototype).m=function(){if(h(this))return-d(this).m();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.i(n);t+=(0<=r?r:4294967296+r)*e,e*=4294967296}return t},t.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(u(this))return"0";if(h(this))return"-"+d(this).toString(t);for(var e=a(Math.pow(t,6)),n=this,r="";;){var s=g(n,e).g,i=((0<(n=f(n,s.j(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(u(n=s))return i+r;for(;6>i.length;)i="0"+i;r=i+r}},t.i=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},t.l=function(t){return h(t=f(this,t))?-1:u(t)?0:1},t.abs=function(){return h(this)?d(this):this},t.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0,i=0;i<=e;i++){var a=s+(65535&this.i(i))+(65535&t.i(i)),o=(a>>>16)+(this.i(i)>>>16)+(t.i(i)>>>16);s=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},t.j=function(t){if(u(this)||u(t))return o;if(h(this))return h(t)?d(this).j(d(t)):d(d(this).j(t));if(h(t))return d(this.j(d(t)));if(0>this.l(c)&&0>t.l(c))return a(this.m()*t.m());for(var e=this.g.length+t.g.length,n=[],s=0;s<2*e;s++)n[s]=0;for(s=0;s<this.g.length;s++)for(var i=0;i<t.g.length;i++){var l=this.i(s)>>>16,f=65535&this.i(s),m=t.i(i)>>>16,g=65535&t.i(i);n[2*s+2*i]+=f*g,p(n,2*s+2*i),n[2*s+2*i+1]+=l*g,p(n,2*s+2*i+1),n[2*s+2*i+1]+=f*m,p(n,2*s+2*i+1),n[2*s+2*i+2]+=l*m,p(n,2*s+2*i+2)}for(s=0;s<e;s++)n[s]=n[2*s+1]<<16|n[2*s];for(s=e;s<2*e;s++)n[s]=0;return new r(n,0)},t.A=function(t){return g(this,t).h},t.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0;s<e;s++)n[s]=this.i(s)&t.i(s);return new r(n,this.h&t.h)},t.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0;s<e;s++)n[s]=this.i(s)|t.i(s);return new r(n,this.h|t.h)},t.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0;s<e;s++)n[s]=this.i(s)^t.i(s);return new r(n,this.h^t.h)},e.prototype.digest=e.prototype.v,e.prototype.reset=e.prototype.s,e.prototype.update=e.prototype.u,Bl=e,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function t(e,n){if(0==e.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==e.charAt(0))return d(t(e.substring(1),n));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),s=o,i=0;i<e.length;i+=8){var l=Math.min(8,e.length-i),c=parseInt(e.substring(i,i+l),n);8>l?(l=a(Math.pow(n,l)),s=s.j(l).add(a(c))):s=(s=s.j(r)).add(a(c))}return s},jl=r}).apply(void 0!==ql?ql:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Ul,Vl,zl,Hl,$l,Wl,Gl,Kl,Yl="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};
/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){return t==Array.prototype||t==Object.prototype||(t[e]=n.value),t};var n=function(t){t=["object"==typeof globalThis&&globalThis,t,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Yl&&Yl];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(t,r){if(r)t:{var s=n;t=t.split(".");for(var i=0;i<t.length-1;i++){var a=t[i];if(!(a in s))break t;s=s[a]}(r=r(i=s[t=t[t.length-1]]))!=i&&null!=r&&e(s,t,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",function(t){return t||function(){return function(t,e){t instanceof String&&(t+="");var n=0,r=!1,s={next:function(){if(!r&&n<t.length){var s=n++;return{value:e(s,t[s]),done:!1}}return r=!0,{done:!0,value:void 0}}};return s[Symbol.iterator]=function(){return s},s}(this,function(t,e){return e})}});
/** @license
  
   Copyright The Closure Library Authors.
   SPDX-License-Identifier: Apache-2.0
  */
var r=r||{},s=this||self;function i(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function a(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function o(t,e,n){return t.call.apply(t.bind,arguments)}function l(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function c(t,e,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function u(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function h(t,e){function n(){}n.prototype=e.prototype,t.aa=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Qb=function(t,n,r){for(var s=Array(arguments.length-2),i=2;i<arguments.length;i++)s[i-2]=arguments[i];return e.prototype[n].apply(t,s)}}function d(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function f(t,e){for(let n=1;n<arguments.length;n++){const e=arguments[n];if(i(e)){const n=t.length||0,r=e.length||0;t.length=n+r;for(let s=0;s<r;s++)t[n+s]=e[s]}else t.push(e)}}function p(t){return/^[\s\xa0]*$/.test(t)}function m(){var t=s.navigator;return t&&(t=t.userAgent)?t:""}function g(t){return g[" "](t),t}g[" "]=function(){};var v=!(-1==m().indexOf("Gecko")||-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge")||-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE")||-1!=m().indexOf("Edge"));function y(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function b(t){const e={};for(const n in t)e[n]=t[n];return e}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(t,e){let n,r;for(let s=1;s<arguments.length;s++){for(n in r=arguments[s],r)t[n]=r[n];for(let e=0;e<w.length;e++)n=w[e],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function S(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function _(t){s.setTimeout(()=>{throw t},0)}function A(){var t=L;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var N=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new E,t=>t.reset());class E{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}let k,C=!1,L=new class{constructor(){this.h=this.g=null}add(t,e){const n=N.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n}},T=()=>{const t=s.Promise.resolve(void 0);k=()=>{t.then(P)}};var P=()=>{for(var t;t=A();){try{t.h.call(t.g)}catch(n){_(n)}var e=N;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}C=!1};function I(){this.s=this.s,this.C=this.C}function D(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}I.prototype.s=!1,I.prototype.ma=function(){this.s||(this.s=!0,this.N())},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},D.prototype.h=function(){this.defaultPrevented=!0};var F=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const t=()=>{};s.addEventListener("test",t,e),s.removeEventListener("test",t,e)}catch(n){}return t}();function M(t,e){if(D.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(v){t:{try{g(e.nodeName);var s=!0;break t}catch(i){}s=!1}s||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:O[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&M.aa.h.call(this)}}h(M,D);var O={2:"touch",3:"pen",4:"mouse"};M.prototype.h=function(){M.aa.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var R="closure_listenable_"+(1e6*Math.random()|0),j=0;function B(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=s,this.key=++j,this.da=this.fa=!1}function q(t){t.da=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function U(t){this.src=t,this.g={},this.h=0}function V(t,e){var n=e.type;if(n in t.g){var r,s=t.g[n],i=Array.prototype.indexOf.call(s,e,void 0);(r=0<=i)&&Array.prototype.splice.call(s,i,1),r&&(q(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function z(t,e,n,r){for(var s=0;s<t.length;++s){var i=t[s];if(!i.da&&i.listener==e&&i.capture==!!n&&i.ha==r)return s}return-1}U.prototype.add=function(t,e,n,r,s){var i=t.toString();(t=this.g[i])||(t=this.g[i]=[],this.h++);var a=z(t,e,r,s);return-1<a?(e=t[a],n||(e.fa=!1)):((e=new B(e,this.src,i,!!r,s)).fa=n,t.push(e)),e};var H="closure_lm_"+(1e6*Math.random()|0),$={};function W(t,e,n,r,s){if(Array.isArray(e)){for(var i=0;i<e.length;i++)W(t,e[i],n,r,s);return null}return n=Z(n),t&&t[R]?t.K(e,n,!!a(r)&&!!r.capture,s):function(t,e,n,r,s,i){if(!e)throw Error("Invalid event type");var o=a(s)?!!s.capture:!!s,l=Q(t);if(l||(t[H]=l=new U(t)),n=l.add(e,n,r,o,i),n.proxy)return n;if(r=function(){function t(n){return e.call(t.src,t.listener,n)}const e=X;return t}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)F||(s=o),void 0===s&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(Y(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}(t,e,n,!1,r,s)}function G(t,e,n,r,s){if(Array.isArray(e))for(var i=0;i<e.length;i++)G(t,e[i],n,r,s);else r=a(r)?!!r.capture:!!r,n=Z(n),t&&t[R]?(t=t.i,(e=String(e).toString())in t.g&&(-1<(n=z(i=t.g[e],n,r,s))&&(q(i[n]),Array.prototype.splice.call(i,n,1),0==i.length&&(delete t.g[e],t.h--)))):t&&(t=Q(t))&&(e=t.g[e.toString()],t=-1,e&&(t=z(e,n,r,s)),(n=-1<t?e[t]:null)&&K(n))}function K(t){if("number"!=typeof t&&t&&!t.da){var e=t.src;if(e&&e[R])V(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Y(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Q(e))?(V(n,t),0==n.h&&(n.src=null,e[H]=null)):q(t)}}}function Y(t){return t in $?$[t]:$[t]="on"+t}function X(t,e){if(t.da)t=!0;else{e=new M(e,this);var n=t.listener,r=t.ha||t.src;t.fa&&K(t),t=n.call(r,e)}return t}function Q(t){return(t=t[H])instanceof U?t:null}var J="__closure_events_fn_"+(1e9*Math.random()>>>0);function Z(t){return"function"==typeof t?t:(t[J]||(t[J]=function(e){return t.handleEvent(e)}),t[J])}function tt(){I.call(this),this.i=new U(this),this.M=this,this.F=null}function et(t,e){var n,r=t.F;if(r)for(n=[];r;r=r.F)n.push(r);if(t=t.M,r=e.type||e,"string"==typeof e)e=new D(e,t);else if(e instanceof D)e.target=e.target||t;else{var s=e;x(e=new D(r,t),s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var a=e.g=n[i];s=nt(a,r,!0,e)&&s}if(s=nt(a=e.g=t,r,!0,e)&&s,s=nt(a,r,!1,e)&&s,n)for(i=0;i<n.length;i++)s=nt(a=e.g=n[i],r,!1,e)&&s}function nt(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var s=!0,i=0;i<e.length;++i){var a=e[i];if(a&&!a.da&&a.capture==n){var o=a.listener,l=a.ha||a.src;a.fa&&V(t.i,a),s=!1!==o.call(l,r)&&s}}return s&&!r.defaultPrevented}function rt(t,e,n){if("function"==typeof t)n&&(t=c(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=c(t.handleEvent,t)}return 2147483647<Number(e)?-1:s.setTimeout(t,e||0)}function st(t){t.g=rt(()=>{t.g=null,t.i&&(t.i=!1,st(t))},t.l);const e=t.h;t.h=null,t.m.apply(null,e)}h(tt,I),tt.prototype[R]=!0,tt.prototype.removeEventListener=function(t,e,n,r){G(this,t,e,n,r)},tt.prototype.N=function(){if(tt.aa.N.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)q(n[r]);delete e.g[t],e.h--}}this.F=null},tt.prototype.K=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},tt.prototype.L=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};class it extends I{constructor(t,e){super(),this.m=t,this.l=e,this.h=null,this.i=!1,this.g=null}j(t){this.h=arguments,this.g?this.i=!0:st(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function at(t){I.call(this),this.h=t,this.g={}}h(at,I);var ot=[];function lt(t){y(t.g,function(t,e){this.g.hasOwnProperty(e)&&K(t)},t),t.g={}}at.prototype.N=function(){at.aa.N.call(this),lt(this)},at.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ct=s.JSON.stringify,ut=s.JSON.parse,ht=class{stringify(t){return s.JSON.stringify(t,void 0)}parse(t){return s.JSON.parse(t,void 0)}};function dt(){}function ft(t){return t.h||(t.h=t.i())}function pt(){}dt.prototype.h=null;var mt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gt(){D.call(this,"d")}function vt(){D.call(this,"c")}h(gt,D),h(vt,D);var yt={},bt=null;function wt(){return bt=bt||new tt}function xt(t){D.call(this,yt.La,t)}function St(t){const e=wt();et(e,new xt(e))}function _t(t,e){D.call(this,yt.STAT_EVENT,t),this.stat=e}function At(t){const e=wt();et(e,new _t(e,t))}function Nt(t,e){D.call(this,yt.Ma,t),this.size=e}function Et(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){t()},e)}function kt(){this.g=!0}function Ct(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(var a=1;a<s.length;a++)s[a]=""}}}return ct(n)}catch(o){return e}}(t,n)+(r?" "+r:"")})}yt.La="serverreachability",h(xt,D),yt.STAT_EVENT="statevent",h(_t,D),yt.Ma="timingevent",h(Nt,D),kt.prototype.xa=function(){this.g=!1},kt.prototype.info=function(){};var Lt,Tt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function It(){}function Dt(t,e,n,r){this.j=t,this.i=e,this.l=n,this.R=r||1,this.U=new at(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ft}function Ft(){this.i=null,this.g="",this.h=!1}h(It,dt),It.prototype.g=function(){return new XMLHttpRequest},It.prototype.i=function(){return{}},Lt=new It;var Mt={},Ot={};function Rt(t,e,n){t.L=1,t.v=ce(se(e)),t.m=n,t.P=!0,jt(t,null)}function jt(t,e){t.F=Date.now(),Ut(t),t.A=se(t.v);var n=t.A,r=t.R;Array.isArray(r)||(r=[String(r)]),Se(n.i,"t",r),t.C=0,n=t.j.J,t.h=new Ft,t.g=un(t.j,n?e:null,!t.m),0<t.O&&(t.M=new it(c(t.Y,t,t.g),t.O)),e=t.U,n=t.g,r=t.ca;var s="readystatechange";Array.isArray(s)||(s&&(ot[0]=s.toString()),s=ot);for(var i=0;i<s.length;i++){var a=W(n,s[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}e=t.H?b(t.H):{},t.m?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.m,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),St(),function(t,e,n,r,s,i){t.info(function(){if(t.g)if(i)for(var a="",o=i.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");a=2<=h.length&&"type"==h[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+"\n"+n+"\n"+a})}(t.i,t.u,t.A,t.l,t.R,t.m)}function Bt(t){return!!t.g&&("GET"==t.u&&2!=t.L&&t.j.Ca)}function qt(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Ot:(n=Number(e.substring(n,r)),isNaN(n)?Mt:(r+=1)+n>e.length?Ot:(e=e.slice(r,r+n),t.C=r+n,e))}function Ut(t){t.S=Date.now()+t.I,Vt(t,t.I)}function Vt(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Et(c(t.ba,t),e)}function zt(t){t.B&&(s.clearTimeout(t.B),t.B=null)}function Ht(t){0==t.j.G||t.J||sn(t.j,t)}function $t(t){zt(t);var e=t.M;e&&"function"==typeof e.ma&&e.ma(),t.M=null,lt(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.ma())}function Wt(t,e){try{var n=t.j;if(0!=n.G&&(n.g==t||Qt(n.h,t)))if(!t.K&&Qt(n.h,t)&&3==n.G){try{var r=n.Da.g.parse(e)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;rn(n),Ge(n)}tn(n),At(18)}}else n.za=s[1],0<n.za-n.T&&37500>s[2]&&n.F&&0==n.v&&!n.C&&(n.C=Et(c(n.Za,n),6e3));if(1>=Xt(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else on(n,11)}else if((t.K||n.g==t)&&rn(n),!p(e))for(s=n.Da.g.parse(e),e=0;e<s.length;e++){let c=s[e];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const e=c[3];null!=e&&(n.la=e,n.j.info("VER="+n.la));const s=c[4];null!=s&&(n.Aa=s,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"==typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const t=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(t){var i=r.h;i.g||-1==t.indexOf("spdy")&&-1==t.indexOf("quic")&&-1==t.indexOf("h2")||(i.j=i.l,i.g=new Set,i.h&&(Jt(i,i.h),i.h=null))}if(r.D){const t=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;t&&(r.ya=t,le(r.I,r.D,t))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-t.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=t;if((r=n).qa=cn(r,r.J?r.ia:null,r.W),a.K){Zt(r.h,a);var o=a,l=r.L;l&&(o.I=l),o.B&&(zt(o),Ut(o)),r.g=a}else Ze(r);0<n.i.length&&Ye(n)}else"stop"!=c[0]&&"close"!=c[0]||on(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?on(n,7):We(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}St()}catch(u){}}Dt.prototype.ca=function(t){t=t.target;const e=this.M;e&&3==Ve(t)?e.j():this.Y(t)},Dt.prototype.Y=function(t){try{if(t==this.g)t:{const d=Ve(this.g);var e=this.g.Ba();this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||ze(this.g)))){this.J||4!=d||7==e||St(),zt(this);var n=this.g.Z();this.X=n;e:if(Bt(this)){var r=ze(this.g);t="";var i=r.length,a=4==Ve(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){$t(this),Ht(this);var o="";break e}this.h.i=new s.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:!(a&&e==i-1)});r.length=0,this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(t,e,n,r,s,i,a){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+"\n"+n+"\n"+i+" "+a})}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){e:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break e}}u=null}if(!(n=u)){this.o=!1,this.s=3,At(12),$t(this),Ht(this);break t}Ct(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wt(this,n)}if(this.P){let t;for(n=!0;!this.J&&this.C<o.length;){if(t=qt(this,o),t==Ot){4==d&&(this.s=4,At(14),n=!1),Ct(this.i,this.l,null,"[Incomplete Response]");break}if(t==Mt){this.s=4,At(15),Ct(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}Ct(this.i,this.l,t,null),Wt(this,t)}if(Bt(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=o.length||this.h.h||(this.s=1,At(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),en(h),h.M=!0,At(11))}}else Ct(this.i,this.l,o,"[Invalid Chunked Response]"),$t(this),Ht(this)}else Ct(this.i,this.l,o,null),Wt(this,o);4==d&&$t(this),this.o&&!this.J&&(4==d?sn(this.j,this):(this.o=!1,Ut(this)))}else(function(t){const e={};t=(t.g&&2<=Ve(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(p(t[r]))continue;var n=S(t[r]);const s=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const i=e[s]||[];e[s]=i,i.push(n)}!function(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(t){return t.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,At(12)):(this.s=0,At(13)),$t(this),Ht(this)}}}catch(d){}},Dt.prototype.cancel=function(){this.J=!0,$t(this)},Dt.prototype.ba=function(){this.B=null;const t=Date.now();0<=t-this.S?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.i,this.A),2!=this.L&&(St(),At(17)),$t(this),this.s=2,Ht(this)):Vt(this,this.S-t)};var Gt=class{constructor(t,e){this.g=t,this.map=e}};function Kt(t){this.l=t||10,s.PerformanceNavigationTiming?t=0<(t=s.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Yt(t){return!!t.h||!!t.g&&t.g.size>=t.j}function Xt(t){return t.h?1:t.g?t.g.size:0}function Qt(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function Jt(t,e){t.g?t.g.add(e):t.h=e}function Zt(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function te(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return d(t.i)}function ee(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(i(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function(t){if(t.na&&"function"==typeof t.na)return t.na();if(!t.V||"function"!=typeof t.V){if("undefined"!=typeof Map&&t instanceof Map)return Array.from(t.keys());if(!("undefined"!=typeof Set&&t instanceof Set)){if(i(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function(t){if(t.V&&"function"==typeof t.V)return t.V();if("undefined"!=typeof Map&&t instanceof Map||"undefined"!=typeof Set&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(i(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),s=r.length,a=0;a<s;a++)e.call(void 0,r[a],n&&n[a],t)}Kt.prototype.cancel=function(){if(this.i=te(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var ne=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function re(t){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,t instanceof re){this.h=t.h,ie(this,t.j),this.o=t.o,this.g=t.g,ae(this,t.s),this.l=t.l;var e=t.i,n=new ye;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),oe(this,n),this.m=t.m}else t&&(e=String(t).match(ne))?(this.h=!1,ie(this,e[1]||"",!0),this.o=ue(e[2]||""),this.g=ue(e[3]||"",!0),ae(this,e[4]),this.l=ue(e[5]||"",!0),oe(this,e[6]||"",!0),this.m=ue(e[7]||"")):(this.h=!1,this.i=new ye(null,this.h))}function se(t){return new re(t)}function ie(t,e,n){t.j=n?ue(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function ae(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.s=e}else t.s=null}function oe(t,e,n){e instanceof ye?(t.i=e,function(t,e){e&&!t.j&&(be(t),t.i=null,t.g.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(we(this,e),Se(this,n,t))},t)),t.j=e}(t.i,t.h)):(n||(e=he(e,ge)),t.i=new ye(e,t.h))}function le(t,e,n){t.i.set(e,n)}function ce(t){return le(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ue(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function he(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,de),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function de(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}re.prototype.toString=function(){var t=[],e=this.j;e&&t.push(he(e,fe,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.o)&&t.push(he(e,fe,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(he(n,"/"==n.charAt(0)?me:pe,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.m)&&t.push("#",he(n,ve)),t.join("")};var fe=/[#\/\?@]/g,pe=/[#\?:]/g,me=/[#\?]/g,ge=/[#\?@]/g,ve=/#/g;function ye(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function be(t){t.g||(t.g=new Map,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var i=t[n].substring(0,r);s=t[n].substring(r+1)}else i=t[n];e(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function we(t,e){be(t),e=_e(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function xe(t,e){return be(t),e=_e(t,e),t.g.has(e)}function Se(t,e,n){we(t,e),0<n.length&&(t.i=null,t.g.set(_e(t,e),d(n)),t.h+=n.length)}function _e(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Ae(t,e,n,r,s){try{s&&(s.onload=null,s.onerror=null,s.onabort=null,s.ontimeout=null),r(n)}catch(i){}}function Ne(){this.g=new ht}function Ee(t,e,n){const r=n||"";try{ee(t,function(t,n){let s=t;a(t)&&(s=ct(t)),e.push(r+n+"="+encodeURIComponent(s))})}catch(YN){throw e.push(r+"type="+encodeURIComponent("_badmap")),YN}}function ke(t){this.l=t.Ub||null,this.j=t.eb||!1}function Ce(t,e){tt.call(this),this.D=t,this.o=e,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Le(t){t.j.read().then(t.Pa.bind(t)).catch(t.ga.bind(t))}function Te(t){t.readyState=4,t.l=null,t.j=null,t.v=null,Pe(t)}function Pe(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function Ie(t){let e="";return y(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}function De(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=Ie(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):le(t,e,n))}function Fe(t){tt.call(this),this.headers=new Map,this.o=t||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(t=ye.prototype).add=function(t,e){be(this),this.i=null,t=_e(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},t.forEach=function(t,e){be(this),this.g.forEach(function(n,r){n.forEach(function(n){t.call(e,n,r,this)},this)},this)},t.na=function(){be(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let t=0;t<s.length;t++)n.push(e[r])}return n},t.V=function(t){be(this);let e=[];if("string"==typeof t)xe(this,t)&&(e=e.concat(this.g.get(_e(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},t.set=function(t,e){return be(this),this.i=null,xe(this,t=_e(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},t.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const i=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var s=i;""!==a[r]&&(s+="="+encodeURIComponent(String(a[r]))),t.push(s)}}return this.i=t.join("&")},h(ke,dt),ke.prototype.g=function(){return new Ce(this.l,this.j)},ke.prototype.i=function(t){return function(){return t}}({}),h(Ce,tt),(t=Ce.prototype).open=function(t,e){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=t,this.A=e,this.readyState=1,Pe(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.u,method:this.B,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||s).fetch(new Request(this.A,e)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Te(this)),this.readyState=0},t.Sa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Pe(this)),this.g&&(this.readyState=3,Pe(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(void 0!==s.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Le(this)}else t.text().then(this.Ra.bind(this),this.ga.bind(this))},t.Pa=function(t){if(this.g){if(this.o&&t.value)this.response.push(t.value);else if(!this.o){var e=t.value?t.value:new Uint8Array(0);(e=this.v.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Te(this):Pe(this),3==this.readyState&&Le(this)}},t.Ra=function(t){this.g&&(this.response=this.responseText=t,Te(this))},t.Qa=function(t){this.g&&(this.response=t,Te(this))},t.ga=function(){this.g&&Te(this)},t.setRequestHeader=function(t,e){this.u.append(t,e)},t.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Ce.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}}),h(Fe,tt);var Me=/^https?$/i,Oe=["POST","PUT"];function Re(t,e){t.h=!1,t.g&&(t.j=!0,t.g.abort(),t.j=!1),t.l=e,t.m=5,je(t),qe(t)}function je(t){t.A||(t.A=!0,et(t,"complete"),et(t,"error"))}function Be(t){if(t.h&&void 0!==r&&(!t.v[1]||4!=Ve(t)||2!=t.Z()))if(t.u&&4==Ve(t))rt(t.Ea,0,t);else if(et(t,"readystatechange"),4==Ve(t)){t.h=!1;try{const r=t.Z();t:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}var n;if(!(n=e)){var i;if(i=0===r){var a=String(t.D).match(ne)[1]||null;!a&&s.self&&s.self.location&&(a=s.self.location.protocol.slice(0,-1)),i=!Me.test(a?a.toLowerCase():"")}n=i}if(n)et(t,"complete"),et(t,"success");else{t.m=6;try{var o=2<Ve(t)?t.g.statusText:""}catch(l){o=""}t.l=o+" ["+t.Z()+"]",je(t)}}finally{qe(t)}}}function qe(t,e){if(t.g){Ue(t);const n=t.g,r=t.v[0]?()=>{}:null;t.g=null,t.v=null,e||et(t,"ready");try{n.onreadystatechange=r}catch(YN){}}}function Ue(t){t.I&&(s.clearTimeout(t.I),t.I=null)}function Ve(t){return t.g?t.g.readyState:0}function ze(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.H){case"":case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function He(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function $e(t){this.Aa=0,this.i=[],this.j=new kt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=He("failFast",!1,t),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=He("baseRetryDelayMs",5e3,t),this.cb=He("retryDelaySeedMs",1e4,t),this.Wa=He("forwardChannelMaxRetries",2,t),this.wa=He("forwardChannelRequestTimeoutMs",2e4,t),this.pa=t&&t.xmlHttpFactory||void 0,this.Xa=t&&t.Tb||void 0,this.Ca=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.h=new Kt(t&&t.concurrentRequestLimit),this.Da=new Ne,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=t&&t.Rb||!1,t&&t.xa&&this.j.xa(),t&&t.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&t&&t.detectBufferingProxy||!1,this.ja=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.ja=t.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function We(t){if(Ke(t),3==t.G){var e=t.U++,n=se(t.I);if(le(n,"SID",t.K),le(n,"RID",e),le(n,"TYPE","terminate"),Qe(t,n),(e=new Dt(t,t.j,e)).L=2,e.v=ce(se(n)),n=!1,s.navigator&&s.navigator.sendBeacon)try{n=s.navigator.sendBeacon(e.v.toString(),"")}catch(r){}!n&&s.Image&&((new Image).src=e.v,n=!0),n||(e.g=un(e.j,null),e.g.ea(e.v)),e.F=Date.now(),Ut(e)}ln(t)}function Ge(t){t.g&&(en(t),t.g.cancel(),t.g=null)}function Ke(t){Ge(t),t.u&&(s.clearTimeout(t.u),t.u=null),rn(t),t.h.cancel(),t.s&&("number"==typeof t.s&&s.clearTimeout(t.s),t.s=null)}function Ye(t){if(!Yt(t.h)&&!t.s){t.s=!0;var e=t.Ga;k||T(),C||(k(),C=!0),L.add(e,t),t.B=0}}function Xe(t,e){var n;n=e?e.l:t.U++;const r=se(t.I);le(r,"SID",t.K),le(r,"RID",n),le(r,"AID",t.T),Qe(t,r),t.m&&t.o&&De(r,t.m,t.o),n=new Dt(t,t.j,n,t.B+1),null===t.m&&(n.H=t.o),e&&(t.i=e.D.concat(t.i)),e=Je(t,n,1e3),n.I=Math.round(.5*t.wa)+Math.round(.5*t.wa*Math.random()),Jt(t.h,n),Rt(n,r,e)}function Qe(t,e){t.H&&y(t.H,function(t,n){le(e,n,t)}),t.l&&ee({},function(t,n){le(e,n,t)})}function Je(t,e,n){n=Math.min(t.i.length,n);var r=t.l?c(t.l.Na,t.l,t):null;t:{var s=t.i;let e=-1;for(;;){const t=["count="+n];-1==e?0<n?(e=s[0].g,t.push("ofs="+e)):e=0:t.push("ofs="+e);let a=!0;for(let o=0;o<n;o++){let n=s[o].g;const l=s[o].map;if(n-=e,0>n)e=Math.max(0,s[o].g-100),a=!1;else try{Ee(l,t,"req"+n+"_")}catch(i){r&&r(l)}}if(a){r=t.join("&");break t}}}return t=t.i.splice(0,n),e.D=t,r}function Ze(t){if(!t.g&&!t.u){t.Y=1;var e=t.Fa;k||T(),C||(k(),C=!0),L.add(e,t),t.v=0}}function tn(t){return!(t.g||t.u||3<=t.v)&&(t.Y++,t.u=Et(c(t.Fa,t),an(t,t.v)),t.v++,!0)}function en(t){null!=t.A&&(s.clearTimeout(t.A),t.A=null)}function nn(t){t.g=new Dt(t,t.j,"rpc",t.Y),null===t.m&&(t.g.H=t.o),t.g.O=0;var e=se(t.qa);le(e,"RID","rpc"),le(e,"SID",t.K),le(e,"AID",t.T),le(e,"CI",t.F?"0":"1"),!t.F&&t.ja&&le(e,"TO",t.ja),le(e,"TYPE","xmlhttp"),Qe(t,e),t.m&&t.o&&De(e,t.m,t.o),t.L&&(t.g.I=t.L);var n=t.g;t=t.ia,n.L=1,n.v=ce(se(e)),n.m=null,n.P=!0,jt(n,t)}function rn(t){null!=t.C&&(s.clearTimeout(t.C),t.C=null)}function sn(t,e){var n=null;if(t.g==e){rn(t),en(t),t.g=null;var r=2}else{if(!Qt(t.h,e))return;n=e.D,Zt(t.h,e),r=1}if(0!=t.G)if(e.o)if(1==r){n=e.m?e.m.length:0,e=Date.now()-e.F;var s=t.B;et(r=wt(),new Nt(r,n)),Ye(t)}else Ze(t);else if(3==(s=e.s)||0==s&&0<e.X||!(1==r&&function(t,e){return!(Xt(t.h)>=t.h.j-(t.s?1:0)||(t.s?(t.i=e.D.concat(t.i),0):1==t.G||2==t.G||t.B>=(t.Va?0:t.Wa)||(t.s=Et(c(t.Ga,t,e),an(t,t.B)),t.B++,0)))}(t,e)||2==r&&tn(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),s){case 1:on(t,5);break;case 4:on(t,10);break;case 3:on(t,6);break;default:on(t,2)}}function an(t,e){let n=t.Ta+Math.floor(Math.random()*t.cb);return t.isActive()||(n*=2),n*e}function on(t,e){if(t.j.info("Error code "+e),2==e){var n=c(t.fb,t),r=t.Xa;const e=!r;r=new re(r||"//www.google.com/images/cleardot.gif"),s.location&&"http"==s.location.protocol||ie(r,"https"),ce(r),e?function(t,e){const n=new kt;if(s.Image){const r=new Image;r.onload=u(Ae,n,"TestLoadImage: loaded",!0,e,r),r.onerror=u(Ae,n,"TestLoadImage: error",!1,e,r),r.onabort=u(Ae,n,"TestLoadImage: abort",!1,e,r),r.ontimeout=u(Ae,n,"TestLoadImage: timeout",!1,e,r),s.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(r.toString(),n):function(t,e){new kt;const n=new AbortController,r=setTimeout(()=>{n.abort(),Ae(0,0,!1,e)},1e4);fetch(t,{signal:n.signal}).then(t=>{clearTimeout(r),t.ok?Ae(0,0,!0,e):Ae(0,0,!1,e)}).catch(()=>{clearTimeout(r),Ae(0,0,!1,e)})}(r.toString(),n)}else At(2);t.G=0,t.l&&t.l.sa(e),ln(t),Ke(t)}function ln(t){if(t.G=0,t.ka=[],t.l){const e=te(t.h);0==e.length&&0==t.i.length||(f(t.ka,e),f(t.ka,t.i),t.h.i.length=0,d(t.i),t.i.length=0),t.l.ra()}}function cn(t,e,n){var r=n instanceof re?se(n):new re(n);if(""!=r.g)e&&(r.g=e+"."+r.g),ae(r,r.s);else{var i=s.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var a=new re(null);r&&ie(a,r),e&&(a.g=e),i&&ae(a,i),n&&(a.l=n),r=a}return n=t.D,e=t.ya,n&&e&&le(r,n,e),le(r,"VER",t.la),Qe(t,r),r}function un(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=t.Ca&&!t.pa?new Fe(new ke({eb:n})):new Fe(t.pa)).Ha(t.J),e}function hn(){}function dn(){}function fn(t,e){tt.call(this),this.g=new $e(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.o=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.va&&(t?t["X-WebChannel-Client-Profile"]=e.va:t={"X-WebChannel-Client-Profile":e.va}),this.g.S=t,(t=e&&e.Sb)&&!p(t)&&(this.g.m=t),this.v=e&&e.supportsCrossDomainXhr||!1,this.u=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!p(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&(e in(t=this.h)&&delete t[e])),this.j=new gn(this)}function pn(t){gt.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){t:{for(const n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function mn(){vt.call(this),this.status=1}function gn(t){this.g=t}(t=Fe.prototype).Ha=function(t){this.J=t},t.ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+t);e=e?e.toUpperCase():"GET",this.D=t,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Lt.g(),this.v=this.o?ft(this.o):ft(Lt),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(e,String(t),!0),this.B=!1}catch(a){return void Re(this,a)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const t of r.keys())n.set(t,r.get(t))}r=Array.from(n.keys()).find(t=>"content-type"==t.toLowerCase()),i=s.FormData&&t instanceof s.FormData,!(0<=Array.prototype.indexOf.call(Oe,e,void 0))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ue(this),this.u=!0,this.g.send(t),this.u=!1}catch(a){Re(this,a)}},t.abort=function(t){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=t||7,et(this,"complete"),et(this,"abort"),qe(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qe(this,!0)),Fe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Be(this):this.bb())},t.bb=function(){Be(this)},t.isActive=function(){return!!this.g},t.Z=function(){try{return 2<Ve(this)?this.g.status:-1}catch(t){return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},t.Oa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),ut(e)}},t.Ba=function(){return this.m},t.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(t=$e.prototype).la=8,t.G=1,t.connect=function(t,e,n,r){At(0),this.W=t,this.H=e||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=cn(this,null,this.W),Ye(this)},t.Ga=function(t){if(this.s)if(this.s=null,1==this.G){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const s=new Dt(this,this.j,t);let i=this.o;if(this.S&&(i?(i=b(i),x(i,this.S)):i=this.S),null!==this.m||this.O||(s.H=i,i=null),this.P)t:{for(var e=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break t}if(4096===e||n===this.i.length-1){e=n+1;break t}}e=1e3}else e=1e3;e=Je(this,s,e),le(n=se(this.I),"RID",t),le(n,"CVER",22),this.D&&le(n,"X-HTTP-Session-Id",this.D),Qe(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(Ie(i)))+"&"+e:this.m&&De(n,this.m,i)),Jt(this.h,s),this.Ua&&le(n,"TYPE","init"),this.P?(le(n,"$req",e),le(n,"SID","null"),s.T=!0,Rt(s,n,null)):Rt(s,n,e),this.G=2}}else 3==this.G&&(t?Xe(this,t):0==this.i.length||Yt(this.h)||Xe(this))},t.Fa=function(){if(this.u=null,nn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var t=2*this.R;this.j.info("BP detection timer enabled: "+t),this.A=Et(c(this.ab,this),t)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,At(10),Ge(this),nn(this))},t.Za=function(){null!=this.C&&(this.C=null,Ge(this),tn(this),At(19))},t.fb=function(t){t?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))},t.isActive=function(){return!!this.l&&this.l.isActive(this)},(t=hn.prototype).ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){},dn.prototype.g=function(t,e){return new fn(t,e)},h(fn,tt),fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){We(this.g)},fn.prototype.o=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.u&&((n={}).__data__=ct(t),t=n);e.i.push(new Gt(e.Ya++,t)),3==e.G&&Ye(e)},fn.prototype.N=function(){this.g.l=null,delete this.j,We(this.g),delete this.g,fn.aa.N.call(this)},h(pn,gt),h(mn,vt),h(gn,hn),gn.prototype.ua=function(){et(this.g,"a")},gn.prototype.ta=function(t){et(this.g,new pn(t))},gn.prototype.sa=function(t){et(this.g,new mn)},gn.prototype.ra=function(){et(this.g,"b")},dn.prototype.createWebChannel=dn.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,Kl=function(){return new dn},Gl=function(){return wt()},Wl=yt,$l={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Tt.NO_ERROR=0,Tt.TIMEOUT=8,Tt.HTTP_ERROR=6,Hl=Tt,Pt.COMPLETE="complete",zl=Pt,pt.EventType=mt,mt.OPEN="a",mt.CLOSE="b",mt.ERROR="c",mt.MESSAGE="d",tt.prototype.listen=tt.prototype.K,Vl=pt,Fe.prototype.listenOnce=Fe.prototype.L,Fe.prototype.getLastError=Fe.prototype.Ka,Fe.prototype.getLastErrorCode=Fe.prototype.Ba,Fe.prototype.getStatus=Fe.prototype.Z,Fe.prototype.getResponseJson=Fe.prototype.Oa,Fe.prototype.getResponseText=Fe.prototype.oa,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Ha,Ul=Fe}).apply(void 0!==Yl?Yl:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});const Xl="@firebase/firestore";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ql.UNAUTHENTICATED=new Ql(null),Ql.GOOGLE_CREDENTIALS=new Ql("google-credentials-uid"),Ql.FIRST_PARTY=new Ql("first-party-uid"),Ql.MOCK_USER=new Ql("mock-user");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let Jl="10.14.0";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl=new Ao("@firebase/firestore");function tc(){return Zl.logLevel}function ec(t,...e){if(Zl.logLevel<=yo.DEBUG){const n=e.map(sc);Zl.debug(`Firestore (${Jl}): ${t}`,...n)}}function nc(t,...e){if(Zl.logLevel<=yo.ERROR){const n=e.map(sc);Zl.error(`Firestore (${Jl}): ${t}`,...n)}}function rc(t,...e){if(Zl.logLevel<=yo.WARN){const n=e.map(sc);Zl.warn(`Firestore (${Jl}): ${t}`,...n)}}function sc(t){if("string"==typeof t)return t;try{
/**
    * @license
    * Copyright 2020 Google LLC
    *
    * Licensed under the Apache License, Version 2.0 (the "License");
    * you may not use this file except in compliance with the License.
    * You may obtain a copy of the License at
    *
    *   http://www.apache.org/licenses/LICENSE-2.0
    *
    * Unless required by applicable law or agreed to in writing, software
    * distributed under the License is distributed on an "AS IS" BASIS,
    * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    * See the License for the specific language governing permissions and
    * limitations under the License.
    */
return e=t,JSON.stringify(e)}catch(KN){return t}var e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ic(t="Unexpected state"){const e=`FIRESTORE (${Jl}) INTERNAL ASSERTION FAILED: `+t;throw nc(e),new Error(e)}function ac(t,e){t||ic()}function oc(t,e){return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class cc extends oo{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class dc{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Ql.UNAUTHENTICATED))}shutdown(){}}class fc{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class pc{constructor(t){this.t=t,this.currentUser=Ql.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){ac(void 0===this.o);let n=this.i;const r=t=>this.i!==n?(n=this.i,e(t)):Promise.resolve();let s=new uc;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new uc,t.enqueueRetryable(()=>r(this.currentUser))};const i=()=>{const e=s;t.enqueueRetryable(async()=>{await e.promise,await r(this.currentUser)})},a=t=>{ec("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=t,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit(t=>a(t)),setTimeout(()=>{if(!this.auth){const t=this.t.getImmediate({optional:!0});t?a(t):(ec("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new uc)}},0),i()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(e=>this.i!==t?(ec("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):e?(ac("string"==typeof e.accessToken),new hc(e.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ac(null===t||"string"==typeof t),new Ql(t)}}class mc{constructor(t,e,n){this.l=t,this.h=e,this.P=n,this.type="FirstParty",this.user=Ql.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class gc{constructor(t,e,n){this.l=t,this.h=e,this.P=n}getToken(){return Promise.resolve(new mc(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(Ql.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vc{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yc{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){ac(void 0===this.o);const n=t=>{null!=t.error&&ec("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${t.error.message}`);const n=t.token!==this.R;return this.R=t.token,ec("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?e(t.token):Promise.resolve()};this.o=e=>{t.enqueueRetryable(()=>n(e))};const r=t=>{ec("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=t,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(t=>r(t)),setTimeout(()=>{if(!this.appCheck){const t=this.A.getImmediate({optional:!0});t?r(t):ec("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(t=>t?(ac("string"==typeof t.token),this.R=t.token,new vc(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=bc(40);for(let s=0;s<r.length;++s)n.length<20&&r[s]<e&&(n+=t.charAt(r[s]%62))}return n}}function xc(t,e){return t<e?-1:t>e?1:0}function Sc(t,e,n){return t.length===e.length&&t.every((t,r)=>n(t,e[r]))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new cc(lc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new cc(lc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new cc(lc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new cc(lc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return _c.fromMillis(Date.now())}static fromDate(t){return _c.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor(1e6*(t-1e3*e));return new _c(e,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?xc(this.nanoseconds,t.nanoseconds):xc(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Ac(t)}static min(){return new Ac(new _c(0,0))}static max(){return new Ac(new _c(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(t,e,n){void 0===e?e=0:e>t.length&&ic(),void 0===n?n=t.length-e:n>t.length-e&&ic(),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return 0===Nc.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Nc?t.forEach(t=>{e.push(t)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const n=t.get(r),s=e.get(r);if(n<s)return-1;if(n>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Ec extends Nc{construct(t,e,n){return new Ec(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const n of t){if(n.indexOf("//")>=0)throw new cc(lc.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);e.push(...n.split("/").filter(t=>t.length>0))}return new Ec(e)}static emptyPath(){return new Ec([])}}const kc=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Cc extends Nc{construct(t,e,n){return new Cc(t,e,n)}static isValidIdentifier(t){return kc.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Cc.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Cc(["__name__"])}static fromServerFormat(t){const e=[];let n="",r=0;const s=()=>{if(0===n.length)throw new cc(lc.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(n),n=""};let i=!1;for(;r<t.length;){const e=t[r];if("\\"===e){if(r+1===t.length)throw new cc(lc.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const e=t[r+1];if("\\"!==e&&"."!==e&&"`"!==e)throw new cc(lc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=e,r+=2}else"`"===e?(i=!i,r++):"."!==e||i?(n+=e,r++):(s(),r++)}if(s(),i)throw new cc(lc.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Cc(e)}static emptyPath(){return new Cc([])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(t){this.path=t}static fromPath(t){return new Lc(Ec.fromString(t))}static fromName(t){return new Lc(Ec.fromString(t).popFirst(5))}static empty(){return new Lc(Ec.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Ec.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Ec.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Lc(new Ec(t.slice()))}}function Tc(t){return new Pc(t.readTime,t.key,-1)}class Pc{constructor(t,e,n){this.readTime=t,this.documentKey=e,this.largestBatchId=n}static min(){return new Pc(Ac.min(),Lc.empty(),-1)}static max(){return new Pc(Ac.max(),Lc.empty(),-1)}}function Ic(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=Lc.comparator(t.documentKey,e.documentKey),0!==n?n:xc(t.largestBatchId,e.largestBatchId)
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */)}class Dc{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fc(t){if(t.code!==lc.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==t.message)throw t;ec("LocalStore","Unexpectedly lost primary lease")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&ic(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Mc((n,r)=>{this.nextCallback=e=>{this.wrapSuccess(t,e).next(n,r)},this.catchCallback=t=>{this.wrapFailure(e,t).next(n,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Mc?e:Mc.resolve(e)}catch(e){return Mc.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Mc.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Mc.reject(e)}static resolve(t){return new Mc((e,n)=>{e(t)})}static reject(t){return new Mc((e,n)=>{n(t)})}static waitFor(t){return new Mc((e,n)=>{let r=0,s=0,i=!1;t.forEach(t=>{++r,t.next(()=>{++s,i&&s===r&&e()},t=>n(t))}),i=!0,s===r&&e()})}static or(t){let e=Mc.resolve(!1);for(const n of t)e=e.next(t=>t?Mc.resolve(t):n());return e}static forEach(t,e){const n=[];return t.forEach((t,r)=>{n.push(e.call(this,t,r))}),this.waitFor(n)}static mapArray(t,e){return new Mc((n,r)=>{const s=t.length,i=new Array(s);let a=0;for(let o=0;o<s;o++){const l=o;e(t[l]).next(t=>{i[l]=t,++a,a===s&&n(i)},t=>r(t))}})}static doWhile(t,e){return new Mc((n,r)=>{const s=()=>{!0===t()?e().next(()=>{s()},r):n()};s()})}}function Oc(t){return"IndexedDbTransactionError"===t.name}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=t=>this.ie(t),this.se=t=>e.writeSequenceNumber(t))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}function jc(t){return null==t}function Bc(t){return 0===t&&1/t==-1/0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function qc(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Uc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Vc(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rc.oe=-1;class zc{constructor(t,e){this.comparator=t,this.root=e||$c.EMPTY}insert(t,e){return new zc(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,$c.BLACK,null,null))}remove(t){return new zc(this.comparator,this.root.remove(t,this.comparator).copy(null,null,$c.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,n)=>(t(e,n),!1))}toString(){const t=[];return this.inorderTraversal((e,n)=>(t.push(`${e}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Hc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Hc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Hc(this.root,t,this.comparator,!0)}}class Hc{constructor(t,e,n,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?n(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class $c{constructor(t,e,n,r,s){this.key=t,this.value=e,this.color=null!=n?n:$c.RED,this.left=null!=r?r:$c.EMPTY,this.right=null!=s?s:$c.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,r,s){return new $c(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let r=this;const s=n(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===s?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return $c.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return $c.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,$c.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,$c.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ic();if(this.right.isRed())throw ic();const t=this.left.check();if(t!==this.right.check())throw ic();return t+(this.isRed()?0:1)}}$c.EMPTY=null,$c.RED=!0,$c.BLACK=!1,$c.EMPTY=new class{constructor(){this.size=0}get key(){throw ic()}get value(){throw ic()}get color(){throw ic()}get left(){throw ic()}get right(){throw ic()}copy(t,e,n,r,s){return this}insert(t,e,n){return new $c(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Wc{constructor(t){this.comparator=t,this.data=new zc(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,n)=>(t(e),!1))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Gc(this.data.getIterator())}getIteratorFrom(t){return new Gc(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(t=>{e=e.add(t)}),e}isEqual(t){if(!(t instanceof Wc))return!1;if(this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const t=e.getNext().key,r=n.getNext().key;if(0!==this.comparator(t,r))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Wc(this.comparator);return e.data=t,e}}class Gc{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(t){this.fields=t,t.sort(Cc.comparator)}static empty(){return new Kc([])}unionWith(t){let e=new Wc(Cc.comparator);for(const n of this.fields)e=e.add(n);for(const n of t)e=e.add(n);return new Kc(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Sc(this.fields,t.fields,(t,e)=>t.isEqual(e))}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(t){try{return atob(t)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Yc("Invalid base64 string: "+e):e}}(t);return new Xc(e)}static fromUint8Array(t){const e=function(t){let e="";for(let n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t);return new Xc(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return xc(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Xc.EMPTY_BYTE_STRING=new Xc("");const Qc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jc(t){if(ac(!!t),"string"==typeof t){let e=0;const n=Qc.exec(t);if(ac(!!n),n[1]){let t=n[1];t=(t+"000000000").substr(0,9),e=Number(t)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Zc(t.seconds),nanos:Zc(t.nanos)}}function Zc(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function tu(t){return"string"==typeof t?Xc.fromBase64String(t):Xc.fromUint8Array(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function nu(t){const e=t.mapValue.fields.__previous_value__;return eu(e)?nu(e):e}function ru(t){const e=Jc(t.mapValue.fields.__local_write_time__.timestampValue);return new _c(e.seconds,e.nanos)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(t,e,n,r,s,i,a,o,l){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=s,this.forceLongPolling=i,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}class iu{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new iu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof iu&&t.projectId===this.projectId&&t.database===this.database}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au={};function ou(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?eu(t)?4:function(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)?9007199254740991:function(t){var e,n;return"__vector__"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}(t)?10:11:ic()}function lu(t,e){if(t===e)return!0;const n=ou(t);if(n!==ou(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ru(t).isEqual(ru(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;const n=Jc(t.timestampValue),r=Jc(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return r=e,tu(t.bytesValue).isEqual(tu(r.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Zc(t.geoPointValue.latitude)===Zc(e.geoPointValue.latitude)&&Zc(t.geoPointValue.longitude)===Zc(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Zc(t.integerValue)===Zc(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){const n=Zc(t.doubleValue),r=Zc(e.doubleValue);return n===r?Bc(n)===Bc(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Sc(t.arrayValue.values||[],e.arrayValue.values||[],lu);case 10:case 11:return function(t,e){const n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(qc(n)!==qc(r))return!1;for(const s in n)if(n.hasOwnProperty(s)&&(void 0===r[s]||!lu(n[s],r[s])))return!1;return!0}(t,e);default:return ic()}var r}function cu(t,e){return void 0!==(t.values||[]).find(t=>lu(t,e))}function uu(t,e){if(t===e)return 0;const n=ou(t),r=ou(e);if(n!==r)return xc(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return xc(t.booleanValue,e.booleanValue);case 2:return function(t,e){const n=Zc(t.integerValue||t.doubleValue),r=Zc(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return hu(t.timestampValue,e.timestampValue);case 4:return hu(ru(t),ru(e));case 5:return xc(t.stringValue,e.stringValue);case 6:return function(t,e){const n=tu(t),r=tu(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){const n=t.split("/"),r=e.split("/");for(let s=0;s<n.length&&s<r.length;s++){const t=xc(n[s],r[s]);if(0!==t)return t}return xc(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){const n=xc(Zc(t.latitude),Zc(e.latitude));return 0!==n?n:xc(Zc(t.longitude),Zc(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return du(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n,r,s,i;const a=t.fields||{},o=e.fields||{},l=null===(n=a.value)||void 0===n?void 0:n.arrayValue,c=null===(r=o.value)||void 0===r?void 0:r.arrayValue,u=xc((null===(s=null==l?void 0:l.values)||void 0===s?void 0:s.length)||0,(null===(i=null==c?void 0:c.values)||void 0===i?void 0:i.length)||0);return 0!==u?u:du(l,c)}(t.mapValue,e.mapValue);case 11:return function(t,e){if(t===au&&e===au)return 0;if(t===au)return 1;if(e===au)return-1;const n=t.fields||{},r=Object.keys(n),s=e.fields||{},i=Object.keys(s);r.sort(),i.sort();for(let a=0;a<r.length&&a<i.length;++a){const t=xc(r[a],i[a]);if(0!==t)return t;const e=uu(n[r[a]],s[i[a]]);if(0!==e)return e}return xc(r.length,i.length)}(t.mapValue,e.mapValue);default:throw ic()}}function hu(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return xc(t,e);const n=Jc(t),r=Jc(e),s=xc(n.seconds,r.seconds);return 0!==s?s:xc(n.nanos,r.nanos)}function du(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const t=uu(n[s],r[s]);if(t)return t}return xc(n.length,r.length)}function fu(t){return pu(t)}function pu(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){const e=Jc(t);return`time(${e.seconds},${e.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?tu(t.bytesValue).toBase64():"referenceValue"in t?function(t){return Lc.fromName(t).toString()}(t.referenceValue):"geoPointValue"in t?function(t){return`geo(${t.latitude},${t.longitude})`}(t.geoPointValue):"arrayValue"in t?function(t){let e="[",n=!0;for(const r of t.values||[])n?n=!1:e+=",",e+=pu(r);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){const e=Object.keys(t.fields||{}).sort();let n="{",r=!0;for(const s of e)r?r=!1:n+=",",n+=`${s}:${pu(t.fields[s])}`;return n+"}"}(t.mapValue):ic()}function mu(t){return!!t&&"integerValue"in t}function gu(t){return!!t&&"arrayValue"in t}function vu(t){return!!t&&"nullValue"in t}function yu(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function bu(t){return!!t&&"mapValue"in t}function wu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Uc(t.mapValue.fields,(t,n)=>e.mapValue.fields[t]=wu(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=wu(t.arrayValue.values[n]);return e}return Object.assign({},t)}class xu{constructor(t){this.value=t}static empty(){return new xu({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!bu(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=wu(e)}setAll(t){let e=Cc.emptyPath(),n={},r=[];t.forEach((t,s)=>{if(!e.isImmediateParentOf(s)){const t=this.getFieldsMap(e);this.applyChanges(t,n,r),n={},r=[],e=s.popLast()}t?n[s.lastSegment()]=wu(t):r.push(s.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,n,r)}delete(t){const e=this.field(t.popLast());bu(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return lu(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let r=e.mapValue.fields[t.get(n)];bu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,n){Uc(e,(e,n)=>t[e]=n);for(const r of n)delete t[r]}clone(){return new xu(wu(this.value))}}function Su(t){const e=[];return Uc(t.fields,(t,n)=>{const r=new Cc([t]);if(bu(n)){const t=Su(n.mapValue).fields;if(0===t.length)e.push(r);else for(const n of t)e.push(r.child(n))}else e.push(r)}),new Kc(e)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class _u{constructor(t,e,n,r,s,i,a){this.key=t,this.documentType=e,this.version=n,this.readTime=r,this.createTime=s,this.data=i,this.documentState=a}static newInvalidDocument(t){return new _u(t,0,Ac.min(),Ac.min(),Ac.min(),xu.empty(),0)}static newFoundDocument(t,e,n,r){return new _u(t,1,e,Ac.min(),n,r,0)}static newNoDocument(t,e){return new _u(t,2,e,Ac.min(),Ac.min(),xu.empty(),0)}static newUnknownDocument(t,e){return new _u(t,3,e,Ac.min(),Ac.min(),xu.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Ac.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=xu.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=xu.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ac.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof _u&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new _u(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(t,e){this.position=t,this.inclusive=e}}function Nu(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],a=t.position[s];if(r=i.field.isKeyField()?Lc.comparator(Lc.fromName(a.referenceValue),n.key):uu(a,n.data.field(i.field)),"desc"===i.dir&&(r*=-1),0!==r)break}return r}function Eu(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!lu(t.position[n],e.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(t,e="asc"){this.field=t,this.dir=e}}function Cu(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{}class Tu extends Lu{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,n):new Ru(t,e,n):"array-contains"===e?new Uu(t,n):"in"===e?new Vu(t,n):"not-in"===e?new zu(t,n):"array-contains-any"===e?new Hu(t,n):new Tu(t,e,n)}static createKeyFieldInFilter(t,e,n){return"in"===e?new ju(t,n):new Bu(t,n)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(uu(e,this.value)):null!==e&&ou(this.value)===ou(e)&&this.matchesComparison(uu(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ic()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pu extends Lu{constructor(t,e){super(),this.filters=t,this.op=e,this.ae=null}static create(t,e){return new Pu(t,e)}matches(t){return Iu(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Iu(t){return"and"===t.op}function Du(t){return function(t){for(const e of t.filters)if(e instanceof Pu)return!1;return!0}(t)&&Iu(t)}function Fu(t){if(t instanceof Tu)return t.field.canonicalString()+t.op.toString()+fu(t.value);if(Du(t))return t.filters.map(t=>Fu(t)).join(",");{const e=t.filters.map(t=>Fu(t)).join(",");return`${t.op}(${e})`}}function Mu(t,e){return t instanceof Tu?(n=t,(r=e)instanceof Tu&&n.op===r.op&&n.field.isEqual(r.field)&&lu(n.value,r.value)):t instanceof Pu?function(t,e){return e instanceof Pu&&t.op===e.op&&t.filters.length===e.filters.length&&t.filters.reduce((t,n,r)=>t&&Mu(n,e.filters[r]),!0)}(t,e):void ic();var n,r}function Ou(t){return t instanceof Tu?`${(e=t).field.canonicalString()} ${e.op} ${fu(e.value)}`:t instanceof Pu?function(t){return t.op.toString()+" {"+t.getFilters().map(Ou).join(" ,")+"}"}(t):"Filter";var e}class Ru extends Tu{constructor(t,e,n){super(t,e,n),this.key=Lc.fromName(n.referenceValue)}matches(t){const e=Lc.comparator(t.key,this.key);return this.matchesComparison(e)}}class ju extends Tu{constructor(t,e){super(t,"in",e),this.keys=qu("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class Bu extends Tu{constructor(t,e){super(t,"not-in",e),this.keys=qu("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function qu(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(t=>Lc.fromName(t.referenceValue))}class Uu extends Tu{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return gu(e)&&cu(e.arrayValue,this.value)}}class Vu extends Tu{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&cu(this.value.arrayValue,e)}}class zu extends Tu{constructor(t,e){super(t,"not-in",e)}matches(t){if(cu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!cu(this.value.arrayValue,e)}}class Hu extends Tu{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!gu(e)||!e.arrayValue.values)&&e.arrayValue.values.some(t=>cu(this.value.arrayValue,t))}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(t,e=null,n=[],r=[],s=null,i=null,a=null){this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=s,this.startAt=i,this.endAt=a,this.ue=null}}function Wu(t,e=null,n=[],r=[],s=null,i=null,a=null){return new $u(t,e,n,r,s,i,a)}function Gu(t){const e=oc(t);if(null===e.ue){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(t=>Fu(t)).join(","),t+="|ob:",t+=e.orderBy.map(t=>{return(e=t).field.canonicalString()+e.dir;var e}).join(","),jc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(t=>fu(t)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(t=>fu(t)).join(",")),e.ue=t}return e.ue}function Ku(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Cu(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Mu(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Eu(t.startAt,e.startAt)&&Eu(t.endAt,e.endAt)}function Yu(t){return Lc.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(t,e=null,n=[],r=[],s=null,i="F",a=null,o=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=s,this.limitType=i,this.startAt=a,this.endAt=o,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Qu(t){return new Xu(t)}function Ju(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function Zu(t){const e=oc(t);if(null===e.ce){e.ce=[];const t=new Set;for(const r of e.explicitOrderBy)e.ce.push(r),t.add(r.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(t){let e=new Wc(Cc.comparator);return t.filters.forEach(t=>{t.getFlattenedFilters().forEach(t=>{t.isInequality()&&(e=e.add(t.field))})}),e})(e).forEach(r=>{t.has(r.canonicalString())||r.isKeyField()||e.ce.push(new ku(r,n))}),t.has(Cc.keyField().canonicalString())||e.ce.push(new ku(Cc.keyField(),n))}return e.ce}function th(t){const e=oc(t);return e.le||(e.le=function(t,e){if("F"===t.limitType)return Wu(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(t=>{const e="desc"===t.dir?"asc":"desc";return new ku(t.field,e)});const n=t.endAt?new Au(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Au(t.startAt.position,t.startAt.inclusive):null;return Wu(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}(e,Zu(t))),e.le}function eh(t,e,n){return new Xu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function nh(t,e){return Ku(th(t),th(e))&&t.limitType===e.limitType}function rh(t){return`${Gu(th(t))}|lt:${t.limitType}`}function sh(t){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(t=>Ou(t)).join(", ")}]`),jc(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(t=>{return`${(e=t).field.canonicalString()} (${e.dir})`;var e}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(t=>fu(t)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(t=>fu(t)).join(",")),`Target(${e})`}(th(t))}; limitType=${t.limitType})`}function ih(t,e){return e.isFoundDocument()&&function(t,e){const n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):Lc.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(const n of Zu(t))if(!n.field.isKeyField()&&null===e.data.field(n.field))return!1;return!0}(t,e)&&function(t,e){for(const n of t.filters)if(!n.matches(e))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(t,e,n){const r=Nu(t,e,n);return t.inclusive?r<=0:r<0}(n.startAt,Zu(n),r)||n.endAt&&!function(t,e,n){const r=Nu(t,e,n);return t.inclusive?r>=0:r>0}(n.endAt,Zu(n),r)));var n,r}function ah(t){return(e,n)=>{let r=!1;for(const s of Zu(t)){const t=oh(s,e,n);if(0!==t)return t;r=r||s.field.isKeyField()}return 0}}function oh(t,e,n){const r=t.field.isKeyField()?Lc.comparator(e.key,n.key):function(t,e,n){const r=e.data.field(t),s=n.data.field(t);return null!==r&&null!==s?uu(r,s):ic()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ic()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(const[r,s]of n)if(this.equalsFn(r,t))return s}has(t){return void 0!==this.get(t)}set(t,e){const n=this.mapKeyFn(t),r=this.inner[n];if(void 0===r)return this.inner[n]=[[t,e]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Uc(this.inner,(e,n)=>{for(const[r,s]of n)t(r,s)})}isEmpty(){return Vc(this.inner)}size(){return this.innerSize}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch=new zc(Lc.comparator);function uh(){return ch}const hh=new zc(Lc.comparator);function dh(...t){let e=hh;for(const n of t)e=e.insert(n.key,n);return e}function fh(t){let e=hh;return t.forEach((t,n)=>e=e.insert(t,n.overlayedDocument)),e}function ph(){return gh()}function mh(){return gh()}function gh(){return new lh(t=>t.toString(),(t,e)=>t.isEqual(e))}const vh=new zc(Lc.comparator),yh=new Wc(Lc.comparator);function bh(...t){let e=yh;for(const n of t)e=e.add(n);return e}const wh=new Wc(xc);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function xh(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bc(e)?"-0":e}}function Sh(t){return{integerValue:""+t}}function _h(t,e){return function(t){return"number"==typeof t&&Number.isInteger(t)&&!Bc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?Sh(e):xh(t,e)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(){this._=void 0}}function Nh(t,e,n){return t instanceof Ch?function(t,e){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&eu(e)&&(e=nu(e)),e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Lh?Th(t,e):t instanceof Ph?Ih(t,e):function(t,e){const n=kh(t,e),r=Fh(n)+Fh(t.Pe);return mu(n)&&mu(t.Pe)?Sh(r):xh(t.serializer,r)}(t,e)}function Eh(t,e,n){return t instanceof Lh?Th(t,e):t instanceof Ph?Ih(t,e):n}function kh(t,e){return t instanceof Dh?mu(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var n,r}class Ch extends Ah{}class Lh extends Ah{constructor(t){super(),this.elements=t}}function Th(t,e){const n=Mh(e);for(const r of t.elements)n.some(t=>lu(t,r))||n.push(r);return{arrayValue:{values:n}}}class Ph extends Ah{constructor(t){super(),this.elements=t}}function Ih(t,e){let n=Mh(e);for(const r of t.elements)n=n.filter(t=>!lu(t,r));return{arrayValue:{values:n}}}class Dh extends Ah{constructor(t,e){super(),this.serializer=t,this.Pe=e}}function Fh(t){return Zc(t.integerValue||t.doubleValue)}function Mh(t){return gu(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(t,e){this.field=t,this.transform=e}}class Rh{constructor(t,e){this.version=t,this.transformResults=e}}class jh{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new jh}static exists(t){return new jh(void 0,t)}static updateTime(t){return new jh(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Bh(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class qh{}function Uh(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Qh(t.key,jh.none()):new Wh(t.key,t.data,jh.none());{const n=t.data,r=xu.empty();let s=new Wc(Cc.comparator);for(let t of e.fields)if(!s.has(t)){let e=n.field(t);null===e&&t.length>1&&(t=t.popLast(),e=n.field(t)),null===e?r.delete(t):r.set(t,e),s=s.add(t)}return new Gh(t.key,r,new Kc(s.toArray()),jh.none())}}function Vh(t,e,n){var r;t instanceof Wh?function(t,e,n){const r=t.value.clone(),s=Yh(t.fieldTransforms,e,n.transformResults);r.setAll(s),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Gh?function(t,e,n){if(!Bh(t.precondition,e))return void e.convertToUnknownDocument(n.version);const r=Yh(t.fieldTransforms,e,n.transformResults),s=e.data;s.setAll(Kh(t)),s.setAll(r),e.convertToFoundDocument(n.version,s).setHasCommittedMutations()}(t,e,n):(r=n,e.convertToNoDocument(r.version).setHasCommittedMutations())}function zh(t,e,n,r){return t instanceof Wh?function(t,e,n,r){if(!Bh(t.precondition,e))return n;const s=t.value.clone(),i=Xh(t.fieldTransforms,r,e);return s.setAll(i),e.convertToFoundDocument(e.version,s).setHasLocalMutations(),null}(t,e,n,r):t instanceof Gh?function(t,e,n,r){if(!Bh(t.precondition,e))return n;const s=Xh(t.fieldTransforms,r,e),i=e.data;return i.setAll(Kh(t)),i.setAll(s),e.convertToFoundDocument(e.version,i).setHasLocalMutations(),null===n?null:n.unionWith(t.fieldMask.fields).unionWith(t.fieldTransforms.map(t=>t.field))}(t,e,n,r):(s=e,i=n,Bh(t.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):i);var s,i}function Hh(t,e){let n=null;for(const r of t.fieldTransforms){const t=e.data.field(r.field),s=kh(r.transform,t||null);null!=s&&(null===n&&(n=xu.empty()),n.set(r.field,s))}return n||null}function $h(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(n=t.fieldTransforms,r=e.fieldTransforms,!!(void 0===n&&void 0===r||n&&r&&Sc(n,r,(t,e)=>function(t,e){return t.field.isEqual(e.field)&&(n=t.transform,r=e.transform,n instanceof Lh&&r instanceof Lh||n instanceof Ph&&r instanceof Ph?Sc(n.elements,r.elements,lu):n instanceof Dh&&r instanceof Dh?lu(n.Pe,r.Pe):n instanceof Ch&&r instanceof Ch);var n,r}(t,e)))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask)));var n,r}class Wh extends qh{constructor(t,e,n,r=[]){super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Gh extends qh{constructor(t,e,n,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Kh(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Yh(t,e,n){const r=new Map;ac(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],a=i.transform,o=e.data.field(i.field);r.set(i.field,Eh(a,o,n[s]))}return r}function Xh(t,e,n){const r=new Map;for(const s of t){const t=s.transform,i=n.data.field(s.field);r.set(s.field,Nh(t,i,e))}return r}class Qh extends qh{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Jh extends qh{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const e=this.mutations[r];e.key.isEqual(t.key)&&Vh(e,t,n[r])}}applyToLocalView(t,e){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(e=zh(n,t,e,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(e=zh(n,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const n=mh();return this.mutations.forEach(r=>{const s=t.get(r.key),i=s.overlayedDocument;let a=this.applyToLocalView(i,s.mutatedFields);a=e.has(r.key)?null:a;const o=Uh(i,a);null!==o&&n.set(r.key,o),i.isValidDocument()||i.convertToNoDocument(Ac.min())}),n}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),bh())}isEqual(t){return this.batchId===t.batchId&&Sc(this.mutations,t.mutations,(t,e)=>$h(t,e))&&Sc(this.baseMutations,t.baseMutations,(t,e)=>$h(t,e))}}class td{constructor(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}static from(t,e,n){ac(t.mutations.length===n.length);let r=function(){return vh}();const s=t.mutations;for(let i=0;i<s.length;i++)r=r.insert(s[i].key,n[i].version);return new td(t,e,n,r)}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(t,e){this.count=t,this.unchangedNames=e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rd,sd;function id(t){if(void 0===t)return nc("GRPC error has no .code"),lc.UNKNOWN;switch(t){case rd.OK:return lc.OK;case rd.CANCELLED:return lc.CANCELLED;case rd.UNKNOWN:return lc.UNKNOWN;case rd.DEADLINE_EXCEEDED:return lc.DEADLINE_EXCEEDED;case rd.RESOURCE_EXHAUSTED:return lc.RESOURCE_EXHAUSTED;case rd.INTERNAL:return lc.INTERNAL;case rd.UNAVAILABLE:return lc.UNAVAILABLE;case rd.UNAUTHENTICATED:return lc.UNAUTHENTICATED;case rd.INVALID_ARGUMENT:return lc.INVALID_ARGUMENT;case rd.NOT_FOUND:return lc.NOT_FOUND;case rd.ALREADY_EXISTS:return lc.ALREADY_EXISTS;case rd.PERMISSION_DENIED:return lc.PERMISSION_DENIED;case rd.FAILED_PRECONDITION:return lc.FAILED_PRECONDITION;case rd.ABORTED:return lc.ABORTED;case rd.OUT_OF_RANGE:return lc.OUT_OF_RANGE;case rd.UNIMPLEMENTED:return lc.UNIMPLEMENTED;case rd.DATA_LOSS:return lc.DATA_LOSS;default:return ic()}}(sd=rd||(rd={}))[sd.OK=0]="OK",sd[sd.CANCELLED=1]="CANCELLED",sd[sd.UNKNOWN=2]="UNKNOWN",sd[sd.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",sd[sd.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",sd[sd.NOT_FOUND=5]="NOT_FOUND",sd[sd.ALREADY_EXISTS=6]="ALREADY_EXISTS",sd[sd.PERMISSION_DENIED=7]="PERMISSION_DENIED",sd[sd.UNAUTHENTICATED=16]="UNAUTHENTICATED",sd[sd.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",sd[sd.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",sd[sd.ABORTED=10]="ABORTED",sd[sd.OUT_OF_RANGE=11]="OUT_OF_RANGE",sd[sd.UNIMPLEMENTED=12]="UNIMPLEMENTED",sd[sd.INTERNAL=13]="INTERNAL",sd[sd.UNAVAILABLE=14]="UNAVAILABLE",sd[sd.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const ad=new jl([4294967295,4294967295],0);function od(t){const e=(new TextEncoder).encode(t),n=new Bl;return n.update(e),new Uint8Array(n.digest())}function ld(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new jl([n,r],0),new jl([s,i],0)]}class cd{constructor(t,e,n){if(this.bitmap=t,this.padding=e,this.hashCount=n,e<0||e>=8)throw new ud(`Invalid padding: ${e}`);if(n<0)throw new ud(`Invalid hash count: ${n}`);if(t.length>0&&0===this.hashCount)throw new ud(`Invalid hash count: ${n}`);if(0===t.length&&0!==e)throw new ud(`Invalid padding when bitmap length is 0: ${e}`);this.Ie=8*t.length-e,this.Te=jl.fromNumber(this.Ie)}Ee(t,e,n){let r=t.add(e.multiply(jl.fromNumber(n)));return 1===r.compare(ad)&&(r=new jl([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Ie)return!1;const e=od(t),[n,r]=ld(e);for(let s=0;s<this.hashCount;s++){const t=this.Ee(n,r,s);if(!this.de(t))return!1}return!0}static create(t,e,n){const r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),i=new cd(s,r,e);return n.forEach(t=>i.insert(t)),i}insert(t){if(0===this.Ie)return;const e=od(t),[n,r]=ld(e);for(let s=0;s<this.hashCount;s++){const t=this.Ee(n,r,s);this.Ae(t)}}Ae(t){const e=Math.floor(t/8),n=t%8;this.bitmap[e]|=1<<n}}class ud extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(t,e,n,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,n){const r=new Map;return r.set(t,dd.createSynthesizedTargetChangeForCurrentChange(t,e,n)),new hd(Ac.min(),r,new zc(xc),uh(),bh())}}class dd{constructor(t,e,n,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,n){return new dd(n,e,bh(),bh(),bh())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(t,e,n,r){this.Re=t,this.removedTargetIds=e,this.key=n,this.Ve=r}}class pd{constructor(t,e){this.targetId=t,this.me=e}}class md{constructor(t,e,n=Xc.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}}class gd{constructor(){this.fe=0,this.ge=bd(),this.pe=Xc.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=bh(),e=bh(),n=bh();return this.ge.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:ic()}}),new dd(this.pe,this.ye,t,e,n)}Ce(){this.we=!1,this.ge=bd()}Fe(t,e){this.we=!0,this.ge=this.ge.insert(t,e)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,ac(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class vd{constructor(t){this.Le=t,this.Be=new Map,this.ke=uh(),this.qe=yd(),this.Qe=new zc(xc)}Ke(t){for(const e of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(e,t.Ve):this.Ue(e,t.key,t.Ve);for(const e of t.removedTargetIds)this.Ue(e,t.key,t.Ve)}We(t){this.forEachTarget(t,e=>{const n=this.Ge(e);switch(t.state){case 0:this.ze(e)&&n.De(t.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(t.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(e);break;case 3:this.ze(e)&&(n.Ne(),n.De(t.resumeToken));break;case 4:this.ze(e)&&(this.je(e),n.De(t.resumeToken));break;default:ic()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Be.forEach((t,n)=>{this.ze(n)&&e(n)})}He(t){const e=t.targetId,n=t.me.count,r=this.Je(e);if(r){const s=r.target;if(Yu(s))if(0===n){const t=new Lc(s.path);this.Ue(e,t,_u.newNoDocument(t,Ac.min()))}else ac(1===n);else{const r=this.Ye(e);if(r!==n){const n=this.Ze(t),s=n?this.Xe(n,t,r):1;if(0!==s){this.je(e);const t=2===s?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(e,t)}}}}}Ze(t){const e=t.me.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:s=0}=e;let i,a;try{i=tu(n).toUint8Array()}catch(o){if(o instanceof Yc)return rc("Decoding the base64 bloom filter in existence filter failed ("+o.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw o}try{a=new cd(i,r,s)}catch(o){return rc(o instanceof ud?"BloomFilter error: ":"Applying bloom filter failed: ",o),null}return 0===a.Ie?null:a}Xe(t,e,n){return e.me.count===n-this.nt(t,e.targetId)?0:2}nt(t,e){const n=this.Le.getRemoteKeysForTarget(e);let r=0;return n.forEach(n=>{const s=this.Le.tt(),i=`projects/${s.projectId}/databases/${s.database}/documents/${n.path.canonicalString()}`;t.mightContain(i)||(this.Ue(e,n,null),r++)}),r}rt(t){const e=new Map;this.Be.forEach((n,r)=>{const s=this.Je(r);if(s){if(n.current&&Yu(s.target)){const e=new Lc(s.target.path);null!==this.ke.get(e)||this.it(r,e)||this.Ue(r,e,_u.newNoDocument(e,t))}n.be&&(e.set(r,n.ve()),n.Ce())}});let n=bh();this.qe.forEach((t,e)=>{let r=!0;e.forEachWhile(t=>{const e=this.Je(t);return!e||"TargetPurposeLimboResolution"===e.purpose||(r=!1,!1)}),r&&(n=n.add(t))}),this.ke.forEach((e,n)=>n.setReadTime(t));const r=new hd(t,e,this.Qe,this.ke,n);return this.ke=uh(),this.qe=yd(),this.Qe=new zc(xc),r}$e(t,e){if(!this.ze(t))return;const n=this.it(t,e.key)?2:0;this.Ge(t).Fe(e.key,n),this.ke=this.ke.insert(e.key,e),this.qe=this.qe.insert(e.key,this.st(e.key).add(t))}Ue(t,e,n){if(!this.ze(t))return;const r=this.Ge(t);this.it(t,e)?r.Fe(e,1):r.Me(e),this.qe=this.qe.insert(e,this.st(e).delete(t)),n&&(this.ke=this.ke.insert(e,n))}removeTarget(t){this.Be.delete(t)}Ye(t){const e=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let e=this.Be.get(t);return e||(e=new gd,this.Be.set(t,e)),e}st(t){let e=this.qe.get(t);return e||(e=new Wc(xc),this.qe=this.qe.insert(t,e)),e}ze(t){const e=null!==this.Je(t);return e||ec("WatchChangeAggregator","Detected inactive target",t),e}Je(t){const e=this.Be.get(t);return e&&e.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new gd),this.Le.getRemoteKeysForTarget(t).forEach(e=>{this.Ue(t,e,null)})}it(t,e){return this.Le.getRemoteKeysForTarget(t).has(e)}}function yd(){return new zc(Lc.comparator)}function bd(){return new zc(Lc.comparator)}const wd=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),xd=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),Sd=(()=>({and:"AND",or:"OR"}))();class _d{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Ad(t,e){return t.useProto3Json||jc(e)?e:{value:e}}function Nd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ed(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function kd(t,e){return Nd(t,e.toTimestamp())}function Cd(t){return ac(!!t),Ac.fromTimestamp(function(t){const e=Jc(t);return new _c(e.seconds,e.nanos)}(t))}function Ld(t,e){return Td(t,e).canonicalString()}function Td(t,e){const n=(r=t,new Ec(["projects",r.projectId,"databases",r.database])).child("documents");var r;return void 0===e?n:n.child(e)}function Pd(t){const e=Ec.fromString(t);return ac(Yd(e)),e}function Id(t,e){return Ld(t.databaseId,e.path)}function Dd(t,e){const n=Pd(e);if(n.get(1)!==t.databaseId.projectId)throw new cc(lc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new cc(lc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Lc(Od(n))}function Fd(t,e){return Ld(t.databaseId,e)}function Md(t){return new Ec(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Od(t){return ac(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Rd(t,e,n){return{name:Id(t,e),fields:n.value.mapValue.fields}}function jd(t,e){return{documents:[Fd(t,e.path)]}}function Bd(t,e){const n={structuredQuery:{}},r=e.path;let s;null!==e.collectionGroup?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Fd(t,s);const i=function(t){if(0!==t.length)return Gd(Pu.create(t,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const a=function(t){if(0!==t.length)return t.map(t=>{return{field:$d((e=t).field),direction:Vd(e.dir)};var e})}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const o=Ad(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(l=e.startAt).inclusive,values:l.position}),e.endAt&&(n.structuredQuery.endAt=function(t){return{before:!t.inclusive,values:t.position}}(e.endAt)),{_t:n,parent:s};var l}function qd(t){let e=function(t){const e=Pd(t);return 4===e.length?Ec.emptyPath():Od(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ac(1===r);const t=n.from[0];t.allDescendants?s=t.collectionId:e=e.child(t.collectionId)}let i=[];n.where&&(i=function(t){const e=Ud(t);return e instanceof Pu&&Du(e)?e.getFilters():[e]}(n.where));let a=[];n.orderBy&&(a=n.orderBy.map(t=>{return new ku(Wd((e=t).field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction));var e}));let o=null;n.limit&&(o=function(t){let e;return e="object"==typeof t?t.value:t,jc(e)?null:e}(n.limit));let l=null;n.startAt&&(l=function(t){const e=!!t.before,n=t.values||[];return new Au(n,e)}(n.startAt));let c=null;return n.endAt&&(c=function(t){const e=!t.before,n=t.values||[];return new Au(n,e)}(n.endAt)),function(t,e,n,r,s,i,a,o){return new Xu(t,e,n,r,s,i,a,o)}(e,s,a,i,o,"F",l,c)}function Ud(t){return void 0!==t.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Wd(t.unaryFilter.field);return Tu.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Wd(t.unaryFilter.field);return Tu.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Wd(t.unaryFilter.field);return Tu.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Wd(t.unaryFilter.field);return Tu.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ic()}}(t):void 0!==t.fieldFilter?(e=t,Tu.create(Wd(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ic()}}(e.fieldFilter.op),e.fieldFilter.value)):void 0!==t.compositeFilter?function(t){return Pu.create(t.compositeFilter.filters.map(t=>Ud(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return ic()}}(t.compositeFilter.op))}(t):ic();var e}function Vd(t){return wd[t]}function zd(t){return xd[t]}function Hd(t){return Sd[t]}function $d(t){return{fieldPath:t.canonicalString()}}function Wd(t){return Cc.fromServerFormat(t.fieldPath)}function Gd(t){return t instanceof Tu?function(t){if("=="===t.op){if(yu(t.value))return{unaryFilter:{field:$d(t.field),op:"IS_NAN"}};if(vu(t.value))return{unaryFilter:{field:$d(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(yu(t.value))return{unaryFilter:{field:$d(t.field),op:"IS_NOT_NAN"}};if(vu(t.value))return{unaryFilter:{field:$d(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$d(t.field),op:zd(t.op),value:t.value}}}(t):t instanceof Pu?function(t){const e=t.getFilters().map(t=>Gd(t));return 1===e.length?e[0]:{compositeFilter:{op:Hd(t.op),filters:e}}}(t):ic()}function Kd(t){const e=[];return t.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Yd(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(t,e,n,r,s=Ac.min(),i=Ac.min(),a=Xc.EMPTY_BYTE_STRING,o=null){this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(t){return new Xd(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Xd(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Xd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Xd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(t){this.ct=t}}function Jd(t){const e=qd({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?eh(e,e.limit,"L"):e}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(){this.un=new tf}addToCollectionParentIndex(t,e){return this.un.add(e),Mc.resolve()}getCollectionParents(t,e){return Mc.resolve(this.un.getEntries(e))}addFieldIndex(t,e){return Mc.resolve()}deleteFieldIndex(t,e){return Mc.resolve()}deleteAllFieldIndexes(t){return Mc.resolve()}createTargetIndexes(t,e){return Mc.resolve()}getDocumentsMatchingTarget(t,e){return Mc.resolve(null)}getIndexType(t,e){return Mc.resolve(0)}getFieldIndexes(t,e){return Mc.resolve([])}getNextCollectionGroupToUpdate(t){return Mc.resolve(null)}getMinOffset(t,e){return Mc.resolve(Pc.min())}getMinOffsetFromCollectionGroup(t,e){return Mc.resolve(Pc.min())}updateCollectionGroup(t,e,n){return Mc.resolve()}updateIndexEntries(t,e){return Mc.resolve()}}class tf{constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Wc(Ec.comparator),s=!r.has(n);return this.index[e]=r.add(n),s}has(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)}getEntries(t){return(this.index[t]||new Wc(Ec.comparator)).toArray()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new ef(0)}static kn(){return new ef(-1)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(){this.changes=new lh(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,_u.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return void 0!==n?Mc.resolve(n):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(t,e,n,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=n,this.indexManager=r}getDocument(t,e){let n=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(n=r,this.remoteDocumentCache.getEntry(t,e))).next(t=>(null!==n&&zh(n.mutation,t,Kc.empty(),_c.now()),t))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(e=>this.getLocalViewOfDocuments(t,e,bh()).next(()=>e))}getLocalViewOfDocuments(t,e,n=bh()){const r=ph();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,n).next(t=>{let e=dh();return t.forEach((t,n)=>{e=e.insert(t,n.overlayedDocument)}),e}))}getOverlayedDocuments(t,e){const n=ph();return this.populateOverlays(t,n,e).next(()=>this.computeViews(t,e,n,bh()))}populateOverlays(t,e,n){const r=[];return n.forEach(t=>{e.has(t)||r.push(t)}),this.documentOverlayCache.getOverlays(t,r).next(t=>{t.forEach((t,n)=>{e.set(t,n)})})}computeViews(t,e,n,r){let s=uh();const i=gh(),a=gh();return e.forEach((t,e)=>{const a=n.get(e.key);r.has(e.key)&&(void 0===a||a.mutation instanceof Gh)?s=s.insert(e.key,e):void 0!==a?(i.set(e.key,a.mutation.getFieldMask()),zh(a.mutation,e,a.mutation.getFieldMask(),_c.now())):i.set(e.key,Kc.empty())}),this.recalculateAndSaveOverlays(t,s).next(t=>(t.forEach((t,e)=>i.set(t,e)),e.forEach((t,e)=>{var n;return a.set(t,new rf(e,null!==(n=i.get(t))&&void 0!==n?n:null))}),a))}recalculateAndSaveOverlays(t,e){const n=gh();let r=new zc((t,e)=>t-e),s=bh();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(t=>{for(const s of t)s.keys().forEach(t=>{const i=e.get(t);if(null===i)return;let a=n.get(t)||Kc.empty();a=s.applyToLocalView(i,a),n.set(t,a);const o=(r.get(s.batchId)||bh()).add(t);r=r.insert(s.batchId,o)})}).next(()=>{const i=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=mh();l.forEach(t=>{if(!s.has(t)){const r=Uh(e.get(t),n.get(t));null!==r&&c.set(t,r),s=s.add(t)}}),i.push(this.documentOverlayCache.saveOverlays(t,o,c))}return Mc.waitFor(i)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(e=>this.recalculateAndSaveOverlays(t,e))}getDocumentsMatchingQuery(t,e,n,r){return s=e,Lc.isDocumentKey(s.path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):function(t){return null!==t.collectionGroup}(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,n,r):this.getDocumentsMatchingCollectionQuery(t,e,n,r);var s}getNextDocuments(t,e,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,n,r).next(s=>{const i=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,n.largestBatchId,r-s.size):Mc.resolve(ph());let a=-1,o=s;return i.next(e=>Mc.forEach(e,(e,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),s.get(e)?Mc.resolve():this.remoteDocumentCache.getEntry(t,e).next(t=>{o=o.insert(e,t)}))).next(()=>this.populateOverlays(t,e,s)).next(()=>this.computeViews(t,o,e,bh())).next(t=>({batchId:a,changes:fh(t)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Lc(e)).next(t=>{let e=dh();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})}getDocumentsMatchingCollectionGroupQuery(t,e,n,r){const s=e.collectionGroup;let i=dh();return this.indexManager.getCollectionParents(t,s).next(a=>Mc.forEach(a,a=>{const o=(l=e,c=a.child(s),new Xu(c,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,c;return this.getDocumentsMatchingCollectionQuery(t,o,n,r).next(t=>{t.forEach((t,e)=>{i=i.insert(t,e)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(t,e,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,n.largestBatchId).next(i=>(s=i,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,n,s,r))).next(t=>{s.forEach((e,n)=>{const r=n.getKey();null===t.get(r)&&(t=t.insert(r,_u.newInvalidDocument(r)))});let n=dh();return t.forEach((t,r)=>{const i=s.get(t);void 0!==i&&zh(i.mutation,r,Kc.empty(),_c.now()),ih(e,r)&&(n=n.insert(t,r))}),n})}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,e){return Mc.resolve(this.hr.get(e))}saveBundleMetadata(t,e){return this.hr.set(e.id,{id:(n=e).id,version:n.version,createTime:Cd(n.createTime)}),Mc.resolve();var n}getNamedQuery(t,e){return Mc.resolve(this.Pr.get(e))}saveNamedQuery(t,e){return this.Pr.set(e.name,{name:(n=e).name,query:Jd(n.bundledQuery),readTime:Cd(n.readTime)}),Mc.resolve();var n}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(){this.overlays=new zc(Lc.comparator),this.Ir=new Map}getOverlay(t,e){return Mc.resolve(this.overlays.get(e))}getOverlays(t,e){const n=ph();return Mc.forEach(e,e=>this.getOverlay(t,e).next(t=>{null!==t&&n.set(e,t)})).next(()=>n)}saveOverlays(t,e,n){return n.forEach((n,r)=>{this.ht(t,e,r)}),Mc.resolve()}removeOverlaysForBatchId(t,e,n){const r=this.Ir.get(n);return void 0!==r&&(r.forEach(t=>this.overlays=this.overlays.remove(t)),this.Ir.delete(n)),Mc.resolve()}getOverlaysForCollection(t,e,n){const r=ph(),s=e.length+1,i=new Lc(e.child("")),a=this.overlays.getIteratorFrom(i);for(;a.hasNext();){const t=a.getNext().value,i=t.getKey();if(!e.isPrefixOf(i.path))break;i.path.length===s&&t.largestBatchId>n&&r.set(t.getKey(),t)}return Mc.resolve(r)}getOverlaysForCollectionGroup(t,e,n,r){let s=new zc((t,e)=>t-e);const i=this.overlays.getIterator();for(;i.hasNext();){const t=i.getNext().value;if(t.getKey().getCollectionGroup()===e&&t.largestBatchId>n){let e=s.get(t.largestBatchId);null===e&&(e=ph(),s=s.insert(t.largestBatchId,e)),e.set(t.getKey(),t)}}const a=ph(),o=s.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((t,e)=>a.set(t,e)),!(a.size()>=r)););return Mc.resolve(a)}ht(t,e,n){const r=this.overlays.get(n.key);if(null!==r){const t=this.Ir.get(r.largestBatchId).delete(n.key);this.Ir.set(r.largestBatchId,t)}this.overlays=this.overlays.insert(n.key,new ed(e,n));let s=this.Ir.get(e);void 0===s&&(s=bh(),this.Ir.set(e,s)),this.Ir.set(e,s.add(n.key))}}
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(){this.sessionToken=Xc.EMPTY_BYTE_STRING}getSessionToken(t){return Mc.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,Mc.resolve()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(){this.Tr=new Wc(uf.Er),this.dr=new Wc(uf.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,e){const n=new uf(t,e);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(t,e){t.forEach(t=>this.addReference(t,e))}removeReference(t,e){this.Vr(new uf(t,e))}mr(t,e){t.forEach(t=>this.removeReference(t,e))}gr(t){const e=new Lc(new Ec([])),n=new uf(e,t),r=new uf(e,t+1),s=[];return this.dr.forEachInRange([n,r],t=>{this.Vr(t),s.push(t.key)}),s}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const e=new Lc(new Ec([])),n=new uf(e,t),r=new uf(e,t+1);let s=bh();return this.dr.forEachInRange([n,r],t=>{s=s.add(t.key)}),s}containsKey(t){const e=new uf(t,0),n=this.Tr.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)}}class uf{constructor(t,e){this.key=t,this.wr=e}static Er(t,e){return Lc.comparator(t.key,e.key)||xc(t.wr,e.wr)}static Ar(t,e){return xc(t.wr,e.wr)||Lc.comparator(t.key,e.key)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Sr=1,this.br=new Wc(uf.Er)}checkEmpty(t){return Mc.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,n,r){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new Zh(s,e,n,r);this.mutationQueue.push(i);for(const a of r)this.br=this.br.add(new uf(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return Mc.resolve(i)}lookupMutationBatch(t,e){return Mc.resolve(this.Dr(e))}getNextMutationBatchAfterBatchId(t,e){const n=e+1,r=this.vr(n),s=r<0?0:r;return Mc.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Mc.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(t){return Mc.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new uf(e,0),r=new uf(e,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([n,r],t=>{const e=this.Dr(t.wr);s.push(e)}),Mc.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new Wc(xc);return e.forEach(t=>{const e=new uf(t,0),r=new uf(t,Number.POSITIVE_INFINITY);this.br.forEachInRange([e,r],t=>{n=n.add(t.wr)})}),Mc.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,r=n.length+1;let s=n;Lc.isDocumentKey(s)||(s=s.child(""));const i=new uf(new Lc(s),0);let a=new Wc(xc);return this.br.forEachWhile(t=>{const e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t.wr)),!0)},i),Mc.resolve(this.Cr(a))}Cr(t){const e=[];return t.forEach(t=>{const n=this.Dr(t);null!==n&&e.push(n)}),e}removeMutationBatch(t,e){ac(0===this.Fr(e.batchId,"removed")),this.mutationQueue.shift();let n=this.br;return Mc.forEach(e.mutations,r=>{const s=new uf(r.key,e.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.br=n})}On(t){}containsKey(t,e){const n=new uf(e,0),r=this.br.firstAfterOrEqual(n);return Mc.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,Mc.resolve()}Fr(t,e){return this.vr(t)}vr(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Dr(t){const e=this.vr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(t){this.Mr=t,this.docs=new zc(Lc.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const n=e.key,r=this.docs.get(n),s=r?r.size:0,i=this.Mr(e);return this.docs=this.docs.insert(n,{document:e.mutableCopy(),size:i}),this.size+=i-s,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return Mc.resolve(n?n.document.mutableCopy():_u.newInvalidDocument(e))}getEntries(t,e){let n=uh();return e.forEach(t=>{const e=this.docs.get(t);n=n.insert(t,e?e.document.mutableCopy():_u.newInvalidDocument(t))}),Mc.resolve(n)}getDocumentsMatchingQuery(t,e,n,r){let s=uh();const i=e.path,a=new Lc(i.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:t,value:{document:a}}=o.getNext();if(!i.isPrefixOf(t.path))break;t.path.length>i.length+1||Ic(Tc(a),n)<=0||(r.has(a.key)||ih(e,a))&&(s=s.insert(a.key,a.mutableCopy()))}return Mc.resolve(s)}getAllFromCollectionGroup(t,e,n,r){ic()}Or(t,e){return Mc.forEach(this.docs,t=>e(t))}newChangeBuffer(t){return new ff(this)}getSize(t){return Mc.resolve(this.size)}}class ff extends nf{constructor(t){super(),this.cr=t}applyChanges(t){const e=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?e.push(this.cr.addEntry(t,r)):this.cr.removeEntry(n)}),Mc.waitFor(e)}getFromCache(t,e){return this.cr.getEntry(t,e)}getAllFromCache(t,e){return this.cr.getEntries(t,e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(t){this.persistence=t,this.Nr=new lh(t=>Gu(t),Ku),this.lastRemoteSnapshotVersion=Ac.min(),this.highestTargetId=0,this.Lr=0,this.Br=new cf,this.targetCount=0,this.kr=ef.Bn()}forEachTarget(t,e){return this.Nr.forEach((t,n)=>e(n)),Mc.resolve()}getLastRemoteSnapshotVersion(t){return Mc.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Mc.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),Mc.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Lr&&(this.Lr=e),Mc.resolve()}Kn(t){this.Nr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.kr=new ef(e),this.highestTargetId=e),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,e){return this.Kn(e),this.targetCount+=1,Mc.resolve()}updateTargetData(t,e){return this.Kn(e),Mc.resolve()}removeTargetData(t,e){return this.Nr.delete(e.target),this.Br.gr(e.targetId),this.targetCount-=1,Mc.resolve()}removeTargets(t,e,n){let r=0;const s=[];return this.Nr.forEach((i,a)=>{a.sequenceNumber<=e&&null===n.get(a.targetId)&&(this.Nr.delete(i),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),r++)}),Mc.waitFor(s).next(()=>r)}getTargetCount(t){return Mc.resolve(this.targetCount)}getTargetData(t,e){const n=this.Nr.get(e)||null;return Mc.resolve(n)}addMatchingKeys(t,e,n){return this.Br.Rr(e,n),Mc.resolve()}removeMatchingKeys(t,e,n){this.Br.mr(e,n);const r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(e=>{s.push(r.markPotentiallyOrphaned(t,e))}),Mc.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.Br.gr(e),Mc.resolve()}getMatchingKeysForTargetId(t,e){const n=this.Br.yr(e);return Mc.resolve(n)}containsKey(t,e){return Mc.resolve(this.Br.containsKey(e))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(t,e){this.qr={},this.overlays={},this.Qr=new Rc(0),this.Kr=!1,this.Kr=!0,this.$r=new lf,this.referenceDelegate=t(this),this.Ur=new pf(this),this.indexManager=new Zd,this.remoteDocumentCache=new df(t=>this.referenceDelegate.Wr(t)),this.serializer=new Qd(e),this.Gr=new af(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new of,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let n=this.qr[t.toKey()];return n||(n=new hf(e,this.referenceDelegate),this.qr[t.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,e,n){ec("MemoryPersistence","Starting transaction:",t);const r=new gf(this.Qr.next());return this.referenceDelegate.zr(),n(r).next(t=>this.referenceDelegate.jr(r).next(()=>t)).toPromise().then(t=>(r.raiseOnCommittedEvent(),t))}Hr(t,e){return Mc.or(Object.values(this.qr).map(n=>()=>n.containsKey(t,e)))}}class gf extends Dc{constructor(t){super(),this.currentSequenceNumber=t}}class vf{constructor(t){this.persistence=t,this.Jr=new cf,this.Yr=null}static Zr(t){return new vf(t)}get Xr(){if(this.Yr)return this.Yr;throw ic()}addReference(t,e,n){return this.Jr.addReference(n,e),this.Xr.delete(n.toString()),Mc.resolve()}removeReference(t,e,n){return this.Jr.removeReference(n,e),this.Xr.add(n.toString()),Mc.resolve()}markPotentiallyOrphaned(t,e){return this.Xr.add(e.toString()),Mc.resolve()}removeTarget(t,e){this.Jr.gr(e.targetId).forEach(t=>this.Xr.add(t.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next(t=>{t.forEach(t=>this.Xr.add(t.toString()))}).next(()=>n.removeTargetData(t,e))}zr(){this.Yr=new Set}jr(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Mc.forEach(this.Xr,n=>{const r=Lc.fromPath(n);return this.ei(t,r).next(t=>{t||e.removeEntry(r,Ac.min())})}).next(()=>(this.Yr=null,e.apply(t)))}updateLimboDocument(t,e){return this.ei(t,e).next(t=>{t?this.Xr.delete(e.toString()):this.Xr.add(e.toString())})}Wr(t){return 0}ei(t,e){return Mc.or([()=>Mc.resolve(this.Jr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Hr(t,e)])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(t,e,n,r){this.targetId=t,this.fromCache=e,this.$i=n,this.Ui=r}static Wi(t,e){let n=bh(),r=bh();for(const s of e.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new yf(t,e.fromCache,n,r)}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=ao()?8:function(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:"")>0?6:4}initialize(t,e){this.Ji=t,this.indexManager=e,this.Gi=!0}getDocumentsMatchingQuery(t,e,n,r){const s={result:null};return this.Yi(t,e).next(t=>{s.result=t}).next(()=>{if(!s.result)return this.Zi(t,e,r,n).next(t=>{s.result=t})}).next(()=>{if(s.result)return;const n=new bf;return this.Xi(t,e,n).next(r=>{if(s.result=r,this.zi)return this.es(t,e,n,r.size)})}).next(()=>s.result)}es(t,e,n,r){return n.documentReadCount<this.ji?(tc()<=yo.DEBUG&&ec("QueryEngine","SDK will not create cache indexes for query:",sh(e),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Mc.resolve()):(tc()<=yo.DEBUG&&ec("QueryEngine","Query:",sh(e),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Hi*r?(tc()<=yo.DEBUG&&ec("QueryEngine","The SDK decides to create cache indexes for query:",sh(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,th(e))):Mc.resolve())}Yi(t,e){if(Ju(e))return Mc.resolve(null);let n=th(e);return this.indexManager.getIndexType(t,n).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=eh(e,null,"F"),n=th(e)),this.indexManager.getDocumentsMatchingTarget(t,n).next(r=>{const s=bh(...r);return this.Ji.getDocuments(t,s).next(r=>this.indexManager.getMinOffset(t,n).next(n=>{const i=this.ts(e,r);return this.ns(e,i,s,n.readTime)?this.Yi(t,eh(e,null,"F")):this.rs(t,i,e,n)}))})))}Zi(t,e,n,r){return Ju(e)||r.isEqual(Ac.min())?Mc.resolve(null):this.Ji.getDocuments(t,n).next(s=>{const i=this.ts(e,s);return this.ns(e,i,n,r)?Mc.resolve(null):(tc()<=yo.DEBUG&&ec("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),sh(e)),this.rs(t,i,e,function(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ac.fromTimestamp(1e9===r?new _c(n+1,0):new _c(n,r));return new Pc(s,Lc.empty(),e)}(r,-1)).next(t=>t))})}ts(t,e){let n=new Wc(ah(t));return e.forEach((e,r)=>{ih(t,r)&&(n=n.add(r))}),n}ns(t,e,n,r){if(null===t.limit)return!1;if(n.size!==e.size)return!0;const s="F"===t.limitType?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Xi(t,e,n){return tc()<=yo.DEBUG&&ec("QueryEngine","Using full collection scan to execute query:",sh(e)),this.Ji.getDocumentsMatchingQuery(t,e,Pc.min(),n)}rs(t,e,n,r){return this.Ji.getDocumentsMatchingQuery(t,n,r).next(t=>(e.forEach(e=>{t=t.insert(e.key,e)}),t))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(t,e,n,r){this.persistence=t,this.ss=e,this.serializer=r,this.os=new zc(xc),this._s=new lh(t=>Gu(t),Ku),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(n)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new sf(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.os))}}async function Sf(t,e){const n=oc(t);return await n.persistence.runTransaction("Handle user change","readonly",t=>{let r;return n.mutationQueue.getAllMutationBatches(t).next(s=>(r=s,n.ls(e),n.mutationQueue.getAllMutationBatches(t))).next(e=>{const s=[],i=[];let a=bh();for(const t of r){s.push(t.batchId);for(const e of t.mutations)a=a.add(e.key)}for(const t of e){i.push(t.batchId);for(const e of t.mutations)a=a.add(e.key)}return n.localDocuments.getDocuments(t,a).next(t=>({hs:t,removedBatchIds:s,addedBatchIds:i}))})})}function _f(t){const e=oc(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function Af(t,e){const n=oc(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",t=>{const i=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const a=[];e.targetChanges.forEach((i,o)=>{const l=s.get(o);if(!l)return;a.push(n.Ur.removeMatchingKeys(t,i.removedDocuments,o).next(()=>n.Ur.addMatchingKeys(t,i.addedDocuments,o)));let c=l.withSequenceNumber(t.currentSequenceNumber);var u,h,d;null!==e.targetMismatches.get(o)?c=c.withResumeToken(Xc.EMPTY_BYTE_STRING,Ac.min()).withLastLimboFreeSnapshotVersion(Ac.min()):i.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(i.resumeToken,r)),s=s.insert(o,c),h=c,d=i,(0===(u=l).resumeToken.approximateByteSize()||h.snapshotVersion.toMicroseconds()-u.snapshotVersion.toMicroseconds()>=3e8||d.addedDocuments.size+d.modifiedDocuments.size+d.removedDocuments.size>0)&&a.push(n.Ur.updateTargetData(t,c))});let o=uh(),l=bh();if(e.documentUpdates.forEach(r=>{e.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),a.push(function(t,e,n){let r=bh(),s=bh();return n.forEach(t=>r=r.add(t)),e.getEntries(t,r).next(t=>{let r=uh();return n.forEach((n,i)=>{const a=t.get(n);i.isFoundDocument()!==a.isFoundDocument()&&(s=s.add(n)),i.isNoDocument()&&i.version.isEqual(Ac.min())?(e.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(i),r=r.insert(n,i)):ec("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)}),{Ps:r,Is:s}})}(t,i,e.documentUpdates).next(t=>{o=t.Ps,l=t.Is})),!r.isEqual(Ac.min())){const e=n.Ur.getLastRemoteSnapshotVersion(t).next(e=>n.Ur.setTargetsMetadata(t,t.currentSequenceNumber,r));a.push(e)}return Mc.waitFor(a).next(()=>i.apply(t)).next(()=>n.localDocuments.getLocalViewOfDocuments(t,o,l)).next(()=>o)}).then(t=>(n.os=s,t))}function Nf(t,e){const n=oc(t);return n.persistence.runTransaction("Get next mutation batch","readonly",t=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(t,e)))}async function Ef(t,e,n){const r=oc(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,t=>r.persistence.referenceDelegate.removeTarget(t,s))}catch(a){if(!Oc(a))throw a;ec("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function kf(t,e,n){const r=oc(t);let s=Ac.min(),i=bh();return r.persistence.runTransaction("Execute query","readwrite",t=>function(t,e,n){const r=oc(t),s=r._s.get(n);return void 0!==s?Mc.resolve(r.os.get(s)):r.Ur.getTargetData(e,n)}(r,t,th(e)).next(e=>{if(e)return s=e.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(t,e.targetId).next(t=>{i=t})}).next(()=>r.ss.getDocumentsMatchingQuery(t,e,n?s:Ac.min(),n?i:bh())).next(t=>(function(t,e,n){let r=t.us.get(e)||Ac.min();n.forEach((t,e)=>{e.readTime.compareTo(r)>0&&(r=e.readTime)}),t.us.set(e,r)}(r,function(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),t),{documents:t,Ts:i})))}class Cf{constructor(){this.activeTargetIds=wh}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Lf{constructor(){this.so=new Cf,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t,e=!0){return e&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,e,n){this.oo[t]=e}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new Cf,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{_o(t){}shutdown(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ec("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){ec("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let If=null;function Df(){return null===If?If=268435456+Math.round(2147483648*Math.random()):If++,"0x"+If.toString(16)
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}const Ff={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of="WebChannelConnection";class Rf extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Do=e+"://"+t.host,this.vo=`projects/${n}/databases/${r}`,this.Co="(default)"===this.databaseId.database?`project_id=${n}`:`project_id=${n}&database_id=${r}`}get Fo(){return!1}Mo(t,e,n,r,s){const i=Df(),a=this.xo(t,e.toUriEncodedString());ec("RestConnection",`Sending RPC '${t}' ${i}:`,a,n);const o={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(o,r,s),this.No(t,a,o,n).then(e=>(ec("RestConnection",`Received RPC '${t}' ${i}: `,e),e),e=>{throw rc("RestConnection",`RPC '${t}' ${i} failed with error: `,e,"url: ",a,"request:",n),e})}Lo(t,e,n,r,s,i){return this.Mo(t,e,n,r,s)}Oo(t,e,n){t["X-Goog-Api-Client"]="gl-js/ fire/"+Jl,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((e,n)=>t[n]=e),n&&n.headers.forEach((e,n)=>t[n]=e)}xo(t,e){const n=Ff[t];return`${this.Do}/v1/${e}:${n}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,e,n,r){const s=Df();return new Promise((i,a)=>{const o=new Ul;o.setWithCredentials(!0),o.listenOnce(zl.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case Hl.NO_ERROR:const e=o.getResponseJson();ec(Of,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(e)),i(e);break;case Hl.TIMEOUT:ec(Of,`RPC '${t}' ${s} timed out`),a(new cc(lc.DEADLINE_EXCEEDED,"Request time out"));break;case Hl.HTTP_ERROR:const n=o.getStatus();if(ec(Of,`RPC '${t}' ${s} failed with status:`,n,"response text:",o.getResponseText()),n>0){let t=o.getResponseJson();Array.isArray(t)&&(t=t[0]);const e=null==t?void 0:t.error;if(e&&e.status&&e.message){const t=function(t){const e=t.toLowerCase().replace(/_/g,"-");return Object.values(lc).indexOf(e)>=0?e:lc.UNKNOWN}(e.status);a(new cc(t,e.message))}else a(new cc(lc.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new cc(lc.UNAVAILABLE,"Connection failed."));break;default:ic()}}finally{ec(Of,`RPC '${t}' ${s} completed.`)}});const l=JSON.stringify(r);ec(Of,`RPC '${t}' ${s} sending request:`,r),o.send(e,"POST",l,n,15)})}Bo(t,e,n){const r=Df(),s=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=Kl(),a=Gl(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Oo(o.initMessageHeaders,e,n),o.encodeInitMessageHeaders=!0;const c=s.join("");ec(Of,`Creating RPC '${t}' stream ${r}: ${c}`,o);const u=i.createWebChannel(c,o);let h=!1,d=!1;const f=new Mf({Io:e=>{d?ec(Of,`Not sending because RPC '${t}' stream ${r} is closed:`,e):(h||(ec(Of,`Opening RPC '${t}' stream ${r} transport.`),u.open(),h=!0),ec(Of,`RPC '${t}' stream ${r} sending:`,e),u.send(e))},To:()=>u.close()}),p=(t,e,n)=>{t.listen(e,t=>{try{n(t)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,Vl.EventType.OPEN,()=>{d||(ec(Of,`RPC '${t}' stream ${r} transport opened.`),f.yo())}),p(u,Vl.EventType.CLOSE,()=>{d||(d=!0,ec(Of,`RPC '${t}' stream ${r} transport closed`),f.So())}),p(u,Vl.EventType.ERROR,e=>{d||(d=!0,rc(Of,`RPC '${t}' stream ${r} transport errored:`,e),f.So(new cc(lc.UNAVAILABLE,"The operation could not be completed")))}),p(u,Vl.EventType.MESSAGE,e=>{var n;if(!d){const s=e.data[0];ac(!!s);const i=s,a=i.error||(null===(n=i[0])||void 0===n?void 0:n.error);if(a){ec(Of,`RPC '${t}' stream ${r} received error:`,a);const e=a.status;let n=function(t){const e=rd[t];if(void 0!==e)return id(e)}(e),s=a.message;void 0===n&&(n=lc.INTERNAL,s="Unknown error status: "+e+" with message "+a.message),d=!0,f.So(new cc(n,s)),u.close()}else ec(Of,`RPC '${t}' stream ${r} received:`,s),f.bo(s)}}),p(a,Wl.STAT_EVENT,e=>{e.stat===$l.PROXY?ec(Of,`RPC '${t}' stream ${r} detected buffering proxy`):e.stat===$l.NOPROXY&&ec(Of,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{f.wo()},0),f}}function jf(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bf(t){return new _d(t,!0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(t,e,n=1e3,r=1.5,s=6e4){this.ui=t,this.timerId=e,this.ko=n,this.qo=r,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const e=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),r=Math.max(0,e-n);r>0&&ec("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${e} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(t,e,n,r,s,i,a,o){this.ui=t,this.Ho=n,this.Jo=r,this.connection=s,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new qf(t,e)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(t,e){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,4!==t?this.t_.reset():e&&e.code===lc.RESOURCE_EXHAUSTED?(nc(e.toString()),nc("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):e&&e.code===lc.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.l_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.mo(e)}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),e=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([t,n])=>{this.Yo===e&&this.P_(t,n)},e=>{t(()=>{const t=new cc(lc.UNKNOWN,"Fetching auth token failed: "+e.message);return this.I_(t)})})}P_(t,e){const n=this.h_(this.Yo);this.stream=this.T_(t,e),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(t=>{n(()=>this.I_(t))}),this.stream.onMessage(t=>{n(()=>1==++this.e_?this.E_(t):this.onNext(t))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(t){return ec("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return e=>{this.ui.enqueueAndForget(()=>this.Yo===t?e():(ec("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Vf extends Uf{constructor(t,e,n,r,s,i){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,n,r,i),this.serializer=s}T_(t,e){return this.connection.Bo("Listen",t,e)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const e=function(t,e){let n;if("targetChange"in e){e.targetChange;const s="NO_CHANGE"===(r=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:ic(),i=e.targetChange.targetIds||[],a=function(t,e){return t.useProto3Json?(ac(void 0===e||"string"==typeof e),Xc.fromBase64String(e||"")):(ac(void 0===e||e instanceof Buffer||e instanceof Uint8Array),Xc.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(t){const e=void 0===t.code?lc.UNKNOWN:id(t.code);return new cc(e,t.message||"")}(o);n=new md(s,i,a,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Dd(t,r.document.name),i=Cd(r.document.updateTime),a=r.document.createTime?Cd(r.document.createTime):Ac.min(),o=new xu({mapValue:{fields:r.document.fields}}),l=_u.newFoundDocument(s,i,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new fd(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Dd(t,r.document),i=r.readTime?Cd(r.readTime):Ac.min(),a=_u.newNoDocument(s,i),o=r.removedTargetIds||[];n=new fd([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Dd(t,r.document),i=r.removedTargetIds||[];n=new fd([],i,s,null)}else{if(!("filter"in e))return ic();{e.filter;const t=e.filter;t.targetId;const{count:r=0,unchangedNames:s}=t,i=new nd(r,s),a=t.targetId;n=new pd(a,i)}}var r;return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return Ac.min();const e=t.targetChange;return e.targetIds&&e.targetIds.length?Ac.min():e.readTime?Cd(e.readTime):Ac.min()}(t);return this.listener.d_(e,n)}A_(t){const e={};e.database=Md(this.serializer),e.addTarget=function(t,e){let n;const r=e.target;if(n=Yu(r)?{documents:jd(t,r)}:{query:Bd(t,r)._t},n.targetId=e.targetId,e.resumeToken.approximateByteSize()>0){n.resumeToken=Ed(t,e.resumeToken);const r=Ad(t,e.expectedCount);null!==r&&(n.expectedCount=r)}else if(e.snapshotVersion.compareTo(Ac.min())>0){n.readTime=Nd(t,e.snapshotVersion.toTimestamp());const r=Ad(t,e.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,t);const n=function(t,e){const n=function(t){switch(t){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ic()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,t);n&&(e.labels=n),this.a_(e)}R_(t){const e={};e.database=Md(this.serializer),e.removeTarget=t,this.a_(e)}}class zf extends Uf{constructor(t,e,n,r,s,i){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,n,r,i),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,e){return this.connection.Bo("Write",t,e)}E_(t){return ac(!!t.streamToken),this.lastStreamToken=t.streamToken,ac(!t.writeResults||0===t.writeResults.length),this.listener.f_()}onNext(t){ac(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const e=function(t,e){return t&&t.length>0?(ac(void 0!==e),t.map(t=>function(t,e){let n=t.updateTime?Cd(t.updateTime):Cd(e);return n.isEqual(Ac.min())&&(n=Cd(e)),new Rh(n,t.transformResults||[])}(t,e))):[]}(t.writeResults,t.commitTime),n=Cd(t.commitTime);return this.listener.g_(n,e)}p_(){const t={};t.database=Md(this.serializer),this.a_(t)}m_(t){const e={streamToken:this.lastStreamToken,writes:t.map(t=>function(t,e){let n;if(e instanceof Wh)n={update:Rd(t,e.key,e.value)};else if(e instanceof Qh)n={delete:Id(t,e.key)};else if(e instanceof Gh)n={update:Rd(t,e.key,e.data),updateMask:Kd(e.fieldMask)};else{if(!(e instanceof Jh))return ic();n={verify:Id(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(t=>function(t,e){const n=e.transform;if(n instanceof Ch)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Lh)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ph)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Dh)return{fieldPath:e.field.canonicalString(),increment:n.Pe};throw ic()}(0,t))),e.precondition.isNone||(n.currentDocument=(r=t,void 0!==(s=e.precondition).updateTime?{updateTime:kd(r,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:ic())),n;var r,s}(this.serializer,t))};this.a_(e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf extends class{}{constructor(t,e,n,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=n,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new cc(lc.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,e,n,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.connection.Mo(t,Td(e,n),r,s,i)).catch(t=>{throw"FirebaseError"===t.name?(t.code===lc.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new cc(lc.UNKNOWN,t.toString())})}Lo(t,e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Lo(t,Td(e,n),r,i,a,s)).catch(t=>{throw"FirebaseError"===t.name?(t.code===lc.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new cc(lc.UNKNOWN,t.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class $f{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,"Online"===t&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(nc(e),this.D_=!1):ec("OnlineStateTracker",e)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(t,e,n,r,s){this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(t=>{n.enqueueAndForget(async()=>{ep(this)&&(ec("RemoteStore","Restarting streams for network reachability change."),await async function(t){const e=oc(t);e.L_.add(4),await Kf(e),e.q_.set("Unknown"),e.L_.delete(4),await Gf(e)}(this))})}),this.q_=new $f(n,r)}}async function Gf(t){if(ep(t))for(const e of t.B_)await e(!0)}async function Kf(t){for(const e of t.B_)await e(!1)}function Yf(t,e){const n=oc(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),tp(n)?Zf(n):bp(n).r_()&&Qf(n,e))}function Xf(t,e){const n=oc(t),r=bp(n);n.N_.delete(e),r.r_()&&Jf(n,e),0===n.N_.size&&(r.r_()?r.o_():ep(n)&&n.q_.set("Unknown"))}function Qf(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ac.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}bp(t).A_(e)}function Jf(t,e){t.Q_.xe(e),bp(t).R_(e)}function Zf(t){t.Q_=new vd({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),bp(t).start(),t.q_.v_()}function tp(t){return ep(t)&&!bp(t).n_()&&t.N_.size>0}function ep(t){return 0===oc(t).L_.size}function np(t){t.Q_=void 0}async function rp(t){t.q_.set("Online")}async function sp(t){t.N_.forEach((e,n)=>{Qf(t,e)})}async function ip(t,e){np(t),tp(t)?(t.q_.M_(e),Zf(t)):t.q_.set("Unknown")}async function ap(t,e,n){if(t.q_.set("Online"),e instanceof md&&2===e.state&&e.cause)try{await async function(t,e){const n=e.cause;for(const r of e.targetIds)t.N_.has(r)&&(await t.remoteSyncer.rejectListen(r,n),t.N_.delete(r),t.Q_.removeTarget(r))}(t,e)}catch(r){ec("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await op(t,r)}else if(e instanceof fd?t.Q_.Ke(e):e instanceof pd?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Ac.min()))try{const e=await _f(t.localStore);n.compareTo(e)>=0&&await function(t,e){const n=t.Q_.rt(e);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const s=t.N_.get(r);s&&t.N_.set(r,s.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach((e,n)=>{const r=t.N_.get(e);if(!r)return;t.N_.set(e,r.withResumeToken(Xc.EMPTY_BYTE_STRING,r.snapshotVersion)),Jf(t,e);const s=new Xd(r.target,e,n,r.sequenceNumber);Qf(t,s)}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)}catch(s){ec("RemoteStore","Failed to raise snapshot:",s),await op(t,s)}}async function op(t,e,n){if(!Oc(e))throw e;t.L_.add(1),await Kf(t),t.q_.set("Offline"),n||(n=()=>_f(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ec("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Gf(t)})}function lp(t,e){return e().catch(n=>op(t,n,e))}async function cp(t){const e=oc(t),n=wp(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;up(e);)try{const t=await Nf(e.localStore,r);if(null===t){0===e.O_.length&&n.o_();break}r=t.batchId,hp(e,t)}catch(s){await op(e,s)}dp(e)&&fp(e)}function up(t){return ep(t)&&t.O_.length<10}function hp(t,e){t.O_.push(e);const n=wp(t);n.r_()&&n.V_&&n.m_(e.mutations)}function dp(t){return ep(t)&&!wp(t).n_()&&t.O_.length>0}function fp(t){wp(t).start()}async function pp(t){wp(t).p_()}async function mp(t){const e=wp(t);for(const n of t.O_)e.m_(n.mutations)}async function gp(t,e,n){const r=t.O_.shift(),s=td.from(r,e,n);await lp(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await cp(t)}async function vp(t,e){e&&wp(t).V_&&await async function(t,e){if(function(t){switch(t){default:return ic();case lc.CANCELLED:case lc.UNKNOWN:case lc.DEADLINE_EXCEEDED:case lc.RESOURCE_EXHAUSTED:case lc.INTERNAL:case lc.UNAVAILABLE:case lc.UNAUTHENTICATED:return!1;case lc.INVALID_ARGUMENT:case lc.NOT_FOUND:case lc.ALREADY_EXISTS:case lc.PERMISSION_DENIED:case lc.FAILED_PRECONDITION:case lc.ABORTED:case lc.OUT_OF_RANGE:case lc.UNIMPLEMENTED:case lc.DATA_LOSS:return!0}}(n=e.code)&&n!==lc.ABORTED){const n=t.O_.shift();wp(t).s_(),await lp(t,()=>t.remoteSyncer.rejectFailedWrite(n.batchId,e)),await cp(t)}var n}(t,e),dp(t)&&fp(t)}async function yp(t,e){const n=oc(t);n.asyncQueue.verifyOperationInProgress(),ec("RemoteStore","RemoteStore received new credentials");const r=ep(n);n.L_.add(3),await Kf(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Gf(n)}function bp(t){return t.K_||(t.K_=function(t,e,n){const r=oc(t);return r.w_(),new Vf(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(t.datastore,t.asyncQueue,{Eo:rp.bind(null,t),Ro:sp.bind(null,t),mo:ip.bind(null,t),d_:ap.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),tp(t)?Zf(t):t.q_.set("Unknown")):(await t.K_.stop(),np(t))})),t.K_}function wp(t){return t.U_||(t.U_=function(t,e,n){const r=oc(t);return r.w_(),new zf(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:pp.bind(null,t),mo:vp.bind(null,t),f_:mp.bind(null,t),g_:gp.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await cp(t)):(await t.U_.stop(),t.O_.length>0&&(ec("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class xp{constructor(t,e,n,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=s,this.deferred=new uc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(t=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,n,r,s){const i=Date.now()+n,a=new xp(t,e,i,r,s);return a.start(n),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new cc(lc.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sp(t,e){if(nc("AsyncQueue",`${e}: ${t}`),Oc(t))return new cc(lc.UNAVAILABLE,`${e}: ${t}`);throw t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(t){this.comparator=t?(e,n)=>t(e,n)||Lc.comparator(e.key,n.key):(t,e)=>Lc.comparator(t.key,e.key),this.keyedMap=dh(),this.sortedSet=new zc(this.comparator)}static emptySet(t){return new _p(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,n)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof _p))return!1;if(this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const t=e.getNext().key,r=n.getNext().key;if(!t.isEqual(r))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const n=new _p;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(){this.W_=new zc(Lc.comparator)}track(t){const e=t.doc.key,n=this.W_.get(e);n?0!==t.type&&3===n.type?this.W_=this.W_.insert(e,t):3===t.type&&1!==n.type?this.W_=this.W_.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.W_=this.W_.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.W_=this.W_.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.W_=this.W_.remove(e):1===t.type&&2===n.type?this.W_=this.W_.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.W_=this.W_.insert(e,{type:2,doc:t.doc}):ic():this.W_=this.W_.insert(e,t)}G_(){const t=[];return this.W_.inorderTraversal((e,n)=>{t.push(n)}),t}}class Np{constructor(t,e,n,r,s,i,a,o,l){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=s,this.fromCache=i,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(t,e,n,r,s){const i=[];return e.forEach(t=>{i.push({type:0,doc:t})}),new Np(t,e,_p.emptySet(e),i,n,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&nh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}}class kp{constructor(){this.queries=Cp(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(t,e){const n=oc(t),r=n.queries;n.queries=Cp(),r.forEach((t,n)=>{for(const r of n.j_)r.onError(e)})}(this,new cc(lc.ABORTED,"Firestore shutting down"))}}function Cp(){return new lh(t=>rh(t),nh)}async function Lp(t,e){const n=oc(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new Ep,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const t=Sp(a,`Initialization of query '${sh(e.query)}' failed`);return void e.onError(t)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&Dp(n)}async function Tp(t,e){const n=oc(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const t=i.j_.indexOf(e);t>=0&&(i.j_.splice(t,1),0===i.j_.length?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Pp(t,e){const n=oc(t);let r=!1;for(const s of e){const t=s.query,e=n.queries.get(t);if(e){for(const t of e.j_)t.X_(s)&&(r=!0);e.z_=s}}r&&Dp(n)}function Ip(t,e,n){const r=oc(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function Dp(t){t.Y_.forEach(t=>{t.next()})}var Fp,Mp;(Mp=Fp||(Fp={})).ea="default",Mp.Cache="cache";class Op{constructor(t,e,n){this.query=t,this.ta=e,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(t){if(!this.options.includeMetadataChanges){const e=[];for(const n of t.docChanges)3!==n.type&&e.push(n);t=new Np(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.na?this.ia(t)&&(this.ta.next(t),e=!0):this.sa(t,this.onlineState)&&(this.oa(t),e=!0),this.ra=t,e}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let e=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),e=!0),e}sa(t,e){if(!t.fromCache)return!0;if(!this.J_())return!0;const n="Offline"!==e;return(!this.options._a||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}ia(t){if(t.docChanges.length>0)return!0;const e=this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges}oa(t){t=Np.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==Fp.Cache}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(t){this.key=t}}class jp{constructor(t){this.key=t}}class Bp{constructor(t,e){this.query=t,this.Ta=e,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=bh(),this.mutatedKeys=bh(),this.Aa=ah(t),this.Ra=new _p(this.Aa)}get Va(){return this.Ta}ma(t,e){const n=e?e.fa:new Ap,r=e?e.Ra:this.Ra;let s=e?e.mutatedKeys:this.mutatedKeys,i=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((t,e)=>{const c=r.get(t),u=ih(this.query,e)?e:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.ga(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.Aa(u,o)>0||l&&this.Aa(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(i=i.add(u),s=d?s.add(t):s.delete(t)):(i=i.delete(t),s=s.delete(t)))}),null!==this.query.limit)for(;i.size>this.query.limit;){const t="F"===this.query.limitType?i.last():i.first();i=i.delete(t.key),s=s.delete(t.key),n.track({type:1,doc:t})}return{Ra:i,fa:n,ns:a,mutatedKeys:s}}ga(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n,r){const s=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const i=t.fa.G_();i.sort((t,e)=>function(t,e){const n=t=>{switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ic()}};return n(t)-n(e)}(t.type,e.type)||this.Aa(t.doc,e.doc)),this.pa(n),r=null!=r&&r;const a=e&&!r?this.ya():[],o=0===this.da.size&&this.current&&!r?1:0,l=o!==this.Ea;return this.Ea=o,0!==i.length||l?{snapshot:new Np(this.query,t.Ra,s,i,t.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Ap,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),t.modifiedDocuments.forEach(t=>{}),t.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=bh(),this.Ra.forEach(t=>{this.Sa(t.key)&&(this.da=this.da.add(t.key))});const e=[];return t.forEach(t=>{this.da.has(t)||e.push(new jp(t))}),this.da.forEach(n=>{t.has(n)||e.push(new Rp(n))}),e}ba(t){this.Ta=t.Ts,this.da=bh();const e=this.ma(t.documents);return this.applyChanges(e,!0)}Da(){return Np.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class qp{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class Up{constructor(t){this.key=t,this.va=!1}}class Vp{constructor(t,e,n,r,s,i){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=i,this.Ca={},this.Fa=new lh(t=>rh(t),nh),this.Ma=new Map,this.xa=new Set,this.Oa=new zc(Lc.comparator),this.Na=new Map,this.La=new cf,this.Ba={},this.ka=new Map,this.qa=ef.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}async function zp(t,e,n=!0){const r=um(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await $p(r,e,n,!0),s}async function Hp(t,e){const n=um(t);await $p(n,e,!0,!1)}async function $p(t,e,n,r){const s=await function(t,e){const n=oc(t);return n.persistence.runTransaction("Allocate target","readwrite",t=>{let r;return n.Ur.getTargetData(t,e).next(s=>s?(r=s,Mc.resolve(r)):n.Ur.allocateTargetId(t).next(s=>(r=new Xd(e,s,"TargetPurposeListen",t.currentSequenceNumber),n.Ur.addTargetData(t,r).next(()=>r))))}).then(t=>{const r=n.os.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(t.targetId,t),n._s.set(e,t.targetId)),t})}(t.localStore,th(e)),i=s.targetId,a=t.sharedClientState.addLocalQueryTarget(i,n);let o;return r&&(o=await async function(t,e,n,r,s){t.Ka=(e,n,r)=>async function(t,e,n,r){let s=e.view.ma(n);s.ns&&(s=await kf(t.localStore,e.query,!1).then(({documents:t})=>e.view.ma(t,s)));const i=r&&r.targetChanges.get(e.targetId),a=r&&null!=r.targetMismatches.get(e.targetId),o=e.view.applyChanges(s,t.isPrimaryClient,i,a);return sm(t,e.targetId,o.wa),o.snapshot}(t,e,n,r);const i=await kf(t.localStore,e,!0),a=new Bp(e,i.Ts),o=a.ma(i.documents),l=dd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,s),c=a.applyChanges(o,t.isPrimaryClient,l);sm(t,n,c.wa);const u=new qp(e,n,a);return t.Fa.set(e,u),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}(t,e,i,"current"===a,s.resumeToken)),t.isPrimaryClient&&n&&Yf(t.remoteStore,s),o}async function Wp(t,e,n){const r=oc(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(t=>!nh(t,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Ef(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Xf(r.remoteStore,s.targetId),nm(r,s.targetId)}).catch(Fc)):(nm(r,s.targetId),await Ef(r.localStore,s.targetId,!0))}async function Gp(t,e){const n=oc(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&1===s.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Xf(n.remoteStore,r.targetId))}async function Kp(t,e,n){const r=function(t){const e=oc(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Jp.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Zp.bind(null,e),e}(t);try{const t=await function(t,e){const n=oc(t),r=_c.now(),s=e.reduce((t,e)=>t.add(e.key),bh());let i,a;return n.persistence.runTransaction("Locally write mutations","readwrite",t=>{let o=uh(),l=bh();return n.cs.getEntries(t,s).next(t=>{o=t,o.forEach((t,e)=>{e.isValidDocument()||(l=l.add(t))})}).next(()=>n.localDocuments.getOverlayedDocuments(t,o)).next(s=>{i=s;const a=[];for(const t of e){const e=Hh(t,i.get(t.key).overlayedDocument);null!=e&&a.push(new Gh(t.key,e,Su(e.value.mapValue),jh.exists(!0)))}return n.mutationQueue.addMutationBatch(t,r,a,e)}).next(e=>{a=e;const r=e.applyToLocalDocumentSet(i,l);return n.documentOverlayCache.saveOverlays(t,e.batchId,r)})}).then(()=>({batchId:a.batchId,changes:fh(i)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(t.batchId),function(t,e,n){let r=t.Ba[t.currentUser.toKey()];r||(r=new zc(xc)),r=r.insert(e,n),t.Ba[t.currentUser.toKey()]=r}(r,t.batchId,n),await om(r,t.changes),await cp(r.remoteStore)}catch(s){const t=Sp(s,"Failed to persist write");n.reject(t)}}async function Yp(t,e){const n=oc(t);try{const t=await Af(n.localStore,e);e.targetChanges.forEach((t,e)=>{const r=n.Na.get(e);r&&(ac(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.va=!0:t.modifiedDocuments.size>0?ac(r.va):t.removedDocuments.size>0&&(ac(r.va),r.va=!1))}),await om(n,t,e)}catch(r){await Fc(r)}}function Xp(t,e,n){const r=oc(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const t=[];r.Fa.forEach((n,r)=>{const s=r.view.Z_(e);s.snapshot&&t.push(s.snapshot)}),function(t,e){const n=oc(t);n.onlineState=e;let r=!1;n.queries.forEach((t,n)=>{for(const s of n.j_)s.Z_(e)&&(r=!0)}),r&&Dp(n)}(r.eventManager,e),t.length&&r.Ca.d_(t),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Qp(t,e,n){const r=oc(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let t=new zc(Lc.comparator);t=t.insert(i,_u.newNoDocument(i,Ac.min()));const n=bh().add(i),s=new hd(Ac.min(),new Map,new zc(xc),t,n);await Yp(r,s),r.Oa=r.Oa.remove(i),r.Na.delete(e),am(r)}else await Ef(r.localStore,e,!1).then(()=>nm(r,e,n)).catch(Fc)}async function Jp(t,e){const n=oc(t),r=e.batch.batchId;try{const t=await function(t,e){const n=oc(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",t=>{const r=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){const s=n.batch,i=s.keys();let a=Mc.resolve();return i.forEach(t=>{a=a.next(()=>r.getEntry(e,t)).next(e=>{const i=n.docVersions.get(t);ac(null!==i),e.version.compareTo(i)<0&&(s.applyToRemoteDocument(e,n),e.isValidDocument()&&(e.setReadTime(n.commitVersion),r.addEntry(e)))})}),a.next(()=>t.mutationQueue.removeMutationBatch(e,s))}(n,t,e,s).next(()=>s.apply(t)).next(()=>n.mutationQueue.performConsistencyCheck(t)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(t,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,function(t){let e=bh();for(let n=0;n<t.mutationResults.length;++n)t.mutationResults[n].transformResults.length>0&&(e=e.add(t.batch.mutations[n].key));return e}(e))).next(()=>n.localDocuments.getDocuments(t,r))})}(n.localStore,e);em(n,r,null),tm(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await om(n,t)}catch(s){await Fc(s)}}async function Zp(t,e,n){const r=oc(t);try{const t=await function(t,e){const n=oc(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",t=>{let r;return n.mutationQueue.lookupMutationBatch(t,e).next(e=>(ac(null!==e),r=e.keys(),n.mutationQueue.removeMutationBatch(t,e))).next(()=>n.mutationQueue.performConsistencyCheck(t)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(t,r,e)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,r)).next(()=>n.localDocuments.getDocuments(t,r))})}(r.localStore,e);em(r,e,n),tm(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await om(r,t)}catch(s){await Fc(s)}}function tm(t,e){(t.ka.get(e)||[]).forEach(t=>{t.resolve()}),t.ka.delete(e)}function em(t,e,n){const r=oc(t);let s=r.Ba[r.currentUser.toKey()];if(s){const t=s.get(e);t&&(n?t.reject(n):t.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function nm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(e=>{t.La.containsKey(e)||rm(t,e)})}function rm(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);null!==n&&(Xf(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),am(t))}function sm(t,e,n){for(const r of n)r instanceof Rp?(t.La.addReference(r.key,e),im(t,r)):r instanceof jp?(ec("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||rm(t,r.key)):ic()}function im(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ec("SyncEngine","New document in limbo: "+n),t.xa.add(r),am(t))}function am(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Lc(Ec.fromString(e)),r=t.qa.next();t.Na.set(r,new Up(n)),t.Oa=t.Oa.insert(n,r),Yf(t.remoteStore,new Xd(th(Qu(n.path)),r,"TargetPurposeLimboResolution",Rc.oe))}}async function om(t,e,n){const r=oc(t),s=[],i=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((t,o)=>{a.push(r.Ka(o,e,n).then(t=>{var e;if((t||n)&&r.isPrimaryClient){const s=t?!t.fromCache:null===(e=null==n?void 0:n.targetChanges.get(o.targetId))||void 0===e?void 0:e.current;r.sharedClientState.updateQueryState(o.targetId,s?"current":"not-current")}if(t){s.push(t);const e=yf.Wi(o.targetId,t);i.push(e)}}))}),await Promise.all(a),r.Ca.d_(s),await async function(t,e){const n=oc(t);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",t=>Mc.forEach(e,e=>Mc.forEach(e.$i,r=>n.persistence.referenceDelegate.addReference(t,e.targetId,r)).next(()=>Mc.forEach(e.Ui,r=>n.persistence.referenceDelegate.removeReference(t,e.targetId,r)))))}catch(r){if(!Oc(r))throw r;ec("LocalStore","Failed to update sequence numbers: "+r)}for(const s of e){const t=s.targetId;if(!s.fromCache){const e=n.os.get(t),r=e.snapshotVersion,s=e.withLastLimboFreeSnapshotVersion(r);n.os=n.os.insert(t,s)}}}(r.localStore,i))}async function lm(t,e){const n=oc(t);if(!n.currentUser.isEqual(e)){ec("SyncEngine","User change. New user:",e.toKey());const t=await Sf(n.localStore,e);n.currentUser=e,s="'waitForPendingWrites' promise is rejected due to a user change.",(r=n).ka.forEach(t=>{t.forEach(t=>{t.reject(new cc(lc.CANCELLED,s))})}),r.ka.clear(),n.sharedClientState.handleUserChange(e,t.removedBatchIds,t.addedBatchIds),await om(n,t.hs)}var r,s}function cm(t,e){const n=oc(t),r=n.Na.get(e);if(r&&r.va)return bh().add(r.key);{let t=bh();const r=n.Ma.get(e);if(!r)return t;for(const e of r){const r=n.Fa.get(e);t=t.unionWith(r.view.Va)}return t}}function um(t){const e=oc(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Yp.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cm.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Qp.bind(null,e),e.Ca.d_=Pp.bind(null,e.eventManager),e.Ca.$a=Ip.bind(null,e.eventManager),e}class hm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Bf(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),await this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)}ja(t,e){return null}Ha(t,e){return null}za(t){return function(t,e,n,r){return new xf(t,e,n,r)}(this.persistence,new wf,t.initialUser,this.serializer)}Ga(t){return new mf(vf.Zr,this.serializer)}Wa(t){return new Lf}async terminate(){var t,e;null===(t=this.gcScheduler)||void 0===t||t.stop(),null===(e=this.indexBackfillerScheduler)||void 0===e||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hm.provider={build:()=>new hm};class dm{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=t=>Xp(this.syncEngine,t,1),this.remoteStore.remoteSyncer.handleCredentialChange=lm.bind(null,this.syncEngine),await async function(t,e){const n=oc(t);e?(n.L_.delete(2),await Gf(n)):e||(n.L_.add(2),await Kf(n),n.q_.set("Unknown"))}(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new kp}createDatastore(t){const e=Bf(t.databaseInfo.databaseId),n=(r=t.databaseInfo,new Rf(r));var r;return function(t,e,n,r){return new Hf(t,e,n,r)}(t.authCredentials,t.appCheckCredentials,n,e)}createRemoteStore(t){return e=this.localStore,n=this.datastore,r=t.asyncQueue,s=t=>Xp(this.syncEngine,t,0),i=Pf.D()?new Pf:new Tf,new Wf(e,n,r,s,i);var e,n,r,s,i}createSyncEngine(t,e){return function(t,e,n,r,s,i,a){const o=new Vp(t,e,n,r,s,i);return a&&(o.Qa=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(t){const e=oc(t);ec("RemoteStore","RemoteStore shutting down."),e.L_.add(5),await Kf(e),e.k_.shutdown(),e.q_.set("Unknown")}(this.remoteStore),null===(t=this.datastore)||void 0===t||t.terminate(),null===(e=this.eventManager)||void 0===e||e.terminate()}}dm.provider={build:()=>new dm};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class fm{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):nc("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,e){setTimeout(()=>{this.muted||t(e)},0)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(t,e,n,r,s){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=n,this.databaseInfo=r,this.user=Ql.UNAUTHENTICATED,this.clientId=wc.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async t=>{ec("FirestoreClient","Received user=",t.uid),await this.authCredentialListener(t),this.user=t}),this.appCheckCredentials.start(n,t=>(ec("FirestoreClient","Received new app check token=",t),this.appCheckCredentialListener(t,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new uc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(KN){const n=Sp(KN,"Failed to shutdown persistence");t.reject(n)}}),t.promise}}async function mm(t,e){t.asyncQueue.verifyOperationInProgress(),ec("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async t=>{r.isEqual(t)||(await Sf(e.localStore,t),r=t)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function gm(t,e){t.asyncQueue.verifyOperationInProgress();const n=await async function(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ec("FirestoreClient","Using user provided OfflineComponentProvider");try{await mm(t,t._uninitializedComponentsProvider._offline)}catch(e){const s=e;if(!("FirebaseError"===(n=s).name?n.code===lc.FAILED_PRECONDITION||n.code===lc.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code))throw s;rc("Error using user provided cache. Falling back to memory cache: "+s),await mm(t,new hm)}}else ec("FirestoreClient","Using default OfflineComponentProvider"),await mm(t,new hm);var n;return t._offlineComponents}(t);ec("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(t=>yp(e.remoteStore,t)),t.setAppCheckTokenChangeListener((t,n)=>yp(e.remoteStore,n)),t._onlineComponents=e}async function vm(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ec("FirestoreClient","Using user provided OnlineComponentProvider"),await gm(t,t._uninitializedComponentsProvider._online)):(ec("FirestoreClient","Using default OnlineComponentProvider"),await gm(t,new dm))),t._onlineComponents}async function ym(t){const e=await vm(t),n=e.eventManager;return n.onListen=zp.bind(null,e.syncEngine),n.onUnlisten=Wp.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Hp.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Gp.bind(null,e.syncEngine),n}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function bm(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}const wm=new Map;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(t,e,n){if(!n)throw new cc(lc.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Sm(t){if(!Lc.isDocumentKey(t))throw new cc(lc.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function _m(t){if(Lc.isDocumentKey(t))throw new cc(lc.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Am(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const n=(e=t).constructor?e.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var e;return"function"==typeof t?"a function":ic()}function Nm(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new cc(lc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Am(t);throw new cc(lc.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(t){var e,n;if(void 0===t.host){if(void 0!==t.ssl)throw new cc(lc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new cc(lc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function(t,e,n,r){if(!0===e&&!0===r)throw new cc(lc.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bm(null!==(n=t.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(t){if(void 0!==t.timeoutSeconds){if(isNaN(t.timeoutSeconds))throw new cc(lc.INVALID_ARGUMENT,`invalid long polling timeout: ${t.timeoutSeconds} (must not be NaN)`);if(t.timeoutSeconds<5)throw new cc(lc.INVALID_ARGUMENT,`invalid long polling timeout: ${t.timeoutSeconds} (minimum allowed value is 5)`);if(t.timeoutSeconds>30)throw new cc(lc.INVALID_ARGUMENT,`invalid long polling timeout: ${t.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(e=this.experimentalLongPollingOptions,n=t.experimentalLongPollingOptions,e.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams;var e,n}}class km{constructor(t,e,n,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Em({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new cc(lc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new cc(lc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Em(t),void 0!==t.credentials&&(this._authCredentials=function(t){if(!t)return new dc;switch(t.type){case"firstParty":return new gc(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new cc(lc.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=wm.get(t);e&&(ec("ComponentProvider","Removing Datastore"),wm.delete(t),e.terminate())}(this),Promise.resolve()}}function Cm(t,e,n,r={}){var s;const i=(t=Nm(t,km))._getSettings(),a=`${e}:${n}`;if("firestore.googleapis.com"!==i.host&&i.host!==a&&rc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:a,ssl:!1})),r.mockUserToken){let e,n;if("string"==typeof r.mockUserToken)e=r.mockUserToken,n=Ql.MOCK_USER;else{e=function(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Za(JSON.stringify({alg:"none",type:"JWT"})),Za(JSON.stringify(i)),""].join(".")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(r.mockUserToken,null===(s=t._app)||void 0===s?void 0:s.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new cc(lc.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Ql(i)}t._authCredentials=new fc(new hc(e,n))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new Lm(this.firestore,t,this._query)}}class Tm{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pm(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Tm(this.firestore,t,this._key)}}class Pm extends Lm{constructor(t,e,n){super(t,e,Qu(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Tm(this.firestore,null,new Lc(t))}withConverter(t){return new Pm(this.firestore,t,this._path)}}function Im(t,e,...n){if(t=fo(t),xm("collection","path",e),t instanceof km){const r=Ec.fromString(e,...n);return _m(r),new Pm(t,null,r)}{if(!(t instanceof Tm||t instanceof Pm))throw new cc(lc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ec.fromString(e,...n));return _m(r),new Pm(t.firestore,null,r)}}function Dm(t,e,...n){if(t=fo(t),1===arguments.length&&(e=wc.newId()),xm("doc","path",e),t instanceof km){const r=Ec.fromString(e,...n);return Sm(r),new Tm(t,null,new Lc(r))}{if(!(t instanceof Tm||t instanceof Pm))throw new cc(lc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ec.fromString(e,...n));return Sm(r),new Tm(t.firestore,t instanceof Pm?t.converter:null,new Lc(r))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new qf(this,"async_queue_retry"),this.Vu=()=>{const t=jf();t&&ec("AsyncQueue","Visibility state changed to "+t.visibilityState),this.t_.jo()},this.mu=t;const e=jf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const e=jf();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise(()=>{});const e=new uc;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Pu.push(t),this.pu()))}async pu(){if(0!==this.Pu.length){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(YN){if(!Oc(YN))throw YN;ec("AsyncQueue","Operation failed with retryable error: "+YN)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(t){const e=this.mu.then(()=>(this.du=!0,t().catch(t=>{this.Eu=t,this.du=!1;throw nc("INTERNAL UNHANDLED ERROR: ",function(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(t=>(this.du=!1,t))));return this.mu=e,e}enqueueAfterDelay(t,e,n){this.fu(),this.Ru.indexOf(t)>-1&&(e=0);const r=xp.createAndSchedule(this,t,e,n,t=>this.yu(t));return this.Tu.push(r),r}fu(){this.Eu&&ic()}verifyOperationInProgress(){}async wu(){let t;do{t=this.mu,await t}while(t!==this.mu)}Su(t){for(const e of this.Tu)if(e.timerId===t)return!0;return!1}bu(t){return this.wu().then(()=>{this.Tu.sort((t,e)=>t.targetTimeMs-e.targetTimeMs);for(const e of this.Tu)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.wu()})}Du(t){this.Ru.push(t)}yu(t){const e=this.Tu.indexOf(t);this.Tu.splice(e,1)}}class Mm extends km{constructor(t,e,n,r){super(t,e,n,r),this.type="firestore",this._queue=new Fm,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Fm(t),this._firestoreClient=void 0,await t}}}function Om(t){if(t._terminated)throw new cc(lc.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||function(t){var e,n,r;const s=t._freezeSettings(),i=(a=t._databaseId,o=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",l=t._persistenceKey,c=s,new su(a,o,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,bm(c.experimentalLongPollingOptions),c.useFetchStreams));var a,o,l,c;t._componentsProvider||(null===(n=s.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=s.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new pm(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(t){const e=null==t?void 0:t._online.build();return{_offline:null==t?void 0:t._offline.build(e),_online:e}}(t._componentsProvider))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t),t._firestoreClient}class Rm{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Rm(Xc.fromBase64String(t))}catch(e){throw new cc(lc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Rm(Xc.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new cc(lc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Cc(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(t){this._methodName=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new cc(lc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new cc(lc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return xc(this._lat,t._lat)||xc(this._long,t._long)}}
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(t){this._values=(t||[]).map(t=>t)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0}(this._values,t._values)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm=/^__.*__$/;class zm{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return null!==this.fieldMask?new Gh(t,this.data,this.fieldMask,e,this.fieldTransforms):new Wh(t,this.data,e,this.fieldTransforms)}}class Hm{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return new Gh(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function $m(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ic()}}class Wm{constructor(t,e,n,r,s,i){this.settings=t,this.databaseId=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===s&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new Wm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Fu({path:n,xu:!1});return r.Ou(t),r}Nu(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Fu({path:n,xu:!1});return r.vu(),r}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return ag(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(0===t.length)throw this.Bu("Document fields must not be empty");if($m(this.Cu)&&Vm.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class Gm{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=n||Bf(t)}Qu(t,e,n,r=!1){return new Wm({Cu:t,methodName:e,qu:n,path:Cc.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Km(t){const e=t._freezeSettings(),n=Bf(t._databaseId);return new Gm(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Ym(t,e,n,r,s,i={}){const a=t.Qu(i.merge||i.mergeFields?2:0,e,n,s);ng("Data must be an object, but it was:",a,r);const o=tg(r,a);let l,c;if(i.merge)l=new Kc(a.fieldMask),c=a.fieldTransforms;else if(i.mergeFields){const t=[];for(const r of i.mergeFields){const s=rg(e,r,n);if(!a.contains(s))throw new cc(lc.INVALID_ARGUMENT,`Field '${s}' is specified in your field mask but missing from your input data.`);og(t,s)||t.push(s)}l=new Kc(t),c=a.fieldTransforms.filter(t=>l.covers(t.field))}else l=null,c=a.fieldTransforms;return new zm(new xu(o),l,c)}class Xm extends Bm{_toFieldTransform(t){if(2!==t.Cu)throw 1===t.Cu?t.Bu(`${this._methodName}() can only appear at the top level of your update data`):t.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Xm}}class Qm extends Bm{_toFieldTransform(t){return new Oh(t.path,new Ch)}isEqual(t){return t instanceof Qm}}class Jm extends Bm{constructor(t,e){super(t),this.Ku=e}_toFieldTransform(t){const e=function(t,e,n){return new Wm({Cu:3,qu:e.settings.qu,methodName:t._methodName,xu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}(this,t,!0),n=this.Ku.map(t=>Zm(t,e)),r=new Lh(n);return new Oh(t.path,r)}isEqual(t){return t instanceof Jm&&uo(this.Ku,t.Ku)}}function Zm(t,e){if(eg(t=fo(t)))return ng("Unsupported field value:",e,t),tg(t,e);if(t instanceof Bm)return function(t,e){if(!$m(e.Cu))throw e.Bu(`${t._methodName}() can only be used with update() and set()`);if(!e.path)throw e.Bu(`${t._methodName}() is not currently supported inside arrays`);const n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&4!==e.Cu)throw e.Bu("Nested arrays are not supported");return function(t,e){const n=[];let r=0;for(const s of t){let t=Zm(s,e.Lu(r));null==t&&(t={nullValue:"NULL_VALUE"}),n.push(t),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=fo(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return _h(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const n=_c.fromDate(t);return{timestampValue:Nd(e.serializer,n)}}if(t instanceof _c){const n=new _c(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Nd(e.serializer,n)}}if(t instanceof qm)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Rm)return{bytesValue:Ed(e.serializer,t._byteString)};if(t instanceof Tm){const n=e.databaseId,r=t.firestore._databaseId;if(!r.isEqual(n))throw e.Bu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Ld(t.firestore._databaseId||e.databaseId,t._key.path)}}if(t instanceof Um)return n=e,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:t.toArray().map(t=>{if("number"!=typeof t)throw n.Bu("VectorValues must only contain numeric values.");return xh(n.serializer,t)})}}}}};var n;throw e.Bu(`Unsupported field value: ${Am(t)}`)}(t,e)}function tg(t,e){const n={};return Vc(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Uc(t,(t,r)=>{const s=Zm(r,e.Mu(t));null!=s&&(n[t]=s)}),{mapValue:{fields:n}}}function eg(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof _c||t instanceof qm||t instanceof Rm||t instanceof Tm||t instanceof Bm||t instanceof Um)}function ng(t,e,n){if(!eg(n)||("object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r))){const r=Am(n);throw"an object"===r?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}var r}function rg(t,e,n){if((e=fo(e))instanceof jm)return e._internalPath;if("string"==typeof e)return ig(t,e);throw ag("Field path arguments must be of type string or ",t,!1,void 0,n)}const sg=new RegExp("[~\\*/\\[\\]]");function ig(t,e,n){if(e.search(sg)>=0)throw ag(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new jm(...e.split("."))._internalPath}catch(r){throw ag(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ag(t,e,n,r,s){const i=r&&!r.isEmpty(),a=void 0!==s;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(i||a)&&(l+=" (found",i&&(l+=` in field ${r}`),a&&(l+=` in document ${s}`),l+=")"),new cc(lc.INVALID_ARGUMENT,o+t+l)}function og(t,e){return t.some(t=>t.isEqual(e))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(t,e,n,r,s){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Tm(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new cg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(ug("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class cg extends lg{data(){return super.data()}}function ug(t,e){return"string"==typeof e?ig(t,e):e instanceof jm?e._internalPath:e._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{convertValue(t,e="none"){switch(ou(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Zc(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(tu(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw ic()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const n={};return Uc(t,(t,r)=>{n[t]=this.convertValue(r,e)}),n}convertVectorValue(t){var e,n,r;const s=null===(r=null===(n=null===(e=t.fields)||void 0===e?void 0:e.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map(t=>Zc(t.doubleValue));return new Um(s)}convertGeoPoint(t){return new qm(Zc(t.latitude),Zc(t.longitude))}convertArray(t,e){return(t.values||[]).map(t=>this.convertValue(t,e))}convertServerTimestamp(t,e){switch(e){case"previous":const n=nu(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(ru(t));default:return null}}convertTimestamp(t){const e=Jc(t);return new _c(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=Ec.fromString(t);ac(Yd(n));const r=new iu(n.get(1),n.get(3)),s=new Lc(n.popFirst(5));return r.isEqual(e)||nc(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class fg{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class pg extends lg{constructor(t,e,n,r,s,i){super(t,e,n,r,i),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new mg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const n=this._document.data.field(ug("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}}class mg extends pg{data(t={}){return super.data(t)}}class gg{constructor(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new fg(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(n=>{t.call(e,new mg(this._firestore,this._userDataWriter,n.key,n,new fg(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new cc(lc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){let e=0;return t._snapshot.docChanges.map(n=>{const r=new mg(t._firestore,t._userDataWriter,n.doc.key,n.doc,new fg(t._snapshot.mutatedKeys.has(n.doc.key),t._snapshot.fromCache),t.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:e++}})}{let n=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(t=>e||3!==t.type).map(e=>{const r=new mg(t._firestore,t._userDataWriter,e.doc.key,e.doc,new fg(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);let s=-1,i=-1;return 0!==e.type&&(s=n.indexOf(e.doc.key),n=n.delete(e.doc.key)),1!==e.type&&(n=n.add(e.doc),i=n.indexOf(e.doc.key)),{type:vg(e.type),doc:r,oldIndex:s,newIndex:i}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function vg(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ic()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(t){t=Nm(t,Tm);const e=Nm(t.firestore,Mm);return function(t,e,n={}){const r=new uc;return t.asyncQueue.enqueueAndForget(async()=>function(t,e,n,r,s){const i=new fm({next:o=>{i.Za(),e.enqueueAndForget(()=>Tp(t,a));const l=o.docs.has(n);!l&&o.fromCache?s.reject(new cc(lc.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?s.reject(new cc(lc.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):s.resolve(o)},error:t=>s.reject(t)}),a=new Op(Qu(n.path),i,{includeMetadataChanges:!0,_a:!0});return Lp(t,a)}(await ym(t),t.asyncQueue,e,n,r)),r.promise}(Om(e),t._key).then(n=>function(t,e,n){const r=n.docs.get(e._key),s=new bg(t);return new pg(t,s,e._key,r,new fg(n.hasPendingWrites,n.fromCache),e.converter)}(e,t,n))}class bg extends hg{constructor(t){super(),this.firestore=t}convertBytes(t){return new Rm(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Tm(this.firestore,null,e)}}function wg(t){t=Nm(t,Lm);const e=Nm(t.firestore,Mm),n=Om(e),r=new bg(e);return function(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new cc(lc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query),function(t,e,n={}){const r=new uc;return t.asyncQueue.enqueueAndForget(async()=>function(t,e,n,r,s){const i=new fm({next:n=>{i.Za(),e.enqueueAndForget(()=>Tp(t,a)),n.fromCache&&"server"===r.source?s.reject(new cc(lc.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):s.resolve(n)},error:t=>s.reject(t)}),a=new Op(n,i,{includeMetadataChanges:!0,_a:!0});return Lp(t,a)}(await ym(t),t.asyncQueue,e,n,r)),r.promise}(n,t._query).then(n=>new gg(e,r,t,n))}function xg(t,e,n){t=Nm(t,Tm);const r=Nm(t.firestore,Mm),s=dg(t.converter,e,n);return _g(r,[Ym(Km(r),"setDoc",t._key,s,null!==t.converter,n).toMutation(t._key,jh.none())])}function Sg(t,e,n,...r){t=Nm(t,Tm);const s=Nm(t.firestore,Mm),i=Km(s);let a;return a="string"==typeof(e=fo(e))||e instanceof jm?function(t,e,n,r,s,i){const a=t.Qu(1,e,n),o=[rg(e,r,n)],l=[s];if(i.length%2!=0)throw new cc(lc.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<i.length;d+=2)o.push(rg(e,i[d])),l.push(i[d+1]);const c=[],u=xu.empty();for(let d=o.length-1;d>=0;--d)if(!og(c,o[d])){const t=o[d];let e=l[d];e=fo(e);const n=a.Nu(t);if(e instanceof Xm)c.push(t);else{const r=Zm(e,n);null!=r&&(c.push(t),u.set(t,r))}}const h=new Kc(c);return new Hm(u,h,a.fieldTransforms)}(i,"updateDoc",t._key,e,n,r):function(t,e,n,r){const s=t.Qu(1,e,n);ng("Data must be an object, but it was:",s,r);const i=[],a=xu.empty();Uc(r,(t,r)=>{const o=ig(e,t,n);r=fo(r);const l=s.Nu(o);if(r instanceof Xm)i.push(o);else{const t=Zm(r,l);null!=t&&(i.push(o),a.set(o,t))}});const o=new Kc(i);return new Hm(a,o,s.fieldTransforms)}(i,"updateDoc",t._key,e),_g(s,[a.toMutation(t._key,jh.exists(!0))])}function _g(t,e){return function(t,e){const n=new uc;return t.asyncQueue.enqueueAndForget(async()=>Kp(await function(t){return vm(t).then(t=>t.syncEngine)}(t),e,n)),n.promise}(Om(t),e)}function Ag(){return new Qm("serverTimestamp")}function Ng(...t){return new Jm("arrayUnion",t)}!function(t,e=!0){Jl="10.14.1",_l(new po("firestore",(t,{instanceIdentifier:n,options:r})=>{const s=t.getProvider("app").getImmediate(),i=new Mm(new pc(t.getProvider("auth-internal")),new yc(t.getProvider("app-check-internal")),function(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new cc(lc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new iu(t.options.projectId,e)}(s,n),s);return r=Object.assign({useFetchStreams:e},r),i._setSettings(r),i},"PUBLIC").setMultipleInstances(!0)),kl(Xl,"4.7.3",t),kl(Xl,"4.7.3","esm2017")}();const Eg=function(t){const e="string"==typeof t?t:"(default)",n=function(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}("object"==typeof t?t:function(t=vl){const e=bl.get(t);if(!e&&t===vl&&so())return El();if(!e)throw Al.create("no-app",{appName:t});return e}(),"firestore").getImmediate({identifier:e});if(!n._initialized){const t=ro("firestore");t&&Cm(n,...t)}return n}(El({apiKey:"AIzaSyClXV9PzskFjGVzTa2OVG3nJQZ170qjrrE",authDomain:"pesalai-undergraduate.firebaseapp.com",projectId:"pesalai-undergraduate",storageBucket:"pesalai-undergraduate.firebasestorage.app",messagingSenderId:"819849679669",appId:"1:819849679669:web:418491be5cbfa0fc62b27c",measurementId:"G-T9X602C1X2"})),kg="students",Cg="classes",Lg="classAttendance",Tg="exams",Pg="expenses",Ig={BATCHES:{BATCH_26AL:"26AL",BATCH_27AL:"27AL"},STREAMS:{BIO:"BIO",MATH:"MATH"},SUBJECTS:{BIO:"BIO",MATH:"MATH",PHY:"PHY",CHE:"CHE"},GENDERS:{MALE:"M",FEMALE:"F"},ATTENDANCE_STATUS:{PRESENT:"present",ABSENT:"absent"},EXAM_STATUS:{UPCOMING:"upcoming",ACTIVE:"active",COMPLETED:"completed"},EXPENSE_TYPES:{INCOME:"income",EXPENSE:"expense"},ADMIN_PASSWORD:"pesalai2025",APP_NAME:"Pesalai Undergraduates",APP_SLOGAN:"Choose harder rights, not easier wrongs",DATE_FORMAT:"YYYY-MM-DD"},Dg=(t,e,n)=>{const r=n.replace(/-/g,"");return`${t}_${e.toLowerCase()}_${r}`},Fg=()=>(new Date).toISOString().split("T")[0],Mg=t=>"string"==typeof t?t.split("T")[0]:t.toISOString().split("T")[0],Og=(t,e=null,n="info")=>{const r=`[${(new Date).toLocaleTimeString()}] [${n.toUpperCase()}]`;e?console.log(`${r} ${t}:`,e):console.log(`${r} ${t}`)},Rg=(t,e)=>{Og(t,e,"error")},jg=(t,e=null)=>{Og(t,e,"success")},Bg=(t,e=null)=>{Og(t,e,"warning")},qg="/logo.svg",Ug={class:"login-container"},Vg={class:"login-card"},zg={class:"login-header"},Hg={class:"slogan"},$g={class:"form-group"},Wg=["disabled"],Gg=["disabled"],Kg={key:0,class:"spinner"},Yg={key:1},Xg={key:0,class:"error-message"};const Qg=di({name:"Login",data:()=>({password:"",loading:!1,error:"",CONSTANTS:Ig}),methods:{async handleLogin(){Og("Login attempt started"),this.loading=!0,this.error="";try{await new Promise(t=>setTimeout(t,500)),this.password===Ig.ADMIN_PASSWORD?(jg("Login successful"),localStorage.setItem("pesalai_auth",this.password),this.showToast("Login successful!","success"),setTimeout(()=>{this.$router.push("/dashboard")},1e3)):(Bg("Login failed - invalid password"),this.error="Invalid password. Please try again.",this.password="")}catch(t){Rg("Login error occurred",t),this.error="Login failed. Please try again.",console.error("Login error:",t)}finally{this.loading=!1}},showToast(t,e="success"){const n=document.createElement("div");n.className=`toast ${e}`,n.innerHTML=`\n        <div style="display: flex; align-items: center; gap: 8px;">\n          <i class="fas fa-${"success"===e?"check-circle":"exclamation-triangle"}"></i>\n          <span>${t}</span>\n        </div>\n      `,document.body.appendChild(n),setTimeout(()=>{n.remove()},3e3)}},mounted(){Og("Login component mounted"),localStorage.getItem("pesalai_auth")===Ig.ADMIN_PASSWORD&&(Og("User already authenticated, redirecting to dashboard"),this.$router.push("/dashboard"))}},[["render",function(t,e,n,r,s,i){return Vr(),Wr("div",Ug,[Qr("div",Vg,[Qr("div",zg,[e[2]||(e[2]=Qr("img",{src:qg,alt:"Pesalai Undergraduates",class:"logo"},null,-1)),Qr("h1",null,Y(s.CONSTANTS.APP_NAME),1),Qr("p",Hg,Y(s.CONSTANTS.APP_SLOGAN),1)]),Qr("form",{onSubmit:e[1]||(e[1]=ci((...t)=>i.handleLogin&&i.handleLogin(...t),["prevent"])),class:"login-form"},[Qr("div",$g,[e[3]||(e[3]=Qr("label",{for:"password",class:"form-label"},"Admin Password",-1)),Qe(Qr("input",{id:"password","onUpdate:modelValue":e[0]||(e[0]=t=>s.password=t),type:"password",class:"form-control",placeholder:"Enter admin password",required:"",disabled:s.loading},null,8,Wg),[[ri,s.password]])]),Qr("button",{type:"submit",class:"btn btn-primary w-100",disabled:s.loading||!s.password.trim()},[s.loading?(Vr(),Wr("span",Kg)):(Vr(),Wr("span",Yg,"Login"))],8,Gg)],32),s.error?(Vr(),Wr("div",Xg,[e[4]||(e[4]=Qr("i",{class:"fas fa-exclamation-triangle"},null,-1)),ts(" "+Y(s.error),1)])):ns("",!0)])])}],["__scopeId","data-v-4c8a2ce0"]]),Jg={async create(t,e){try{Og(`Creating document in ${t}`,e);const n=await function(t,e){const n=Nm(t.firestore,Mm),r=Dm(t),s=dg(t.converter,e);return _g(n,[Ym(Km(t.firestore),"addDoc",r._key,s,null!==t.converter,{}).toMutation(r._key,jh.exists(!1))]).then(()=>r)}(Im(Eg,t),{...e,createdAt:Ag(),updatedAt:Ag()});return jg(`Document created in ${t}`,{id:n.id}),{id:n.id,...e}}catch(n){throw Rg(`Error creating document in ${t}`,n),n}},async createWithId(t,e,n){try{Og(`Creating document with ID ${e} in ${t}`,n);const r=Dm(Eg,t,e);return await xg(r,{...n,createdAt:Ag(),updatedAt:Ag()}),jg(`Document created with ID ${e} in ${t}`),{id:e,...n}}catch(r){throw Rg(`Error creating document with ID ${e} in ${t}`,r),r}},async getById(t,e){try{Og(`Getting document ${e} from ${t}`);const n=Dm(Eg,t,e),r=await yg(n);return r.exists()?(jg(`Document ${e} found in ${t}`),{id:r.id,...r.data()}):(Bg(`Document ${e} not found in ${t}`),null)}catch(n){throw Rg(`Error getting document ${e} from ${t}`,n),n}},async getAll(t){try{Og(`Getting all documents from ${t}`);const e=(await wg(Im(Eg,t))).docs.map(t=>({id:t.id,...t.data()}));return jg(`Retrieved ${e.length} documents from ${t}`),e}catch(e){throw Rg(`Error getting documents from ${t}`,e),e}},async update(t,e,n){try{Og(`Updating document ${e} in ${t}`,n);const r=Dm(Eg,t,e);return await Sg(r,{...n,updatedAt:Ag()}),jg(`Document ${e} updated in ${t}`),{id:e,...n}}catch(r){throw Rg(`Error updating document ${e} in ${t}`,r),r}},async delete(t,e){try{Og(`Deleting document ${e} from ${t}`);const r=Dm(Eg,t,e);return await(n=r,_g(Nm(n.firestore,Mm),[new Qh(n._key,jh.none())])),jg(`Document ${e} deleted from ${t}`),!0}catch(r){throw Rg(`Error deleting document ${e} from ${t}`,r),r}var n}},Zg={getAll:async()=>(Og("Getting all students"),await Jg.getAll(kg)),async getByBatch(t){Og(`Getting students for batch ${t}`);const e=(await Jg.getAll(kg)).filter(e=>e.batch===t);return jg(`Found ${e.length} students for batch ${t}`),e},async getByIndexNo(t){Og(`Getting student with index number ${t}`);return await Jg.getById(kg,t)},async create(t){Og("Creating new student",t);const e={...t,attendanceList:[],examRecords:{}};return await Jg.createWithId(kg,t.indexNo,e)},update:async(t,e)=>(Og(`Updating student ${t}`,e),await Jg.update(kg,t,e)),delete:async t=>(Og(`Deleting student ${t}`),await Jg.delete(kg,t)),async addAttendanceDate(t,e){try{Og(`Adding attendance date ${e} for student ${t}`);const n=Dm(Eg,kg,t);await Sg(n,{attendanceList:Ng(e),updatedAt:Ag()}),jg(`Attendance date ${e} added for student ${t}`)}catch(n){throw Rg(`Error adding attendance date for student ${t}`,n),n}},async addExamRecord(t,e,n){try{Og(`Adding exam record for student ${t}`,{examId:e,examData:n});const r=Dm(Eg,kg,t);await Sg(r,{[`examRecords.${e}`]:n,updatedAt:Ag()}),jg(`Exam record added for student ${t}`)}catch(r){throw Rg(`Error adding exam record for student ${t}`,r),r}}},tv={getAll:async()=>(Og("Getting all classes"),await Jg.getAll(Cg)),async getByBatch(t){Og(`Getting classes for batch ${t}`);const e=(await Jg.getAll(Cg)).filter(e=>e.batch===t);return jg(`Found ${e.length} classes for batch ${t}`),e},async getByClassId(t){Og(`Getting class with ID ${t}`);return await Jg.getById(Cg,t)},async create(t){Og("Creating new class",t);const e={...t,createdAt:Ag()};return await Jg.createWithId(Cg,t.classId,e)},update:async(t,e)=>(Og(`Updating class ${t}`,e),await Jg.update(Cg,t,e)),delete:async t=>(Og(`Deleting class ${t}`),await Jg.delete(Cg,t))},ev={async getByDateAndClass(t,e){Og(`Getting class attendance for class ${e} on ${t}`);const n=Dm(Eg,Lg,e),r=await yg(n);if(r.exists()){const n=r.data()[t]||[];return jg(`Found ${n.length} students present for class ${e} on ${t}`),n}return Bg(`No attendance record found for class ${e} on ${t}`),[]},async saveAttendance(t,e,n){try{Og(`Saving class attendance for class ${t} on ${e}`,{studentIds:n});const r=Dm(Eg,Lg,t);await xg(r,{[e]:n,updatedAt:Ag()},{merge:!0}),jg(`Class attendance saved for class ${t} on ${e}`);for(const t of n)await Zg.addAttendanceDate(t,e)}catch(r){throw Rg(`Error saving class attendance for class ${t}`,r),r}}},nv={getAll:async()=>(Og("Getting all exams"),await Jg.getAll(Tg)),async getByStatus(t){Og(`Getting exams with status ${t}`);const e=(await Jg.getAll(Tg)).filter(e=>e.status===t);return jg(`Found ${e.length} exams with status ${t}`),e},getById:async t=>(Og(`Getting exam ${t}`),await Jg.getById(Tg,t)),async create(t){Og("Creating new exam",t);const e={...t,status:"upcoming",studentRecords:{},collectedMoney:0};return await Jg.createWithId(Tg,t.id,e)},update:async(t,e)=>(Og(`Updating exam ${t}`,e),await Jg.update(Tg,t,e)),async addStudentRecord(t,e,n){try{Og(`Adding student record to exam ${t}`,{studentId:e,recordData:n});const r=Dm(Eg,Tg,t);await Sg(r,{[`studentRecords.${e}`]:n,updatedAt:Ag()}),jg(`Student record added to exam ${t}`)}catch(r){throw Rg(`Error adding student record to exam ${t}`,r),r}},async updateCollectedMoney(t){try{Og(`Updating collected money for exam ${t}`);const e=await this.getById(t);if(!e)throw new Error(`Exam ${t} not found`);let n=0;Object.values(e.studentRecords||{}).forEach(t=>{t.fee&&(n+=parseFloat(t.fee)||0)});const r=Dm(Eg,Tg,t);return await Sg(r,{collectedMoney:n,updatedAt:Ag()}),jg(`Collected money updated for exam ${t}: ${n}`),n}catch(e){throw Rg(`Error updating collected money for exam ${t}`,e),e}}},rv={getAllExpenses:async()=>(Og("Getting all financial transactions"),await Jg.getAll(Pg)),async getExpensesByType(t){Og(`Getting ${t} transactions`);const e=(await Jg.getAll(Pg)).filter(e=>e.type===t);return jg(`Found ${e.length} ${t} transactions`),e},createExpense:async t=>(Og("Creating new expense",t),await Jg.create(Pg,t)),updateExpense:async(t,e)=>(Og(`Updating expense ${t}`,e),await Jg.update(Pg,t,e)),deleteExpense:async t=>(Og(`Deleting expense ${t}`),await Jg.delete(Pg,t))},sv={name:"Dashboard",data:()=>({CONSTANTS:Ig,totalStudents:0,studentsByBatch:{},todayAttendance:0,todayPresent:0,todayTotal:0,upcomingExams:0,nextExamDate:null,totalIncome:0,totalExpenses:0,currentBalance:0,recentActivities:[],loading:!0}),async mounted(){await this.loadDashboardData()},methods:{async loadDashboardData(){try{Og("Loading dashboard data"),this.loading=!0;const[t,e,n,r]=await Promise.all([Zg.getAll(),this.getTodayAttendance(),nv.getAll(),rv.getAllExpenses()]);jg(`Loaded dashboard data: ${t.length} students, ${n.length} exams, ${r.length} transactions`),this.totalStudents=t.length,this.studentsByBatch=t.reduce((t,e)=>(t[e.batch]=(t[e.batch]||0)+1,t),{}),e.length>0&&(this.todayPresent=e.length,this.todayTotal=t.filter(t=>t.batch===Ig.BATCHES.BATCH_26AL||t.batch===Ig.BATCHES.BATCH_27AL).length,this.todayAttendance=Math.round(this.todayPresent/this.todayTotal*100));const s=n.filter(t=>t.status===Ig.EXAM_STATUS.UPCOMING);if(this.upcomingExams=s.length,s.length>0){const t=s.sort((t,e)=>new Date(t.date)-new Date(e.date))[0];this.nextExamDate=this.formatDate(t.date)}const i=r.filter(t=>t.type===Ig.EXPENSE_TYPES.INCOME),a=r.filter(t=>t.type===Ig.EXPENSE_TYPES.EXPENSE);this.totalIncome=i.reduce((t,e)=>t+(e.amount||0),0),this.totalExpenses=a.reduce((t,e)=>t+(e.amount||0),0),this.currentBalance=this.totalIncome-this.totalExpenses,jg(`Dashboard calculations completed: Income Rs.${this.totalIncome}, Expenses Rs.${this.totalExpenses}, Balance Rs.${this.currentBalance}`),this.generateRecentActivities(t,n,r)}catch(t){Rg("Error loading dashboard data",t),this.showToast("Failed to load dashboard data","error")}finally{this.loading=!1}},async getTodayAttendance(){const t=(new Date).toISOString().split("T")[0];Og(`Getting today's attendance for ${t}`);try{const e=await tv.getAll();Og(`Found ${e.length} classes`);let n=[];for(const r of e){const e=await ev.getByDateAndClass(t,r.classId);n=[...n,...e],Og(`Class ${r.classId}: ${e.length} students present`)}return Og(`Today's total attendance: ${n.length} students across all classes`),n}catch(e){return Rg("Error getting today's attendance",e),[]}},generateRecentActivities(t,e,n){const r=[];t.slice(-3).forEach(t=>{r.push({id:`student-${t.id}`,icon:"fas fa-user-plus",message:`New student added: ${t.name} (${t.indexNo})`,timestamp:t.createdAt||new Date})});e.slice(-2).forEach(t=>{r.push({id:`exam-${t.id}`,icon:"fas fa-clipboard-list",message:`Exam created: ${t.subject} for ${t.batch}`,timestamp:t.createdAt||new Date})});n.slice(-2).forEach(t=>{r.push({id:`expense-${t.id}`,icon:t.type===Ig.EXPENSE_TYPES.INCOME?"fas fa-arrow-up":"fas fa-arrow-down",message:`${t.type===Ig.EXPENSE_TYPES.INCOME?"Income":"Expense"}: Rs. ${t.amount} - ${t.reason}`,timestamp:t.createdAt||new Date})}),this.recentActivities=r.sort((t,e)=>new Date(e.timestamp)-new Date(t.timestamp)).slice(0,5)},formatDate:t=>new Date(t).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),formatTime(t){const e=(new Date-new Date(t))/36e5;return e<1?"Just now":e<24?`${Math.floor(e)} hours ago`:`${Math.floor(e/24)} days ago`},logout(){Og("User logging out"),localStorage.removeItem("pesalai_auth"),jg("User logged out successfully"),this.$router.push("/")},showToast(t,e="success"){const n=document.createElement("div");n.className=`toast ${e}`,n.innerHTML=`\n        <div style="display: flex; align-items: center; gap: 8px;">\n          <i class="fas fa-${"success"===e?"check-circle":"exclamation-triangle"}"></i>\n          <span>${t}</span>\n        </div>\n      `,document.body.appendChild(n),setTimeout(()=>{n.remove()},3e3)}}},iv={class:"dashboard"},av={class:"navbar"},ov={class:"container-fluid"},lv={class:"container-fluid"},cv={class:"dashboard-overview"},uv={class:"stats-grid"},hv={class:"stat-card"},dv={class:"stat-content"},fv={class:"stat-card"},pv={class:"stat-content"},mv={class:"stat-card"},gv={class:"stat-content"},vv={class:"stat-card"},yv={class:"stat-content"},bv={class:"quick-actions"},wv={class:"action-buttons"},xv={class:"recent-activity"},Sv={class:"activity-list"},_v={key:0,class:"no-activity"},Av={class:"activity-icon"},Nv={class:"activity-content"},Ev={class:"bottom-nav"};const kv=di(sv,[["render",function(t,e,n,r,s,i){const a=En("router-link");return Vr(),Wr("div",iv,[Qr("nav",av,[Qr("div",ov,[Jr(a,{to:"/dashboard",class:"navbar-brand"},{default:Xe(()=>[e[1]||(e[1]=Qr("img",{src:qg,alt:"Logo",class:"navbar-logo"},null,-1)),ts(" "+Y(s.CONSTANTS.APP_NAME),1)]),_:1}),Qr("button",{onClick:e[0]||(e[0]=(...t)=>i.logout&&i.logout(...t)),class:"btn btn-sm btn-secondary"},[...e[2]||(e[2]=[Qr("i",{class:"fas fa-sign-out-alt"},null,-1),ts(" Logout ",-1)])])])]),Qr("div",lv,[Qr("div",cv,[e[11]||(e[11]=Qr("h2",null,"Dashboard Overview",-1)),Qr("div",uv,[Qr("div",hv,[e[4]||(e[4]=Qr("div",{class:"stat-icon"},[Qr("i",{class:"fas fa-users"})],-1)),Qr("div",dv,[Qr("h3",null,Y(s.totalStudents),1),e[3]||(e[3]=Qr("p",null,"Total Students",-1)),Qr("small",null,Y(s.studentsByBatch[s.CONSTANTS.BATCHES.BATCH_26AL]||0)+" (26AL)  "+Y(s.studentsByBatch[s.CONSTANTS.BATCHES.BATCH_27AL]||0)+" (27AL)",1)])]),Qr("div",fv,[e[6]||(e[6]=Qr("div",{class:"stat-icon"},[Qr("i",{class:"fas fa-calendar-check"})],-1)),Qr("div",pv,[Qr("h3",null,Y(s.todayAttendance)+"%",1),e[5]||(e[5]=Qr("p",null,"Today's Attendance",-1)),Qr("small",null,Y(s.todayPresent)+"/"+Y(s.todayTotal)+" students",1)])]),Qr("div",mv,[e[8]||(e[8]=Qr("div",{class:"stat-icon"},[Qr("i",{class:"fas fa-clipboard-list"})],-1)),Qr("div",gv,[Qr("h3",null,Y(s.upcomingExams),1),e[7]||(e[7]=Qr("p",null,"Upcoming Exams",-1)),Qr("small",null,"Next: "+Y(s.nextExamDate||"None"),1)])]),Qr("div",vv,[e[10]||(e[10]=Qr("div",{class:"stat-icon"},[Qr("i",{class:"fas fa-dollar-sign"})],-1)),Qr("div",yv,[Qr("h3",null,"Rs. "+Y(s.currentBalance.toLocaleString()),1),e[9]||(e[9]=Qr("p",null,"Current Balance",-1)),Qr("small",null,"Income: Rs. "+Y(s.totalIncome.toLocaleString())+"  Expenses: Rs. "+Y(s.totalExpenses.toLocaleString()),1)])])])]),Qr("div",bv,[e[17]||(e[17]=Qr("h3",null,"Quick Actions",-1)),Qr("div",wv,[Jr(a,{to:"/students",class:"action-btn"},{default:Xe(()=>[...e[12]||(e[12]=[Qr("i",{class:"fas fa-user-plus"},null,-1),Qr("span",null,"Add Student",-1)])]),_:1}),Jr(a,{to:"/classes",class:"action-btn"},{default:Xe(()=>[...e[13]||(e[13]=[Qr("i",{class:"fas fa-chalkboard-teacher"},null,-1),Qr("span",null,"Manage Classes",-1)])]),_:1}),Jr(a,{to:"/attendance",class:"action-btn"},{default:Xe(()=>[...e[14]||(e[14]=[Qr("i",{class:"fas fa-calendar-plus"},null,-1),Qr("span",null,"Mark Attendance",-1)])]),_:1}),Jr(a,{to:"/exams",class:"action-btn"},{default:Xe(()=>[...e[15]||(e[15]=[Qr("i",{class:"fas fa-plus-circle"},null,-1),Qr("span",null,"Create Exam",-1)])]),_:1}),Jr(a,{to:"/finance",class:"action-btn"},{default:Xe(()=>[...e[16]||(e[16]=[Qr("i",{class:"fas fa-receipt"},null,-1),Qr("span",null,"Add Expense",-1)])]),_:1})])]),Qr("div",xv,[e[19]||(e[19]=Qr("h3",null,"Recent Activity",-1)),Qr("div",Sv,[0===s.recentActivities.length?(Vr(),Wr("div",_v,[...e[18]||(e[18]=[Qr("i",{class:"fas fa-info-circle"},null,-1),Qr("p",null,"No recent activity",-1)])])):ns("",!0),(Vr(!0),Wr(Or,null,Ln(s.recentActivities,t=>(Vr(),Wr("div",{key:t.id,class:"activity-item"},[Qr("div",Av,[Qr("i",{class:z(t.icon)},null,2)]),Qr("div",Nv,[Qr("p",null,Y(t.message),1),Qr("small",null,Y(i.formatTime(t.timestamp)),1)])]))),128))])])]),Qr("nav",Ev,[Jr(a,{to:"/dashboard",class:z(["nav-link",{active:"Dashboard"===t.$route.name}])},{default:Xe(()=>[...e[20]||(e[20]=[Qr("i",{class:"fas fa-home"},null,-1),Qr("span",null,"Dashboard",-1)])]),_:1},8,["class"]),Jr(a,{to:"/students",class:z(["nav-link",{active:"Students"===t.$route.name}])},{default:Xe(()=>[...e[21]||(e[21]=[Qr("i",{class:"fas fa-users"},null,-1),Qr("span",null,"Students",-1)])]),_:1},8,["class"]),Jr(a,{to:"/classes",class:z(["nav-link",{active:"Classes"===t.$route.name}])},{default:Xe(()=>[...e[22]||(e[22]=[Qr("i",{class:"fas fa-chalkboard-teacher"},null,-1),Qr("span",null,"Classes",-1)])]),_:1},8,["class"]),Jr(a,{to:"/attendance",class:z(["nav-link",{active:"Attendance"===t.$route.name}])},{default:Xe(()=>[...e[23]||(e[23]=[Qr("i",{class:"fas fa-calendar-check"},null,-1),Qr("span",null,"Attendance",-1)])]),_:1},8,["class"]),Jr(a,{to:"/exams",class:z(["nav-link",{active:"Exams"===t.$route.name}])},{default:Xe(()=>[...e[24]||(e[24]=[Qr("i",{class:"fas fa-clipboard-list"},null,-1),Qr("span",null,"Exams",-1)])]),_:1},8,["class"]),Jr(a,{to:"/finance",class:z(["nav-link",{active:"Finance"===t.$route.name}])},{default:Xe(()=>[...e[25]||(e[25]=[Qr("i",{class:"fas fa-chart-line"},null,-1),Qr("span",null,"Finance",-1)])]),_:1},8,["class"]),Jr(a,{to:"/reports",class:z(["nav-link",{active:"Reports"===t.$route.name}])},{default:Xe(()=>[...e[26]||(e[26]=[Qr("i",{class:"fas fa-file-pdf"},null,-1),Qr("span",null,"Reports",-1)])]),_:1},8,["class"])])])}],["__scopeId","data-v-6b72bcd0"]]),Cv={class:"students-page"},Lv={class:"page-header"},Tv={class:"container-fluid"},Pv={class:"header-content"},Iv={class:"filters-section"},Dv={class:"container-fluid"},Fv={class:"filters-row"},Mv={class:"filter-group"},Ov=["value"],Rv=["value"],jv={class:"filter-group"},Bv={class:"search-input"},qv={class:"students-content"},Uv={class:"container-fluid"},Vv={key:0,class:"loading-state"},zv={key:1,class:"empty-state"},Hv={key:2,class:"students-grid"},$v={class:"student-header"},Wv={class:"student-avatar"},Gv={class:"student-info"},Kv={class:"index-no"},Yv={class:"badges"},Xv={class:"student-details"},Qv={class:"detail-item"},Jv={class:"detail-item"},Zv={class:"student-actions"},ty=["onClick"],ey=["onClick"],ny=["onClick"],ry={class:"modal-header"},sy={class:"modal-title"},iy={class:"form-group"},ay=["disabled"],oy={class:"form-group"},ly={class:"form-group"},cy=["value"],uy=["value"],hy={class:"form-group"},dy=["value"],fy=["value"],py={class:"form-group"},my={class:"form-group"},gy=["value"],vy=["value"],yy={class:"modal-footer"},by=["disabled"],wy={key:0,class:"spinner"},xy={key:1},Sy={class:"modal-header"},_y={class:"modal-body"},Ay={key:0,class:"student-details-content"},Ny={class:"student-info-section"},Ey={class:"student-avatar-large"},ky={class:"student-basic-info"},Cy={class:"student-index"},Ly={class:"student-badges"},Ty={class:"student-contact"},Py={class:"details-actions"},Iy={key:0,class:"marks-graph-section"},Dy={key:0,class:"no-data"},Fy={key:1,class:"marks-chart"},My={class:"chart-container"},Oy={class:"chart-bars"},Ry={class:"bar-value"},jy={class:"bar-label"},By={class:"chart-summary"},qy={class:"summary-item"},Uy={class:"value"},Vy={class:"summary-item"},zy={class:"value"},Hy={key:1,class:"payment-history-section"},$y={key:0,class:"no-data"},Wy={key:1,class:"payment-list"},Gy={class:"payment-info"},Ky={class:"exam-name"},Yy={class:"exam-date"},Xy={class:"payment-status"},Qy={key:0,class:"paid-badge"},Jy={key:1,class:"unpaid-badge"},Zy={class:"bottom-nav"};const tb=di({name:"Students",data:()=>({CONSTANTS:Ig,students:[],filteredStudents:[],loading:!0,searchQuery:"",selectedBatch:"",showAddModal:!1,showEditModal:!1,showDetailsModal:!1,saving:!1,selectedStudent:null,showMarksGraph:!1,showPaymentHistory:!1,examMarksData:[],paymentHistoryData:[],studentForm:{indexNo:"",name:"",gender:"",stream:"",parentPhone:"",batch:""},editingStudent:null}),computed:{averageMark(){if(0===this.examMarksData.length)return 0;const t=this.examMarksData.reduce((t,e)=>t+e.mark,0);return Math.round(t/this.examMarksData.length)}},async mounted(){await this.loadStudents()},methods:{async loadStudents(){try{Og("Loading students from database"),this.loading=!0,this.students=await Zg.getAll(),jg(`Loaded ${this.students.length} students`),this.filterStudents()}catch(t){Rg("Failed to load students",t),this.showToast("Failed to load students","error")}finally{this.loading=!1}},filterStudents(){let t=[...this.students];if(this.selectedBatch&&(t=t.filter(t=>t.batch===this.selectedBatch)),this.searchQuery.trim()){const e=this.searchQuery.toLowerCase();t=t.filter(t=>t.name.toLowerCase().includes(e)||t.indexNo.toLowerCase().includes(e))}this.filteredStudents=t},editStudent(t){this.editingStudent=t,this.studentForm={indexNo:t.indexNo,name:t.name,gender:t.gender,stream:t.stream,parentPhone:t.parentPhone,batch:t.batch},this.showEditModal=!0},async saveStudent(){try{if(this.saving=!0,Og("Saving student data",this.studentForm),!(this.studentForm.indexNo&&this.studentForm.name&&this.studentForm.gender&&this.studentForm.stream&&this.studentForm.parentPhone&&this.studentForm.batch))return logWarning("Form validation failed - missing required fields"),void this.showToast("Please fill in all required fields","error");const t={indexNo:this.studentForm.indexNo,name:this.studentForm.name,gender:this.studentForm.gender,stream:this.studentForm.stream,parentPhone:this.studentForm.parentPhone,batch:this.studentForm.batch};if(this.showAddModal){if(await Zg.getByIndexNo(this.studentForm.indexNo))return logWarning(`Student with index number ${this.studentForm.indexNo} already exists`),void this.showToast("Student with this index number already exists","error");await Zg.create(t),jg(`Student ${t.name} (${t.indexNo}) created successfully`),this.showToast("Student added successfully","success")}else await Zg.update(this.editingStudent.indexNo,t),jg(`Student ${t.name} (${t.indexNo}) updated successfully`),this.showToast("Student updated successfully","success");this.closeModal(),await this.loadStudents()}catch(t){Rg("Error saving student",t),this.showToast("Failed to save student","error")}finally{this.saving=!1}},async deleteStudent(t){if(confirm(`Are you sure you want to delete ${t.name} (${t.indexNo})?`))try{Og(`Deleting student ${t.name} (${t.indexNo})`),await Zg.delete(t.indexNo),jg(`Student ${t.name} (${t.indexNo}) deleted successfully`),this.showToast("Student deleted successfully","success"),await this.loadStudents()}catch(e){Rg("Error deleting student",e),this.showToast("Failed to delete student","error")}},closeModal(){this.showAddModal=!1,this.showEditModal=!1,this.editingStudent=null,this.studentForm={indexNo:"",name:"",gender:"",stream:"",parentPhone:"",batch:""}},async viewStudentDetails(t){Og(`Viewing details for student ${t.name}`),this.selectedStudent=t,this.showDetailsModal=!0,await this.loadExamMarksData(t),await this.loadPaymentHistoryData(t)},async loadExamMarksData(t){try{Og(`Loading exam marks for student ${t.indexNo}`);const e=t.examRecords||{};this.examMarksData=Object.entries(e).filter(([t,e])=>null!==e.mark&&void 0!==e.mark).map(([t,e])=>{const n=t.split("_");return{examId:t,subject:n[1]?n[1].toUpperCase():"Unknown",mark:e.mark,examDate:e.examDate}}).sort((t,e)=>new Date(t.examDate)-new Date(e.examDate)),jg(`Loaded ${this.examMarksData.length} exam marks for student`)}catch(e){Rg("Error loading exam marks data",e),this.examMarksData=[]}},async loadPaymentHistoryData(t){try{Og(`Loading payment history for student ${t.indexNo}`);const e=t.examRecords||{};this.paymentHistoryData=Object.entries(e).map(([t,e])=>{const n=t.split("_");return{examId:t,batch:n[0]?n[0]:"Unknown",subject:n[1]?n[1].toUpperCase():"Unknown",fee:e.fee,examDate:e.examDate}}).sort((t,e)=>new Date(e.examDate)-new Date(t.examDate)),jg(`Loaded ${this.paymentHistoryData.length} payment records for student`)}catch(e){Rg("Error loading payment history data",e),this.paymentHistoryData=[]}},toggleMarksGraph(){this.showMarksGraph=!this.showMarksGraph,Og(`Toggled marks graph: ${this.showMarksGraph}`)},togglePaymentHistory(){this.showPaymentHistory=!this.showPaymentHistory,Og(`Toggled payment history: ${this.showPaymentHistory}`)},closeDetailsModal(){this.showDetailsModal=!1,this.selectedStudent=null,this.showMarksGraph=!1,this.showPaymentHistory=!1,this.examMarksData=[],this.paymentHistoryData=[]},formatDate:t=>new Date(t).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}),showToast(t,e="success"){const n=document.createElement("div");n.className=`toast ${e}`,n.innerHTML=`\n        <div style="display: flex; align-items: center; gap: 8px;">\n          <i class="fas fa-${"success"===e?"check-circle":"exclamation-triangle"}"></i>\n          <span>${t}</span>\n        </div>\n      `,document.body.appendChild(n),setTimeout(()=>{n.remove()},3e3)}}},[["render",function(t,e,n,r,s,i){const a=En("router-link");return Vr(),Wr("div",Cv,[Qr("div",Lv,[Qr("div",Tv,[Qr("div",Pv,[e[24]||(e[24]=Qr("div",{class:"header-left"},[Qr("h1",null,[Qr("i",{class:"fas fa-users"}),ts(" Students Management")]),Qr("p",null,"Manage student information and records")],-1)),Qr("button",{onClick:e[0]||(e[0]=t=>s.showAddModal=!0),class:"btn btn-primary"},[...e[23]||(e[23]=[Qr("i",{class:"fas fa-plus"},null,-1),ts(" Add Student ",-1)])])])])]),Qr("div",Iv,[Qr("div",Dv,[Qr("div",Fv,[Qr("div",Mv,[e[26]||(e[26]=Qr("label",{class:"form-label"},"Batch Filter",-1)),Qe(Qr("select",{"onUpdate:modelValue":e[1]||(e[1]=t=>s.selectedBatch=t),onChange:e[2]||(e[2]=(...t)=>i.filterStudents&&i.filterStudents(...t)),class:"form-control"},[e[25]||(e[25]=Qr("option",{value:""},"All Batches",-1)),Qr("option",{value:s.CONSTANTS.BATCHES.BATCH_26AL},"26AL",8,Ov),Qr("option",{value:s.CONSTANTS.BATCHES.BATCH_27AL},"27AL",8,Rv)],544),[[si,s.selectedBatch]])]),Qr("div",jv,[e[28]||(e[28]=Qr("label",{class:"form-label"},"Search",-1)),Qr("div",Bv,[Qe(Qr("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>s.searchQuery=t),onInput:e[4]||(e[4]=(...t)=>i.filterStudents&&i.filterStudents(...t)),type:"text",class:"form-control",placeholder:"Search by name or index number..."},null,544),[[ri,s.searchQuery]]),e[27]||(e[27]=Qr("i",{class:"fas fa-search search-icon"},null,-1))])])])])]),Qr("div",qv,[Qr("div",Uv,[s.loading?(Vr(),Wr("div",Vv,[...e[29]||(e[29]=[Qr("div",{class:"spinner"},null,-1),Qr("p",null,"Loading students...",-1)])])):0===s.filteredStudents.length?(Vr(),Wr("div",zv,[e[31]||(e[31]=Qr("i",{class:"fas fa-users"},null,-1)),e[32]||(e[32]=Qr("h3",null,"No students found",-1)),Qr("p",null,Y(s.searchQuery||s.selectedBatch?"Try adjusting your search criteria":"Add your first student to get started"),1),s.searchQuery||s.selectedBatch?ns("",!0):(Vr(),Wr("button",{key:0,onClick:e[5]||(e[5]=t=>s.showAddModal=!0),class:"btn btn-primary"},[...e[30]||(e[30]=[Qr("i",{class:"fas fa-plus"},null,-1),ts(" Add First Student ",-1)])]))])):(Vr(),Wr("div",Hv,[(Vr(!0),Wr(Or,null,Ln(s.filteredStudents,t=>(Vr(),Wr("div",{key:t.id,class:"student-card"},[Qr("div",$v,[Qr("div",Wv,[Qr("i",{class:z(t.gender===s.CONSTANTS.GENDERS.MALE?"fas fa-male":"fas fa-female")},null,2)]),Qr("div",Gv,[Qr("h3",null,Y(t.name),1),Qr("p",Kv,"Index: "+Y(t.indexNo),1),Qr("div",Yv,[Qr("span",{class:z(["batch-badge",`batch-${t.batch}`])},Y(t.batch),3),Qr("span",{class:z(["stream-badge",`stream-${t.stream}`])},Y(t.stream),3)])])]),Qr("div",Xv,[Qr("div",Qv,[e[33]||(e[33]=Qr("i",{class:"fas fa-phone"},null,-1)),Qr("span",null,Y(t.parentPhone),1)]),Qr("div",Jv,[Qr("i",{class:z(t.gender===s.CONSTANTS.GENDERS.MALE?"fas fa-male":"fas fa-female")},null,2),Qr("span",null,Y(t.gender===s.CONSTANTS.GENDERS.MALE?"Male":"Female"),1)])]),Qr("div",Zv,[Qr("button",{onClick:e=>i.viewStudentDetails(t),class:"btn btn-sm btn-primary"},[...e[34]||(e[34]=[Qr("i",{class:"fas fa-eye"},null,-1),ts(" Details ",-1)])],8,ty),Qr("button",{onClick:e=>i.editStudent(t),class:"btn btn-sm btn-secondary"},[...e[35]||(e[35]=[Qr("i",{class:"fas fa-edit"},null,-1),ts(" Edit ",-1)])],8,ey),Qr("button",{onClick:e=>i.deleteStudent(t),class:"btn btn-sm btn-danger"},[...e[36]||(e[36]=[Qr("i",{class:"fas fa-trash"},null,-1),ts(" Delete ",-1)])],8,ny)])]))),128))]))])]),s.showAddModal||s.showEditModal?(Vr(),Wr("div",{key:0,class:"modal-overlay",onClick:e[17]||(e[17]=(...t)=>i.closeModal&&i.closeModal(...t))},[Qr("div",{class:"modal",onClick:e[16]||(e[16]=ci(()=>{},["stop"]))},[Qr("div",ry,[Qr("h3",sy,Y(s.showAddModal?"Add New Student":"Edit Student"),1),Qr("button",{onClick:e[6]||(e[6]=(...t)=>i.closeModal&&i.closeModal(...t)),class:"modal-close"},[...e[37]||(e[37]=[Qr("i",{class:"fas fa-times"},null,-1)])])]),Qr("form",{onSubmit:e[13]||(e[13]=ci((...t)=>i.saveStudent&&i.saveStudent(...t),["prevent"])),class:"modal-body"},[Qr("div",iy,[e[38]||(e[38]=Qr("label",{class:"form-label"},"Index Number *",-1)),Qe(Qr("input",{"onUpdate:modelValue":e[7]||(e[7]=t=>s.studentForm.indexNo=t),type:"text",class:"form-control",placeholder:"e.g., 6327",required:"",disabled:s.showEditModal},null,8,ay),[[ri,s.studentForm.indexNo]])]),Qr("div",oy,[e[39]||(e[39]=Qr("label",{class:"form-label"},"Full Name *",-1)),Qe(Qr("input",{"onUpdate:modelValue":e[8]||(e[8]=t=>s.studentForm.name=t),type:"text",class:"form-control",placeholder:"Enter student's full name",required:""},null,512),[[ri,s.studentForm.name]])]),Qr("div",ly,[e[41]||(e[41]=Qr("label",{class:"form-label"},"Gender *",-1)),Qe(Qr("select",{"onUpdate:modelValue":e[9]||(e[9]=t=>s.studentForm.gender=t),class:"form-control",required:""},[e[40]||(e[40]=Qr("option",{value:""},"Select Gender",-1)),Qr("option",{value:s.CONSTANTS.GENDERS.MALE},"Male",8,cy),Qr("option",{value:s.CONSTANTS.GENDERS.FEMALE},"Female",8,uy)],512),[[si,s.studentForm.gender]])]),Qr("div",hy,[e[43]||(e[43]=Qr("label",{class:"form-label"},"Stream *",-1)),Qe(Qr("select",{"onUpdate:modelValue":e[10]||(e[10]=t=>s.studentForm.stream=t),class:"form-control",required:""},[e[42]||(e[42]=Qr("option",{value:""},"Select Stream",-1)),Qr("option",{value:s.CONSTANTS.STREAMS.BIO},"BIO",8,dy),Qr("option",{value:s.CONSTANTS.STREAMS.MATH},"MATH",8,fy)],512),[[si,s.studentForm.stream]])]),Qr("div",py,[e[44]||(e[44]=Qr("label",{class:"form-label"},"Parent's Phone *",-1)),Qe(Qr("input",{"onUpdate:modelValue":e[11]||(e[11]=t=>s.studentForm.parentPhone=t),type:"tel",class:"form-control",placeholder:"Enter parent's phone number",required:""},null,512),[[ri,s.studentForm.parentPhone]])]),Qr("div",my,[e[46]||(e[46]=Qr("label",{class:"form-label"},"Batch *",-1)),Qe(Qr("select",{"onUpdate:modelValue":e[12]||(e[12]=t=>s.studentForm.batch=t),class:"form-control",required:""},[e[45]||(e[45]=Qr("option",{value:""},"Select Batch",-1)),Qr("option",{value:s.CONSTANTS.BATCHES.BATCH_26AL},"26AL",8,gy),Qr("option",{value:s.CONSTANTS.BATCHES.BATCH_27AL},"27AL",8,vy)],512),[[si,s.studentForm.batch]])])],32),Qr("div",yy,[Qr("button",{type:"button",onClick:e[14]||(e[14]=(...t)=>i.closeModal&&i.closeModal(...t)),class:"btn btn-secondary"},"Cancel"),Qr("button",{type:"submit",onClick:e[15]||(e[15]=(...t)=>i.saveStudent&&i.saveStudent(...t)),class:"btn btn-primary",disabled:s.saving},[s.saving?(Vr(),Wr("span",wy)):(Vr(),Wr("span",xy,Y(s.showAddModal?"Add Student":"Update Student"),1))],8,by)])])])):ns("",!0),s.showDetailsModal?(Vr(),Wr("div",{key:1,class:"modal-overlay",onClick:e[22]||(e[22]=(...t)=>i.closeDetailsModal&&i.closeDetailsModal(...t))},[Qr("div",{class:"modal details-modal",onClick:e[21]||(e[21]=ci(()=>{},["stop"]))},[Qr("div",Sy,[e[48]||(e[48]=Qr("h3",{class:"modal-title"},[Qr("i",{class:"fas fa-user"}),ts(" Student Details ")],-1)),Qr("button",{onClick:e[18]||(e[18]=(...t)=>i.closeDetailsModal&&i.closeDetailsModal(...t)),class:"modal-close"},[...e[47]||(e[47]=[Qr("i",{class:"fas fa-times"},null,-1)])])]),Qr("div",_y,[s.selectedStudent?(Vr(),Wr("div",Ay,[Qr("div",Ny,[Qr("div",Ey,[Qr("i",{class:z(s.selectedStudent.gender===s.CONSTANTS.GENDERS.MALE?"fas fa-male":"fas fa-female")},null,2)]),Qr("div",ky,[Qr("h2",null,Y(s.selectedStudent.name),1),Qr("p",Cy,"Index: "+Y(s.selectedStudent.indexNo),1),Qr("div",Ly,[Qr("span",{class:z(["batch-badge",`batch-${s.selectedStudent.batch}`])},Y(s.selectedStudent.batch),3),Qr("span",{class:z(["stream-badge",`stream-${s.selectedStudent.stream}`])},Y(s.selectedStudent.stream),3)]),Qr("div",Ty,[e[49]||(e[49]=Qr("i",{class:"fas fa-phone"},null,-1)),Qr("span",null,Y(s.selectedStudent.parentPhone),1)])])]),Qr("div",Py,[Qr("button",{onClick:e[19]||(e[19]=(...t)=>i.toggleMarksGraph&&i.toggleMarksGraph(...t)),class:"btn btn-primary"},[e[50]||(e[50]=Qr("i",{class:"fas fa-chart-line"},null,-1)),ts(" "+Y(s.showMarksGraph?"Hide":"Show")+" Exam Marks Graph ",1)]),Qr("button",{onClick:e[20]||(e[20]=(...t)=>i.togglePaymentHistory&&i.togglePaymentHistory(...t)),class:"btn btn-secondary"},[e[51]||(e[51]=Qr("i",{class:"fas fa-money-bill-wave"},null,-1)),ts(" "+Y(s.showPaymentHistory?"Hide":"Show")+" Payment History ",1)])]),s.showMarksGraph?(Vr(),Wr("div",Iy,[e[55]||(e[55]=Qr("h3",null,[Qr("i",{class:"fas fa-chart-line"}),ts(" Exam Performance")],-1)),0===s.examMarksData.length?(Vr(),Wr("div",Dy,[...e[52]||(e[52]=[Qr("i",{class:"fas fa-chart-line"},null,-1),Qr("p",null,"No exam marks recorded yet",-1)])])):(Vr(),Wr("div",Fy,[Qr("div",My,[Qr("div",Oy,[(Vr(!0),Wr(Or,null,Ln(s.examMarksData,(t,e)=>(Vr(),Wr("div",{key:e,class:"chart-bar",style:j({height:t.mark/100*100+"%"})},[Qr("div",Ry,Y(t.mark),1),Qr("div",jy,Y(t.subject),1)],4))),128))])]),Qr("div",By,[Qr("div",qy,[e[53]||(e[53]=Qr("span",{class:"label"},"Average:",-1)),Qr("span",Uy,Y(i.averageMark)+"%",1)]),Qr("div",Vy,[e[54]||(e[54]=Qr("span",{class:"label"},"Total Exams:",-1)),Qr("span",zy,Y(s.examMarksData.length),1)])])]))])):ns("",!0),s.showPaymentHistory?(Vr(),Wr("div",Hy,[e[59]||(e[59]=Qr("h3",null,[Qr("i",{class:"fas fa-money-bill-wave"}),ts(" Payment History")],-1)),0===s.paymentHistoryData.length?(Vr(),Wr("div",$y,[...e[56]||(e[56]=[Qr("i",{class:"fas fa-money-bill-wave"},null,-1),Qr("p",null,"No exam payments recorded yet",-1)])])):(Vr(),Wr("div",Wy,[(Vr(!0),Wr(Or,null,Ln(s.paymentHistoryData,(t,n)=>(Vr(),Wr("div",{key:n,class:z(["payment-item",{unpaid:!t.fee}])},[Qr("div",Gy,[Qr("div",Ky,Y(t.subject)+" - "+Y(t.batch),1),Qr("div",Yy,Y(i.formatDate(t.examDate)),1)]),Qr("div",Xy,[t.fee?(Vr(),Wr("span",Qy,[e[57]||(e[57]=Qr("i",{class:"fas fa-check-circle"},null,-1)),ts(" Paid: Rs. "+Y(t.fee),1)])):(Vr(),Wr("span",Jy,[...e[58]||(e[58]=[Qr("i",{class:"fas fa-times-circle"},null,-1),ts(" Unpaid ",-1)])]))])],2))),128))]))])):ns("",!0)])):ns("",!0)])])])):ns("",!0),Qr("nav",Zy,[Jr(a,{to:"/dashboard",class:"nav-link"},{default:Xe(()=>[...e[60]||(e[60]=[Qr("i",{class:"fas fa-home"},null,-1),Qr("span",null,"Dashboard",-1)])]),_:1}),Jr(a,{to:"/students",class:"nav-link active"},{default:Xe(()=>[...e[61]||(e[61]=[Qr("i",{class:"fas fa-users"},null,-1),Qr("span",null,"Students",-1)])]),_:1}),Jr(a,{to:"/attendance",class:"nav-link"},{default:Xe(()=>[...e[62]||(e[62]=[Qr("i",{class:"fas fa-calendar-check"},null,-1),Qr("span",null,"Attendance",-1)])]),_:1}),Jr(a,{to:"/exams",class:"nav-link"},{default:Xe(()=>[...e[63]||(e[63]=[Qr("i",{class:"fas fa-clipboard-list"},null,-1),Qr("span",null,"Exams",-1)])]),_:1}),Jr(a,{to:"/finance",class:"nav-link"},{default:Xe(()=>[...e[64]||(e[64]=[Qr("i",{class:"fas fa-chart-line"},null,-1),Qr("span",null,"Finance",-1)])]),_:1}),Jr(a,{to:"/reports",class:"nav-link"},{default:Xe(()=>[...e[65]||(e[65]=[Qr("i",{class:"fas fa-file-pdf"},null,-1),Qr("span",null,"Reports",-1)])]),_:1})])])}],["__scopeId","data-v-236b71da"]]),eb={class:"classes-page"},nb={class:"page-header"},rb={class:"container-fluid"},sb={class:"header-content"},ib={class:"filters-section"},ab={class:"container-fluid"},ob={class:"filters-row"},lb={class:"filter-group"},cb=["value"],ub=["value"],hb={class:"filter-group"},db=["value"],fb=["value"],pb=["value"],mb=["value"],gb={class:"classes-content"},vb={class:"container-fluid"},yb={key:0,class:"loading-state"},bb={key:1,class:"empty-state"},wb={key:2,class:"classes-grid"},xb={class:"class-header"},Sb={class:"class-icon"},_b={class:"class-info"},Ab={class:"class-id"},Nb={class:"class-details"},Eb={class:"detail-item"},kb={class:"class-actions"},Cb=["onClick"],Lb=["onClick"],Tb={class:"modal-header"},Pb={class:"modal-title"},Ib={class:"modal-body"},Db={class:"form-group"},Fb=["value"],Mb=["value"],Ob={class:"form-group"},Rb=["value"],jb=["value"],Bb=["value"],qb=["value"],Ub={class:"modal-footer"},Vb=["disabled"],zb={key:0,class:"spinner"},Hb={class:"bottom-nav"};const $b=di({name:"Classes",data:()=>({classes:[],filteredClasses:[],loading:!0,selectedBatch:"",selectedSubject:"",showAddModal:!1,showEditModal:!1,saving:!1,classForm:{batch:"",subject:""},editingClass:null,CONSTANTS:Ig}),async mounted(){await this.loadClasses()},methods:{async loadClasses(){try{Og("Loading classes from database"),this.loading=!0,this.classes=await tv.getAll(),this.filteredClasses=[...this.classes],jg(`Loaded ${this.classes.length} classes`)}catch(t){Rg("Error loading classes",t),this.showToast("Failed to load classes","error")}finally{this.loading=!1}},filterClasses(){Og("Filtering classes",{selectedBatch:this.selectedBatch,selectedSubject:this.selectedSubject});let t=[...this.classes];this.selectedBatch&&(t=t.filter(t=>t.batch===this.selectedBatch)),this.selectedSubject&&(t=t.filter(t=>t.subject===this.selectedSubject)),this.filteredClasses=t,jg(`Filtered to ${t.length} classes`)},editClass(t){this.editingClass=t,this.classForm={batch:t.batch,subject:t.subject},this.showEditModal=!0},async saveClass(){try{if(this.saving=!0,Og("Saving class data",this.classForm),!this.classForm.batch||!this.classForm.subject)return Bg("Form validation failed - missing required fields"),void this.showToast("Please fill in all required fields","error");const n=(t=this.classForm.batch,e=this.classForm.subject,`${t}_${e.toLowerCase()}`),r=await tv.getByClassId(n);if(this.showAddModal&&r)return Bg(`Class ${n} already exists`),void this.showToast("Class with this batch and subject already exists","error");const s={classId:n,batch:this.classForm.batch,subject:this.classForm.subject};this.showAddModal?(await tv.create(s),jg(`Class ${n} created successfully`),this.showToast("Class created successfully","success")):(await tv.update(this.editingClass.classId,s),jg(`Class ${n} updated successfully`),this.showToast("Class updated successfully","success")),await this.loadClasses(),this.closeModal()}catch(n){Rg("Error saving class",n),this.showToast("Failed to save class","error")}finally{this.saving=!1}var t,e},async deleteClass(t){if(confirm(`Are you sure you want to delete the class ${t.subject} (${t.batch})?`))try{Og(`Deleting class ${t.classId}`),await tv.delete(t.classId),jg(`Class ${t.classId} deleted successfully`),this.showToast("Class deleted successfully","success"),await this.loadClasses()}catch(e){Rg("Error deleting class",e),this.showToast("Failed to delete class","error")}},closeModal(){this.showAddModal=!1,this.showEditModal=!1,this.editingClass=null,this.classForm={batch:"",subject:""}},getSubjectIcon:t=>({BIO:"fas fa-dna",MATH:"fas fa-calculator",PHY:"fas fa-atom",CHE:"fas fa-flask"}[t]||"fas fa-book"),formatDate:t=>new Date(t).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}),showToast(t,e="success"){const n=document.createElement("div");n.className=`toast ${e}`,n.innerHTML=`\n        <div style="display: flex; align-items: center; gap: 8px;">\n          <i class="fas fa-${"success"===e?"check-circle":"exclamation-triangle"}"></i>\n          <span>${t}</span>\n        </div>\n      `,document.body.appendChild(n),setTimeout(()=>{n.remove()},3e3)}}},[["render",function(t,e,n,r,s,i){const a=En("router-link");return Vr(),Wr("div",eb,[Qr("div",nb,[Qr("div",rb,[Qr("div",sb,[e[14]||(e[14]=Qr("div",{class:"header-left"},[Qr("h1",null,[Qr("i",{class:"fas fa-chalkboard-teacher"}),ts(" Class Management")]),Qr("p",null,"Create and manage classes for attendance tracking")],-1)),Qr("button",{onClick:e[0]||(e[0]=t=>s.showAddModal=!0),class:"btn btn-primary"},[...e[13]||(e[13]=[Qr("i",{class:"fas fa-plus"},null,-1),ts(" Create Class ",-1)])])])])]),Qr("div",ib,[Qr("div",ab,[Qr("div",ob,[Qr("div",lb,[e[16]||(e[16]=Qr("label",{class:"form-label"},"Batch Filter",-1)),Qe(Qr("select",{"onUpdate:modelValue":e[1]||(e[1]=t=>s.selectedBatch=t),onChange:e[2]||(e[2]=(...t)=>i.filterClasses&&i.filterClasses(...t)),class:"form-control"},[e[15]||(e[15]=Qr("option",{value:""},"All Batches",-1)),Qr("option",{value:s.CONSTANTS.BATCHES.BATCH_26AL},"26AL",8,cb),Qr("option",{value:s.CONSTANTS.BATCHES.BATCH_27AL},"27AL",8,ub)],544),[[si,s.selectedBatch]])]),Qr("div",hb,[e[18]||(e[18]=Qr("label",{class:"form-label"},"Subject Filter",-1)),Qe(Qr("select",{"onUpdate:modelValue":e[3]||(e[3]=t=>s.selectedSubject=t),onChange:e[4]||(e[4]=(...t)=>i.filterClasses&&i.filterClasses(...t)),class:"form-control"},[e[17]||(e[17]=Qr("option",{value:""},"All Subjects",-1)),Qr("option",{value:s.CONSTANTS.SUBJECTS.BIO},"BIO",8,db),Qr("option",{value:s.CONSTANTS.SUBJECTS.MATH},"MATH",8,fb),Qr("option",{value:s.CONSTANTS.SUBJECTS.PHY},"PHY",8,pb),Qr("option",{value:s.CONSTANTS.SUBJECTS.CHE},"CHE",8,mb)],544),[[si,s.selectedSubject]])])])])]),Qr("div",gb,[Qr("div",vb,[s.loading?(Vr(),Wr("div",yb,[...e[19]||(e[19]=[Qr("div",{class:"spinner"},null,-1),Qr("h3",null,"Loading classes...",-1),Qr("p",null,"Please wait while we fetch the class data",-1)])])):0===s.filteredClasses.length?(Vr(),Wr("div",bb,[e[21]||(e[21]=Qr("i",{class:"fas fa-chalkboard-teacher"},null,-1)),e[22]||(e[22]=Qr("h3",null,"No Classes Found",-1)),e[23]||(e[23]=Qr("p",null,"Create your first class to start tracking attendance",-1)),Qr("button",{onClick:e[5]||(e[5]=t=>s.showAddModal=!0),class:"btn btn-primary"},[...e[20]||(e[20]=[Qr("i",{class:"fas fa-plus"},null,-1),ts(" Create Class ",-1)])])])):(Vr(),Wr("div",wb,[(Vr(!0),Wr(Or,null,Ln(s.filteredClasses,t=>(Vr(),Wr("div",{key:t.id,class:"class-card"},[Qr("div",xb,[Qr("div",Sb,[Qr("i",{class:z(i.getSubjectIcon(t.subject))},null,2)]),Qr("div",_b,[Qr("h3",null,Y(t.subject),1),Qr("p",Ab,"Class ID: "+Y(t.classId),1),Qr("span",{class:z(["batch-badge",`batch-${t.batch}`])},Y(t.batch),3)])]),Qr("div",Nb,[Qr("div",Eb,[e[24]||(e[24]=Qr("i",{class:"fas fa-calendar"},null,-1)),Qr("span",null,"Created: "+Y(i.formatDate(t.createdAt)),1)])]),Qr("div",kb,[Qr("button",{onClick:e=>i.editClass(t),class:"btn btn-sm btn-secondary"},[...e[25]||(e[25]=[Qr("i",{class:"fas fa-edit"},null,-1),ts(" Edit ",-1)])],8,Cb),Qr("button",{onClick:e=>i.deleteClass(t),class:"btn btn-sm btn-danger"},[...e[26]||(e[26]=[Qr("i",{class:"fas fa-trash"},null,-1),ts(" Delete ",-1)])],8,Lb)])]))),128))]))])]),s.showAddModal||s.showEditModal?(Vr(),Wr("div",{key:0,class:"modal-overlay",onClick:e[12]||(e[12]=(...t)=>i.closeModal&&i.closeModal(...t))},[Qr("div",{class:"modal",onClick:e[11]||(e[11]=ci(()=>{},["stop"]))},[Qr("div",Tb,[Qr("h3",Pb,Y(s.showAddModal?"Create New Class":"Edit Class"),1),Qr("button",{onClick:e[6]||(e[6]=(...t)=>i.closeModal&&i.closeModal(...t)),class:"modal-close"},[...e[27]||(e[27]=[Qr("i",{class:"fas fa-times"},null,-1)])])]),Qr("div",Ib,[Qr("div",Db,[e[29]||(e[29]=Qr("label",{class:"form-label"},"Batch *",-1)),Qe(Qr("select",{"onUpdate:modelValue":e[7]||(e[7]=t=>s.classForm.batch=t),class:"form-control",required:""},[e[28]||(e[28]=Qr("option",{value:""},"Select Batch",-1)),Qr("option",{value:s.CONSTANTS.BATCHES.BATCH_26AL},"26AL",8,Fb),Qr("option",{value:s.CONSTANTS.BATCHES.BATCH_27AL},"27AL",8,Mb)],512),[[si,s.classForm.batch]])]),Qr("div",Ob,[e[31]||(e[31]=Qr("label",{class:"form-label"},"Subject *",-1)),Qe(Qr("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>s.classForm.subject=t),class:"form-control",required:""},[e[30]||(e[30]=Qr("option",{value:""},"Select Subject",-1)),Qr("option",{value:s.CONSTANTS.SUBJECTS.BIO},"BIO",8,Rb),Qr("option",{value:s.CONSTANTS.SUBJECTS.MATH},"MATH",8,jb),Qr("option",{value:s.CONSTANTS.SUBJECTS.PHY},"PHY",8,Bb),Qr("option",{value:s.CONSTANTS.SUBJECTS.CHE},"CHE",8,qb)],512),[[si,s.classForm.subject]])])]),Qr("div",Ub,[Qr("button",{onClick:e[9]||(e[9]=(...t)=>i.closeModal&&i.closeModal(...t)),class:"btn btn-secondary"},"Cancel"),Qr("button",{onClick:e[10]||(e[10]=(...t)=>i.saveClass&&i.saveClass(...t)),disabled:s.saving,class:"btn btn-primary"},[s.saving?(Vr(),Wr("span",zb)):ns("",!0),ts(" "+Y(s.saving?"Saving...":s.showAddModal?"Create Class":"Update Class"),1)],8,Vb)])])])):ns("",!0),Qr("div",Hb,[Jr(a,{to:"/dashboard",class:"nav-link"},{default:Xe(()=>[...e[32]||(e[32]=[Qr("i",{class:"fas fa-home"},null,-1),Qr("span",null,"Dashboard",-1)])]),_:1}),Jr(a,{to:"/students",class:"nav-link"},{default:Xe(()=>[...e[33]||(e[33]=[Qr("i",{class:"fas fa-users"},null,-1),Qr("span",null,"Students",-1)])]),_:1}),Jr(a,{to:"/attendance",class:"nav-link"},{default:Xe(()=>[...e[34]||(e[34]=[Qr("i",{class:"fas fa-calendar-check"},null,-1),Qr("span",null,"Attendance",-1)])]),_:1}),Jr(a,{to:"/exams",class:"nav-link"},{default:Xe(()=>[...e[35]||(e[35]=[Qr("i",{class:"fas fa-file-alt"},null,-1),Qr("span",null,"Exams",-1)])]),_:1}),Jr(a,{to:"/finance",class:"nav-link"},{default:Xe(()=>[...e[36]||(e[36]=[Qr("i",{class:"fas fa-chart-line"},null,-1),Qr("span",null,"Finance",-1)])]),_:1}),Jr(a,{to:"/reports",class:"nav-link"},{default:Xe(()=>[...e[37]||(e[37]=[Qr("i",{class:"fas fa-chart-bar"},null,-1),Qr("span",null,"Reports",-1)])]),_:1})])])}],["__scopeId","data-v-e4b26b22"]]),Wb={class:"attendance-page"},Gb={key:0,class:"attendance-setup"},Kb={class:"container-fluid"},Yb={class:"setup-card"},Xb={class:"form-row"},Qb={class:"form-group"},Jb=["value"],Zb={class:"form-group"},tw={class:"date-input-group"},ew=["disabled"],nw={key:0,class:"spinner"},rw={key:1},sw={key:1,class:"attendance-marking"},iw={class:"container-fluid"},aw={class:"attendance-summary"},ow={class:"summary-card"},lw={class:"summary-item"},cw={class:"value"},uw={class:"summary-item"},hw={class:"value"},dw={class:"summary-item"},fw={class:"value present"},pw={class:"summary-item"},mw={class:"value absent"},gw={class:"summary-item"},vw={class:"value"},yw={class:"students-list"},bw=["onTouchstart","onTouchmove","onTouchend"],ww={class:"student-card-content"},xw={class:"student-avatar"},Sw={class:"student-info"},_w={class:"index-no"},Aw={class:"batch-badge"},Nw={class:"attendance-status"},Ew={key:0,class:"status-badge present"},kw={key:1,class:"status-badge absent"},Cw={key:2,class:"status-badge pending"},Lw={class:"manual-buttons"},Tw=["onClick"],Pw=["onClick"],Iw={class:"action-buttons"},Dw=["disabled"],Fw={key:0,class:"spinner"},Mw={key:1},Ow={class:"bottom-nav"};const Rw=di({name:"Attendance",data:()=>({CONSTANTS:Ig,classes:[],selectedClass:"",selectedDate:Fg(),attendanceLoaded:!1,attendanceStudents:[],loading:!1,saving:!1,touchStartX:0,touchStartY:0,swipeThreshold:100}),computed:{presentCount(){return this.attendanceStudents.filter(t=>t.attendance===Ig.ATTENDANCE_STATUS.PRESENT).length},absentCount(){return this.attendanceStudents.filter(t=>t.attendance===Ig.ATTENDANCE_STATUS.ABSENT).length},attendancePercentage(){return 0===this.attendanceStudents.length?0:Math.round(this.presentCount/this.attendanceStudents.length*100)}},async mounted(){await this.loadClasses()},methods:{async loadClasses(){try{Og("Loading classes for attendance"),this.classes=await tv.getAll(),jg(`Loaded ${this.classes.length} classes`)}catch(t){Rg("Error loading classes",t),this.showToast("Failed to load classes","error")}},setToday(){this.selectedDate=Fg()},async loadAttendanceStudents(){if(!this.selectedClass||!this.selectedDate)return Bg("Missing class or date selection"),void this.showToast("Please select both class and date","error");try{Og(`Loading attendance students for class ${this.selectedClass} on ${this.selectedDate}`),this.loading=!0;const t=this.classes.find(t=>t.classId===this.selectedClass);if(!t)return Rg("Selected class not found"),void this.showToast("Selected class not found","error");const e=await Zg.getByBatch(t.batch);if(jg(`Found ${e.length} students for batch ${t.batch}`),0===e.length)return Bg(`No students found for batch ${t.batch}`),void this.showToast("No students found for selected class","error");const n=await ev.getByDateAndClass(this.selectedDate,this.selectedClass);Og(`Found ${n.length} students already marked present`),this.attendanceStudents=e.map(t=>{const e=n.includes(t.indexNo);return{...t,attendance:e?Ig.ATTENDANCE_STATUS.PRESENT:null}}),this.attendanceLoaded=!0,jg(`Attendance interface loaded for ${this.attendanceStudents.length} students`)}catch(t){Rg("Error loading attendance students",t),this.showToast("Failed to load students","error")}finally{this.loading=!1}},markAttendance(t,e){const n=this.attendanceStudents.findIndex(e=>e.id===t.id);-1!==n&&(this.attendanceStudents[n].attendance=e)},handleTouchStart(t,e){this.touchStartX=t.touches[0].clientX,this.touchStartY=t.touches[0].clientY},handleTouchMove(t,e){if(!this.touchStartX||!this.touchStartY)return;const n=t.touches[0].clientX,r=t.touches[0].clientY,s=n-this.touchStartX,i=r-this.touchStartY;if(Math.abs(s)>Math.abs(i)){t.preventDefault();const e=t.currentTarget,n=Math.min(Math.abs(s),this.swipeThreshold);s>0?(e.style.transform=`translateX(${n}px)`,e.style.backgroundColor="rgba(40, 167, 69, 0.1)"):(e.style.transform=`translateX(-${n}px)`,e.style.backgroundColor="rgba(220, 53, 69, 0.1)")}},handleTouchEnd(t,e){const n=t.changedTouches[0].clientX-this.touchStartX,r=t.currentTarget;r.style.transform="",r.style.backgroundColor="",Math.abs(n)>this.swipeThreshold&&(n>0?this.markAttendance(e,Ig.ATTENDANCE_STATUS.PRESENT):this.markAttendance(e,Ig.ATTENDANCE_STATUS.ABSENT)),this.touchStartX=0,this.touchStartY=0},resetAttendance(){confirm("Are you sure you want to reset all attendance marks?")&&this.attendanceStudents.forEach(t=>{t.attendance=null})},async saveAttendance(){try{Og(`Saving attendance for class ${this.selectedClass} on ${this.selectedDate}`),this.saving=!0;const t=this.attendanceStudents.filter(t=>t.attendance===Ig.ATTENDANCE_STATUS.PRESENT).map(t=>t.indexNo);Og(`Saving attendance: ${t.length} students present out of ${this.attendanceStudents.length}`),await ev.saveAttendance(this.selectedClass,Mg(this.selectedDate),t),jg(`Attendance saved successfully for class ${this.selectedClass}`),this.showToast("Attendance saved successfully","success"),setTimeout(()=>{this.$router.push("/dashboard")},1500)}catch(t){Rg("Error saving attendance",t),this.showToast("Failed to save attendance","error")}finally{this.saving=!1}},formatDate:t=>new Date(t).toLocaleDateString("en-GB",{weekday:"long",day:"2-digit",month:"short",year:"numeric"}),showToast(t,e="success"){const n=document.createElement("div");n.className=`toast ${e}`,n.innerHTML=`\n        <div style="display: flex; align-items: center; gap: 8px;">\n          <i class="fas fa-${"success"===e?"check-circle":"exclamation-triangle"}"></i>\n          <span>${t}</span>\n        </div>\n      `,document.body.appendChild(n),setTimeout(()=>{n.remove()},3e3)}}},[["render",function(t,e,n,r,s,i){const a=En("router-link");return Vr(),Wr("div",Wb,[e[31]||(e[31]=es('<div class="page-header" data-v-49c36eb8><div class="container-fluid" data-v-49c36eb8><div class="header-content" data-v-49c36eb8><div class="header-left" data-v-49c36eb8><h1 data-v-49c36eb8><i class="fas fa-calendar-check" data-v-49c36eb8></i> Class Attendance</h1><p data-v-49c36eb8>Mark daily attendance for students</p></div></div></div></div>',1)),s.attendanceLoaded?ns("",!0):(Vr(),Wr("div",Gb,[Qr("div",Kb,[Qr("div",Yb,[e[9]||(e[9]=Qr("h3",null,"Setup Attendance",-1)),Qr("div",Xb,[Qr("div",Qb,[e[7]||(e[7]=Qr("label",{class:"form-label"},"Select Class *",-1)),Qe(Qr("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>s.selectedClass=t),class:"form-control",required:""},[e[6]||(e[6]=Qr("option",{value:""},"Choose Class",-1)),(Vr(!0),Wr(Or,null,Ln(s.classes,t=>(Vr(),Wr("option",{key:t.classId,value:t.classId},Y(t.subject)+" - "+Y(t.batch),9,Jb))),128))],512),[[si,s.selectedClass]])]),Qr("div",Zb,[e[8]||(e[8]=Qr("label",{class:"form-label"},"Select Date *",-1)),Qr("div",tw,[Qe(Qr("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>s.selectedDate=t),type:"date",class:"form-control",required:""},null,512),[[ri,s.selectedDate]]),Qr("button",{onClick:e[2]||(e[2]=(...t)=>i.setToday&&i.setToday(...t)),class:"btn btn-secondary btn-sm"},"Today")])])]),Qr("button",{onClick:e[3]||(e[3]=(...t)=>i.loadAttendanceStudents&&i.loadAttendanceStudents(...t)),class:"btn btn-primary w-100",disabled:!s.selectedClass||!s.selectedDate||s.loading},[s.loading?(Vr(),Wr("span",nw)):(Vr(),Wr("span",rw,"Load Students"))],8,ew)])])])),s.attendanceLoaded?(Vr(),Wr("div",sw,[Qr("div",iw,[Qr("div",aw,[Qr("div",ow,[Qr("div",lw,[e[10]||(e[10]=Qr("span",{class:"label"},"Batch:",-1)),Qr("span",cw,Y(t.selectedBatch),1)]),Qr("div",uw,[e[11]||(e[11]=Qr("span",{class:"label"},"Date:",-1)),Qr("span",hw,Y(i.formatDate(s.selectedDate)),1)]),Qr("div",dw,[e[12]||(e[12]=Qr("span",{class:"label"},"Present:",-1)),Qr("span",fw,Y(i.presentCount),1)]),Qr("div",pw,[e[13]||(e[13]=Qr("span",{class:"label"},"Absent:",-1)),Qr("span",mw,Y(i.absentCount),1)]),Qr("div",gw,[e[14]||(e[14]=Qr("span",{class:"label"},"Percentage:",-1)),Qr("span",vw,Y(i.attendancePercentage)+"%",1)])])]),e[24]||(e[24]=es('<div class="swipe-instructions" data-v-49c36eb8><div class="instruction-item" data-v-49c36eb8><i class="fas fa-arrow-right" style="color:#28a745;" data-v-49c36eb8></i><span data-v-49c36eb8>Swipe Right = Present</span></div><div class="instruction-item" data-v-49c36eb8><i class="fas fa-arrow-left" style="color:#dc3545;" data-v-49c36eb8></i><span data-v-49c36eb8>Swipe Left = Absent</span></div></div>',1)),Qr("div",yw,[(Vr(!0),Wr(Or,null,Ln(s.attendanceStudents,t=>(Vr(),Wr("div",{key:t.id,class:z(["student-attendance-card swipeable",{"marked-present":t.attendance===s.CONSTANTS.ATTENDANCE_STATUS.PRESENT,"marked-absent":t.attendance===s.CONSTANTS.ATTENDANCE_STATUS.ABSENT}]),onTouchstart:e=>i.handleTouchStart(e,t),onTouchmove:e=>i.handleTouchMove(e,t),onTouchend:e=>i.handleTouchEnd(e,t)},[e[20]||(e[20]=Qr("div",{class:"swipe-indicator left"},[Qr("i",{class:"fas fa-times"})],-1)),e[21]||(e[21]=Qr("div",{class:"swipe-indicator right"},[Qr("i",{class:"fas fa-check"})],-1)),Qr("div",ww,[Qr("div",xw,[Qr("i",{class:z(t.gender===s.CONSTANTS.GENDERS.MALE?"fas fa-male":"fas fa-female")},null,2)]),Qr("div",Sw,[Qr("h3",null,Y(t.name),1),Qr("p",_w,Y(t.indexNo),1),Qr("span",Aw,Y(t.batch),1)]),Qr("div",Nw,[t.attendance===s.CONSTANTS.ATTENDANCE_STATUS.PRESENT?(Vr(),Wr("div",Ew,[...e[15]||(e[15]=[Qr("i",{class:"fas fa-check"},null,-1),ts(" Present ",-1)])])):t.attendance===s.CONSTANTS.ATTENDANCE_STATUS.ABSENT?(Vr(),Wr("div",kw,[...e[16]||(e[16]=[Qr("i",{class:"fas fa-times"},null,-1),ts(" Absent ",-1)])])):(Vr(),Wr("div",Cw,[...e[17]||(e[17]=[Qr("i",{class:"fas fa-clock"},null,-1),ts(" Pending ",-1)])]))])]),Qr("div",Lw,[Qr("button",{onClick:e=>i.markAttendance(t,s.CONSTANTS.ATTENDANCE_STATUS.PRESENT),class:z(["btn btn-sm btn-success",{active:t.attendance===s.CONSTANTS.ATTENDANCE_STATUS.PRESENT}])},[...e[18]||(e[18]=[Qr("i",{class:"fas fa-check"},null,-1),ts(" P ",-1)])],10,Tw),Qr("button",{onClick:e=>i.markAttendance(t,s.CONSTANTS.ATTENDANCE_STATUS.ABSENT),class:z(["btn btn-sm btn-danger",{active:t.attendance===s.CONSTANTS.ATTENDANCE_STATUS.ABSENT}])},[...e[19]||(e[19]=[Qr("i",{class:"fas fa-times"},null,-1),ts(" A ",-1)])],10,Pw)])],42,bw))),128))]),Qr("div",Iw,[Qr("button",{onClick:e[4]||(e[4]=(...t)=>i.resetAttendance&&i.resetAttendance(...t)),class:"btn btn-secondary"},[...e[22]||(e[22]=[Qr("i",{class:"fas fa-undo"},null,-1),ts(" Reset ",-1)])]),Qr("button",{onClick:e[5]||(e[5]=(...t)=>i.saveAttendance&&i.saveAttendance(...t)),class:"btn btn-primary",disabled:s.saving},[s.saving?(Vr(),Wr("span",Fw)):(Vr(),Wr("span",Mw,[...e[23]||(e[23]=[Qr("i",{class:"fas fa-save"},null,-1),ts(" Save Attendance",-1)])]))],8,Dw)])])])):ns("",!0),Qr("nav",Ow,[Jr(a,{to:"/dashboard",class:"nav-link"},{default:Xe(()=>[...e[25]||(e[25]=[Qr("i",{class:"fas fa-home"},null,-1),Qr("span",null,"Dashboard",-1)])]),_:1}),Jr(a,{to:"/students",class:"nav-link"},{default:Xe(()=>[...e[26]||(e[26]=[Qr("i",{class:"fas fa-users"},null,-1),Qr("span",null,"Students",-1)])]),_:1}),Jr(a,{to:"/attendance",class:"nav-link active"},{default:Xe(()=>[...e[27]||(e[27]=[Qr("i",{class:"fas fa-calendar-check"},null,-1),Qr("span",null,"Attendance",-1)])]),_:1}),Jr(a,{to:"/exams",class:"nav-link"},{default:Xe(()=>[...e[28]||(e[28]=[Qr("i",{class:"fas fa-clipboard-list"},null,-1),Qr("span",null,"Exams",-1)])]),_:1}),Jr(a,{to:"/finance",class:"nav-link"},{default:Xe(()=>[...e[29]||(e[29]=[Qr("i",{class:"fas fa-chart-line"},null,-1),Qr("span",null,"Finance",-1)])]),_:1}),Jr(a,{to:"/reports",class:"nav-link"},{default:Xe(()=>[...e[30]||(e[30]=[Qr("i",{class:"fas fa-file-pdf"},null,-1),Qr("span",null,"Reports",-1)])]),_:1})])])}],["__scopeId","data-v-49c36eb8"]]),jw={class:"exams-page"},Bw={class:"page-header"},qw={class:"container-fluid"},Uw={class:"header-content"},Vw={class:"exams-content"},zw={class:"container-fluid"},Hw={key:0,class:"loading-state"},$w={key:1,class:"empty-state"},Ww={key:2,class:"exams-sections"},Gw={class:"exam-section"},Kw={class:"section-content"},Yw={key:0,class:"no-exams"},Xw={key:1,class:"exams-grid"},Qw={class:"exam-header"},Jw={class:"exam-status"},Zw={class:"exam-details"},tx={class:"detail-item"},ex={class:"detail-item"},nx={class:"detail-item"},rx={class:"exam-actions"},sx=["onClick"],ix=["onClick"],ax={class:"exam-section"},ox={class:"section-content"},lx={key:0,class:"no-exams"},cx={key:1,class:"exams-grid"},ux={class:"exam-header"},hx={class:"exam-status"},dx={class:"exam-details"},fx={class:"detail-item"},px={class:"detail-item"},mx={class:"detail-item"},gx={class:"exam-actions"},vx=["onClick"],yx=["onClick"],bx={class:"exam-section"},wx={class:"section-content"},xx={key:0,class:"no-exams"},Sx={key:1,class:"exams-grid"},_x={class:"exam-header"},Ax={class:"exam-status"},Nx={class:"exam-details"},Ex={class:"detail-item"},kx={class:"detail-item"},Cx={class:"detail-item"},Lx={class:"exam-actions"},Tx=["onClick"],Px=["onClick"],Ix={class:"modal-header"},Dx={class:"modal-title"},Fx={class:"form-group"},Mx={class:"form-group"},Ox=["value"],Rx=["value"],jx={class:"form-group"},Bx={class:"form-group"},qx={class:"modal-footer"},Ux=["disabled"],Vx={key:0,class:"spinner"},zx={key:1},Hx={class:"modal-header"},$x={class:"modal-title"},Wx={class:"modal-body"},Gx={class:"attendance-summary"},Kx={class:"summary-stats"},Yx={class:"stat-item"},Xx={class:"value"},Qx={class:"stat-item"},Jx={class:"value"},Zx={class:"stat-item"},tS={class:"value"},eS={class:"students-attendance-list"},nS={class:"student-info"},rS={class:"student-avatar"},sS={class:"student-details"},iS={class:"attendance-controls"},aS={class:"attendance-toggle"},oS={class:"toggle-switch"},lS=["checked","onChange"],cS={class:"attendance-label"},uS={key:0,class:"fee-input"},hS=["onUpdate:modelValue","placeholder"],dS={class:"modal-footer"},fS=["disabled"],pS={key:0,class:"spinner"},mS={key:1},gS={class:"modal-header"},vS={class:"modal-title"},yS={class:"modal-body"},bS={class:"marks-table-container"},wS={class:"marks-table"},xS={class:"marks-cell"},SS={class:"marks-cell"},_S={class:"marks-cell"},AS=["onUpdate:modelValue"],NS={class:"modal-footer"},ES=["disabled"],kS={key:0,class:"spinner"},CS={class:"bottom-nav"};const LS=di({name:"Exams",data:()=>({CONSTANTS:Ig,exams:[],loading:!0,showCreateModal:!1,showEditModal:!1,showAttendanceModal:!1,showMarksModal:!1,saving:!1,savingAttendance:!1,savingMarks:!1,examForm:{subject:"",batch:"",date:Fg(),fee:100},selectedExam:null,examStudents:[],examToClose:null,examStudentsForMarks:[],editingExam:null,sectionsExpanded:{upcoming:!0,active:!0,completed:!1}}),computed:{upcomingExams(){return this.exams.filter(t=>t.status===Ig.EXAM_STATUS.UPCOMING)},activeExams(){return this.exams.filter(t=>t.status===Ig.EXAM_STATUS.ACTIVE)},completedExams(){return this.exams.filter(t=>t.status===Ig.EXAM_STATUS.COMPLETED)},attendedCount(){return this.examStudents.filter(t=>t.attended).length},totalExamIncome(){return this.examStudents.reduce((t,e)=>t+(e.attended&&e.feePaid||0),0)}},async mounted(){await this.loadExams()},methods:{async loadExams(){try{this.loading=!0,this.exams=await nv.getAll(),this.exams.sort((t,e)=>new Date(t.date)-new Date(e.date))}catch(t){console.error("Error loading exams:",t),this.showToast("Failed to load exams","error")}finally{this.loading=!1}},toggleSection(t){this.sectionsExpanded[t]=!this.sectionsExpanded[t]},editExam(t){this.editingExam=t,this.examForm={subject:t.subject,batch:t.batch,date:t.date,fee:t.fee},this.showEditModal=!0},async saveExam(){try{if(this.saving=!0,Og("Saving exam data",this.examForm),!(this.examForm.subject&&this.examForm.batch&&this.examForm.date&&this.examForm.fee))return Bg("Form validation failed - missing required fields"),void this.showToast("Please fill in all required fields","error");const t={id:Dg(this.examForm.batch,this.examForm.subject,this.examForm.date),subject:this.examForm.subject,batch:this.examForm.batch,date:Mg(this.examForm.date),fee:parseFloat(this.examForm.fee),status:Ig.EXAM_STATUS.UPCOMING,studentRecords:{}};if(this.showCreateModal){if(await nv.getById(t.id))return Bg(`Exam already exists: ${t.id}`),void this.showToast("Exam already exists for this subject, batch, and date","error");await nv.create(t),jg(`Exam created successfully: ${t.id}`),this.showToast("Exam created successfully","success")}else await nv.update(this.editingExam.id,t),jg(`Exam updated successfully: ${t.id}`),this.showToast("Exam updated successfully","success");this.closeModal(),await this.loadExams()}catch(t){Rg("Error saving exam",t),this.showToast("Failed to save exam","error")}finally{this.saving=!1}},async manageExamAttendance(t){try{Og(`Managing exam attendance for ${t.subject} (${t.batch})`),this.selectedExam=t;const e=await Zg.getByBatch(t.batch);jg(`Found ${e.length} students for batch ${t.batch}`),this.examStudents=e.map(e=>{var n;const r=null==(n=t.studentRecords)?void 0:n[e.indexNo];return{...e,attended:!!r,feePaid:r?r.fee:t.fee}}),this.showAttendanceModal=!0,jg(`Exam attendance interface loaded for ${this.examStudents.length} students`),t.status===Ig.EXAM_STATUS.UPCOMING&&(await nv.update(t.id,{status:Ig.EXAM_STATUS.ACTIVE}),jg(`Exam ${t.id} status updated to active`),await this.loadExams())}catch(e){Rg("Error loading exam attendance",e),this.showToast("Failed to load exam attendance","error")}},toggleStudentAttendance(t){t.attended=!t.attended,t.attended?t.feePaid=this.selectedExam.fee:t.feePaid=0},async saveExamAttendance(){try{Og(`Saving exam attendance for ${this.selectedExam.subject}`),this.savingAttendance=!0;const t={};let e=0;this.examStudents.forEach(n=>{if(n.attended){const r=n.feePaid||this.selectedExam.fee;t[n.indexNo]={fee:r,mark:null},e+=r,Zg.addExamRecord(n.indexNo,this.selectedExam.id,{fee:r,mark:null,examDate:this.selectedExam.date})}}),Og(`Saving ${Object.keys(t).length} student records, total income: Rs. ${e}`),await nv.update(this.selectedExam.id,{studentRecords:t,collectedMoney:e}),await nv.updateCollectedMoney(this.selectedExam.id),jg(`Exam attendance saved successfully for ${this.selectedExam.subject}`),this.showToast("Attendance saved successfully","success"),this.closeAttendanceModal(),await this.loadExams()}catch(t){Rg("Error saving exam attendance",t),this.showToast("Failed to save attendance","error")}finally{this.savingAttendance=!1}},async closeExam(t){Og(`Preparing to close exam ${t.subject} for batch ${t.batch}`),this.examToClose=t,await this.loadExamStudentsForMarks(t),this.showMarksModal=!0},async loadExamStudentsForMarks(t){try{Og(`Loading students for marks entry for exam ${t.id}`);const e=await Zg.getByBatch(t.batch);this.examStudentsForMarks=e.filter(e=>{var n;const r=null==(n=t.studentRecords)?void 0:n[e.indexNo];return r&&null!==r.fee&&void 0!==r.fee}),this.examStudentsForMarks=this.examStudentsForMarks.map(e=>{const n=t.studentRecords[e.indexNo];return{...e,mark:n.mark||null,fee:n.fee}}),jg(`Loaded ${this.examStudentsForMarks.length} students for marks entry`)}catch(e){Rg("Error loading students for marks entry",e),this.showToast("Failed to load students for marks entry","error")}},async saveExamMarks(){try{Og(`Saving marks for exam ${this.examToClose.id}`),this.savingMarks=!0;const t={...this.examToClose.studentRecords};this.examStudentsForMarks.forEach(e=>{null!==e.mark&&void 0!==e.mark&&(t[e.indexNo]={...t[e.indexNo],mark:e.mark},Zg.addExamRecord(e.indexNo,this.examToClose.id,{fee:e.fee,mark:e.mark,examDate:this.examToClose.date}))});const e=Object.values(t).reduce((t,e)=>t+(e.fee||0),0);await nv.update(this.examToClose.id,{studentRecords:t,status:Ig.EXAM_STATUS.COMPLETED,totalIncome:e,completedAt:new Date}),e>0&&(await rv.createExpense({amount:e,reason:`Exam Income - ${this.examToClose.subject} ${this.examToClose.batch}`,type:Ig.EXPENSE_TYPES.INCOME,date:new Date}),jg(`Income recorded in finance: Rs. ${e}`)),jg(`Exam ${this.examToClose.id} closed with marks successfully`),this.showToast("Exam closed with marks successfully","success"),this.closeMarksModal(),await this.loadExams()}catch(t){Rg("Error saving exam marks",t),this.showToast("Failed to save exam marks","error")}finally{this.savingMarks=!1}},closeMarksModal(){this.showMarksModal=!1,this.examToClose=null,this.examStudentsForMarks=[]},updateMarks(t){this.$router.push(`/reports?exam=${t.id}`)},viewExamReport(t){this.$router.push(`/reports?exam=${t.id}`)},getAttendanceCount:t=>t.studentRecords?Object.keys(t.studentRecords).length:0,closeModal(){this.showCreateModal=!1,this.showEditModal=!1,this.editingExam=null,this.examForm={subject:"",batch:"",date:Fg(),fee:100}},closeAttendanceModal(){this.showAttendanceModal=!1,this.selectedExam=null,this.examStudents=[]},formatDate:t=>new Date(t).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),showToast(t,e="success"){const n=document.createElement("div");n.className=`toast ${e}`,n.innerHTML=`\n        <div style="display: flex; align-items: center; gap: 8px;">\n          <i class="fas fa-${"success"===e?"check-circle":"exclamation-triangle"}"></i>\n          <span>${t}</span>\n        </div>\n      `,document.body.appendChild(n),setTimeout(()=>{n.remove()},3e3)}}},[["render",function(t,e,n,r,s,i){var a,o,l,c;const u=En("router-link");return Vr(),Wr("div",jw,[Qr("div",Bw,[Qr("div",qw,[Qr("div",Uw,[e[26]||(e[26]=Qr("div",{class:"header-left"},[Qr("h1",null,[Qr("i",{class:"fas fa-clipboard-list"}),ts(" Exam Management")]),Qr("p",null,"Create and manage exams, attendance, and marks")],-1)),Qr("button",{onClick:e[0]||(e[0]=t=>s.showCreateModal=!0),class:"btn btn-primary"},[...e[25]||(e[25]=[Qr("i",{class:"fas fa-plus"},null,-1),ts(" Create Exam ",-1)])])])])]),Qr("div",Vw,[Qr("div",zw,[s.loading?(Vr(),Wr("div",Hw,[...e[27]||(e[27]=[Qr("div",{class:"spinner"},null,-1),Qr("p",null,"Loading exams...",-1)])])):0===s.exams.length?(Vr(),Wr("div",$w,[e[29]||(e[29]=Qr("i",{class:"fas fa-clipboard-list"},null,-1)),e[30]||(e[30]=Qr("h3",null,"No exams found",-1)),e[31]||(e[31]=Qr("p",null,"Create your first exam to get started",-1)),Qr("button",{onClick:e[1]||(e[1]=t=>s.showCreateModal=!0),class:"btn btn-primary"},[...e[28]||(e[28]=[Qr("i",{class:"fas fa-plus"},null,-1),ts(" Create First Exam ",-1)])])])):(Vr(),Wr("div",Ww,[Qr("div",Gw,[Qr("div",{class:"section-header",onClick:e[2]||(e[2]=t=>i.toggleSection("upcoming"))},[Qr("h3",null,[e[32]||(e[32]=Qr("i",{class:"fas fa-clock"},null,-1)),ts(" Upcoming Exams ("+Y(i.upcomingExams.length)+") ",1)]),Qr("i",{class:z(["fas fa-chevron-down",{rotated:s.sectionsExpanded.upcoming}])},null,2)]),Qe(Qr("div",Kw,[0===i.upcomingExams.length?(Vr(),Wr("div",Yw,[...e[33]||(e[33]=[Qr("p",null,"No upcoming exams",-1)])])):(Vr(),Wr("div",Xw,[(Vr(!0),Wr(Or,null,Ln(i.upcomingExams,t=>(Vr(),Wr("div",{key:t.id,class:"exam-card upcoming"},[Qr("div",Qw,[Qr("h4",null,Y(t.subject),1),Qr("span",Jw,Y(t.status),1)]),Qr("div",Zw,[Qr("div",tx,[e[34]||(e[34]=Qr("i",{class:"fas fa-users"},null,-1)),Qr("span",null,Y(t.batch),1)]),Qr("div",ex,[e[35]||(e[35]=Qr("i",{class:"fas fa-calendar"},null,-1)),Qr("span",null,Y(i.formatDate(t.date)),1)]),Qr("div",nx,[e[36]||(e[36]=Qr("i",{class:"fas fa-dollar-sign"},null,-1)),Qr("span",null,"Rs. "+Y(t.fee),1)])]),Qr("div",rx,[Qr("button",{onClick:e=>i.manageExamAttendance(t),class:"btn btn-sm btn-primary"},[...e[37]||(e[37]=[Qr("i",{class:"fas fa-user-check"},null,-1),ts(" Take Attendance ",-1)])],8,sx),Qr("button",{onClick:e=>i.editExam(t),class:"btn btn-sm btn-secondary"},[...e[38]||(e[38]=[Qr("i",{class:"fas fa-edit"},null,-1),ts(" Edit ",-1)])],8,ix)])]))),128))]))],512),[[Fs,s.sectionsExpanded.upcoming]])]),Qr("div",ax,[Qr("div",{class:"section-header",onClick:e[3]||(e[3]=t=>i.toggleSection("active"))},[Qr("h3",null,[e[39]||(e[39]=Qr("i",{class:"fas fa-play-circle"},null,-1)),ts(" Active Exams ("+Y(i.activeExams.length)+") ",1)]),Qr("i",{class:z(["fas fa-chevron-down",{rotated:s.sectionsExpanded.active}])},null,2)]),Qe(Qr("div",ox,[0===i.activeExams.length?(Vr(),Wr("div",lx,[...e[40]||(e[40]=[Qr("p",null,"No active exams",-1)])])):(Vr(),Wr("div",cx,[(Vr(!0),Wr(Or,null,Ln(i.activeExams,t=>(Vr(),Wr("div",{key:t.id,class:"exam-card active"},[Qr("div",ux,[Qr("h4",null,Y(t.subject),1),Qr("span",hx,Y(t.status),1)]),Qr("div",dx,[Qr("div",fx,[e[41]||(e[41]=Qr("i",{class:"fas fa-users"},null,-1)),Qr("span",null,Y(t.batch),1)]),Qr("div",px,[e[42]||(e[42]=Qr("i",{class:"fas fa-calendar"},null,-1)),Qr("span",null,Y(i.formatDate(t.date)),1)]),Qr("div",mx,[e[43]||(e[43]=Qr("i",{class:"fas fa-user-check"},null,-1)),Qr("span",null,Y(i.getAttendanceCount(t))+" attended",1)])]),Qr("div",gx,[Qr("button",{onClick:e=>i.manageExamAttendance(t),class:"btn btn-sm btn-primary"},[...e[44]||(e[44]=[Qr("i",{class:"fas fa-user-check"},null,-1),ts(" Manage Attendance ",-1)])],8,vx),Qr("button",{onClick:e=>i.closeExam(t),class:"btn btn-sm btn-warning"},[...e[45]||(e[45]=[Qr("i",{class:"fas fa-stop-circle"},null,-1),ts(" Close Exam ",-1)])],8,yx)])]))),128))]))],512),[[Fs,s.sectionsExpanded.active]])]),Qr("div",bx,[Qr("div",{class:"section-header",onClick:e[4]||(e[4]=t=>i.toggleSection("completed"))},[Qr("h3",null,[e[46]||(e[46]=Qr("i",{class:"fas fa-check-circle"},null,-1)),ts(" Completed Exams ("+Y(i.completedExams.length)+") ",1)]),Qr("i",{class:z(["fas fa-chevron-down",{rotated:s.sectionsExpanded.completed}])},null,2)]),Qe(Qr("div",wx,[0===i.completedExams.length?(Vr(),Wr("div",xx,[...e[47]||(e[47]=[Qr("p",null,"No completed exams",-1)])])):(Vr(),Wr("div",Sx,[(Vr(!0),Wr(Or,null,Ln(i.completedExams,t=>(Vr(),Wr("div",{key:t.id,class:"exam-card completed"},[Qr("div",_x,[Qr("h4",null,Y(t.subject),1),Qr("span",Ax,Y(t.status),1)]),Qr("div",Nx,[Qr("div",Ex,[e[48]||(e[48]=Qr("i",{class:"fas fa-users"},null,-1)),Qr("span",null,Y(t.batch),1)]),Qr("div",kx,[e[49]||(e[49]=Qr("i",{class:"fas fa-calendar"},null,-1)),Qr("span",null,Y(i.formatDate(t.date)),1)]),Qr("div",Cx,[e[50]||(e[50]=Qr("i",{class:"fas fa-dollar-sign"},null,-1)),Qr("span",null,"Rs. "+Y(t.totalIncome||0),1)])]),Qr("div",Lx,[Qr("button",{onClick:e=>i.updateMarks(t),class:"btn btn-sm btn-success"},[...e[51]||(e[51]=[Qr("i",{class:"fas fa-edit"},null,-1),ts(" Update Marks ",-1)])],8,Tx),Qr("button",{onClick:e=>i.viewExamReport(t),class:"btn btn-sm btn-info"},[...e[52]||(e[52]=[Qr("i",{class:"fas fa-file-pdf"},null,-1),ts(" View Report ",-1)])],8,Px)])]))),128))]))],512),[[Fs,s.sectionsExpanded.completed]])])]))])]),s.showCreateModal||s.showEditModal?(Vr(),Wr("div",{key:0,class:"modal-overlay",onClick:e[14]||(e[14]=(...t)=>i.closeModal&&i.closeModal(...t))},[Qr("div",{class:"modal",onClick:e[13]||(e[13]=ci(()=>{},["stop"]))},[Qr("div",Ix,[Qr("h3",Dx,Y(s.showCreateModal?"Create New Exam":"Edit Exam"),1),Qr("button",{onClick:e[5]||(e[5]=(...t)=>i.closeModal&&i.closeModal(...t)),class:"modal-close"},[...e[53]||(e[53]=[Qr("i",{class:"fas fa-times"},null,-1)])])]),Qr("form",{onSubmit:e[10]||(e[10]=ci((...t)=>i.saveExam&&i.saveExam(...t),["prevent"])),class:"modal-body"},[Qr("div",Fx,[e[55]||(e[55]=Qr("label",{class:"form-label"},"Subject *",-1)),Qe(Qr("select",{"onUpdate:modelValue":e[6]||(e[6]=t=>s.examForm.subject=t),class:"form-control",required:""},[...e[54]||(e[54]=[es('<option value="" data-v-3b5ff3f5>Select Subject</option><option value="Mathematics" data-v-3b5ff3f5>Mathematics</option><option value="Biology" data-v-3b5ff3f5>Biology</option><option value="Physics" data-v-3b5ff3f5>Physics</option><option value="Chemistry" data-v-3b5ff3f5>Chemistry</option><option value="English" data-v-3b5ff3f5>English</option><option value="Sinhala" data-v-3b5ff3f5>Sinhala</option>',7)])],512),[[si,s.examForm.subject]])]),Qr("div",Mx,[e[57]||(e[57]=Qr("label",{class:"form-label"},"Batch *",-1)),Qe(Qr("select",{"onUpdate:modelValue":e[7]||(e[7]=t=>s.examForm.batch=t),class:"form-control",required:""},[e[56]||(e[56]=Qr("option",{value:""},"Select Batch",-1)),Qr("option",{value:s.CONSTANTS.BATCHES.BATCH_26AL},"26AL",8,Ox),Qr("option",{value:s.CONSTANTS.BATCHES.BATCH_27AL},"27AL",8,Rx)],512),[[si,s.examForm.batch]])]),Qr("div",jx,[e[58]||(e[58]=Qr("label",{class:"form-label"},"Exam Date *",-1)),Qe(Qr("input",{"onUpdate:modelValue":e[8]||(e[8]=t=>s.examForm.date=t),type:"date",class:"form-control",required:""},null,512),[[ri,s.examForm.date]])]),Qr("div",Bx,[e[59]||(e[59]=Qr("label",{class:"form-label"},"Exam Fee (Rs.) *",-1)),Qe(Qr("input",{"onUpdate:modelValue":e[9]||(e[9]=t=>s.examForm.fee=t),type:"number",class:"form-control",placeholder:"Enter exam fee",min:"0",required:""},null,512),[[ri,s.examForm.fee,void 0,{number:!0}]])])],32),Qr("div",qx,[Qr("button",{type:"button",onClick:e[11]||(e[11]=(...t)=>i.closeModal&&i.closeModal(...t)),class:"btn btn-secondary"},"Cancel"),Qr("button",{type:"submit",onClick:e[12]||(e[12]=(...t)=>i.saveExam&&i.saveExam(...t)),class:"btn btn-primary",disabled:s.saving},[s.saving?(Vr(),Wr("span",Vx)):(Vr(),Wr("span",zx,Y(s.showCreateModal?"Create Exam":"Update Exam"),1))],8,Ux)])])])):ns("",!0),s.showAttendanceModal?(Vr(),Wr("div",{key:1,class:"modal-overlay",onClick:e[19]||(e[19]=(...t)=>i.closeAttendanceModal&&i.closeAttendanceModal(...t))},[Qr("div",{class:"modal large",onClick:e[18]||(e[18]=ci(()=>{},["stop"]))},[Qr("div",Hx,[Qr("h3",$x,Y(null==(a=s.selectedExam)?void 0:a.subject)+" - "+Y(null==(o=s.selectedExam)?void 0:o.batch)+" Attendance ",1),Qr("button",{onClick:e[15]||(e[15]=(...t)=>i.closeAttendanceModal&&i.closeAttendanceModal(...t)),class:"modal-close"},[...e[60]||(e[60]=[Qr("i",{class:"fas fa-times"},null,-1)])])]),Qr("div",Wx,[Qr("div",Gx,[Qr("div",Kx,[Qr("div",Yx,[e[61]||(e[61]=Qr("span",{class:"label"},"Total Students:",-1)),Qr("span",Xx,Y(s.examStudents.length),1)]),Qr("div",Qx,[e[62]||(e[62]=Qr("span",{class:"label"},"Attended:",-1)),Qr("span",Jx,Y(i.attendedCount),1)]),Qr("div",Zx,[e[63]||(e[63]=Qr("span",{class:"label"},"Total Income:",-1)),Qr("span",tS,"Rs. "+Y(i.totalExamIncome),1)])])]),Qr("div",eS,[(Vr(!0),Wr(Or,null,Ln(s.examStudents,t=>{var n;return Vr(),Wr("div",{key:t.id,class:"student-attendance-item"},[Qr("div",nS,[Qr("div",rS,[Qr("i",{class:z(t.gender===s.CONSTANTS.GENDERS.MALE?"fas fa-male":"fas fa-female")},null,2)]),Qr("div",sS,[Qr("h4",null,Y(t.name),1),Qr("p",null,Y(t.indexNo),1)])]),Qr("div",iS,[Qr("div",aS,[Qr("label",oS,[Qr("input",{type:"checkbox",checked:t.attended,onChange:e=>i.toggleStudentAttendance(t)},null,40,lS),e[64]||(e[64]=Qr("span",{class:"slider"},null,-1))]),Qr("span",cS,Y(t.attended?"Present":"Absent"),1)]),t.attended?(Vr(),Wr("div",uS,[e[65]||(e[65]=Qr("label",null,"Fee Paid:",-1)),Qe(Qr("input",{"onUpdate:modelValue":e=>t.feePaid=e,type:"number",class:"form-control form-control-sm",placeholder:null==(n=s.selectedExam)?void 0:n.fee,min:"0"},null,8,hS),[[ri,t.feePaid,void 0,{number:!0}]])])):ns("",!0)])])}),128))])]),Qr("div",dS,[Qr("button",{type:"button",onClick:e[16]||(e[16]=(...t)=>i.closeAttendanceModal&&i.closeAttendanceModal(...t)),class:"btn btn-secondary"},"Cancel"),Qr("button",{onClick:e[17]||(e[17]=(...t)=>i.saveExamAttendance&&i.saveExamAttendance(...t)),class:"btn btn-primary",disabled:s.savingAttendance},[s.savingAttendance?(Vr(),Wr("span",pS)):(Vr(),Wr("span",mS,"Save Attendance"))],8,fS)])])])):ns("",!0),s.showMarksModal?(Vr(),Wr("div",{key:2,class:"modal-overlay",onClick:e[24]||(e[24]=(...t)=>i.closeMarksModal&&i.closeMarksModal(...t))},[Qr("div",{class:"modal marks-modal",onClick:e[23]||(e[23]=ci(()=>{},["stop"]))},[Qr("div",gS,[Qr("h3",vS,[e[66]||(e[66]=Qr("i",{class:"fas fa-edit"},null,-1)),ts(" Enter Marks - "+Y(null==(l=s.examToClose)?void 0:l.subject)+" ("+Y(null==(c=s.examToClose)?void 0:c.batch)+") ",1)]),Qr("button",{onClick:e[20]||(e[20]=(...t)=>i.closeMarksModal&&i.closeMarksModal(...t)),class:"modal-close"},[...e[67]||(e[67]=[Qr("i",{class:"fas fa-times"},null,-1)])])]),Qr("div",yS,[e[69]||(e[69]=Qr("div",{class:"marks-instructions"},[Qr("p",null,[Qr("i",{class:"fas fa-info-circle"}),ts(" Enter marks for students who attended the exam. Leave blank for absent students.")])],-1)),Qr("div",bS,[Qr("div",wS,[e[68]||(e[68]=Qr("div",{class:"marks-header"},[Qr("div",{class:"marks-cell"},"Index"),Qr("div",{class:"marks-cell"},"Name"),Qr("div",{class:"marks-cell"},"Marks")],-1)),(Vr(!0),Wr(Or,null,Ln(s.examStudentsForMarks,t=>(Vr(),Wr("div",{key:t.indexNo,class:"marks-row"},[Qr("div",xS,Y(t.indexNo),1),Qr("div",SS,Y(t.name),1),Qr("div",_S,[Qe(Qr("input",{"onUpdate:modelValue":e=>t.mark=e,type:"number",class:"mark-input",min:"0",max:"100",placeholder:"0"},null,8,AS),[[ri,t.mark,void 0,{number:!0}]])])]))),128))])])]),Qr("div",NS,[Qr("button",{onClick:e[21]||(e[21]=(...t)=>i.closeMarksModal&&i.closeMarksModal(...t)),class:"btn btn-secondary"},"Cancel"),Qr("button",{onClick:e[22]||(e[22]=(...t)=>i.saveExamMarks&&i.saveExamMarks(...t)),disabled:s.savingMarks,class:"btn btn-primary"},[s.savingMarks?(Vr(),Wr("span",kS)):ns("",!0),ts(" "+Y(s.savingMarks?"Saving...":"Close Exam with Marks"),1)],8,ES)])])])):ns("",!0),Qr("nav",CS,[Jr(u,{to:"/dashboard",class:"nav-link"},{default:Xe(()=>[...e[70]||(e[70]=[Qr("i",{class:"fas fa-home"},null,-1),Qr("span",null,"Dashboard",-1)])]),_:1}),Jr(u,{to:"/students",class:"nav-link"},{default:Xe(()=>[...e[71]||(e[71]=[Qr("i",{class:"fas fa-users"},null,-1),Qr("span",null,"Students",-1)])]),_:1}),Jr(u,{to:"/attendance",class:"nav-link"},{default:Xe(()=>[...e[72]||(e[72]=[Qr("i",{class:"fas fa-calendar-check"},null,-1),Qr("span",null,"Attendance",-1)])]),_:1}),Jr(u,{to:"/exams",class:"nav-link active"},{default:Xe(()=>[...e[73]||(e[73]=[Qr("i",{class:"fas fa-clipboard-list"},null,-1),Qr("span",null,"Exams",-1)])]),_:1}),Jr(u,{to:"/finance",class:"nav-link"},{default:Xe(()=>[...e[74]||(e[74]=[Qr("i",{class:"fas fa-chart-line"},null,-1),Qr("span",null,"Finance",-1)])]),_:1}),Jr(u,{to:"/reports",class:"nav-link"},{default:Xe(()=>[...e[75]||(e[75]=[Qr("i",{class:"fas fa-file-pdf"},null,-1),Qr("span",null,"Reports",-1)])]),_:1})])])}],["__scopeId","data-v-3b5ff3f5"]]),TS={name:"Finance",data:()=>({CONSTANTS:Ig,transactions:[],loading:!0,activeTab:"income",showAddExpenseModal:!1,showEditExpenseModal:!1,saving:!1,expenseForm:{amount:"",reason:"",date:Fg()},editingExpense:null}),computed:{incomeTransactions(){return this.transactions.filter(t=>t.type===Ig.EXPENSE_TYPES.INCOME).sort((t,e)=>new Date(e.date)-new Date(t.date))},expenseTransactions(){return this.transactions.filter(t=>t.type!==Ig.EXPENSE_TYPES.INCOME).sort((t,e)=>new Date(e.date)-new Date(t.date))},totalIncome(){return this.incomeTransactions.reduce((t,e)=>t+(e.amount||0),0)},totalExpenses(){return this.expenseTransactions.reduce((t,e)=>t+(e.amount||0),0)},currentBalance(){return this.totalIncome-this.totalExpenses},incomeBarHeight(){const t=Math.max(this.totalIncome,this.totalExpenses);return 0===t?"20px":`${Math.max(this.totalIncome/t*200,20)}px`},expenseBarHeight(){const t=Math.max(this.totalIncome,this.totalExpenses);return 0===t?"20px":`${Math.max(this.totalExpenses/t*200,20)}px`}},async mounted(){await this.loadTransactions()},methods:{async loadTransactions(){try{Og("Loading financial transactions"),this.loading=!0,this.transactions=await rv.getAllExpenses(),jg(`Loaded ${this.transactions.length} financial transactions`)}catch(t){Rg("Failed to load financial transactions",t),this.showToast("Failed to load financial data","error")}finally{this.loading=!1}},editExpense(t){this.editingExpense=t,this.expenseForm={amount:t.amount,reason:t.reason,date:t.date.toDate?t.date.toDate().toISOString().split("T")[0]:t.date},this.showEditExpenseModal=!0},async saveExpense(){try{if(this.saving=!0,Og("Saving expense data",this.expenseForm),!this.expenseForm.amount||!this.expenseForm.reason||!this.expenseForm.date)return Bg("Form validation failed - missing required fields"),void this.showToast("Please fill in all required fields","error");const t={amount:parseFloat(this.expenseForm.amount),reason:this.expenseForm.reason.trim(),date:new Date(this.expenseForm.date),type:Ig.EXPENSE_TYPES.EXPENSE};this.showAddExpenseModal?(await rv.createExpense(t),jg(`Expense created successfully: Rs. ${t.amount}`),this.showToast("Expense added successfully","success")):(await rv.updateExpense(this.editingExpense.id,t),jg(`Expense updated successfully: Rs. ${t.amount}`),this.showToast("Expense updated successfully","success")),this.closeModal(),await this.loadTransactions()}catch(t){Rg("Error saving expense",t),this.showToast("Failed to save expense","error")}finally{this.saving=!1}},async deleteExpense(t){if(confirm(`Are you sure you want to delete this expense?\n\nAmount: Rs. ${t.amount}\nReason: ${t.reason}`))try{Og(`Deleting expense: Rs. ${t.amount} - ${t.reason}`),await rv.deleteExpense(t.id),jg(`Expense deleted successfully: Rs. ${t.amount}`),this.showToast("Expense deleted successfully","success"),await this.loadTransactions()}catch(e){Rg("Error deleting expense",e),this.showToast("Failed to delete expense","error")}},closeModal(){this.showAddExpenseModal=!1,this.showEditExpenseModal=!1,this.editingExpense=null,this.expenseForm={amount:"",reason:"",date:Fg()}},formatDate:t=>(t.toDate?t.toDate():new Date(t)).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),showToast(t,e="success"){const n=document.createElement("div");n.className=`toast ${e}`,n.innerHTML=`\n        <div style="display: flex; align-items: center; gap: 8px;">\n          <i class="fas fa-${"success"===e?"check-circle":"exclamation-triangle"}"></i>\n          <span>${t}</span>\n        </div>\n      `,document.body.appendChild(n),setTimeout(()=>{n.remove()},3e3)}}},PS={class:"finance-page"},IS={class:"page-header"},DS={class:"container-fluid"},FS={class:"header-content"},MS={class:"finance-summary"},OS={class:"container-fluid"},RS={class:"summary-cards"},jS={class:"summary-card income"},BS={class:"card-content"},qS={class:"summary-card expense"},US={class:"card-content"},VS={class:"card-content"},zS={class:"finance-tabs"},HS={class:"container-fluid"},$S={class:"tabs-header"},WS={class:"tab-content"},GS={key:0,class:"transactions-list"},KS={key:0,class:"loading-state"},YS={key:1,class:"empty-state"},XS={key:2,class:"transactions-grid"},QS={class:"transaction-header"},JS={class:"transaction-info"},ZS={class:"transaction-date"},t_={class:"transaction-amount"},e_={class:"amount"},n_={key:1,class:"transactions-list"},r_={key:0,class:"loading-state"},s_={key:1,class:"empty-state"},i_={key:2,class:"transactions-grid"},a_={class:"transaction-header"},o_={class:"transaction-info"},l_={class:"transaction-date"},c_={class:"transaction-amount"},u_={class:"amount"},h_={class:"transaction-actions"},d_=["onClick"],f_=["onClick"],p_={class:"modal-header"},m_={class:"modal-title"},g_={class:"form-group"},v_={class:"form-group"},y_={class:"form-group"},b_={class:"modal-footer"},w_=["disabled"],x_={key:0,class:"spinner"},S_={key:1},__={class:"finance-chart"},A_={class:"container-fluid"},N_={class:"chart-card"},E_={class:"chart-placeholder"},k_={class:"chart-bars"},C_={class:"bar-value"},L_={class:"bar-value"},T_={class:"bottom-nav"};const P_=di(TS,[["render",function(t,e,n,r,s,i){const a=En("router-link");return Vr(),Wr("div",PS,[Qr("div",IS,[Qr("div",DS,[Qr("div",FS,[e[14]||(e[14]=Qr("div",{class:"header-left"},[Qr("h1",null,[Qr("i",{class:"fas fa-chart-line"}),ts(" Finance Management")]),Qr("p",null,"Track income, expenses, and financial balance")],-1)),Qr("button",{onClick:e[0]||(e[0]=t=>s.showAddExpenseModal=!0),class:"btn btn-primary"},[...e[13]||(e[13]=[Qr("i",{class:"fas fa-plus"},null,-1),ts(" Add Expense ",-1)])])])])]),Qr("div",MS,[Qr("div",OS,[Qr("div",RS,[Qr("div",jS,[e[16]||(e[16]=Qr("div",{class:"card-icon"},[Qr("i",{class:"fas fa-arrow-up"})],-1)),Qr("div",BS,[Qr("h3",null,"Rs. "+Y(i.totalIncome.toLocaleString()),1),e[15]||(e[15]=Qr("p",null,"Total Income",-1)),Qr("small",null,Y(i.incomeTransactions.length)+" transactions",1)])]),Qr("div",qS,[e[18]||(e[18]=Qr("div",{class:"card-icon"},[Qr("i",{class:"fas fa-arrow-down"})],-1)),Qr("div",US,[Qr("h3",null,"Rs. "+Y(i.totalExpenses.toLocaleString()),1),e[17]||(e[17]=Qr("p",null,"Total Expenses",-1)),Qr("small",null,Y(i.expenseTransactions.length)+" transactions",1)])]),Qr("div",{class:z(["summary-card balance",{negative:i.currentBalance<0}])},[e[20]||(e[20]=Qr("div",{class:"card-icon"},[Qr("i",{class:"fas fa-balance-scale"})],-1)),Qr("div",VS,[Qr("h3",null,"Rs. "+Y(i.currentBalance.toLocaleString()),1),e[19]||(e[19]=Qr("p",null,"Current Balance",-1)),Qr("small",null,Y(i.currentBalance>=0?"Profit":"Loss"),1)])],2)])])]),Qr("div",zS,[Qr("div",HS,[Qr("div",$S,[Qr("button",{onClick:e[1]||(e[1]=t=>s.activeTab="income"),class:z(["tab-button",{active:"income"===s.activeTab}])},[e[21]||(e[21]=Qr("i",{class:"fas fa-arrow-up"},null,-1)),ts(" Income ("+Y(i.incomeTransactions.length)+") ",1)],2),Qr("button",{onClick:e[2]||(e[2]=t=>s.activeTab="expenses"),class:z(["tab-button",{active:"expenses"===s.activeTab}])},[e[22]||(e[22]=Qr("i",{class:"fas fa-arrow-down"},null,-1)),ts(" Expenses ("+Y(i.expenseTransactions.length)+") ",1)],2)]),Qr("div",WS,["income"===s.activeTab?(Vr(),Wr("div",GS,[s.loading?(Vr(),Wr("div",KS,[...e[23]||(e[23]=[Qr("div",{class:"spinner"},null,-1),Qr("p",null,"Loading income transactions...",-1)])])):0===i.incomeTransactions.length?(Vr(),Wr("div",YS,[...e[24]||(e[24]=[Qr("i",{class:"fas fa-arrow-up"},null,-1),Qr("h3",null,"No income recorded",-1),Qr("p",null,"Income will be automatically recorded when exams are completed",-1)])])):(Vr(),Wr("div",XS,[(Vr(!0),Wr(Or,null,Ln(i.incomeTransactions,t=>(Vr(),Wr("div",{key:t.id,class:"transaction-card income"},[Qr("div",QS,[e[25]||(e[25]=Qr("div",{class:"transaction-icon"},[Qr("i",{class:"fas fa-arrow-up"})],-1)),Qr("div",JS,[Qr("h4",null,Y(t.reason),1),Qr("p",ZS,Y(i.formatDate(t.date)),1)]),Qr("div",t_,[Qr("span",e_,"+Rs. "+Y(t.amount.toLocaleString()),1)])])]))),128))]))])):ns("",!0),"expenses"===s.activeTab?(Vr(),Wr("div",n_,[s.loading?(Vr(),Wr("div",r_,[...e[26]||(e[26]=[Qr("div",{class:"spinner"},null,-1),Qr("p",null,"Loading expense transactions...",-1)])])):0===i.expenseTransactions.length?(Vr(),Wr("div",s_,[e[28]||(e[28]=Qr("i",{class:"fas fa-arrow-down"},null,-1)),e[29]||(e[29]=Qr("h3",null,"No expenses recorded",-1)),e[30]||(e[30]=Qr("p",null,"Add your first expense to start tracking",-1)),Qr("button",{onClick:e[3]||(e[3]=t=>s.showAddExpenseModal=!0),class:"btn btn-primary"},[...e[27]||(e[27]=[Qr("i",{class:"fas fa-plus"},null,-1),ts(" Add First Expense ",-1)])])])):(Vr(),Wr("div",i_,[(Vr(!0),Wr(Or,null,Ln(i.expenseTransactions,t=>(Vr(),Wr("div",{key:t.id,class:"transaction-card expense"},[Qr("div",a_,[e[31]||(e[31]=Qr("div",{class:"transaction-icon"},[Qr("i",{class:"fas fa-arrow-down"})],-1)),Qr("div",o_,[Qr("h4",null,Y(t.reason),1),Qr("p",l_,Y(i.formatDate(t.date)),1)]),Qr("div",c_,[Qr("span",u_,"-Rs. "+Y(t.amount.toLocaleString()),1)])]),Qr("div",h_,[Qr("button",{onClick:e=>i.editExpense(t),class:"btn btn-sm btn-secondary"},[...e[32]||(e[32]=[Qr("i",{class:"fas fa-edit"},null,-1),ts(" Edit ",-1)])],8,d_),Qr("button",{onClick:e=>i.deleteExpense(t),class:"btn btn-sm btn-danger"},[...e[33]||(e[33]=[Qr("i",{class:"fas fa-trash"},null,-1),ts(" Delete ",-1)])],8,f_)])]))),128))]))])):ns("",!0)])])]),s.showAddExpenseModal||s.showEditExpenseModal?(Vr(),Wr("div",{key:0,class:"modal-overlay",onClick:e[12]||(e[12]=(...t)=>i.closeModal&&i.closeModal(...t))},[Qr("div",{class:"modal",onClick:e[11]||(e[11]=ci(()=>{},["stop"]))},[Qr("div",p_,[Qr("h3",m_,Y(s.showAddExpenseModal?"Add New Expense":"Edit Expense"),1),Qr("button",{onClick:e[4]||(e[4]=(...t)=>i.closeModal&&i.closeModal(...t)),class:"modal-close"},[...e[34]||(e[34]=[Qr("i",{class:"fas fa-times"},null,-1)])])]),Qr("form",{onSubmit:e[8]||(e[8]=ci((...t)=>i.saveExpense&&i.saveExpense(...t),["prevent"])),class:"modal-body"},[Qr("div",g_,[e[35]||(e[35]=Qr("label",{class:"form-label"},"Amount (Rs.) *",-1)),Qe(Qr("input",{"onUpdate:modelValue":e[5]||(e[5]=t=>s.expenseForm.amount=t),type:"number",class:"form-control",placeholder:"Enter amount",min:"0",step:"0.01",required:""},null,512),[[ri,s.expenseForm.amount,void 0,{number:!0}]])]),Qr("div",v_,[e[36]||(e[36]=Qr("label",{class:"form-label"},"Reason/Description *",-1)),Qe(Qr("textarea",{"onUpdate:modelValue":e[6]||(e[6]=t=>s.expenseForm.reason=t),class:"form-control",placeholder:"Enter reason for expense",rows:"3",required:""},null,512),[[ri,s.expenseForm.reason]])]),Qr("div",y_,[e[37]||(e[37]=Qr("label",{class:"form-label"},"Date *",-1)),Qe(Qr("input",{"onUpdate:modelValue":e[7]||(e[7]=t=>s.expenseForm.date=t),type:"date",class:"form-control",required:""},null,512),[[ri,s.expenseForm.date]])])],32),Qr("div",b_,[Qr("button",{type:"button",onClick:e[9]||(e[9]=(...t)=>i.closeModal&&i.closeModal(...t)),class:"btn btn-secondary"},"Cancel"),Qr("button",{type:"submit",onClick:e[10]||(e[10]=(...t)=>i.saveExpense&&i.saveExpense(...t)),class:"btn btn-primary",disabled:s.saving},[s.saving?(Vr(),Wr("span",x_)):(Vr(),Wr("span",S_,Y(s.showAddExpenseModal?"Add Expense":"Update Expense"),1))],8,w_)])])])):ns("",!0),Qr("div",__,[Qr("div",A_,[Qr("div",N_,[e[40]||(e[40]=Qr("h3",null,"Monthly Overview",-1)),Qr("div",E_,[Qr("div",k_,[Qr("div",{class:"chart-bar income",style:j({height:i.incomeBarHeight})},[e[38]||(e[38]=Qr("span",{class:"bar-label"},"Income",-1)),Qr("span",C_,"Rs. "+Y(i.totalIncome.toLocaleString()),1)],4),Qr("div",{class:"chart-bar expense",style:j({height:i.expenseBarHeight})},[e[39]||(e[39]=Qr("span",{class:"bar-label"},"Expenses",-1)),Qr("span",L_,"Rs. "+Y(i.totalExpenses.toLocaleString()),1)],4)])])])])]),Qr("nav",T_,[Jr(a,{to:"/dashboard",class:"nav-link"},{default:Xe(()=>[...e[41]||(e[41]=[Qr("i",{class:"fas fa-home"},null,-1),Qr("span",null,"Dashboard",-1)])]),_:1}),Jr(a,{to:"/students",class:"nav-link"},{default:Xe(()=>[...e[42]||(e[42]=[Qr("i",{class:"fas fa-users"},null,-1),Qr("span",null,"Students",-1)])]),_:1}),Jr(a,{to:"/attendance",class:"nav-link"},{default:Xe(()=>[...e[43]||(e[43]=[Qr("i",{class:"fas fa-calendar-check"},null,-1),Qr("span",null,"Attendance",-1)])]),_:1}),Jr(a,{to:"/exams",class:"nav-link"},{default:Xe(()=>[...e[44]||(e[44]=[Qr("i",{class:"fas fa-clipboard-list"},null,-1),Qr("span",null,"Exams",-1)])]),_:1}),Jr(a,{to:"/finance",class:"nav-link active"},{default:Xe(()=>[...e[45]||(e[45]=[Qr("i",{class:"fas fa-chart-line"},null,-1),Qr("span",null,"Finance",-1)])]),_:1}),Jr(a,{to:"/reports",class:"nav-link"},{default:Xe(()=>[...e[46]||(e[46]=[Qr("i",{class:"fas fa-file-pdf"},null,-1),Qr("span",null,"Reports",-1)])]),_:1})])])}],["__scopeId","data-v-9a7c3d91"]]),I_={},D_=function(t,e,n){let r=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const t=document.querySelector("meta[property=csp-nonce]"),n=(null==t?void 0:t.nonce)||(null==t?void 0:t.getAttribute("nonce"));r=Promise.allSettled(e.map(t=>{if((t=function(t){return"/"+t}(t))in I_)return;I_[t]=!0;const e=t.endsWith(".css"),r=e?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${t}"]${r}`))return;const s=document.createElement("link");return s.rel=e?"stylesheet":"modulepreload",e||(s.as="script"),s.crossOrigin="",s.href=t,n&&s.setAttribute("nonce",n),document.head.appendChild(s),e?new Promise((e,n)=>{s.addEventListener("load",e),s.addEventListener("error",()=>n(new Error(`Unable to preload CSS for ${t}`)))}):void 0}))}function s(t){const e=new Event("vite:preloadError",{cancelable:!0});if(e.payload=t,window.dispatchEvent(e),!e.defaultPrevented)throw t}return r.then(e=>{for(const t of e||[])"rejected"===t.status&&s(t.reason);return t().catch(s)})};function F_(t){return(F_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var M_=Uint8Array,O_=Uint16Array,R_=Int32Array,j_=new M_([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),B_=new M_([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),q_=new M_([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),U_=function(t,e){for(var n=new O_(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];var s=new R_(n[30]);for(r=1;r<30;++r)for(var i=n[r];i<n[r+1];++i)s[i]=i-n[r]<<5|r;return{b:n,r:s}},V_=U_(j_,2),z_=V_.b,H_=V_.r;z_[28]=258,H_[258]=28;for(var $_=U_(B_,0),W_=$_.b,G_=$_.r,K_=new O_(32768),Y_=0;Y_<32768;++Y_){var X_=(43690&Y_)>>1|(21845&Y_)<<1;X_=(61680&(X_=(52428&X_)>>2|(13107&X_)<<2))>>4|(3855&X_)<<4,K_[Y_]=((65280&X_)>>8|(255&X_)<<8)>>1}var Q_=function(t,e,n){for(var r=t.length,s=0,i=new O_(e);s<r;++s)t[s]&&++i[t[s]-1];var a,o=new O_(e);for(s=1;s<e;++s)o[s]=o[s-1]+i[s-1]<<1;if(n){a=new O_(1<<e);var l=15-e;for(s=0;s<r;++s)if(t[s])for(var c=s<<4|t[s],u=e-t[s],h=o[t[s]-1]++<<u,d=h|(1<<u)-1;h<=d;++h)a[K_[h]>>l]=c}else for(a=new O_(r),s=0;s<r;++s)t[s]&&(a[s]=K_[o[t[s]-1]++]>>15-t[s]);return a},J_=new M_(288);for(Y_=0;Y_<144;++Y_)J_[Y_]=8;for(Y_=144;Y_<256;++Y_)J_[Y_]=9;for(Y_=256;Y_<280;++Y_)J_[Y_]=7;for(Y_=280;Y_<288;++Y_)J_[Y_]=8;var Z_=new M_(32);for(Y_=0;Y_<32;++Y_)Z_[Y_]=5;var tA=Q_(J_,9,0),eA=Q_(J_,9,1),nA=Q_(Z_,5,0),rA=Q_(Z_,5,1),sA=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},iA=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(7&e)&n},aA=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(7&e)},oA=function(t){return(t+7)/8|0},lA=function(t,e,n){return(null==n||n>t.length)&&(n=t.length),new M_(t.subarray(e,n))},cA=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],uA=function(t,e,n){var r=new Error(e||cA[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,uA),!n)throw r;return r},hA=function(t,e,n){n<<=7&e;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},dA=function(t,e,n){n<<=7&e;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},fA=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var s=n.length,i=n.slice();if(!s)return{t:wA,l:0};if(1==s){var a=new M_(n[0].s+1);return a[n[0].s]=1,{t:a,l:1}}n.sort(function(t,e){return t.f-e.f}),n.push({s:-1,f:25001});var o=n[0],l=n[1],c=0,u=1,h=2;for(n[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=s-1;)o=n[n[c].f<n[h].f?c++:h++],l=n[c!=u&&n[c].f<n[h].f?c++:h++],n[u++]={s:-1,f:o.f+l.f,l:o,r:l};var d=i[0].s;for(r=1;r<s;++r)i[r].s>d&&(d=i[r].s);var f=new O_(d+1),p=pA(n[u-1],f,0);if(p>e){r=0;var m=0,g=p-e,v=1<<g;for(i.sort(function(t,e){return f[e.s]-f[t.s]||t.f-e.f});r<s;++r){var y=i[r].s;if(!(f[y]>e))break;m+=v-(1<<p-f[y]),f[y]=e}for(m>>=g;m>0;){var b=i[r].s;f[b]<e?m-=1<<e-f[b]++-1:++r}for(;r>=0&&m;--r){var w=i[r].s;f[w]==e&&(--f[w],++m)}p=e}return{t:new M_(f),l:p}},pA=function(t,e,n){return-1==t.s?Math.max(pA(t.l,e,n+1),pA(t.r,e,n+1)):e[t.s]=n},mA=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new O_(++e),r=0,s=t[0],i=1,a=function(t){n[r++]=t},o=1;o<=e;++o)if(t[o]==s&&o!=e)++i;else{if(!s&&i>2){for(;i>138;i-=138)a(32754);i>2&&(a(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(a(s),--i;i>6;i-=6)a(8304);i>2&&(a(i-3<<5|8208),i=0)}for(;i--;)a(s);i=1,s=t[o]}return{c:n.subarray(0,r),n:e}},gA=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},vA=function(t,e,n){var r=n.length,s=oA(e+2);t[s]=255&r,t[s+1]=r>>8,t[s+2]=255^t[s],t[s+3]=255^t[s+1];for(var i=0;i<r;++i)t[s+i+4]=n[i];return 8*(s+4+r)},yA=function(t,e,n,r,s,i,a,o,l,c,u){hA(e,u++,n),++s[256];for(var h=fA(s,15),d=h.t,f=h.l,p=fA(i,15),m=p.t,g=p.l,v=mA(d),y=v.c,b=v.n,w=mA(m),x=w.c,S=w.n,_=new O_(19),A=0;A<y.length;++A)++_[31&y[A]];for(A=0;A<x.length;++A)++_[31&x[A]];for(var N=fA(_,7),E=N.t,k=N.l,C=19;C>4&&!E[q_[C-1]];--C);var L,T,P,I,D=c+5<<3,F=gA(s,J_)+gA(i,Z_)+a,M=gA(s,d)+gA(i,m)+a+14+3*C+gA(_,E)+2*_[16]+3*_[17]+7*_[18];if(l>=0&&D<=F&&D<=M)return vA(e,u,t.subarray(l,l+c));if(hA(e,u,1+(M<F)),u+=2,M<F){L=Q_(d,f,0),T=d,P=Q_(m,g,0),I=m;var O=Q_(E,k,0);hA(e,u,b-257),hA(e,u+5,S-1),hA(e,u+10,C-4),u+=14;for(A=0;A<C;++A)hA(e,u+3*A,E[q_[A]]);u+=3*C;for(var R=[y,x],j=0;j<2;++j){var B=R[j];for(A=0;A<B.length;++A){var q=31&B[A];hA(e,u,O[q]),u+=E[q],q>15&&(hA(e,u,B[A]>>5&127),u+=B[A]>>12)}}}else L=tA,T=J_,P=nA,I=Z_;for(A=0;A<o;++A){var U=r[A];if(U>255){dA(e,u,L[(q=U>>18&31)+257]),u+=T[q+257],q>7&&(hA(e,u,U>>23&31),u+=j_[q]);var V=31&U;dA(e,u,P[V]),u+=I[V],V>3&&(dA(e,u,U>>5&8191),u+=B_[V])}else dA(e,u,L[U]),u+=T[U]}return dA(e,u,L[256]),u+T[256]},bA=new R_([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),wA=new M_(0),xA=function(){var t=1,e=0;return{p:function(n){for(var r=t,s=e,i=0|n.length,a=0;a!=i;){for(var o=Math.min(a+2655,i);a<o;++a)s+=r+=n[a];r=(65535&r)+15*(r>>16),s=(65535&s)+15*(s>>16)}t=r,e=s},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(e%=65521))<<8|e>>8}}},SA=function(t,e,n,r,s){if(!s&&(s={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),a=new M_(i.length+t.length);a.set(i),a.set(t,i.length),t=a,s.w=i.length}return function(t,e,n,r,s,i){var a=i.z||t.length,o=new M_(r+a+5*(1+Math.ceil(a/7e3))+s),l=o.subarray(r,o.length-s),c=i.l,u=7&(i.r||0);if(e){u&&(l[0]=i.r>>3);for(var h=bA[e-1],d=h>>13,f=8191&h,p=(1<<n)-1,m=i.p||new O_(32768),g=i.h||new O_(p+1),v=Math.ceil(n/3),y=2*v,b=function(e){return(t[e]^t[e+1]<<v^t[e+2]<<y)&p},w=new R_(25e3),x=new O_(288),S=new O_(32),_=0,A=0,N=i.i||0,E=0,k=i.w||0,C=0;N+2<a;++N){var L=b(N),T=32767&N,P=g[L];if(m[T]=P,g[L]=T,k<=N){var I=a-N;if((_>7e3||E>24576)&&(I>423||!c)){u=yA(t,l,0,w,x,S,A,E,C,N-C,u),E=_=A=0,C=N;for(var D=0;D<286;++D)x[D]=0;for(D=0;D<30;++D)S[D]=0}var F=2,M=0,O=f,R=T-P&32767;if(I>2&&L==b(N-R))for(var j=Math.min(d,I)-1,B=Math.min(32767,N),q=Math.min(258,I);R<=B&&--O&&T!=P;){if(t[N+F]==t[N+F-R]){for(var U=0;U<q&&t[N+U]==t[N+U-R];++U);if(U>F){if(F=U,M=R,U>j)break;var V=Math.min(R,U-2),z=0;for(D=0;D<V;++D){var H=N-R+D&32767,$=H-m[H]&32767;$>z&&(z=$,P=H)}}}R+=(T=P)-(P=m[T])&32767}if(M){w[E++]=268435456|H_[F]<<18|G_[M];var W=31&H_[F],G=31&G_[M];A+=j_[W]+B_[G],++x[257+W],++S[G],k=N+F,++_}else w[E++]=t[N],++x[t[N]]}}for(N=Math.max(N,k);N<a;++N)w[E++]=t[N],++x[t[N]];u=yA(t,l,c,w,x,S,A,E,C,N-C,u),c||(i.r=7&u|l[u/8|0]<<3,u-=7,i.h=g,i.p=m,i.i=N,i.w=k)}else{for(N=i.w||0;N<a+c;N+=65535){var K=N+65535;K>=a&&(l[u/8|0]=c,K=a),u=vA(l,u+1,t.subarray(N,K))}i.i=a}return lA(o,0,r+oA(u)+s)}(t,null==e.level?6:e.level,null==e.mem?s.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(t.length)))):20:12+e.mem,n,r,s)},_A=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8};function AA(t,e){e||(e={});var n=xA();n.p(t);var r=SA(t,e,e.dictionary?6:2,4);return function(t,e){var n=e.level,r=0==n?0:n<6?1:9==n?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var s=xA();s.p(e.dictionary),_A(t,2,s.d())}}(r,e),_A(r,r.length-4,n.d()),r}function NA(t,e){return function(t,e,n,r){var s=t.length;if(!s||e.f&&!e.l)return n||new M_(0);var i=!n,a=i||2!=e.i,o=e.i;i&&(n=new M_(3*s));var l=function(t){var e=n.length;if(t>e){var r=new M_(Math.max(2*e,t));r.set(n),n=r}},c=e.f||0,u=e.p||0,h=e.b||0,d=e.l,f=e.d,p=e.m,m=e.n,g=8*s;do{if(!d){c=iA(t,u,1);var v=iA(t,u+1,3);if(u+=3,!v){var y=t[(L=oA(u)+4)-4]|t[L-3]<<8,b=L+y;if(b>s){o&&uA(0);break}a&&l(h+y),n.set(t.subarray(L,b),h),e.b=h+=y,e.p=u=8*b,e.f=c;continue}if(1==v)d=eA,f=rA,p=9,m=5;else if(2==v){var w=iA(t,u,31)+257,x=iA(t,u+10,15)+4,S=w+iA(t,u+5,31)+1;u+=14;for(var _=new M_(S),A=new M_(19),N=0;N<x;++N)A[q_[N]]=iA(t,u+3*N,7);u+=3*x;var E=sA(A),k=(1<<E)-1,C=Q_(A,E,1);for(N=0;N<S;){var L,T=C[iA(t,u,k)];if(u+=15&T,(L=T>>4)<16)_[N++]=L;else{var P=0,I=0;for(16==L?(I=3+iA(t,u,3),u+=2,P=_[N-1]):17==L?(I=3+iA(t,u,7),u+=3):18==L&&(I=11+iA(t,u,127),u+=7);I--;)_[N++]=P}}var D=_.subarray(0,w),F=_.subarray(w);p=sA(D),m=sA(F),d=Q_(D,p,1),f=Q_(F,m,1)}else uA(1);if(u>g){o&&uA(0);break}}a&&l(h+131072);for(var M=(1<<p)-1,O=(1<<m)-1,R=u;;R=u){var j=(P=d[aA(t,u)&M])>>4;if((u+=15&P)>g){o&&uA(0);break}if(P||uA(2),j<256)n[h++]=j;else{if(256==j){R=u,d=null;break}var B=j-254;if(j>264){var q=j_[N=j-257];B=iA(t,u,(1<<q)-1)+z_[N],u+=q}var U=f[aA(t,u)&O],V=U>>4;if(U||uA(3),u+=15&U,F=W_[V],V>3&&(q=B_[V],F+=aA(t,u)&(1<<q)-1,u+=q),u>g){o&&uA(0);break}a&&l(h+131072);var z=h+B;if(h<F){var H=0-F,$=Math.min(F,z);for(H+h<0&&uA(3);h<$;++h)n[h]=r[H+h]}for(;h<z;++h)n[h]=n[h-F]}}e.l=d,e.p=R,e.b=h,e.f=c,d&&(c=1,e.m=p,e.d=f,e.n=m)}while(!c);return h!=n.length&&i?lA(n,0,h):n.subarray(0,h)}(t.subarray(((8!=(15&(n=t)[0])||n[0]>>4>7||(n[0]<<8|n[1])%31)&&uA(6,"invalid zlib data"),1==(n[1]>>5&1)&&uA(6,"invalid zlib data: "+(32&n[1]?"need":"unexpected")+" dictionary"),2+(n[1]>>3&4)),-4),{i:2},e,e);var n}var EA="undefined"!=typeof TextDecoder&&new TextDecoder;try{EA.decode(wA,{stream:!0})}catch(YN){}var kA=function(){return"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this}();function CA(){kA.console&&"function"==typeof kA.console.log&&kA.console.log.apply(kA.console,arguments)}var LA={log:CA,warn:function(t){kA.console&&("function"==typeof kA.console.warn?kA.console.warn.apply(kA.console,arguments):CA.call(null,arguments))},error:function(t){kA.console&&("function"==typeof kA.console.error?kA.console.error.apply(kA.console,arguments):CA(t))}};function TA(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){MA(r.response,e,n)},r.onerror=function(){LA.error("could not download file")},r.send()}function PA(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(n){}return e.status>=200&&e.status<=299}function IA(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(n){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var DA,FA,MA=kA.saveAs||("object"!==("undefined"==typeof window?"undefined":F_(window))||window!==kA?function(){}:"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=kA.URL||kA.webkitURL,s=document.createElement("a");e=e||t.name||"download",s.download=e,s.rel="noopener","string"==typeof t?(s.href=t,s.origin!==location.origin?PA(s.href)?TA(t,e,n):IA(s,s.target="_blank"):IA(s)):(s.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(s.href)},4e4),setTimeout(function(){IA(s)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download","string"==typeof t)if(PA(t))TA(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){IA(r)})}else navigator.msSaveOrOpenBlob((s=t,void 0===(i=n)?i={autoBom:!1}:"object"!==F_(i)&&(LA.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob([String.fromCharCode(65279),s],{type:s.type}):s),e);var s,i}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof t)return TA(t,e,n);var s="application/octet-stream"===t.type,i=/constructor/i.test(kA.HTMLElement)||kA.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||s&&i)&&"object"===("undefined"==typeof FileReader?"undefined":F_(FileReader))){var o=new FileReader;o.onloadend=function(){var t=o.result;t=a?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=t:location=t,r=null},o.readAsDataURL(t)}else{var l=kA.URL||kA.webkitURL,c=l.createObjectURL(t);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});
/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function OA(t){var e;t=t||"",this.ok=!1,"#"==t.charAt(0)&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(t){return[parseInt(t[1]),parseInt(t[2]),parseInt(t[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}}],r=0;r<n.length;r++){var s=n[r].re,i=n[r].process,a=s.exec(t);a&&(e=i(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var t=this.r.toString(16),e=this.g.toString(16),n=this.b.toString(16);return 1==t.length&&(t="0"+t),1==e.length&&(e="0"+e),1==n.length&&(n="0"+n),"#"+t+e+n}}
/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function RA(t,e){var n=t[0],r=t[1],s=t[2],i=t[3];n=BA(n,r,s,i,e[0],7,-680876936),i=BA(i,n,r,s,e[1],12,-389564586),s=BA(s,i,n,r,e[2],17,606105819),r=BA(r,s,i,n,e[3],22,-1044525330),n=BA(n,r,s,i,e[4],7,-176418897),i=BA(i,n,r,s,e[5],12,1200080426),s=BA(s,i,n,r,e[6],17,-1473231341),r=BA(r,s,i,n,e[7],22,-45705983),n=BA(n,r,s,i,e[8],7,1770035416),i=BA(i,n,r,s,e[9],12,-1958414417),s=BA(s,i,n,r,e[10],17,-42063),r=BA(r,s,i,n,e[11],22,-1990404162),n=BA(n,r,s,i,e[12],7,1804603682),i=BA(i,n,r,s,e[13],12,-40341101),s=BA(s,i,n,r,e[14],17,-1502002290),n=qA(n,r=BA(r,s,i,n,e[15],22,1236535329),s,i,e[1],5,-165796510),i=qA(i,n,r,s,e[6],9,-1069501632),s=qA(s,i,n,r,e[11],14,643717713),r=qA(r,s,i,n,e[0],20,-373897302),n=qA(n,r,s,i,e[5],5,-701558691),i=qA(i,n,r,s,e[10],9,38016083),s=qA(s,i,n,r,e[15],14,-660478335),r=qA(r,s,i,n,e[4],20,-405537848),n=qA(n,r,s,i,e[9],5,568446438),i=qA(i,n,r,s,e[14],9,-1019803690),s=qA(s,i,n,r,e[3],14,-187363961),r=qA(r,s,i,n,e[8],20,1163531501),n=qA(n,r,s,i,e[13],5,-1444681467),i=qA(i,n,r,s,e[2],9,-51403784),s=qA(s,i,n,r,e[7],14,1735328473),n=UA(n,r=qA(r,s,i,n,e[12],20,-1926607734),s,i,e[5],4,-378558),i=UA(i,n,r,s,e[8],11,-2022574463),s=UA(s,i,n,r,e[11],16,1839030562),r=UA(r,s,i,n,e[14],23,-35309556),n=UA(n,r,s,i,e[1],4,-1530992060),i=UA(i,n,r,s,e[4],11,1272893353),s=UA(s,i,n,r,e[7],16,-155497632),r=UA(r,s,i,n,e[10],23,-1094730640),n=UA(n,r,s,i,e[13],4,681279174),i=UA(i,n,r,s,e[0],11,-358537222),s=UA(s,i,n,r,e[3],16,-722521979),r=UA(r,s,i,n,e[6],23,76029189),n=UA(n,r,s,i,e[9],4,-640364487),i=UA(i,n,r,s,e[12],11,-421815835),s=UA(s,i,n,r,e[15],16,530742520),n=VA(n,r=UA(r,s,i,n,e[2],23,-995338651),s,i,e[0],6,-198630844),i=VA(i,n,r,s,e[7],10,1126891415),s=VA(s,i,n,r,e[14],15,-1416354905),r=VA(r,s,i,n,e[5],21,-57434055),n=VA(n,r,s,i,e[12],6,1700485571),i=VA(i,n,r,s,e[3],10,-1894986606),s=VA(s,i,n,r,e[10],15,-1051523),r=VA(r,s,i,n,e[1],21,-2054922799),n=VA(n,r,s,i,e[8],6,1873313359),i=VA(i,n,r,s,e[15],10,-30611744),s=VA(s,i,n,r,e[6],15,-1560198380),r=VA(r,s,i,n,e[13],21,1309151649),n=VA(n,r,s,i,e[4],6,-145523070),i=VA(i,n,r,s,e[11],10,-1120210379),s=VA(s,i,n,r,e[2],15,718787259),r=VA(r,s,i,n,e[9],21,-343485551),t[0]=XA(n,t[0]),t[1]=XA(r,t[1]),t[2]=XA(s,t[2]),t[3]=XA(i,t[3])}function jA(t,e,n,r,s,i){return e=XA(XA(e,t),XA(r,i)),XA(e<<s|e>>>32-s,n)}function BA(t,e,n,r,s,i,a){return jA(e&n|~e&r,t,e,s,i,a)}function qA(t,e,n,r,s,i,a){return jA(e&r|n&~r,t,e,s,i,a)}function UA(t,e,n,r,s,i,a){return jA(e^n^r,t,e,s,i,a)}function VA(t,e,n,r,s,i,a){return jA(n^(e|~r),t,e,s,i,a)}function zA(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)RA(r,HA(t.substring(e-64,e)));t=t.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)s[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(RA(r,s),e=0;e<16;e++)s[e]=0;return s[14]=8*n,RA(r,s),r}function HA(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}DA=kA.atob.bind(kA),FA=kA.btoa.bind(kA);var $A="0123456789abcdef".split("");function WA(t){for(var e="",n=0;n<4;n++)e+=$A[t>>8*n+4&15]+$A[t>>8*n&15];return e}function GA(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function KA(t){return zA(t).map(GA).join("")}var YA="5d41402abc4b2a76b9719d911017c592"!=function(t){for(var e=0;e<t.length;e++)t[e]=WA(t[e]);return t.join("")}(zA("hello"));function XA(t,e){if(YA){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}
/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function QA(t,e){var n,r,s,i;if(t!==n){for(var a=(s=t,i=1+(256/t.length|0),new Array(i+1).join(s)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var u=o[l];c=(c+u+a.charCodeAt(l))%256,o[l]=o[c],o[c]=u}n=t,r=o}else o=r;var h=e.length,d=0,f=0,p="";for(l=0;l<h;l++)f=(f+(u=o[d=(d+1)%256]))%256,o[d]=o[f],o[f]=u,a=o[(o[d]+o[f])%256],p+=String.fromCharCode(e.charCodeAt(l)^a);return p}
/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var JA={print:4,modify:8,copy:16,"annot-forms":32};function ZA(t,e,n,r){this.v=1,this.r=2;var s=192;t.forEach(function(t){if(void 0!==JA.perm)throw new Error("Invalid permission: "+t);s+=JA[t]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(e+this.padding).substr(0,32),a=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,a),this.P=-(1+(255^s)),this.encryptionKey=KA(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=QA(this.encryptionKey,this.padding)}function tN(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var s=t.charCodeAt(r);e+=s<33||35===s||37===s||40===s||41===s||47===s||60===s||62===s||91===s||93===s||123===s||125===s||s>126?"#"+("0"+s.toString(16)).slice(-2):t[r]}return e}function eN(t){if("object"!==F_(t))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,n,r){if(r=r||!1,"string"!=typeof t||"function"!=typeof n||"boolean"!=typeof r)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[n,!!r],s},this.unsubscribe=function(t){for(var n in e)if(e[n][t])return delete e[n][t],0===Object.keys(e[n]).length&&delete e[n],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),s=[];for(var i in e[n]){var a=e[n][i];try{a[0].apply(t,r)}catch(o){kA.console&&LA.error("jsPDF PubSub Error",o.message,o)}a[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function nN(t){if(!(this instanceof nN))return new nN(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function rN(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function sN(t,e,n,r,s){if(!(this instanceof sN))return new sN(t,e,n,r,s);this.type="axial"===t?2:3,this.coords=e,this.colors=n,rN.call(this,r,s)}function iN(t,e,n,r,s){if(!(this instanceof iN))return new iN(t,e,n,r,s);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,rN.call(this,r,s)}function aN(t){var e,n="string"==typeof arguments[0]?arguments[0]:"p",r=arguments[1],s=arguments[2],i=arguments[3],a=[],o=1,l=16,c="S",u=null;"object"===F_(t=t||{})&&(n=t.orientation,r=t.unit||r,s=t.format||s,i=t.compress||t.compressPdf||i,null!==(u=t.encryption||null)&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o="number"==typeof t.userUnit?Math.abs(t.userUnit):1,void 0!==t.precision&&(e=t.precision),void 0!==t.floatPrecision&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),a=t.filters||(!0===i?["FlateEncode"]:a),r=r||"mm",n=(""+(n||"P")).toLowerCase();var h=t.putOnlyUsedFonts||!1,d={},f={internal:{},__private__:{}};f.__private__.PubSub=eN;var p="1.3",m=f.__private__.getPdfVersion=function(){return p};f.__private__.setPdfVersion=function(t){p=t};var g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return g};var v=f.__private__.getPageFormat=function(t){return g[t]};s=s||"a4";var y="compat",b="advanced",w=y;function x(){this.saveGraphicsState(),Q(new Pt(dt,0,0,-dt,0,un()*dt).toString()+" cm"),this.setFontSize(this.getFontSize()/dt),c="n",w=b}function S(){this.restoreGraphicsState(),c="S",w=y}var _=f.__private__.combineFontStyleAndFontWeight=function(t,e){if("bold"==t&&"normal"==e||"bold"==t&&400==e||"normal"==t&&"italic"==e||"bold"==t&&"italic"==e)throw new Error("Invalid Combination of fontweight and fontstyle");return e&&(t=400==e||"normal"===e?"italic"===t?"italic":"normal":700!=e&&"bold"!==e||"normal"!==t?(700==e?"bold":e)+""+t:"bold"),t};f.advancedAPI=function(t){var e=w===y;return e&&x.call(this),"function"!=typeof t||(t(this),e&&S.call(this)),this},f.compatAPI=function(t){var e=w===b;return e&&S.call(this),"function"!=typeof t||(t(this),e&&x.call(this)),this},f.isAdvancedAPI=function(){return w===b};var A,N=function(t){if(w!==b)throw new Error(t+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},E=f.roundToPrecision=f.__private__.roundToPrecision=function(t,n){var r=e||n;if(isNaN(t)||isNaN(r))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return t.toFixed(r).replace(/0+$/,"")};A=f.hpf=f.__private__.hpf="number"==typeof l?function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.hpf");return E(t,l)}:"smart"===l?function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.hpf");return E(t,t>-1&&t<1?16:5)}:function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.hpf");return E(t,16)};var k=f.f2=f.__private__.f2=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.f2");return E(t,2)},C=f.__private__.f3=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.f3");return E(t,3)},L=f.scale=f.__private__.scale=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.scale");return w===y?t*dt:w===b?t:void 0},T=function(t){return L(function(t){return w===y?un()-t:w===b?t:void 0}(t))};f.__private__.setPrecision=f.setPrecision=function(t){"number"==typeof parseInt(t,10)&&(e=parseInt(t,10))};var P,I="00000000000000000000000000000000",D=f.__private__.getFileId=function(){return I},F=f.__private__.setFileId=function(t){return I=void 0!==t&&/^[a-fA-F0-9]{32}$/.test(t)?t.toUpperCase():I.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==u&&(be=new ZA(u.userPermissions,u.userPassword,u.ownerPassword,I)),I};f.setFileId=function(t){return F(t),this},f.getFileId=function(){return D()};var M=f.__private__.convertDateToPDFDate=function(t){var e=t.getTimezoneOffset(),n=e<0?"+":"-",r=Math.floor(Math.abs(e/60)),s=Math.abs(e%60),i=[n,q(r),"'",q(s),"'"].join("");return["D:",t.getFullYear(),q(t.getMonth()+1),q(t.getDate()),q(t.getHours()),q(t.getMinutes()),q(t.getSeconds()),i].join("")},O=f.__private__.convertPDFDateToDate=function(t){var e=parseInt(t.substr(2,4),10),n=parseInt(t.substr(6,2),10)-1,r=parseInt(t.substr(8,2),10),s=parseInt(t.substr(10,2),10),i=parseInt(t.substr(12,2),10),a=parseInt(t.substr(14,2),10);return new Date(e,n,r,s,i,a,0)},R=f.__private__.setCreationDate=function(t){var e;if(void 0===t&&(t=new Date),t instanceof Date)e=M(t);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(t))throw new Error("Invalid argument passed to jsPDF.setCreationDate");e=t}return P=e},j=f.__private__.getCreationDate=function(t){var e=P;return"jsDate"===t&&(e=O(P)),e};f.setCreationDate=function(t){return R(t),this},f.getCreationDate=function(t){return j(t)};var B,q=f.__private__.padd2=function(t){return("0"+parseInt(t)).slice(-2)},U=f.__private__.padd2Hex=function(t){return("00"+(t=t.toString())).substr(t.length)},V=0,z=[],H=[],$=0,W=[],G=[],K=!1,Y=H;f.__private__.setCustomOutputDestination=function(t){K=!0,Y=t};var X=function(t){K||(Y=t)};f.__private__.resetCustomOutputDestination=function(){K=!1,Y=H};var Q=f.__private__.out=function(t){return t=t.toString(),$+=t.length+1,Y.push(t),Y},J=f.__private__.write=function(t){return Q(1===arguments.length?t.toString():Array.prototype.join.call(arguments," "))},Z=f.__private__.getArrayBuffer=function(t){for(var e=t.length,n=new ArrayBuffer(e),r=new Uint8Array(n);e--;)r[e]=t.charCodeAt(e);return n},tt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return tt};var et=t.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(t){return et=w===b?t/dt:t,this};var nt,rt=f.__private__.getFontSize=f.getFontSize=function(){return w===y?et:et*dt},st=t.R2L||!1;f.__private__.setR2L=f.setR2L=function(t){return st=t,this},f.__private__.getR2L=f.getR2L=function(){return st};var it,at=f.__private__.setZoomMode=function(t){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(t))nt=t;else if(isNaN(t)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(t))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+t+'" is not recognized.');nt=t}else nt=parseInt(t,10)};f.__private__.getZoomMode=function(){return nt};var ot,lt=f.__private__.setPageMode=function(t){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(t))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+t+'" is not recognized.');it=t};f.__private__.getPageMode=function(){return it};var ct=f.__private__.setLayoutMode=function(t){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(t))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+t+'" is not recognized.');ot=t};f.__private__.getLayoutMode=function(){return ot},f.__private__.setDisplayMode=f.setDisplayMode=function(t,e,n){return at(t),ct(e),lt(n),this};var ut={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(t){if(-1===Object.keys(ut).indexOf(t))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ut[t]},f.__private__.getDocumentProperties=function(){return ut},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(t){for(var e in ut)ut.hasOwnProperty(e)&&t[e]&&(ut[e]=t[e]);return this},f.__private__.setDocumentProperty=function(t,e){if(-1===Object.keys(ut).indexOf(t))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ut[t]=e};var ht,dt,ft,pt,mt,gt={},vt={},yt=[],bt={},wt={},xt={},St={},_t=null,At=0,Nt=[],Et=new eN(f),kt=t.hotfixes||[],Ct={},Lt={},Tt=[],Pt=function t(e,n,r,s,i,a){if(!(this instanceof t))return new t(e,n,r,s,i,a);isNaN(e)&&(e=1),isNaN(n)&&(n=0),isNaN(r)&&(r=0),isNaN(s)&&(s=1),isNaN(i)&&(i=0),isNaN(a)&&(a=0),this._matrix=[e,n,r,s,i,a]};Object.defineProperty(Pt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(t){this._matrix[0]=t}}),Object.defineProperty(Pt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(t){this._matrix[1]=t}}),Object.defineProperty(Pt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(t){this._matrix[2]=t}}),Object.defineProperty(Pt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(t){this._matrix[3]=t}}),Object.defineProperty(Pt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(t){this._matrix[4]=t}}),Object.defineProperty(Pt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(t){this._matrix[5]=t}}),Object.defineProperty(Pt.prototype,"a",{get:function(){return this._matrix[0]},set:function(t){this._matrix[0]=t}}),Object.defineProperty(Pt.prototype,"b",{get:function(){return this._matrix[1]},set:function(t){this._matrix[1]=t}}),Object.defineProperty(Pt.prototype,"c",{get:function(){return this._matrix[2]},set:function(t){this._matrix[2]=t}}),Object.defineProperty(Pt.prototype,"d",{get:function(){return this._matrix[3]},set:function(t){this._matrix[3]=t}}),Object.defineProperty(Pt.prototype,"e",{get:function(){return this._matrix[4]},set:function(t){this._matrix[4]=t}}),Object.defineProperty(Pt.prototype,"f",{get:function(){return this._matrix[5]},set:function(t){this._matrix[5]=t}}),Object.defineProperty(Pt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Pt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Pt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Pt.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),Pt.prototype.join=function(t){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(A).join(t)},Pt.prototype.multiply=function(t){var e=t.sx*this.sx+t.shy*this.shx,n=t.sx*this.shy+t.shy*this.sy,r=t.shx*this.sx+t.sy*this.shx,s=t.shx*this.shy+t.sy*this.sy,i=t.tx*this.sx+t.ty*this.shx+this.tx,a=t.tx*this.shy+t.ty*this.sy+this.ty;return new Pt(e,n,r,s,i,a)},Pt.prototype.decompose=function(){var t=this.sx,e=this.shy,n=this.shx,r=this.sy,s=this.tx,i=this.ty,a=Math.sqrt(t*t+e*e),o=(t/=a)*n+(e/=a)*r;n-=t*o,r-=e*o;var l=Math.sqrt(n*n+r*r);return o/=l,t*(r/=l)<e*(n/=l)&&(t=-t,e=-e,o=-o,a=-a),{scale:new Pt(a,0,0,l,0,0),translate:new Pt(1,0,0,1,s,i),rotate:new Pt(t,e,-e,t,0,0),skew:new Pt(1,0,o,1,0,0)}},Pt.prototype.toString=function(t){return this.join(" ")},Pt.prototype.inversed=function(){var t=this.sx,e=this.shy,n=this.shx,r=this.sy,s=this.tx,i=this.ty,a=1/(t*r-e*n),o=r*a,l=-e*a,c=-n*a,u=t*a;return new Pt(o,l,c,u,-o*s-c*i,-l*s-u*i)},Pt.prototype.applyToPoint=function(t){var e=t.x*this.sx+t.y*this.shx+this.tx,n=t.x*this.shy+t.y*this.sy+this.ty;return new nn(e,n)},Pt.prototype.applyToRectangle=function(t){var e=this.applyToPoint(t),n=this.applyToPoint(new nn(t.x+t.w,t.y+t.h));return new rn(e.x,e.y,n.x-e.x,n.y-e.y)},Pt.prototype.clone=function(){var t=this.sx,e=this.shy,n=this.shx,r=this.sy,s=this.tx,i=this.ty;return new Pt(t,e,n,r,s,i)},f.Matrix=Pt;var It=f.matrixMult=function(t,e){return e.multiply(t)},Dt=new Pt(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=Dt;var Ft=function(t,e){if(!wt[t]){var n=(e instanceof sN?"Sh":"P")+(Object.keys(bt).length+1).toString(10);e.id=n,wt[t]=n,bt[n]=e,Et.publish("addPattern",e)}};f.ShadingPattern=sN,f.TilingPattern=iN,f.addShadingPattern=function(t,e){return N("addShadingPattern()"),Ft(t,e),this},f.beginTilingPattern=function(t){N("beginTilingPattern()"),an(t.boundingBox[0],t.boundingBox[1],t.boundingBox[2]-t.boundingBox[0],t.boundingBox[3]-t.boundingBox[1],t.matrix)},f.endTilingPattern=function(t,e){N("endTilingPattern()"),e.stream=G[B].join("\n"),Ft(t,e),Et.publish("endTilingPattern",e),Tt.pop().restore()};var Mt,Ot=f.__private__.newObject=function(){var t=Rt();return jt(t,!0),t},Rt=f.__private__.newObjectDeferred=function(){return V++,z[V]=function(){return $},V},jt=function(t,e){return e="boolean"==typeof e&&e,z[t]=$,e&&Q(t+" 0 obj"),t},Bt=f.__private__.newAdditionalObject=function(){var t={objId:Rt(),content:""};return W.push(t),t},qt=Rt(),Ut=Rt(),Vt=f.__private__.decodeColorString=function(t){var e=t.split(" ");if(2!==e.length||"g"!==e[1]&&"G"!==e[1])5!==e.length||"k"!==e[4]&&"K"!==e[4]||(e=[(1-e[0])*(1-e[3]),(1-e[1])*(1-e[3]),(1-e[2])*(1-e[3]),"r"]);else{var n=parseFloat(e[0]);e=[n,n,n,"r"]}for(var r="#",s=0;s<3;s++)r+=("0"+Math.floor(255*parseFloat(e[s])).toString(16)).slice(-2);return r},zt=f.__private__.encodeColorString=function(t){var e;"string"==typeof t&&(t={ch1:t});var n=t.ch1,r=t.ch2,s=t.ch3,i=t.ch4,a="draw"===t.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof n&&"#"!==n.charAt(0)){var o=new OA(n);if(o.ok)n=o.toHex();else if(!/^\d*\.?\d*$/.test(n))throw new Error('Invalid color "'+n+'" passed to jsPDF.encodeColorString.')}if("string"==typeof n&&/^#[0-9A-Fa-f]{3}$/.test(n)&&(n="#"+n[1]+n[1]+n[2]+n[2]+n[3]+n[3]),"string"==typeof n&&/^#[0-9A-Fa-f]{6}$/.test(n)){var l=parseInt(n.substr(1),16);n=l>>16&255,r=l>>8&255,s=255&l}if(void 0===r||void 0===i&&n===r&&r===s)if("string"==typeof n)e=n+" "+a[0];else if(2===t.precision)e=k(n/255)+" "+a[0];else e=C(n/255)+" "+a[0];else if(void 0===i||"object"===F_(i)){if(i&&!isNaN(i.a)&&0===i.a)return["1.","1.","1.",a[1]].join(" ");if("string"==typeof n)e=[n,r,s,a[1]].join(" ");else if(2===t.precision)e=[k(n/255),k(r/255),k(s/255),a[1]].join(" ");else e=[C(n/255),C(r/255),C(s/255),a[1]].join(" ")}else if("string"==typeof n)e=[n,r,s,i,a[2]].join(" ");else if(2===t.precision)e=[k(n),k(r),k(s),k(i),a[2]].join(" ");else e=[C(n),C(r),C(s),C(i),a[2]].join(" ");return e},Ht=f.__private__.getFilters=function(){return a},$t=f.__private__.putStream=function(t){var e=(t=t||{}).data||"",n=t.filters||Ht(),r=t.alreadyAppliedFilters||[],s=t.addLength1||!1,i=e.length,a=t.objectId,o=function(t){return t};if(null!==u&&void 0===a)throw new Error("ObjectId must be passed to putStream for file encryption");null!==u&&(o=be.encryptor(a,0));var l={};!0===n&&(n=["FlateEncode"]);var c=t.additionalKeyValues||[],h=(l=void 0!==aN.API.processDataByFilters?aN.API.processDataByFilters(e,n):{data:e,reverseChain:[]}).reverseChain+(Array.isArray(r)?r.join(" "):r.toString());if(0!==l.data.length&&(c.push({key:"Length",value:l.data.length}),!0===s&&c.push({key:"Length1",value:i})),0!=h.length)if(h.split("/").length-1==1)c.push({key:"Filter",value:h});else{c.push({key:"Filter",value:"["+h+"]"});for(var d=0;d<c.length;d+=1)if("DecodeParms"===c[d].key){for(var f=[],p=0;p<l.reverseChain.split("/").length-1;p+=1)f.push("null");f.push(c[d].value),c[d].value="["+f.join(" ")+"]"}}Q("<<");for(var m=0;m<c.length;m++)Q("/"+c[m].key+" "+c[m].value);Q(">>"),0!==l.data.length&&(Q("stream"),Q(o(l.data)),Q("endstream"))},Wt=f.__private__.putPage=function(t){var e=t.number,n=t.data,r=t.objId,s=t.contentsObjId;jt(r,!0),Q("<</Type /Page"),Q("/Parent "+t.rootDictionaryObjId+" 0 R"),Q("/Resources "+t.resourceDictionaryObjId+" 0 R"),Q("/MediaBox ["+parseFloat(A(t.mediaBox.bottomLeftX))+" "+parseFloat(A(t.mediaBox.bottomLeftY))+" "+A(t.mediaBox.topRightX)+" "+A(t.mediaBox.topRightY)+"]"),null!==t.cropBox&&Q("/CropBox ["+A(t.cropBox.bottomLeftX)+" "+A(t.cropBox.bottomLeftY)+" "+A(t.cropBox.topRightX)+" "+A(t.cropBox.topRightY)+"]"),null!==t.bleedBox&&Q("/BleedBox ["+A(t.bleedBox.bottomLeftX)+" "+A(t.bleedBox.bottomLeftY)+" "+A(t.bleedBox.topRightX)+" "+A(t.bleedBox.topRightY)+"]"),null!==t.trimBox&&Q("/TrimBox ["+A(t.trimBox.bottomLeftX)+" "+A(t.trimBox.bottomLeftY)+" "+A(t.trimBox.topRightX)+" "+A(t.trimBox.topRightY)+"]"),null!==t.artBox&&Q("/ArtBox ["+A(t.artBox.bottomLeftX)+" "+A(t.artBox.bottomLeftY)+" "+A(t.artBox.topRightX)+" "+A(t.artBox.topRightY)+"]"),"number"==typeof t.userUnit&&1!==t.userUnit&&Q("/UserUnit "+t.userUnit),Et.publish("putPage",{objId:r,pageContext:Nt[e],pageNumber:e,page:n}),Q("/Contents "+s+" 0 R"),Q(">>"),Q("endobj");var i=n.join("\n");return w===b&&(i+="\nQ"),jt(s,!0),$t({data:i,filters:Ht(),objectId:s}),Q("endobj"),r},Gt=f.__private__.putPages=function(){var t,e,n=[];for(t=1;t<=At;t++)Nt[t].objId=Rt(),Nt[t].contentsObjId=Rt();for(t=1;t<=At;t++)n.push(Wt({number:t,data:G[t],objId:Nt[t].objId,contentsObjId:Nt[t].contentsObjId,mediaBox:Nt[t].mediaBox,cropBox:Nt[t].cropBox,bleedBox:Nt[t].bleedBox,trimBox:Nt[t].trimBox,artBox:Nt[t].artBox,userUnit:Nt[t].userUnit,rootDictionaryObjId:qt,resourceDictionaryObjId:Ut}));jt(qt,!0),Q("<</Type /Pages");var r="/Kids [";for(e=0;e<At;e++)r+=n[e]+" 0 R ";Q(r+"]"),Q("/Count "+At),Q(">>"),Q("endobj"),Et.publish("postPutPages")},Kt=function(t){Et.publish("putFont",{font:t,out:Q,newObject:Ot,putStream:$t}),!0!==t.isAlreadyPutted&&(t.objectNumber=Ot(),Q("<<"),Q("/Type /Font"),Q("/BaseFont /"+tN(t.postScriptName)),Q("/Subtype /Type1"),"string"==typeof t.encoding&&Q("/Encoding /"+t.encoding),Q("/FirstChar 32"),Q("/LastChar 255"),Q(">>"),Q("endobj"))},Yt=function(t){t.objectNumber=Ot();var e=[];e.push({key:"Type",value:"/XObject"}),e.push({key:"Subtype",value:"/Form"}),e.push({key:"BBox",value:"["+[A(t.x),A(t.y),A(t.x+t.width),A(t.y+t.height)].join(" ")+"]"}),e.push({key:"Matrix",value:"["+t.matrix.toString()+"]"});var n=t.pages[1].join("\n");$t({data:n,additionalKeyValues:e,objectId:t.objectNumber}),Q("endobj")},Xt=function(t,e){e||(e=21);var n=Ot(),r=function(t,e){var n,r=[],s=1/(e-1);for(n=0;n<1;n+=s)r.push(n);if(r.push(1),0!=t[0].offset){var i={offset:0,color:t[0].color};t.unshift(i)}if(1!=t[t.length-1].offset){var a={offset:1,color:t[t.length-1].color};t.push(a)}for(var o="",l=0,c=0;c<r.length;c++){for(n=r[c];n>t[l+1].offset;)l++;var u=t[l].offset,h=(n-u)/(t[l+1].offset-u),d=t[l].color,f=t[l+1].color;o+=U(Math.round((1-h)*d[0]+h*f[0]).toString(16))+U(Math.round((1-h)*d[1]+h*f[1]).toString(16))+U(Math.round((1-h)*d[2]+h*f[2]).toString(16))}return o.trim()}(t.colors,e),s=[];s.push({key:"FunctionType",value:"0"}),s.push({key:"Domain",value:"[0.0 1.0]"}),s.push({key:"Size",value:"["+e+"]"}),s.push({key:"BitsPerSample",value:"8"}),s.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),s.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),$t({data:r,additionalKeyValues:s,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:n}),Q("endobj"),t.objectNumber=Ot(),Q("<< /ShadingType "+t.type),Q("/ColorSpace /DeviceRGB");var i="/Coords ["+A(parseFloat(t.coords[0]))+" "+A(parseFloat(t.coords[1]))+" ";2===t.type?i+=A(parseFloat(t.coords[2]))+" "+A(parseFloat(t.coords[3])):i+=A(parseFloat(t.coords[2]))+" "+A(parseFloat(t.coords[3]))+" "+A(parseFloat(t.coords[4]))+" "+A(parseFloat(t.coords[5])),Q(i+="]"),t.matrix&&Q("/Matrix ["+t.matrix.toString()+"]"),Q("/Function "+n+" 0 R"),Q("/Extend [true true]"),Q(">>"),Q("endobj")},Qt=function(t,e){var n=Rt(),r=Ot();e.push({resourcesOid:n,objectOid:r}),t.objectNumber=r;var s=[];s.push({key:"Type",value:"/Pattern"}),s.push({key:"PatternType",value:"1"}),s.push({key:"PaintType",value:"1"}),s.push({key:"TilingType",value:"1"}),s.push({key:"BBox",value:"["+t.boundingBox.map(A).join(" ")+"]"}),s.push({key:"XStep",value:A(t.xStep)}),s.push({key:"YStep",value:A(t.yStep)}),s.push({key:"Resources",value:n+" 0 R"}),t.matrix&&s.push({key:"Matrix",value:"["+t.matrix.toString()+"]"}),$t({data:t.stream,additionalKeyValues:s,objectId:t.objectNumber}),Q("endobj")},Jt=function(t){for(var e in t.objectNumber=Ot(),Q("<<"),t)switch(e){case"opacity":Q("/ca "+k(t[e]));break;case"stroke-opacity":Q("/CA "+k(t[e]))}Q(">>"),Q("endobj")},Zt=function(t){jt(t.resourcesOid,!0),Q("<<"),Q("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var t in Q("/Font <<"),gt)gt.hasOwnProperty(t)&&(!1===h||!0===h&&d.hasOwnProperty(t))&&Q("/"+t+" "+gt[t].objectNumber+" 0 R");Q(">>")}(),function(){if(Object.keys(bt).length>0){for(var t in Q("/Shading <<"),bt)bt.hasOwnProperty(t)&&bt[t]instanceof sN&&bt[t].objectNumber>=0&&Q("/"+t+" "+bt[t].objectNumber+" 0 R");Et.publish("putShadingPatternDict"),Q(">>")}}(),function(t){if(Object.keys(bt).length>0){for(var e in Q("/Pattern <<"),bt)bt.hasOwnProperty(e)&&bt[e]instanceof f.TilingPattern&&bt[e].objectNumber>=0&&bt[e].objectNumber<t&&Q("/"+e+" "+bt[e].objectNumber+" 0 R");Et.publish("putTilingPatternDict"),Q(">>")}}(t.objectOid),function(){if(Object.keys(xt).length>0){var t;for(t in Q("/ExtGState <<"),xt)xt.hasOwnProperty(t)&&xt[t].objectNumber>=0&&Q("/"+t+" "+xt[t].objectNumber+" 0 R");Et.publish("putGStateDict"),Q(">>")}}(),function(){for(var t in Q("/XObject <<"),Ct)Ct.hasOwnProperty(t)&&Ct[t].objectNumber>=0&&Q("/"+t+" "+Ct[t].objectNumber+" 0 R");Et.publish("putXobjectDict"),Q(">>")}(),Q(">>"),Q("endobj")},te=function(){var t=[];(function(){for(var t in gt)gt.hasOwnProperty(t)&&(!1===h||!0===h&&d.hasOwnProperty(t))&&Kt(gt[t])})(),function(){var t;for(t in xt)xt.hasOwnProperty(t)&&Jt(xt[t])}(),function(){for(var t in Ct)Ct.hasOwnProperty(t)&&Yt(Ct[t])}(),function(t){var e;for(e in bt)bt.hasOwnProperty(e)&&(bt[e]instanceof sN?Xt(bt[e]):bt[e]instanceof iN&&Qt(bt[e],t))}(t),Et.publish("putResources"),t.forEach(Zt),Zt({resourcesOid:Ut,objectOid:Number.MAX_SAFE_INTEGER}),Et.publish("postPutResources")},ee=function(t){vt[t.fontName]=vt[t.fontName]||{},vt[t.fontName][t.fontStyle]=t.id},ne=function(t,e,n,r,s){var i={id:"F"+(Object.keys(gt).length+1).toString(10),postScriptName:t,fontName:e,fontStyle:n,encoding:r,isStandardFont:s||!1,metadata:{}};return Et.publish("addFont",{font:i,instance:this}),gt[i.id]=i,ee(i),i.id},re=f.__private__.pdfEscape=f.pdfEscape=function(t,e){return function(t,e){var n,r,s,i,a,o,l,c,u;if(s=(e=e||{}).sourceEncoding||"Unicode",a=e.outputEncoding,(e.autoencode||a)&&gt[ht].metadata&&gt[ht].metadata[s]&&gt[ht].metadata[s].encoding&&(i=gt[ht].metadata[s].encoding,!a&&gt[ht].encoding&&(a=gt[ht].encoding),!a&&i.codePages&&(a=i.codePages[0]),"string"==typeof a&&(a=i[a]),a)){for(l=!1,o=[],n=0,r=t.length;n<r;n++)(c=a[t.charCodeAt(n)])?o.push(String.fromCharCode(c)):o.push(t[n]),o[n].charCodeAt(0)>>8&&(l=!0);t=o.join("")}for(n=t.length;void 0===l&&0!==n;)t.charCodeAt(n-1)>>8&&(l=!0),n--;if(!l)return t;for(o=e.noBOM?[]:[254,255],n=0,r=t.length;n<r;n++){if((u=(c=t.charCodeAt(n))>>8)>>8)throw new Error("Character at position "+n+" of string '"+t+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");o.push(u),o.push(c-(u<<8))}return String.fromCharCode.apply(void 0,o)}(t,e).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},se=f.__private__.beginPage=function(t){G[++At]=[],Nt[At]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(t[0]),topRightY:Number(t[1])}},oe(At),X(G[B])},ie=function(t,e){var r,i,a;switch(n=e||n,"string"==typeof t&&(r=v(t.toLowerCase()),Array.isArray(r)&&(i=r[0],a=r[1])),Array.isArray(t)&&(i=t[0]*dt,a=t[1]*dt),isNaN(i)&&(i=s[0],a=s[1]),(i>14400||a>14400)&&(LA.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),i=Math.min(14400,i),a=Math.min(14400,a)),s=[i,a],n.substr(0,1)){case"l":a>i&&(s=[a,i]);break;case"p":i>a&&(s=[a,i])}se(s),Be(Re),Q(Ge),0!==Ze&&Q(Ze+" J"),0!==tn&&Q(tn+" j"),Et.publish("addPage",{pageNumber:At})},ae=function(t){t>0&&t<=At&&(G.splice(t,1),Nt.splice(t,1),At--,B>At&&(B=At),this.setPage(B))},oe=function(t){t>0&&t<=At&&(B=t)},le=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return G.length-1},ce=function(t,e,n){var r,s=void 0;return n=n||{},t=void 0!==t?t:gt[ht].fontName,e=void 0!==e?e:gt[ht].fontStyle,r=t.toLowerCase(),void 0!==vt[r]&&void 0!==vt[r][e]?s=vt[r][e]:void 0!==vt[t]&&void 0!==vt[t][e]?s=vt[t][e]:!1===n.disableWarning&&LA.warn("Unable to look up font label for font '"+t+"', '"+e+"'. Refer to getFontList() for available fonts."),s||n.noFallback||null==(s=vt.times[e])&&(s=vt.times.normal),s},ue=f.__private__.putInfo=function(){var t=Ot(),e=function(t){return t};for(var n in null!==u&&(e=be.encryptor(t,0)),Q("<<"),Q("/Producer ("+re(e("jsPDF "+aN.version))+")"),ut)ut.hasOwnProperty(n)&&ut[n]&&Q("/"+n.substr(0,1).toUpperCase()+n.substr(1)+" ("+re(e(ut[n]))+")");Q("/CreationDate ("+re(e(P))+")"),Q(">>"),Q("endobj")},he=f.__private__.putCatalog=function(t){var e=(t=t||{}).rootDictionaryObjId||qt;switch(Ot(),Q("<<"),Q("/Type /Catalog"),Q("/Pages "+e+" 0 R"),nt||(nt="fullwidth"),nt){case"fullwidth":Q("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Q("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Q("/OpenAction [3 0 R /Fit]");break;case"original":Q("/OpenAction [3 0 R /XYZ null null 1]");break;default:var n=""+nt;"%"===n.substr(n.length-1)&&(nt=parseInt(nt)/100),"number"==typeof nt&&Q("/OpenAction [3 0 R /XYZ null null "+k(nt)+"]")}switch(ot||(ot="continuous"),ot){case"continuous":Q("/PageLayout /OneColumn");break;case"single":Q("/PageLayout /SinglePage");break;case"two":case"twoleft":Q("/PageLayout /TwoColumnLeft");break;case"tworight":Q("/PageLayout /TwoColumnRight")}it&&Q("/PageMode /"+it),Et.publish("putCatalog"),Q(">>"),Q("endobj")},de=f.__private__.putTrailer=function(){Q("trailer"),Q("<<"),Q("/Size "+(V+1)),Q("/Root "+V+" 0 R"),Q("/Info "+(V-1)+" 0 R"),null!==u&&Q("/Encrypt "+be.oid+" 0 R"),Q("/ID [ <"+I+"> <"+I+"> ]"),Q(">>")},fe=f.__private__.putHeader=function(){Q("%PDF-"+p),Q("%")},pe=f.__private__.putXRef=function(){var t="0000000000";Q("xref"),Q("0 "+(V+1)),Q("0000000000 65535 f ");for(var e=1;e<=V;e++)"function"==typeof z[e]?Q((t+z[e]()).slice(-10)+" 00000 n "):void 0!==z[e]?Q((t+z[e]).slice(-10)+" 00000 n "):Q("0000000000 00000 n ")},me=f.__private__.buildDocument=function(){V=0,$=0,H=[],z=[],W=[],qt=Rt(),Ut=Rt(),X(H),Et.publish("buildDocument"),fe(),Gt(),function(){Et.publish("putAdditionalObjects");for(var t=0;t<W.length;t++){var e=W[t];jt(e.objId,!0),Q(e.content),Q("endobj")}Et.publish("postPutAdditionalObjects")}(),te(),null!==u&&(be.oid=Ot(),Q("<<"),Q("/Filter /Standard"),Q("/V "+be.v),Q("/R "+be.r),Q("/U <"+be.toHexString(be.U)+">"),Q("/O <"+be.toHexString(be.O)+">"),Q("/P "+be.P),Q(">>"),Q("endobj")),ue(),he();var t=$;return pe(),de(),Q("startxref"),Q(""+t),Q("%%EOF"),X(G[B]),H.join("\n")},ge=f.__private__.getBlob=function(t){return new Blob([Z(t)],{type:"application/pdf"})},ve=f.output=f.__private__.output=((Mt=function(t,e){switch("string"==typeof(e=e||{})?e={filename:e}:e.filename=e.filename||"generated.pdf",t){case void 0:return me();case"save":f.save(e.filename);break;case"arraybuffer":return Z(me());case"blob":return ge(me());case"bloburi":case"bloburl":if(void 0!==kA.URL&&"function"==typeof kA.URL.createObjectURL)return kA.URL&&kA.URL.createObjectURL(ge(me()))||void 0;LA.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var n="",r=me();try{n=FA(r)}catch(p){n=FA(unescape(encodeURIComponent(r)))}return"data:application/pdf;filename="+e.filename+";base64,"+n;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(kA)){var s="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",i=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';e.pdfObjectUrl&&(s=e.pdfObjectUrl,i="");var a='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+s+'"'+i+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(e)+");<\/script></body></html>",o=kA.open();return null!==o&&o.document.write(a),o}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(kA)){var l='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(e.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+e.filename+'" width="500px" height="400px" /></body></html>',c=kA.open();if(null!==c){c.document.write(l);var u=this;c.document.documentElement.querySelector("#pdfViewer").onload=function(){c.document.title=e.filename,c.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(u.output("bloburl"))}}return c}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(kA))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var h='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",e)+'"></iframe></body></html>',d=kA.open();if(null!==d&&(d.document.write(h),d.document.title=e.filename),d||"undefined"==typeof safari)return d;break;case"datauri":case"dataurl":return kA.document.location.href=this.output("datauristring",e);default:return null}}).foo=function(){try{return Mt.apply(this,arguments)}catch(n){var t=n.stack||"";~t.indexOf(" at ")&&(t=t.split(" at ")[1]);var e="Error in function "+t.split("\n")[0].split("<")[0]+": "+n.message;if(!kA.console)throw new Error(e);kA.console.error(e,n),kA.alert&&alert(e)}},Mt.foo.bar=Mt,Mt.foo),ye=function(t){return!0===Array.isArray(kt)&&kt.indexOf(t)>-1};switch(r){case"pt":dt=1;break;case"mm":dt=72/25.4;break;case"cm":dt=72/2.54;break;case"in":dt=72;break;case"px":dt=1==ye("px_scaling")?.75:96/72;break;case"pc":case"em":dt=12;break;case"ex":dt=6;break;default:if("number"!=typeof r)throw new Error("Invalid unit: "+r);dt=r}var be=null;R(),F();var we=f.__private__.getPageInfo=f.getPageInfo=function(t){if(isNaN(t)||t%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Nt[t].objId,pageNumber:t,pageContext:Nt[t]}},xe=f.__private__.getPageInfoByObjId=function(t){if(isNaN(t)||t%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var e in Nt)if(Nt[e].objId===t)break;return we(e)},Se=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:Nt[B].objId,pageNumber:B,pageContext:Nt[B]}};f.addPage=function(){return ie.apply(this,arguments),this},f.setPage=function(){return oe.apply(this,arguments),X.call(this,G[B]),this},f.insertPage=function(t){return this.addPage(),this.movePage(B,t),this},f.movePage=function(t,e){var n,r;if(t>e){n=G[t],r=Nt[t];for(var s=t;s>e;s--)G[s]=G[s-1],Nt[s]=Nt[s-1];G[e]=n,Nt[e]=r,this.setPage(e)}else if(t<e){n=G[t],r=Nt[t];for(var i=t;i<e;i++)G[i]=G[i+1],Nt[i]=Nt[i+1];G[e]=n,Nt[e]=r,this.setPage(e)}return this},f.deletePage=function(){return ae.apply(this,arguments),this},f.__private__.text=f.text=function(t,e,n,r,s){var i,a,o,l,c,u,h,f,p,m=(r=r||{}).scope||this;if("number"==typeof t&&"number"==typeof e&&("string"==typeof n||Array.isArray(n))){var g=n;n=e,e=t,t=g}if(arguments[3]instanceof Pt==0?(o=arguments[4],l=arguments[5],"object"===F_(h=arguments[3])&&null!==h||("string"==typeof o&&(l=o,o=null),"string"==typeof h&&(l=h,h=null),"number"==typeof h&&(o=h,h=null),r={flags:h,angle:o,align:l})):(N("The transform parameter of text() with a Matrix value"),p=s),isNaN(e)||isNaN(n)||null==t)throw new Error("Invalid arguments passed to jsPDF.text");if(0===t.length)return m;var v,y="",x="number"==typeof r.lineHeightFactor?r.lineHeightFactor:Oe,S=m.internal.scaleFactor;function _(t){return t=t.split("\t").join(Array(r.TabLen||9).join(" ")),re(t,h)}function E(t){for(var e,n=t.concat(),r=[],s=n.length;s--;)"string"==typeof(e=n.shift())?r.push(e):Array.isArray(t)&&(1===e.length||void 0===e[1]&&void 0===e[2])?r.push(e[0]):r.push([e[0],e[1],e[2]]);return r}function k(t,e){var n;if("string"==typeof t)n=e(t)[0];else if(Array.isArray(t)){for(var r,s,i=t.concat(),a=[],o=i.length;o--;)"string"==typeof(r=i.shift())?a.push(e(r)[0]):Array.isArray(r)&&"string"==typeof r[0]&&(s=e(r[0],r[1],r[2]),a.push([s[0],s[1],s[2]]));n=a}return n}var C=!1,T=!0;if("string"==typeof t)C=!0;else if(Array.isArray(t)){var P=t.concat();a=[];for(var I,D=P.length;D--;)("string"!=typeof(I=P.shift())||Array.isArray(I)&&"string"!=typeof I[0])&&(T=!1);C=T}if(!1===C)throw new Error('Type of text must be string or Array. "'+t+'" is not recognized.');"string"==typeof t&&(t=t.match(/[\r?\n]/)?t.split(/\r\n|\r|\n/g):[t]);var F=et/m.internal.scaleFactor,M=F*(x-1);switch(r.baseline){case"bottom":n-=M;break;case"top":n+=F-M;break;case"hanging":n+=F-2*M;break;case"middle":n+=F/2-M}if((u=r.maxWidth||0)>0&&("string"==typeof t?t=m.splitTextToSize(t,u):"[object Array]"===Object.prototype.toString.call(t)&&(t=t.reduce(function(t,e){return t.concat(m.splitTextToSize(e,u))},[]))),i={text:t,x:e,y:n,options:r,mutex:{pdfEscape:re,activeFontKey:ht,fonts:gt,activeFontSize:et}},Et.publish("preProcessText",i),t=i.text,o=(r=i.options).angle,p instanceof Pt==0&&o&&"number"==typeof o){o*=Math.PI/180,0===r.rotationDirection&&(o=-o),w===b&&(o=-o);var O=Math.cos(o),R=Math.sin(o);p=new Pt(O,R,-R,O,0,0)}else o&&o instanceof Pt&&(p=o);w!==b||p||(p=Dt),void 0!==(c=r.charSpace||Qe)&&(y+=A(L(c))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(f=r.horizontalScale)&&(y+=A(100*f)+" Tz\n"),r.lang;var j=-1,B=void 0!==r.renderingMode?r.renderingMode:r.stroke,q=m.internal.getCurrentPageInfo().pageContext;switch(B){case 0:case!1:case"fill":j=0;break;case 1:case!0:case"stroke":j=1;break;case 2:case"fillThenStroke":j=2;break;case 3:case"invisible":j=3;break;case 4:case"fillAndAddForClipping":j=4;break;case 5:case"strokeAndAddPathForClipping":j=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":j=6;break;case 7:case"addToPathForClipping":j=7}var U=void 0!==q.usedRenderingMode?q.usedRenderingMode:-1;-1!==j?y+=j+" Tr\n":-1!==U&&(y+="0 Tr\n"),-1!==j&&(q.usedRenderingMode=j),l=r.align||"left";var V,z=et*x,H=m.internal.pageSize.getWidth(),$=gt[ht];c=r.charSpace||Qe,u=r.maxWidth||0,h=Object.assign({autoencode:!0,noBOM:!0},r.flags);var W=[],G=function(t){return m.getStringUnitWidth(t,{font:$,charSpace:c,fontSize:et,doKerning:!1})*et/S};if("[object Array]"===Object.prototype.toString.call(t)){var K;a=E(t),"left"!==l&&(V=a.map(G));var Y,X=0;if("right"===l){e-=V[0],t=[],D=a.length;for(var J=0;J<D;J++)0===J?(Y=ze(e),K=He(n)):(Y=L(X-V[J]),K=-z),t.push([a[J],Y,K]),X=V[J]}else if("center"===l){e-=V[0]/2,t=[],D=a.length;for(var Z=0;Z<D;Z++)0===Z?(Y=ze(e),K=He(n)):(Y=L((X-V[Z])/2),K=-z),t.push([a[Z],Y,K]),X=V[Z]}else if("left"===l){t=[],D=a.length;for(var tt=0;tt<D;tt++)t.push(a[tt])}else if("justify"===l&&"Identity-H"===$.encoding){t=[],D=a.length,u=0!==u?u:H;for(var nt=0,rt=0;rt<D;rt++)if(K=0===rt?He(n):-z,Y=0===rt?ze(e):nt,rt<D-1){var it=L((u-V[rt])/(a[rt].split(" ").length-1)),at=a[rt].split(" ");t.push([at[0]+" ",Y,K]),nt=0;for(var ot=1;ot<at.length;ot++){var lt=(G(at[ot-1]+" "+at[ot])-G(at[ot]))*S+it;ot==at.length-1?t.push([at[ot],lt,0]):t.push([at[ot]+" ",lt,0]),nt-=lt}}else t.push([a[rt],Y,K]);t.push(["",nt,0])}else{if("justify"!==l)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(t=[],D=a.length,u=0!==u?u:H,rt=0;rt<D;rt++)K=0===rt?He(n):-z,Y=0===rt?ze(e):0,rt<D-1?W.push(A(L((u-V[rt])/(a[rt].split(" ").length-1)))):W.push(0),t.push([a[rt],Y,K])}}!0===("boolean"==typeof r.R2L?r.R2L:st)&&(t=k(t,function(t,e,n){return[t.split("").reverse().join(""),e,n]})),i={text:t,x:e,y:n,options:r,mutex:{pdfEscape:re,activeFontKey:ht,fonts:gt,activeFontSize:et}},Et.publish("postProcessText",i),t=i.text,v=i.mutex.isHex||!1;var ct=gt[ht].encoding;"WinAnsiEncoding"!==ct&&"StandardEncoding"!==ct||(t=k(t,function(t,e,n){return[_(t),e,n]})),a=E(t),t=[];for(var ut,dt,ft,pt=Array.isArray(a[0])?1:0,mt="",vt=function(t,e,n){var s="";return n instanceof Pt?(n="number"==typeof r.angle?It(n,new Pt(1,0,0,1,t,e)):It(new Pt(1,0,0,1,t,e),n),w===b&&(n=It(new Pt(1,0,0,-1,0,0),n)),s=n.join(" ")+" Tm\n"):s=A(t)+" "+A(e)+" Td\n",s},yt=0;yt<a.length;yt++){switch(mt="",pt){case 1:ft=(v?"<":"(")+a[yt][0]+(v?">":")"),ut=parseFloat(a[yt][1]),dt=parseFloat(a[yt][2]);break;case 0:ft=(v?"<":"(")+a[yt]+(v?">":")"),ut=ze(e),dt=He(n)}void 0!==W&&void 0!==W[yt]&&(mt=W[yt]+" Tw\n"),0===yt?t.push(mt+vt(ut,dt,p)+ft):0===pt?t.push(mt+ft):1===pt&&t.push(mt+vt(ut,dt,p)+ft)}t=0===pt?t.join(" Tj\nT* "):t.join(" Tj\n"),t+=" Tj\n";var bt="BT\n/";return bt+=ht+" "+et+" Tf\n",bt+=A(et*x)+" TL\n",bt+=Ye+"\n",bt+=y,bt+=t,Q(bt+="ET"),d[ht]=!0,m};var _e=f.__private__.clip=f.clip=function(t){return Q("evenodd"===t?"W*":"W"),this};f.clipEvenOdd=function(){return _e("evenodd")},f.__private__.discardPath=f.discardPath=function(){return Q("n"),this};var Ae=f.__private__.isValidStyle=function(t){var e=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(t)&&(e=!0),e};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(t){return Ae(t)&&(c=t),this};var Ne=f.__private__.getStyle=f.getStyle=function(t){var e=c;switch(t){case"D":case"S":e="S";break;case"F":e="f";break;case"FD":case"DF":e="B";break;case"f":case"f*":case"B":case"B*":e=t}return e},Ee=f.close=function(){return Q("h"),this};f.stroke=function(){return Q("S"),this},f.fill=function(t){return ke("f",t),this},f.fillEvenOdd=function(t){return ke("f*",t),this},f.fillStroke=function(t){return ke("B",t),this},f.fillStrokeEvenOdd=function(t){return ke("B*",t),this};var ke=function(t,e){"object"===F_(e)?Te(e,t):Q(t)},Ce=function(t){null===t||w===b&&void 0===t||(t=Ne(t),Q(t))};function Le(t,e,n,r,s){var i=new iN(e||this.boundingBox,n||this.xStep,r||this.yStep,this.gState,s||this.matrix);i.stream=this.stream;var a=t+"$$"+this.cloneIndex+++"$$";return Ft(a,i),i}var Te=function(t,e){var n=wt[t.key],r=bt[n];if(r instanceof sN)Q("q"),Q(Pe(e)),r.gState&&f.setGState(r.gState),Q(t.matrix.toString()+" cm"),Q("/"+n+" sh"),Q("Q");else if(r instanceof iN){var s=new Pt(1,0,0,-1,0,un());t.matrix&&(s=s.multiply(t.matrix||Dt),n=Le.call(r,t.key,t.boundingBox,t.xStep,t.yStep,s).id),Q("q"),Q("/Pattern cs"),Q("/"+n+" scn"),r.gState&&f.setGState(r.gState),Q(e),Q("Q")}},Pe=function(t){switch(t){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Ie=f.moveTo=function(t,e){return Q(A(L(t))+" "+A(T(e))+" m"),this},De=f.lineTo=function(t,e){return Q(A(L(t))+" "+A(T(e))+" l"),this},Fe=f.curveTo=function(t,e,n,r,s,i){return Q([A(L(t)),A(T(e)),A(L(n)),A(T(r)),A(L(s)),A(T(i)),"c"].join(" ")),this};f.__private__.line=f.line=function(t,e,n,r,s){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||!Ae(s))throw new Error("Invalid arguments passed to jsPDF.line");return w===y?this.lines([[n-t,r-e]],t,e,[1,1],s||"S"):this.lines([[n-t,r-e]],t,e,[1,1]).stroke()},f.__private__.lines=f.lines=function(t,e,n,r,s,i){var a,o,l,c,u,h,d,f,p,m,g,v;if("number"==typeof t&&(v=n,n=e,e=t,t=v),r=r||[1,1],i=i||!1,isNaN(e)||isNaN(n)||!Array.isArray(t)||!Array.isArray(r)||!Ae(s)||"boolean"!=typeof i)throw new Error("Invalid arguments passed to jsPDF.lines");for(Ie(e,n),a=r[0],o=r[1],c=t.length,m=e,g=n,l=0;l<c;l++)2===(u=t[l]).length?(m=u[0]*a+m,g=u[1]*o+g,De(m,g)):(h=u[0]*a+m,d=u[1]*o+g,f=u[2]*a+m,p=u[3]*o+g,m=u[4]*a+m,g=u[5]*o+g,Fe(h,d,f,p,m,g));return i&&Ee(),Ce(s),this},f.path=function(t){for(var e=0;e<t.length;e++){var n=t[e],r=n.c;switch(n.op){case"m":Ie(r[0],r[1]);break;case"l":De(r[0],r[1]);break;case"c":Fe.apply(this,r);break;case"h":Ee()}}return this},f.__private__.rect=f.rect=function(t,e,n,r,s){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||!Ae(s))throw new Error("Invalid arguments passed to jsPDF.rect");return w===y&&(r=-r),Q([A(L(t)),A(T(e)),A(L(n)),A(L(r)),"re"].join(" ")),Ce(s),this},f.__private__.triangle=f.triangle=function(t,e,n,r,s,i,a){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||isNaN(s)||isNaN(i)||!Ae(a))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[n-t,r-e],[s-n,i-r],[t-s,e-i]],t,e,[1,1],a,!0),this},f.__private__.roundedRect=f.roundedRect=function(t,e,n,r,s,i,a){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||isNaN(s)||isNaN(i)||!Ae(a))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var o=4/3*(Math.SQRT2-1);return s=Math.min(s,.5*n),i=Math.min(i,.5*r),this.lines([[n-2*s,0],[s*o,0,s,i-i*o,s,i],[0,r-2*i],[0,i*o,-s*o,i,-s,i],[2*s-n,0],[-s*o,0,-s,-i*o,-s,-i],[0,2*i-r],[0,-i*o,s*o,-i,s,-i]],t+s,e,[1,1],a,!0),this},f.__private__.ellipse=f.ellipse=function(t,e,n,r,s){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||!Ae(s))throw new Error("Invalid arguments passed to jsPDF.ellipse");var i=4/3*(Math.SQRT2-1)*n,a=4/3*(Math.SQRT2-1)*r;return Ie(t+n,e),Fe(t+n,e-a,t+i,e-r,t,e-r),Fe(t-i,e-r,t-n,e-a,t-n,e),Fe(t-n,e+a,t-i,e+r,t,e+r),Fe(t+i,e+r,t+n,e+a,t+n,e),Ce(s),this},f.__private__.circle=f.circle=function(t,e,n,r){if(isNaN(t)||isNaN(e)||isNaN(n)||!Ae(r))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(t,e,n,n,r)},f.setFont=function(t,e,n){return n&&(e=_(e,n)),ht=ce(t,e,{disableWarning:!1}),this};var Me=f.__private__.getFont=f.getFont=function(){return gt[ce.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var t,e,n={};for(t in vt)if(vt.hasOwnProperty(t))for(e in n[t]=[],vt[t])vt[t].hasOwnProperty(e)&&n[t].push(e);return n},f.addFont=function(t,e,n,r,s){var i=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==i.indexOf(arguments[3])?s=arguments[3]:arguments[3]&&-1==i.indexOf(arguments[3])&&(n=_(n,r)),ne.call(this,t,e,n,s=s||"Identity-H")};var Oe,Re=t.lineWidth||.200025,je=f.__private__.getLineWidth=f.getLineWidth=function(){return Re},Be=f.__private__.setLineWidth=f.setLineWidth=function(t){return Re=t,Q(A(L(t))+" w"),this};f.__private__.setLineDash=aN.API.setLineDash=aN.API.setLineDashPattern=function(t,e){if(t=t||[],e=e||0,isNaN(e)||!Array.isArray(t))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return t=t.map(function(t){return A(L(t))}).join(" "),e=A(L(e)),Q("["+t+"] "+e+" d"),this};var qe=f.__private__.getLineHeight=f.getLineHeight=function(){return et*Oe};f.__private__.getLineHeight=f.getLineHeight=function(){return et*Oe};var Ue=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(t){return"number"==typeof(t=t||1.15)&&(Oe=t),this},Ve=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return Oe};Ue(t.lineHeight);var ze=f.__private__.getHorizontalCoordinate=function(t){return L(t)},He=f.__private__.getVerticalCoordinate=function(t){return w===b?t:Nt[B].mediaBox.topRightY-Nt[B].mediaBox.bottomLeftY-L(t)},$e=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(t){return A(ze(t))},We=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(t){return A(He(t))},Ge=t.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return Vt(Ge)},f.__private__.setStrokeColor=f.setDrawColor=function(t,e,n,r){return Ge=zt({ch1:t,ch2:e,ch3:n,ch4:r,pdfColorType:"draw",precision:2}),Q(Ge),this};var Ke=t.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return Vt(Ke)},f.__private__.setFillColor=f.setFillColor=function(t,e,n,r){return Ke=zt({ch1:t,ch2:e,ch3:n,ch4:r,pdfColorType:"fill",precision:2}),Q(Ke),this};var Ye=t.textColor||"0 g",Xe=f.__private__.getTextColor=f.getTextColor=function(){return Vt(Ye)};f.__private__.setTextColor=f.setTextColor=function(t,e,n,r){return Ye=zt({ch1:t,ch2:e,ch3:n,ch4:r,pdfColorType:"text",precision:3}),this};var Qe=t.charSpace,Je=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(Qe||0)};f.__private__.setCharSpace=f.setCharSpace=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Qe=t,this};var Ze=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(t){var e=f.CapJoinStyles[t];if(void 0===e)throw new Error("Line cap style of '"+t+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ze=e,Q(e+" J"),this};var tn=0;f.__private__.setLineJoin=f.setLineJoin=function(t){var e=f.CapJoinStyles[t];if(void 0===e)throw new Error("Line join style of '"+t+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return tn=e,Q(e+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(t){if(t=t||0,isNaN(t))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Q(A(L(t))+" M"),this},f.GState=nN,f.setGState=function(t){(t="string"==typeof t?xt[St[t]]:en(null,t)).equals(_t)||(Q("/"+t.id+" gs"),_t=t)};var en=function(t,e){if(!t||!St[t]){var n=!1;for(var r in xt)if(xt.hasOwnProperty(r)&&xt[r].equals(e)){n=!0;break}if(n)e=xt[r];else{var s="GS"+(Object.keys(xt).length+1).toString(10);xt[s]=e,e.id=s}return t&&(St[t]=e.id),Et.publish("addGState",e),e}};f.addGState=function(t,e){return en(t,e),this},f.saveGraphicsState=function(){return Q("q"),yt.push({key:ht,size:et,color:Ye}),this},f.restoreGraphicsState=function(){Q("Q");var t=yt.pop();return ht=t.key,et=t.size,Ye=t.color,_t=null,this},f.setCurrentTransformationMatrix=function(t){return Q(t.toString()+" cm"),this},f.comment=function(t){return Q("#"+t),this};var nn=function(t,e){var n=t||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return n},set:function(t){isNaN(t)||(n=parseFloat(t))}});var r=e||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return r},set:function(t){isNaN(t)||(r=parseFloat(t))}});var s="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return s},set:function(t){s=t.toString()}}),this},rn=function(t,e,n,r){nn.call(this,t,e),this.type="rect";var s=n||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return s},set:function(t){isNaN(t)||(s=parseFloat(t))}});var i=r||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return i},set:function(t){isNaN(t)||(i=parseFloat(t))}}),this},sn=function(){this.page=At,this.currentPage=B,this.pages=G.slice(0),this.pagesContext=Nt.slice(0),this.x=ft,this.y=pt,this.matrix=mt,this.width=ln(B),this.height=un(B),this.outputDestination=Y,this.id="",this.objectNumber=-1};sn.prototype.restore=function(){At=this.page,B=this.currentPage,Nt=this.pagesContext,G=this.pages,ft=this.x,pt=this.y,mt=this.matrix,cn(B,this.width),hn(B,this.height),Y=this.outputDestination};var an=function(t,e,n,r,s){Tt.push(new sn),At=B=0,G=[],ft=t,pt=e,mt=s,se([n,r])};for(var on in f.beginFormObject=function(t,e,n,r,s){return an(t,e,n,r,s),this},f.endFormObject=function(t){return function(t){if(Lt[t])Tt.pop().restore();else{var e=new sn,n="Xo"+(Object.keys(Ct).length+1).toString(10);e.id=n,Lt[t]=n,Ct[n]=e,Et.publish("addFormObject",e),Tt.pop().restore()}}(t),this},f.doFormObject=function(t,e){var n=Ct[Lt[t]];return Q("q"),Q(e.toString()+" cm"),Q("/"+n.id+" Do"),Q("Q"),this},f.getFormObject=function(t){var e=Ct[Lt[t]];return{x:e.x,y:e.y,width:e.width,height:e.height,matrix:e.matrix}},f.save=function(t,e){return t=t||"generated.pdf",(e=e||{}).returnPromise=e.returnPromise||!1,!1===e.returnPromise?(MA(ge(me()),t),"function"==typeof MA.unload&&kA.setTimeout&&setTimeout(MA.unload,911),this):new Promise(function(e,n){try{var r=MA(ge(me()),t);"function"==typeof MA.unload&&kA.setTimeout&&setTimeout(MA.unload,911),e(r)}catch(s){n(s.message)}})},aN.API)aN.API.hasOwnProperty(on)&&("events"===on&&aN.API.events.length?function(t,e){var n,r,s;for(s=e.length-1;-1!==s;s--)n=e[s][0],r=e[s][1],t.subscribe.apply(t,[n].concat("function"==typeof r?[r]:r))}(Et,aN.API.events):f[on]=aN.API[on]);var ln=f.getPageWidth=function(t){return(Nt[t=t||B].mediaBox.topRightX-Nt[t].mediaBox.bottomLeftX)/dt},cn=f.setPageWidth=function(t,e){Nt[t].mediaBox.topRightX=e*dt+Nt[t].mediaBox.bottomLeftX},un=f.getPageHeight=function(t){return(Nt[t=t||B].mediaBox.topRightY-Nt[t].mediaBox.bottomLeftY)/dt},hn=f.setPageHeight=function(t,e){Nt[t].mediaBox.topRightY=e*dt+Nt[t].mediaBox.bottomLeftY};return f.internal={pdfEscape:re,getStyle:Ne,getFont:Me,getFontSize:rt,getCharSpace:Je,getTextColor:Xe,getLineHeight:qe,getLineHeightFactor:Ve,getLineWidth:je,write:J,getHorizontalCoordinate:ze,getVerticalCoordinate:He,getCoordinateString:$e,getVerticalCoordinateString:We,collections:{},newObject:Ot,newAdditionalObject:Bt,newObjectDeferred:Rt,newObjectDeferredBegin:jt,getFilters:Ht,putStream:$t,events:Et,scaleFactor:dt,pageSize:{getWidth:function(){return ln(B)},setWidth:function(t){cn(B,t)},getHeight:function(){return un(B)},setHeight:function(t){hn(B,t)}},encryptionOptions:u,encryption:be,getEncryptor:function(t){return null!==u?be.encryptor(t,0):function(t){return t}},output:ve,getNumberOfPages:le,pages:G,out:Q,f2:k,f3:C,getPageInfo:we,getPageInfoByObjId:xe,getCurrentPageInfo:Se,getPDFVersion:m,Point:nn,Rectangle:rn,Matrix:Pt,hasHotfix:ye},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return ln(B)},set:function(t){cn(B,t)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return un(B)},set:function(t){hn(B,t)},enumerable:!0,configurable:!0}),function(t){for(var e=0,n=tt.length;e<n;e++){var r=ne.call(this,t[e][0],t[e][1],t[e][2],tt[e][3],!0);!1===h&&(d[r]=!0);var s=t[e][0].split("-");ee({id:r,fontName:s[0],fontStyle:s[1]||""})}Et.publish("addFonts",{fonts:gt,dictionary:vt})}.call(f,tt),ht="F1",ie(s,n),Et.publish("initialized"),f}ZA.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},ZA.prototype.toHexString=function(t){return t.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ZA.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},ZA.prototype.processOwnerPassword=function(t,e){return QA(KA(e).substr(0,5),t)},ZA.prototype.encryptor=function(t,e){var n=KA(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(t){return QA(n,t)}},nN.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||F_(t)!==F_(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e))return!1;if(this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return 0===r},aN.API={events:[]},aN.version="2.5.2";var oN=aN.API,lN=1,cN=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},uN=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},hN=function(t){return t.toFixed(2)},dN=function(t){return t.toFixed(5)};oN.__acroform__={};var fN=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},pN=function(t){return t*lN},mN=function(t){var e=new IN,n=WN.internal.getHeight(t)||0,r=WN.internal.getWidth(t)||0;return e.BBox=[0,0,Number(hN(r)),Number(hN(n))],e},gN=oN.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},vN=oN.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},yN=oN.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},bN=oN.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return yN(t,e-1)},wN=oN.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return gN(t,e-1)},xN=oN.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return vN(t,e-1)},SN=oN.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,s=t[0],i=t[1],a=t[2],o=t[3],l={};return l.lowerLeft_X=n(s)||0,l.lowerLeft_Y=r(i+o)||0,l.upperRight_X=n(s+a)||0,l.upperRight_Y=r(i)||0,[Number(hN(l.lowerLeft_X)),Number(hN(l.lowerLeft_Y)),Number(hN(l.upperRight_X)),Number(hN(l.upperRight_Y))]},_N=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=AN(t,n),s=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+s+" "+hN(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=mN(t);return i.scope=t.scope,i.stream=e.join("\n"),i}},AN=function(t,e){var n=0===t.fontSize?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},s=(e=")"==(e="("==e.substr(0,1)?e.substr(1):e).substr(e.length-1)?e.substr(0,e.length-1):e).split(" ");s=t.multiline?s.map(function(t){return t.split("\n")}):s.map(function(t){return[t]});var i=n,a=WN.internal.getHeight(t)||0;a=a<0?-a:a;var o=WN.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(e,n,r){if(e+1<s.length){var i=n+" "+s[e+1][0];return NN(i,t,r).width<=o-4}return!1};i++;t:for(;i>0;){e="",i--;var c,u,h=NN("3",t,i).height,d=t.multiline?a-i:(a-h)/2,f=d+=2,p=0,m=0,g=0;if(i<=0){e="(...) Tj\n",e+="% Width of Text: "+NN(e,t,i=12).width+", FieldWidth:"+o+"\n";break}for(var v="",y=0,b=0;b<s.length;b++)if(s.hasOwnProperty(b)){var w=!1;if(1!==s[b].length&&g!==s[b].length-1){if((h+2)*(y+2)+2>a)continue t;v+=s[b][g],w=!0,m=b,b--}else{v=" "==(v+=s[b][g]+" ").substr(v.length-1)?v.substr(0,v.length-1):v;var x=parseInt(b),S=l(x,v,i),_=b>=s.length-1;if(S&&!_){v+=" ",g=0;continue}if(S||_){if(_)m=x;else if(t.multiline&&(h+2)*(y+2)+2>a)continue t}else{if(!t.multiline)continue t;if((h+2)*(y+2)+2>a)continue t;m=x}}for(var A="",N=p;N<=m;N++){var E=s[N];if(t.multiline){if(N===m){A+=E[g]+" ",g=(g+1)%E.length;continue}if(N===p){A+=E[E.length-1]+" ";continue}}A+=E[0]+" "}switch(A=" "==A.substr(A.length-1)?A.substr(0,A.length-1):A,u=NN(A,t,i).width,t.textAlign){case"right":c=o-u-2;break;case"center":c=(o-u)/2;break;default:c=2}e+=hN(c)+" "+hN(f)+" Td\n",e+="("+cN(A)+") Tj\n",e+=-hN(c)+" 0 Td\n",f=-(i+2),u=0,p=w?m:m+1,y++,v=""}break}return r.text=e,r.fontSize=i,r},NN=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:s}},EN={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},kN=function(t,e){var n={type:"reference",object:t};void 0===e.internal.getPageInfo(t.page).pageContext.annotations.find(function(t){return t.type===n.type&&t.object===n.object})&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},CN=function(t,e){if(e.scope=t,void 0!==t.internal&&(void 0===t.internal.acroformPlugin||!1===t.internal.acroformPlugin.isInitialized)){if(FN.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(EN)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");lN=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new DN,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){var e;(e=t).internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0}),t.internal.events.subscribe("buildDocument",function(){!function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var e=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];r.objId=void 0,r.hasAnnotation&&kN(r,t)}}(t)}),t.internal.events.subscribe("putCatalog",function(){!function(t){if(void 0===t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(t)}),t.internal.events.subscribe("postPutPages",function(e){!function(t,e){var n=!t;for(var r in t||(e.internal.newObjectDeferredBegin(e.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),e.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),t=t||e.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(t.hasOwnProperty(r)){var s=t[r],i=[],a=s.Rect;if(s.Rect&&(s.Rect=SN(s.Rect,e)),e.internal.newObjectDeferredBegin(s.objId,!0),s.DA=WN.createDefaultAppearanceStream(s),"object"===F_(s)&&"function"==typeof s.getKeyValueListForStream&&(i=s.getKeyValueListForStream()),s.Rect=a,s.hasAppearanceStream&&!s.appearanceStreamContent){var o=_N(s);i.push({key:"AP",value:"<</N "+o+">>"}),e.internal.acroformPlugin.xForms.push(o)}if(s.appearanceStreamContent){var l="";for(var c in s.appearanceStreamContent)if(s.appearanceStreamContent.hasOwnProperty(c)){var u=s.appearanceStreamContent[c];if(l+="/"+c+" ",l+="<<",Object.keys(u).length>=1||Array.isArray(u)){for(var r in u)if(u.hasOwnProperty(r)){var h=u[r];"function"==typeof h&&(h=h.call(e,s)),l+="/"+r+" "+h+" ",e.internal.acroformPlugin.xForms.indexOf(h)>=0||e.internal.acroformPlugin.xForms.push(h)}}else"function"==typeof(h=u)&&(h=h.call(e,s)),l+="/"+r+" "+h,e.internal.acroformPlugin.xForms.indexOf(h)>=0||e.internal.acroformPlugin.xForms.push(h);l+=">>"}i.push({key:"AP",value:"<<\n"+l+">>"})}e.internal.putStream({additionalKeyValues:i,objectId:s.objId}),e.internal.out("endobj")}n&&function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,s=t[n];e.internal.newObjectDeferredBegin(s.objId,!0),"object"===F_(s)&&"function"==typeof s.putStream&&s.putStream(),delete t[r]}}(e.internal.acroformPlugin.xForms,e)}(e,t)}),t.internal.acroformPlugin.isInitialized=!0}},LN=oN.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(t){return t};if(Array.isArray(t)){for(var s="[",i=0;i<t.length;i++)switch(0!==i&&(s+=" "),F_(t[i])){case"boolean":case"number":case"object":s+=t[i].toString();break;case"string":"/"!==t[i].substr(0,1)?(void 0!==e&&n&&(r=n.internal.getEncryptor(e)),s+="("+cN(r(t[i].toString()))+")"):s+=t[i].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},TN=function(t,e,n){var r=function(t){return t};return void 0!==e&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+cN(r(t))+")"},PN=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};PN.prototype.toString=function(){return this.objId+" 0 R"},PN.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},PN.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(t){return"content"!=t&&"appearanceStreamContent"!=t&&"scope"!=t&&"objId"!=t&&"_"!=t.substring(0,1)});for(var n in e)if(!1===Object.getOwnPropertyDescriptor(this,e[n]).configurable){var r=e[n],s=this[r];s&&(Array.isArray(s)?t.push({key:r,value:LN(s,this.objId,this.scope)}):s instanceof PN?(s.scope=this.scope,t.push({key:r,value:s.objId+" 0 R"})):"function"!=typeof s&&t.push({key:r,value:s}))}return t};var IN=function(){PN.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){t=e.trim()},get:function(){return t||null}})};fN(IN,PN);var DN=function(){PN.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var e=function(t){return t};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+cN(e(t))+")"}},set:function(e){t=e}})};fN(DN,PN);var FN=function t(){PN.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){if(isNaN(t))throw new Error('Invalid value "'+t+'" for attribute F supplied.');e=t}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(bN(e,3))},set:function(t){!0===Boolean(t)?this.F=wN(e,3):this.F=xN(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){if(isNaN(t))throw new Error('Invalid value "'+t+'" for attribute Ff supplied.');n=t}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==r.length)return r},set:function(t){r=void 0!==t?t:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(t){r[0]=t}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(t){r[1]=t}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(t){r[2]=t}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(t){r[3]=t}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(t){switch(t){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=t;break;default:throw new Error('Invalid value "'+t+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof VN)return;i="FieldObject"+t.FieldNum++}var e=function(t){return t};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+cN(e(i))+")"},set:function(t){i=t.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(t){i=t}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(t){a=t}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(t){o=t}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(t){l=t}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===c?50/lN:c},set:function(t){c=t}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(t){u=t}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof VN||this instanceof HN))return TN(h,this.objId,this.scope)},set:function(t){t=t.toString(),h=t}});var d=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof BN==0?TN(d,this.objId,this.scope):d},set:function(t){t=t.toString(),d=this instanceof BN==0?"("===t.substr(0,1)?uN(t.substr(1,t.length-2)):uN(t):t}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof BN==1?uN(d.substr(1,d.length-1)):d},set:function(t){t=t.toString(),d=this instanceof BN==1?"/"+t:t}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(t){this.V=t}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof BN==0?TN(f,this.objId,this.scope):f},set:function(t){t=t.toString(),f=this instanceof BN==0?"("===t.substr(0,1)?uN(t.substr(1,t.length-2)):uN(t):t}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof BN==1?uN(f.substr(1,f.length-1)):f},set:function(t){t=t.toString(),f=this instanceof BN==1?"/"+t:t}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var p,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(t){t=Boolean(t),m=t}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(p)return p},set:function(t){p=t}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(bN(this.Ff,1))},set:function(t){!0===Boolean(t)?this.Ff=wN(this.Ff,1):this.Ff=xN(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(bN(this.Ff,2))},set:function(t){!0===Boolean(t)?this.Ff=wN(this.Ff,2):this.Ff=xN(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(bN(this.Ff,3))},set:function(t){!0===Boolean(t)?this.Ff=wN(this.Ff,3):this.Ff=xN(this.Ff,3)}});var g=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==g)return g},set:function(t){if(-1===[0,1,2].indexOf(t))throw new Error('Invalid value "'+t+'" for attribute Q supplied.');g=t}}),Object.defineProperty(this,"textAlign",{get:function(){var t;switch(g){case 0:default:t="left";break;case 1:t="center";break;case 2:t="right"}return t},configurable:!0,enumerable:!0,set:function(t){switch(t){case"right":case 2:g=2;break;case"center":case 1:g=1;break;default:g=0}}})};fN(FN,PN);var MN=function(){FN.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){t=e}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return LN(e,this.objId,this.scope)},set:function(t){var n,r;r=[],"string"==typeof(n=t)&&(r=function(t,e,n){n||(n=1);for(var r,s=[];r=e.exec(t);)s.push(r[n]);return s}(n,/\((.*?)\)/g)),e=r}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,n){for(n=n||!1,t=(t=t||"").toString();-1!==e.indexOf(t)&&(e.splice(e.indexOf(t),1),!1!==n););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(bN(this.Ff,18))},set:function(t){!0===Boolean(t)?this.Ff=wN(this.Ff,18):this.Ff=xN(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(bN(this.Ff,19))},set:function(t){!0===this.combo&&(!0===Boolean(t)?this.Ff=wN(this.Ff,19):this.Ff=xN(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(bN(this.Ff,20))},set:function(t){!0===Boolean(t)?(this.Ff=wN(this.Ff,20),e.sort()):this.Ff=xN(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(bN(this.Ff,22))},set:function(t){!0===Boolean(t)?this.Ff=wN(this.Ff,22):this.Ff=xN(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(bN(this.Ff,23))},set:function(t){!0===Boolean(t)?this.Ff=wN(this.Ff,23):this.Ff=xN(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(bN(this.Ff,27))},set:function(t){!0===Boolean(t)?this.Ff=wN(this.Ff,27):this.Ff=xN(this.Ff,27)}}),this.hasAppearanceStream=!1};fN(MN,FN);var ON=function(){MN.call(this),this.fontName="helvetica",this.combo=!1};fN(ON,MN);var RN=function(){ON.call(this),this.combo=!0};fN(RN,ON);var jN=function(){RN.call(this),this.edit=!0};fN(jN,RN);var BN=function(){FN.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(bN(this.Ff,15))},set:function(t){!0===Boolean(t)?this.Ff=wN(this.Ff,15):this.Ff=xN(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(bN(this.Ff,16))},set:function(t){!0===Boolean(t)?this.Ff=wN(this.Ff,16):this.Ff=xN(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(bN(this.Ff,17))},set:function(t){!0===Boolean(t)?this.Ff=wN(this.Ff,17):this.Ff=xN(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(bN(this.Ff,26))},set:function(t){!0===Boolean(t)?this.Ff=wN(this.Ff,26):this.Ff=xN(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(t){return t};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(e).length){var n,r=[];for(n in r.push("<<"),e)r.push("/"+n+" ("+cN(t(e[n]))+")");return r.push(">>"),r.join("\n")}},set:function(t){"object"===F_(t)&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){"string"==typeof t&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(e){t="/"+e}})};fN(BN,FN);var qN=function(){BN.call(this),this.pushButton=!0};fN(qN,BN);var UN=function(){BN.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=void 0!==e?e:[]}})};fN(UN,BN);var VN=function(){var t,e;FN.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(t){e=t}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(t){return t};this.scope&&(t=this.scope.internal.getEncryptor(this.objId));var e,n=[];for(e in n.push("<<"),r)n.push("/"+e+" ("+cN(t(r[e]))+")");return n.push(">>"),n.join("\n")},set:function(t){"object"===F_(t)&&(r=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(t){"string"==typeof t&&(r.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=WN.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};fN(VN,FN),UN.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},UN.prototype.createOption=function(t){var e=new VN;return e.Parent=this,e.optionName=t,this.Kids.push(e),GN.call(this.scope,e),e};var zN=function(){BN.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=WN.CheckBox.createAppearanceStream()};fN(zN,BN);var HN=function(){FN.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(bN(this.Ff,13))},set:function(t){!0===Boolean(t)?this.Ff=wN(this.Ff,13):this.Ff=xN(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(bN(this.Ff,21))},set:function(t){!0===Boolean(t)?this.Ff=wN(this.Ff,21):this.Ff=xN(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(bN(this.Ff,23))},set:function(t){!0===Boolean(t)?this.Ff=wN(this.Ff,23):this.Ff=xN(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(bN(this.Ff,24))},set:function(t){!0===Boolean(t)?this.Ff=wN(this.Ff,24):this.Ff=xN(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(bN(this.Ff,25))},set:function(t){!0===Boolean(t)?this.Ff=wN(this.Ff,25):this.Ff=xN(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(bN(this.Ff,26))},set:function(t){!0===Boolean(t)?this.Ff=wN(this.Ff,26):this.Ff=xN(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};fN(HN,FN);var $N=function(){HN.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(bN(this.Ff,14))},set:function(t){!0===Boolean(t)?this.Ff=wN(this.Ff,14):this.Ff=xN(this.Ff,14)}}),this.password=!0};fN($N,HN);var WN={CheckBox:{createAppearanceStream:function(){return{N:{On:WN.CheckBox.YesNormal},D:{On:WN.CheckBox.YesPushDown,Off:WN.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=mN(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,s=t.scope.__private__.encodeColorString(t.color),i=AN(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+hN(WN.internal.getWidth(t))+" "+hN(WN.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+hN(i.fontSize)+" Tf "+s),n.push("BT"),n.push(i.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join("\n"),e},YesNormal:function(t){var e=mN(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),s=[],i=WN.internal.getHeight(t),a=WN.internal.getWidth(t),o=AN(t,t.caption);return s.push("1 g"),s.push("0 0 "+hN(a)+" "+hN(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+hN(a-1)+" "+hN(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+n+" "+hN(o.fontSize)+" Tf "+r),s.push(o.text),s.push("ET"),s.push("Q"),e.stream=s.join("\n"),e},OffPushDown:function(t){var e=mN(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+hN(WN.internal.getWidth(t))+" "+hN(WN.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join("\n"),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:WN.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=WN.RadioButton.Circle.YesNormal,e.D[t]=WN.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=mN(t);e.scope=t.scope;var n=[],r=WN.internal.getWidth(t)<=WN.internal.getHeight(t)?WN.internal.getWidth(t)/4:WN.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var s=WN.internal.Bezier_C,i=Number((r*s).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+dN(WN.internal.getWidth(t)/2)+" "+dN(WN.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+i+" "+i+" "+r+" 0 "+r+" c"),n.push("-"+i+" "+r+" -"+r+" "+i+" -"+r+" 0 c"),n.push("-"+r+" -"+i+" -"+i+" -"+r+" 0 -"+r+" c"),n.push(i+" -"+r+" "+r+" -"+i+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join("\n"),e},YesPushDown:function(t){var e=mN(t);e.scope=t.scope;var n=[],r=WN.internal.getWidth(t)<=WN.internal.getHeight(t)?WN.internal.getWidth(t)/4:WN.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),i=Number((s*WN.internal.Bezier_C).toFixed(5)),a=Number((r*WN.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+dN(WN.internal.getWidth(t)/2)+" "+dN(WN.internal.getHeight(t)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),n.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),n.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),n.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+dN(WN.internal.getWidth(t)/2)+" "+dN(WN.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join("\n"),e},OffPushDown:function(t){var e=mN(t);e.scope=t.scope;var n=[],r=WN.internal.getWidth(t)<=WN.internal.getHeight(t)?WN.internal.getWidth(t)/4:WN.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),i=Number((s*WN.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+dN(WN.internal.getWidth(t)/2)+" "+dN(WN.internal.getHeight(t)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),n.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),n.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),n.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join("\n"),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:WN.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=WN.RadioButton.Cross.YesNormal,e.D[t]=WN.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=mN(t);e.scope=t.scope;var n=[],r=WN.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+hN(WN.internal.getWidth(t)-2)+" "+hN(WN.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(hN(r.x1.x)+" "+hN(r.x1.y)+" m"),n.push(hN(r.x2.x)+" "+hN(r.x2.y)+" l"),n.push(hN(r.x4.x)+" "+hN(r.x4.y)+" m"),n.push(hN(r.x3.x)+" "+hN(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join("\n"),e},YesPushDown:function(t){var e=mN(t);e.scope=t.scope;var n=WN.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+hN(WN.internal.getWidth(t))+" "+hN(WN.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+hN(WN.internal.getWidth(t)-2)+" "+hN(WN.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(hN(n.x1.x)+" "+hN(n.x1.y)+" m"),r.push(hN(n.x2.x)+" "+hN(n.x2.y)+" l"),r.push(hN(n.x4.x)+" "+hN(n.x4.y)+" m"),r.push(hN(n.x3.x)+" "+hN(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join("\n"),e},OffPushDown:function(t){var e=mN(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+hN(WN.internal.getWidth(t))+" "+hN(WN.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join("\n"),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};WN.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=WN.internal.getWidth(t),n=WN.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},WN.internal.getWidth=function(t){var e=0;return"object"===F_(t)&&(e=pN(t.Rect[2])),e},WN.internal.getHeight=function(t){var e=0;return"object"===F_(t)&&(e=pN(t.Rect[3])),e};var GN=oN.addField=function(t){if(CN(this,t),!(t instanceof FN))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};oN.AcroFormChoiceField=MN,oN.AcroFormListBox=ON,oN.AcroFormComboBox=RN,oN.AcroFormEditBox=jN,oN.AcroFormButton=BN,oN.AcroFormPushButton=qN,oN.AcroFormRadioButton=UN,oN.AcroFormCheckBox=zN,oN.AcroFormTextField=HN,oN.AcroFormPasswordField=$N,oN.AcroFormAppearance=WN,oN.AcroForm={ChoiceField:MN,ListBox:ON,ComboBox:RN,EditBox:jN,Button:BN,PushButton:qN,RadioButton:UN,CheckBox:zN,TextField:HN,PasswordField:$N,Appearance:WN},aN.AcroForm={ChoiceField:MN,ListBox:ON,ComboBox:RN,EditBox:jN,Button:BN,PushButton:qN,RadioButton:UN,CheckBox:zN,TextField:HN,PasswordField:$N,Appearance:WN};var KN,YN,XN=aN.AcroForm;function QN(t){return t.reduce(function(t,e,n){return t[e]=n,t},{})}!function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(t,r){var s,i,a,o,l,c=e;if("RGBA"===(r=r||e)||void 0!==t.data&&t.data instanceof Uint8ClampedArray&&"height"in t&&"width"in t)return"RGBA";if(S(t))for(l in n)for(a=n[l],s=0;s<a.length;s+=1){for(o=!0,i=0;i<a[s].length;i+=1)if(void 0!==a[s][i]&&a[s][i]!==t[i]){o=!1;break}if(!0===o){c=l;break}}else for(l in n)for(a=n[l],s=0;s<a.length;s+=1){for(o=!0,i=0;i<a[s].length;i+=1)if(void 0!==a[s][i]&&a[s][i]!==t.charCodeAt(i)){o=!1;break}if(!0===o){c=l;break}}return c===e&&r!==e&&(c=r),c},s=function t(e){for(var n=this.internal.write,r=this.internal.putStream,s=(0,this.internal.getFilters)();-1!==s.indexOf("FlateEncode");)s.splice(s.indexOf("FlateEncode"),1);e.objectId=this.internal.newObject();var i=[];if(i.push({key:"Type",value:"/XObject"}),i.push({key:"Subtype",value:"/Image"}),i.push({key:"Width",value:e.width}),i.push({key:"Height",value:e.height}),e.colorSpace===g.INDEXED?i.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(e.palette.length/3-1)+" "+("sMask"in e&&void 0!==e.sMask?e.objectId+2:e.objectId+1)+" 0 R]"}):(i.push({key:"ColorSpace",value:"/"+e.colorSpace}),e.colorSpace===g.DEVICE_CMYK&&i.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),i.push({key:"BitsPerComponent",value:e.bitsPerComponent}),"decodeParameters"in e&&void 0!==e.decodeParameters&&i.push({key:"DecodeParms",value:"<<"+e.decodeParameters+">>"}),"transparency"in e&&Array.isArray(e.transparency)){for(var a="",o=0,l=e.transparency.length;o<l;o++)a+=e.transparency[o]+" "+e.transparency[o]+" ";i.push({key:"Mask",value:"["+a+"]"})}void 0!==e.sMask&&i.push({key:"SMask",value:e.objectId+1+" 0 R"});var c=void 0!==e.filter?["/"+e.filter]:void 0;if(r({data:e.data,additionalKeyValues:i,alreadyAppliedFilters:c,objectId:e.objectId}),n("endobj"),"sMask"in e&&void 0!==e.sMask){var u="/Predictor "+e.predictor+" /Colors 1 /BitsPerComponent "+e.bitsPerComponent+" /Columns "+e.width,h={width:e.width,height:e.height,colorSpace:"DeviceGray",bitsPerComponent:e.bitsPerComponent,decodeParameters:u,data:e.sMask};"filter"in e&&(h.filter=e.filter),t.call(this,h)}if(e.colorSpace===g.INDEXED){var d=this.internal.newObject();r({data:A(new Uint8Array(e.palette)),objectId:d}),n("endobj")}},i=function(){var t=this.internal.collections.addImage_images;for(var e in t)s.call(this,t[e])},a=function(){var t,e=this.internal.collections.addImage_images,n=this.internal.write;for(var r in e)n("/I"+(t=e[r]).index,t.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",a))},l=function(){var t=this.internal.collections.addImage_images;return o.call(this),t},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(e){return"function"==typeof t["process"+e.toUpperCase()]},h=function(t){return"object"===F_(t)&&1===t.nodeType},d=function(e,n){if("IMG"===e.nodeName&&e.hasAttribute("src")){var r=""+e.getAttribute("src");if(0===r.indexOf("data:image/"))return DA(unescape(r).split("base64,").pop());var s=t.loadFile(r,!0);if(void 0!==s)return s}if("CANVAS"===e.nodeName){if(0===e.width||0===e.height)throw new Error("Given canvas must have data. Canvas width: "+e.width+", height: "+e.height);var i;switch(n){case"PNG":i="image/png";break;case"WEBP":i="image/webp";break;default:i="image/jpeg"}return DA(e.toDataURL(i,1).split("base64,").pop())}},f=function(t){var e=this.internal.collections.addImage_images;if(e)for(var n in e)if(t===e[n].alias)return e[n]},p=function(t,e,n){return t||e||(t=-96,e=-96),t<0&&(t=-1*n.width*72/t/this.internal.scaleFactor),e<0&&(e=-1*n.height*72/e/this.internal.scaleFactor),0===t&&(t=e*n.width/n.height),0===e&&(e=t*n.height/n.width),[t,e]},m=function(t,e,n,r,s,i){var a=p.call(this,n,r,s),o=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,u=l.call(this);if(n=a[0],r=a[1],u[s.index]=s,i){i*=Math.PI/180;var h=Math.cos(i),d=Math.sin(i),f=function(t){return t.toFixed(4)},m=[f(h),f(d),f(-1*d),f(h),0,0,"cm"]}this.internal.write("q"),i?(this.internal.write([1,"0","0",1,o(t),c(e+r),"cm"].join(" ")),this.internal.write(m.join(" ")),this.internal.write([o(n),"0","0",o(r),"0","0","cm"].join(" "))):this.internal.write([o(n),"0","0",o(r),o(t),c(e+r),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+s.index+" Do"),this.internal.write("Q")},g=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var v=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=t.__addimage__.sHashCode=function(t){var e,n,r=0;if("string"==typeof t)for(n=t.length,e=0;e<n;e++)r=(r<<5)-r+t.charCodeAt(e),r|=0;else if(S(t))for(n=t.byteLength/2,e=0;e<n;e++)r=(r<<5)-r+t[e],r|=0;return r},b=t.__addimage__.validateStringAsBase64=function(t){(t=t||"").toString().trim();var e=!0;return 0===t.length&&(e=!1),t.length%4!=0&&(e=!1),!1===/^[A-Za-z0-9+/]+$/.test(t.substr(0,t.length-2))&&(e=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(t.substr(-2))&&(e=!1),e},w=t.__addimage__.extractImageFromDataUrl=function(t){var e=(t=t||"").split("base64,"),n=null;if(2===e.length){var r=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(e[0]);Array.isArray(r)&&(n={mimeType:r[1],charset:r[2],data:e[1]})}return n},x=t.__addimage__.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array};t.__addimage__.isArrayBuffer=function(t){return x()&&t instanceof ArrayBuffer};var S=t.__addimage__.isArrayBufferView=function(t){return x()&&"undefined"!=typeof Uint32Array&&(t instanceof Int8Array||t instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)},_=t.__addimage__.binaryStringToUint8Array=function(t){for(var e=t.length,n=new Uint8Array(e),r=0;r<e;r++)n[r]=t.charCodeAt(r);return n},A=t.__addimage__.arrayBufferToBinaryString=function(t){for(var e="",n=S(t)?t:new Uint8Array(t),r=0;r<n.length;r+=8192)e+=String.fromCharCode.apply(null,n.subarray(r,r+8192));return e};t.addImage=function(){var t,n,r,s,i,a,l,c,u;if("number"==typeof arguments[1]?(n=e,r=arguments[1],s=arguments[2],i=arguments[3],a=arguments[4],l=arguments[5],c=arguments[6],u=arguments[7]):(n=arguments[1],r=arguments[2],s=arguments[3],i=arguments[4],a=arguments[5],l=arguments[6],c=arguments[7],u=arguments[8]),"object"===F_(t=arguments[0])&&!h(t)&&"imageData"in t){var d=t;t=d.imageData,n=d.format||n||e,r=d.x||r||0,s=d.y||s||0,i=d.w||d.width||i,a=d.h||d.height||a,l=d.alias||l,c=d.compression||c,u=d.rotation||d.angle||u}var f=this.internal.getFilters();if(void 0===c&&-1!==f.indexOf("FlateEncode")&&(c="SLOW"),isNaN(r)||isNaN(s))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var p=N.call(this,t,n,l,c);return m.call(this,r,s,i,a,p,u),this};var N=function(n,s,i,a){var o,l,p,m;if("string"==typeof n&&r(n)===e){n=unescape(n);var g=E(n,!1);(""!==g||void 0!==(g=t.loadFile(n,!0)))&&(n=g)}if(h(n)&&(n=d(n,s)),s=r(n,s),!u(s))throw new Error("addImage does not support files of type '"+s+"', please ensure that a plugin for '"+s+"' support is added.");if((null==(p=i)||0===p.length)&&(i="string"==typeof(m=n)||S(m)?y(m):S(m.data)?y(m.data):null),(o=f.call(this,i))||(x()&&(n instanceof Uint8Array||"RGBA"===s||(l=n,n=_(n))),o=this["process"+s.toUpperCase()](n,c.call(this),i,function(e){return e&&"string"==typeof e&&(e=e.toUpperCase()),e in t.image_compression?e:v.NONE}(a),l)),!o)throw new Error("An unknown error occurred whilst processing the image.");return o},E=t.__addimage__.convertBase64ToBinaryString=function(t,e){var n;e="boolean"!=typeof e||e;var r,s="";if("string"==typeof t){r=null!==(n=w(t))?n.data:t;try{s=DA(r)}catch(i){if(e)throw b(r)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+i.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return s};t.getImageProperties=function(n){var s,i,a="";if(h(n)&&(n=d(n)),"string"==typeof n&&r(n)===e&&(""===(a=E(n,!1))&&(a=t.loadFile(n)||""),n=a),i=r(n),!u(i))throw new Error("addImage does not support files of type '"+i+"', please ensure that a plugin for '"+i+"' support is added.");if(!x()||n instanceof Uint8Array||(n=_(n)),!(s=this["process"+i.toUpperCase()](n)))throw new Error("An unknown error occurred whilst processing the image");return s.fileType=i,s}}(aN.API),
/**
 * @license
 * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
KN=aN.API,YN=function(t){if(void 0!==t&&""!=t)return!0},aN.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),KN.events.push(["putPage",function(t){for(var e,n,r,s=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,a=this.internal.getPageInfoByObjId(t.objId),o=t.pageContext.annotations,l=!1,c=0;c<o.length&&!l;c++)switch((e=o[c]).type){case"link":(YN(e.options.url)||YN(e.options.pageNumber))&&(l=!0);break;case"reference":case"text":case"freetext":l=!0}if(0!=l){this.internal.write("/Annots [");for(var u=0;u<o.length;u++){e=o[u];var h=this.internal.pdfEscape,d=this.internal.getEncryptor(t.objId);switch(e.type){case"reference":this.internal.write(" "+e.object.objId+" 0 R ");break;case"text":var f=this.internal.newAdditionalObject(),p=this.internal.newAdditionalObject(),m=this.internal.getEncryptor(f.objId),g=e.title||"Note";r="<</Type /Annot /Subtype /Text "+(n="/Rect ["+s(e.bounds.x)+" "+i(e.bounds.y+e.bounds.h)+" "+s(e.bounds.x+e.bounds.w)+" "+i(e.bounds.y)+"] ")+"/Contents ("+h(m(e.contents))+")",r+=" /Popup "+p.objId+" 0 R",r+=" /P "+a.objId+" 0 R",r+=" /T ("+h(m(g))+") >>",f.content=r;var v=f.objId+" 0 R";r="<</Type /Annot /Subtype /Popup "+(n="/Rect ["+s(e.bounds.x+30)+" "+i(e.bounds.y+e.bounds.h)+" "+s(e.bounds.x+e.bounds.w+30)+" "+i(e.bounds.y)+"] ")+" /Parent "+v,e.open&&(r+=" /Open true"),r+=" >>",p.content=r,this.internal.write(f.objId,"0 R",p.objId,"0 R");break;case"freetext":n="/Rect ["+s(e.bounds.x)+" "+i(e.bounds.y)+" "+s(e.bounds.x+e.bounds.w)+" "+i(e.bounds.y+e.bounds.h)+"] ";var y=e.color||"#000000";r="<</Type /Annot /Subtype /FreeText "+n+"/Contents ("+h(d(e.contents))+")",r+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+y+")",r+=" /Border [0 0 0]",r+=" >>",this.internal.write(r);break;case"link":if(e.options.name){var b=this.annotations._nameMap[e.options.name];e.options.pageNumber=b.page,e.options.top=b.y}else e.options.top||(e.options.top=0);if(n="/Rect ["+e.finalBounds.x+" "+e.finalBounds.y+" "+e.finalBounds.w+" "+e.finalBounds.h+"] ",r="",e.options.url)r="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /A <</S /URI /URI ("+h(d(e.options.url))+") >>";else if(e.options.pageNumber)switch(r="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(e.options.pageNumber).objId+" 0 R",e.options.magFactor=e.options.magFactor||"XYZ",e.options.magFactor){case"Fit":r+=" /Fit]";break;case"FitH":r+=" /FitH "+e.options.top+"]";break;case"FitV":e.options.left=e.options.left||0,r+=" /FitV "+e.options.left+"]";break;default:var w=i(e.options.top);e.options.left=e.options.left||0,void 0===e.options.zoom&&(e.options.zoom=0),r+=" /XYZ "+e.options.left+" "+w+" "+e.options.zoom+"]"}""!=r&&(r+=" >>",this.internal.write(r))}}this.internal.write("]")}}]),KN.createAnnotation=function(t){var e=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":e.pageContext.annotations.push(t)}},KN.link=function(t,e,n,r,s){var i=this.internal.getCurrentPageInfo(),a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString;i.pageContext.annotations.push({finalBounds:{x:a(t),y:o(e),w:a(t+n),h:o(e+r)},options:s,type:"link"})},KN.textWithLink=function(t,e,n,r){var s,i,a=this.getTextWidth(t),o=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==r.maxWidth){i=r.maxWidth;var l=this.splitTextToSize(t,i).length;s=Math.ceil(o*l)}else i=a,s=o;return this.text(t,e,n,r),n+=.2*o,"center"===r.align&&(e-=a/2),"right"===r.align&&(e-=a),this.link(e,n-o,i,s,r),a},KN.getTextWidth=function(t){var e=this.internal.getFontSize();return this.getStringUnitWidth(t)*e/this.internal.scaleFactor},
/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(t){return void 0!==e[t.charCodeAt(0)]},a=t.__arabicParser__.isArabicLetter=function(t){return"string"==typeof t&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(t)},o=t.__arabicParser__.isArabicEndLetter=function(t){return a(t)&&i(t)&&e[t.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(t){return a(t)&&s.indexOf(t.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(t){return a(t)&&i(t)&&e[t.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(t){return a(t)&&i(t)&&e[t.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(t){return a(t)&&i(t)&&e[t.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(t){return a(t)&&i(t)&&4==e[t.charCodeAt(0)].length},h=t.__arabicParser__.resolveLigatures=function(t){var e=0,r=n,s="",i=0;for(e=0;e<t.length;e+=1)void 0!==r[t.charCodeAt(e)]?(i++,"number"==typeof(r=r[t.charCodeAt(e)])&&(s+=String.fromCharCode(r),r=n,i=0),e===t.length-1&&(r=n,s+=t.charAt(e-(i-1)),e-=i-1,i=0)):(r=n,s+=t.charAt(e-i),e-=i,i=0);return s};t.__arabicParser__.isArabicDiacritic=function(t){return void 0!==t&&void 0!==r[t.charCodeAt(0)]};var d=t.__arabicParser__.getCorrectForm=function(t,e,n){return a(t)?!1===i(t)?-1:!c(t)||!a(e)&&!a(n)||!a(n)&&o(e)||o(t)&&!a(e)||o(t)&&l(e)||o(t)&&o(e)?0:u(t)&&a(e)&&!o(e)&&a(n)&&c(n)?3:o(t)||!a(n)?1:2:-1},f=function(t){var n=0,r=0,s=0,i="",o="",l="",c=(t=t||"").split("\\s+"),u=[];for(n=0;n<c.length;n+=1){for(u.push(""),r=0;r<c[n].length;r+=1)i=c[n][r],o=c[n][r-1],l=c[n][r+1],a(i)?(s=d(i,o,l),u[n]+=-1!==s?String.fromCharCode(e[i.charCodeAt(0)][s]):i):u[n]+=i;u[n]=h(u[n])}return u.join(" ")},p=t.__arabicParser__.processArabic=t.processArabic=function(){var t,e="string"==typeof arguments[0]?arguments[0]:arguments[0].text,n=[];if(Array.isArray(e)){var r=0;for(n=[],r=0;r<e.length;r+=1)Array.isArray(e[r])?n.push([f(e[r][0]),e[r][1],e[r][2]]):n.push([f(e[r])]);t=n}else t=f(e);return"string"==typeof arguments[0]?t:(arguments[0].text=t,arguments[0])};t.events.push(["preProcessText",p])}(aN.API),aN.API.autoPrint=function(t){var e;if("javascript"===((t=t||{}).variant=t.variant||"non-conform",t.variant))this.addJS("print({});");else this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")});return this},
/**
 * @license
 * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(t){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(e){t=e}});var e=150;Object.defineProperty(this,"width",{get:function(){return e},set:function(t){e=isNaN(t)||!1===Number.isInteger(t)||t<0?150:t,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=e+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(t){n=isNaN(t)||!1===Number.isInteger(t)||t<0?300:t,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var r=[];Object.defineProperty(this,"childNodes",{get:function(){return r},set:function(t){r=t}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(t){s=t}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,e){var n;if("2d"!==(t=t||"2d"))return null;for(n in e)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=e[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(aN.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var t=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return t},set:function(e){t=e}});var e=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return e},set:function(t){e=t}});var n=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return n},set:function(t){n=t}});var r=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return r},set:function(t){r=t}});var s=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return s},set:function(t){s=t}});var i=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return i},set:function(t){i=t}});var a=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return a},set:function(t){a=t}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(t){return r.call(this),this.internal.__cell__.headerFunction="function"==typeof t?t:void 0,this},t.getTextDimensions=function(t,e){r.call(this);var n=(e=e||{}).fontSize||this.getFontSize(),s=e.font||this.getFont(),i=e.scaleFactor||this.internal.scaleFactor,a=0,o=0,l=0,c=this;if(!Array.isArray(t)&&"string"!=typeof t){if("number"!=typeof t)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");t=String(t)}var u=e.maxWidth;u>0?"string"==typeof t?t=this.splitTextToSize(t,u):"[object Array]"===Object.prototype.toString.call(t)&&(t=t.reduce(function(t,e){return t.concat(c.splitTextToSize(e,u))},[])):t=Array.isArray(t)?t:[t];for(var h=0;h<t.length;h++)a<(l=this.getStringUnitWidth(t[h],{font:s})*n)&&(a=l);return 0!==a&&(o=t.length),{w:a/=i,h:Math.max((o*n*this.getLineHeightFactor()-n*(this.getLineHeightFactor()-1))/i,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var t=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(t.left,t.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var t;t=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var s=this.internal.__cell__.lastCell,a=this.internal.__cell__.padding,o=this.internal.__cell__.margins||e,l=this.internal.__cell__.tableHeaderRow,c=this.internal.__cell__.printHeaders;return void 0!==s.lineNumber&&(s.lineNumber===t.lineNumber?(t.x=(s.x||0)+(s.width||0),t.y=s.y||0):s.y+s.height+t.height+o.bottom>this.getPageHeight()?(this.cellAddPage(),t.y=o.top,c&&l&&(this.printHeaderRow(t.lineNumber,!0),t.y+=l[0].height)):t.y=s.y+s.height||t.y),void 0!==t.text[0]&&(this.rect(t.x,t.y,t.width,t.height,!0===n?"FD":void 0),"right"===t.align?this.text(t.text,t.x+t.width-a,t.y+a,{align:"right",baseline:"top"}):"center"===t.align?this.text(t.text,t.x+t.width/2,t.y+a,{align:"center",baseline:"top",maxWidth:t.width-a-a}):this.text(t.text,t.x+a,t.y+a,{align:"left",baseline:"top",maxWidth:t.width-a-a})),this.internal.__cell__.lastCell=t,this};t.table=function(t,n,l,c,u){if(r.call(this),!l)throw new Error("No data for PDF table.");var h,d,f,p,m=[],g=[],v=[],y={},b={},w=[],x=[],S=(u=u||{}).autoSize||!1,_=!1!==u.printHeaders,A=u.css&&void 0!==u.css["font-size"]?16*u.css["font-size"]:u.fontSize||12,N=u.margins||Object.assign({width:this.getPageWidth()},e),E="number"==typeof u.padding?u.padding:3,k=u.headerBackgroundColor||"#c8c8c8",C=u.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=_,this.internal.__cell__.margins=N,this.internal.__cell__.table_font_size=A,this.internal.__cell__.padding=E,this.internal.__cell__.headerBackgroundColor=k,this.internal.__cell__.headerTextColor=C,this.setFontSize(A),null==c)g=m=Object.keys(l[0]),v=m.map(function(){return"left"});else if(Array.isArray(c)&&"object"===F_(c[0]))for(m=c.map(function(t){return t.name}),g=c.map(function(t){return t.prompt||t.name||""}),v=c.map(function(t){return t.align||"left"}),h=0;h<c.length;h+=1)b[c[h].name]=c[h].width*(19.049976/25.4);else Array.isArray(c)&&"string"==typeof c[0]&&(g=m=c,v=m.map(function(){return"left"}));if(S||Array.isArray(c)&&"string"==typeof c[0])for(h=0;h<m.length;h+=1){for(y[p=m[h]]=l.map(function(t){return t[p]}),this.setFont(void 0,"bold"),w.push(this.getTextDimensions(g[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),d=y[p],this.setFont(void 0,"normal"),f=0;f<d.length;f+=1)w.push(this.getTextDimensions(d[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);b[p]=Math.max.apply(null,w)+E+E,w=[]}if(_){var L={};for(h=0;h<m.length;h+=1)L[m[h]]={},L[m[h]].text=g[h],L[m[h]].align=v[h];var T=o.call(this,L,b);x=m.map(function(e){return new i(t,n,b[e],T,L[e].text,void 0,L[e].align)}),this.setTableHeaderRow(x),this.printHeaderRow(1,!1)}var P=c.reduce(function(t,e){return t[e.name]=e.align,t},{});for(h=0;h<l.length;h+=1){"rowStart"in u&&u.rowStart instanceof Function&&u.rowStart({row:h,data:l[h]},this);var I=o.call(this,l[h],b);for(f=0;f<m.length;f+=1){var D=l[h][m[f]];"cellStart"in u&&u.cellStart instanceof Function&&u.cellStart({row:h,col:f,data:D},this),a.call(this,new i(t,n,b[m[f]],I,D,h+2,P[m[f]]))}}return this.internal.__cell__.table_x=t,this.internal.__cell__.table_y=n,this};var o=function(t,e){var n=this.internal.__cell__.padding,r=this.internal.__cell__.table_font_size,s=this.internal.scaleFactor;return Object.keys(t).map(function(r){var s=t[r];return this.splitTextToSize(s.hasOwnProperty("text")?s.text:s,e[r]-n-n)},this).map(function(t){return this.getLineHeightFactor()*t.length*r/s+n+n},this).reduce(function(t,e){return Math.max(t,e)},0)};t.setTableHeaderRow=function(t){r.call(this),this.internal.__cell__.tableHeaderRow=t},t.printHeaderRow=function(t,e){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var s;if(n=!0,"function"==typeof this.internal.__cell__.headerFunction){var o=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(o[0],o[1],o[2],o[3],void 0,-1)}this.setFont(void 0,"bold");for(var l=[],c=0;c<this.internal.__cell__.tableHeaderRow.length;c+=1){s=this.internal.__cell__.tableHeaderRow[c].clone(),e&&(s.y=this.internal.__cell__.margins.top||0,l.push(s)),s.lineNumber=t;var u=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,s),this.setTextColor(u)}l.length>0&&this.setTableHeaderRow(l),this.setFont(void 0,"normal"),n=!1}}(aN.API);var JN={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},ZN=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],tE=QN(ZN),eE=[100,200,300,400,500,600,700,800,900],nE=QN(eE);function rE(t){var e,n=t.family.replace(/"|'/g,"").toLowerCase(),r=(e=t.style,JN[e=e||"normal"]?e:"normal"),s=function(t){return t?"number"==typeof t?t>=100&&t<=900&&t%100==0?t:400:/^\d00$/.test(t)?parseInt(t):"bold"===t?700:400:400}(t.weight),i=function(t){return"number"==typeof tE[t=t||"normal"]?t:"normal"}(t.stretch);return{family:n,style:r,weight:s,stretch:i,src:t.src||[],ref:t.ref||{name:n,style:[i,r,s].join(" ")}}}function sE(t,e,n,r){var s;for(s=n;s>=0&&s<e.length;s+=r)if(t[e[s]])return t[e[s]];for(s=n;s>=0&&s<e.length;s-=r)if(t[e[s]])return t[e[s]]}var iE={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},aE={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function oE(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function lE(t){return t.trimLeft()}function cE(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function uE(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===e?null:[e[0],t.substring(e[0].length)]}var hE,dE,fE,pE=["times"];!function(t){var e,n,r,s,i,a,o,l,c,u=function(t){return t=t||{},this.isStrokeTransparent=t.isStrokeTransparent||!1,this.strokeOpacity=t.strokeOpacity||1,this.strokeStyle=t.strokeStyle||"#000000",this.fillStyle=t.fillStyle||"#000000",this.isFillTransparent=t.isFillTransparent||!1,this.fillOpacity=t.fillOpacity||1,this.font=t.font||"10px sans-serif",this.textBaseline=t.textBaseline||"alphabetic",this.textAlign=t.textAlign||"left",this.lineWidth=t.lineWidth||1,this.lineJoin=t.lineJoin||"miter",this.lineCap=t.lineCap||"butt",this.path=t.path||[],this.transform=void 0!==t.transform?t.transform.clone():new l,this.globalCompositeOperation=t.globalCompositeOperation||"normal",this.globalAlpha=t.globalAlpha||1,this.clip_path=t.clip_path||[],this.currentPoint=t.currentPoint||new a,this.miterLimit=t.miterLimit||10,this.lastPoint=t.lastPoint||new a,this.lineDashOffset=t.lineDashOffset||0,this.lineDash=t.lineDash||[],this.margin=t.margin||[0,0,0,0],this.prevPageLastElemOffset=t.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof t.ignoreClearRect||t.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var h=function(t){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var e=t;Object.defineProperty(this,"pdf",{get:function(){return e}});var n=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return n},set:function(t){n=Boolean(t)}});var r=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return r},set:function(t){r=Boolean(t)}});var s=0;Object.defineProperty(this,"posX",{get:function(){return s},set:function(t){isNaN(t)||(s=t)}});var i=0;Object.defineProperty(this,"posY",{get:function(){return i},set:function(t){isNaN(t)||(i=t)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(t){var e;"number"==typeof t?e=[t,t,t,t]:((e=new Array(4))[0]=t[0],e[1]=t.length>=2?t[1]:e[0],e[2]=t.length>=3?t[2]:e[0],e[3]=t.length>=4?t[3]:e[1]),c.margin=e}});var a=!1;Object.defineProperty(this,"autoPaging",{get:function(){return a},set:function(t){a=t}});var o=0;Object.defineProperty(this,"lastBreak",{get:function(){return o},set:function(t){o=t}});var l=[];Object.defineProperty(this,"pageBreaks",{get:function(){return l},set:function(t){l=t}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(t){t instanceof u&&(c=t)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(t){c.path=t}});var h=[];Object.defineProperty(this,"ctxStack",{get:function(){return h},set:function(t){h=t}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(t){var e;e=d(t),this.ctx.fillStyle=e.style,this.ctx.isFillTransparent=0===e.a,this.ctx.fillOpacity=e.a,this.pdf.setFillColor(e.r,e.g,e.b,{a:e.a}),this.pdf.setTextColor(e.r,e.g,e.b,{a:e.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(t){var e=d(t);this.ctx.strokeStyle=e.style,this.ctx.isStrokeTransparent=0===e.a,this.ctx.strokeOpacity=e.a,0===e.a?this.pdf.setDrawColor(255,255,255):(e.a,this.pdf.setDrawColor(e.r,e.g,e.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(t){-1!==["butt","round","square"].indexOf(t)&&(this.ctx.lineCap=t,this.pdf.setLineCap(t))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(t){isNaN(t)||(this.ctx.lineWidth=t,this.pdf.setLineWidth(t))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(t){-1!==["bevel","round","miter"].indexOf(t)&&(this.ctx.lineJoin=t,this.pdf.setLineJoin(t))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(t){isNaN(t)||(this.ctx.miterLimit=t,this.pdf.setMiterLimit(t))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(t){this.ctx.textBaseline=t}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(t){-1!==["right","end","center","left","start"].indexOf(t)&&(this.ctx.textAlign=t)}});var f=null;var p=null;Object.defineProperty(this,"fontFaces",{get:function(){return p},set:function(t){f=null,p=t}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(t){var e;if(this.ctx.font=t,null!==(e=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(t))){var n=e[1],r=(e[2],e[3]),s=e[4],i=(e[5],e[6]),a=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(s)[2];s="px"===a?Math.floor(parseFloat(s)*this.pdf.internal.scaleFactor):"em"===a?Math.floor(parseFloat(s)*this.pdf.getFontSize()):Math.floor(parseFloat(s)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(s);var o=function(t){var e,n,r=[],s=t.trim();if(""===s)return pE;if(s in aE)return[aE[s]];for(;""!==s;){switch(n=null,e=(s=lE(s)).charAt(0)){case'"':case"'":n=cE(s.substring(1),e);break;default:n=uE(s)}if(null===n)return pE;if(r.push(n[0]),""!==(s=lE(n[1]))&&","!==s.charAt(0))return pE;s=s.replace(/^,/,"")}return r}(i);if(this.fontFaces){var l=function(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",s=Object.assign({},iE,n.genericFontFamilies||{}),i=null,a=null,o=0;o<e.length;++o)if(s[(i=rE(e[o])).family]&&(i.family=s[i.family]),t.hasOwnProperty(i.family)){a=t[i.family];break}if(!(a=a||t[r]))throw new Error("Could not find a font-family for the rule '"+oE(i)+"' and default family '"+r+"'.");if(a=function(t,e){if(e[t])return e[t];var n=tE[t],r=n<=tE.normal?-1:1,s=sE(e,ZN,n,r);if(!s)throw new Error("Could not find a matching font-stretch value for "+t);return s}(i.stretch,a),a=function(t,e){if(e[t])return e[t];for(var n=JN[t],r=0;r<n.length;++r)if(e[n[r]])return e[n[r]];throw new Error("Could not find a matching font-style for "+t)}(i.style,a),!(a=function(t,e){if(e[t])return e[t];if(400===t&&e[500])return e[500];if(500===t&&e[400])return e[400];var n=nE[t],r=sE(e,eE,n,t<400?-1:1);if(!r)throw new Error("Could not find a matching font-weight for value "+t);return r}(i.weight,a)))throw new Error("Failed to resolve a font for the rule '"+oE(i)+"'.");return a}(function(t,e){if(null===f){var n=(r=t.getFontList(),s=[],Object.keys(r).forEach(function(t){r[t].forEach(function(e){var n=null;switch(e){case"bold":n={family:t,weight:"bold"};break;case"italic":n={family:t,style:"italic"};break;case"bolditalic":n={family:t,weight:"bold",style:"italic"};break;case"":case"normal":n={family:t}}null!==n&&(n.ref={name:t,style:e},s.push(n))})}),s);f=function(t){for(var e={},n=0;n<t.length;++n){var r=rE(t[n]),s=r.family,i=r.stretch,a=r.style,o=r.weight;e[s]=e[s]||{},e[s][i]=e[s][i]||{},e[s][i][a]=e[s][i][a]||{},e[s][i][a][o]=r}return e}(n.concat(e))}var r,s;return f}(this.pdf,this.fontFaces),o.map(function(t){return{family:t,stretch:"normal",weight:r,style:n}}));this.pdf.setFont(l.ref.name,l.ref.style)}else{var c="";("bold"===r||parseInt(r,10)>=700||"bold"===n)&&(c="bold"),"italic"===n&&(c+="italic"),0===c.length&&(c="normal");for(var u="",h={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},d=0;d<o.length;d++){if(void 0!==this.pdf.internal.getFont(o[d],c,{noFallback:!0,disableWarning:!0})){u=o[d];break}if("bolditalic"===c&&void 0!==this.pdf.internal.getFont(o[d],"bold",{noFallback:!0,disableWarning:!0}))u=o[d],c="bold";else if(void 0!==this.pdf.internal.getFont(o[d],"normal",{noFallback:!0,disableWarning:!0})){u=o[d],c="normal";break}}if(""===u)for(var p=0;p<o.length;p++)if(h[o[p]]){u=h[o[p]];break}u=""===u?"Times":u,this.pdf.setFont(u,c)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(t){this.ctx.globalCompositeOperation=t}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(t){this.ctx.globalAlpha=t}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(t){this.ctx.lineDashOffset=t,R.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(t){this.ctx.lineDash=t,R.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(t){this.ctx.ignoreClearRect=Boolean(t)}})};h.prototype.setLineDash=function(t){this.lineDash=t},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){w.call(this,"fill",!1)},h.prototype.stroke=function(){w.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(t,e){if(isNaN(t)||isNaN(e))throw LA.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var n=this.ctx.transform.applyToPoint(new a(t,e));this.path.push({type:"mt",x:n.x,y:n.y}),this.ctx.lastPoint=new a(t,e)},h.prototype.closePath=function(){var t=new a(0,0),e=0;for(e=this.path.length-1;-1!==e;e--)if("begin"===this.path[e].type&&"object"===F_(this.path[e+1])&&"number"==typeof this.path[e+1].x){t=new a(this.path[e+1].x,this.path[e+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(t.x,t.y)},h.prototype.lineTo=function(t,e){if(isNaN(t)||isNaN(e))throw LA.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var n=this.ctx.transform.applyToPoint(new a(t,e));this.path.push({type:"lt",x:n.x,y:n.y}),this.ctx.lastPoint=new a(n.x,n.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),w.call(this,null,!0)},h.prototype.quadraticCurveTo=function(t,e,n,r){if(isNaN(n)||isNaN(r)||isNaN(t)||isNaN(e))throw LA.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var s=this.ctx.transform.applyToPoint(new a(n,r)),i=this.ctx.transform.applyToPoint(new a(t,e));this.path.push({type:"qct",x1:i.x,y1:i.y,x:s.x,y:s.y}),this.ctx.lastPoint=new a(s.x,s.y)},h.prototype.bezierCurveTo=function(t,e,n,r,s,i){if(isNaN(s)||isNaN(i)||isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r))throw LA.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var o=this.ctx.transform.applyToPoint(new a(s,i)),l=this.ctx.transform.applyToPoint(new a(t,e)),c=this.ctx.transform.applyToPoint(new a(n,r));this.path.push({type:"bct",x1:l.x,y1:l.y,x2:c.x,y2:c.y,x:o.x,y:o.y}),this.ctx.lastPoint=new a(o.x,o.y)},h.prototype.arc=function(t,e,n,r,s,i){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||isNaN(s))throw LA.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(i=Boolean(i),!this.ctx.transform.isIdentity){var o=this.ctx.transform.applyToPoint(new a(t,e));t=o.x,e=o.y;var l=this.ctx.transform.applyToPoint(new a(0,n)),c=this.ctx.transform.applyToPoint(new a(0,0));n=Math.sqrt(Math.pow(l.x-c.x,2)+Math.pow(l.y-c.y,2))}Math.abs(s-r)>=2*Math.PI&&(r=0,s=2*Math.PI),this.path.push({type:"arc",x:t,y:e,radius:n,startAngle:r,endAngle:s,counterclockwise:i})},h.prototype.arcTo=function(t,e,n,r,s){throw new Error("arcTo not implemented.")},h.prototype.rect=function(t,e,n,r){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r))throw LA.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(t,e),this.lineTo(t+n,e),this.lineTo(t+n,e+r),this.lineTo(t,e+r),this.lineTo(t,e),this.lineTo(t+n,e),this.lineTo(t,e)},h.prototype.fillRect=function(t,e,n,r){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r))throw LA.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var s={};"butt"!==this.lineCap&&(s.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(s.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(t,e,n,r),this.fill(),s.hasOwnProperty("lineCap")&&(this.lineCap=s.lineCap),s.hasOwnProperty("lineJoin")&&(this.lineJoin=s.lineJoin)}},h.prototype.strokeRect=function(t,e,n,r){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r))throw LA.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");p.call(this)||(this.beginPath(),this.rect(t,e,n,r),this.stroke())},h.prototype.clearRect=function(t,e,n,r){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r))throw LA.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(t,e,n,r))},h.prototype.save=function(t){t="boolean"!=typeof t||t;for(var e=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("q");if(this.pdf.setPage(e),t){this.ctx.fontSize=this.pdf.internal.getFontSize();var r=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=r}},h.prototype.restore=function(t){t="boolean"!=typeof t||t;for(var e=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("Q");this.pdf.setPage(e),t&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var d=function(t){var e,n,r,s;if(!0===t.isCanvasGradient&&(t=t.getColor()),!t)return{r:0,g:0,b:0,a:0,style:t};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(t))e=0,n=0,r=0,s=0;else{var i=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(t);if(null!==i)e=parseInt(i[1]),n=parseInt(i[2]),r=parseInt(i[3]),s=1;else if(null!==(i=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(t)))e=parseInt(i[1]),n=parseInt(i[2]),r=parseInt(i[3]),s=parseFloat(i[4]);else{if(s=1,"string"==typeof t&&"#"!==t.charAt(0)){var a=new OA(t);t=a.ok?a.toHex():"#000000"}4===t.length?(e=t.substring(1,2),e+=e,n=t.substring(2,3),n+=n,r=t.substring(3,4),r+=r):(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7)),e=parseInt(e,16),n=parseInt(n,16),r=parseInt(r,16)}}return{r:e,g:n,b:r,a:s,style:t}},f=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},p=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};h.prototype.fillText=function(t,e,n,r){if(isNaN(e)||isNaN(n)||"string"!=typeof t)throw LA.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(r=isNaN(r)?void 0:r,!f.call(this)){var s=F(this.ctx.transform.rotation),i=this.ctx.transform.scaleX;C.call(this,{text:t,x:e,y:n,scale:i,angle:s,align:this.textAlign,maxWidth:r})}},h.prototype.strokeText=function(t,e,n,r){if(isNaN(e)||isNaN(n)||"string"!=typeof t)throw LA.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!p.call(this)){r=isNaN(r)?void 0:r;var s=F(this.ctx.transform.rotation),i=this.ctx.transform.scaleX;C.call(this,{text:t,x:e,y:n,scale:i,renderingMode:"stroke",angle:s,align:this.textAlign,maxWidth:r})}},h.prototype.measureText=function(t){if("string"!=typeof t)throw LA.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var e=this.pdf,n=this.pdf.internal.scaleFactor,r=e.internal.getFontSize(),s=e.getStringUnitWidth(t)*r/e.internal.scaleFactor;return new function(t){var e=(t=t||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return e}}),this}({width:s*=Math.round(96*n/72*1e4)/1e4})},h.prototype.scale=function(t,e){if(isNaN(t)||isNaN(e))throw LA.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var n=new l(t,0,0,e,0,0);this.ctx.transform=this.ctx.transform.multiply(n)},h.prototype.rotate=function(t){if(isNaN(t))throw LA.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var e=new l(Math.cos(t),Math.sin(t),-Math.sin(t),Math.cos(t),0,0);this.ctx.transform=this.ctx.transform.multiply(e)},h.prototype.translate=function(t,e){if(isNaN(t)||isNaN(e))throw LA.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var n=new l(1,0,0,1,t,e);this.ctx.transform=this.ctx.transform.multiply(n)},h.prototype.transform=function(t,e,n,r,s,i){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||isNaN(s)||isNaN(i))throw LA.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var a=new l(t,e,n,r,s,i);this.ctx.transform=this.ctx.transform.multiply(a)},h.prototype.setTransform=function(t,e,n,r,s,i){t=isNaN(t)?1:t,e=isNaN(e)?0:e,n=isNaN(n)?0:n,r=isNaN(r)?1:r,s=isNaN(s)?0:s,i=isNaN(i)?0:i,this.ctx.transform=new l(t,e,n,r,s,i)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(t,e,n,r,s,i,a,c,u){var h=this.pdf.getImageProperties(t),d=1,f=1,p=1,v=1;void 0!==r&&void 0!==c&&(p=c/r,v=u/s,d=h.width/r*c/r,f=h.height/s*u/s),void 0===i&&(i=e,a=n,e=0,n=0),void 0!==r&&void 0===c&&(c=r,u=s),void 0===r&&void 0===c&&(c=h.width,u=h.height);for(var w,S=this.ctx.transform.decompose(),_=F(S.rotate.shx),A=new l,N=(A=(A=(A=A.multiply(S.translate)).multiply(S.skew)).multiply(S.scale)).applyToRectangle(new o(i-e*p,a-n*v,r*d,s*f)),E=g.call(this,N),k=[],C=0;C<E.length;C+=1)-1===k.indexOf(E[C])&&k.push(E[C]);if(b(k),this.autoPaging)for(var L=k[0],T=k[k.length-1],P=L;P<T+1;P++){this.pdf.setPage(P);var I=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],D=1===P?this.posY+this.margin[0]:this.margin[0],M=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],O=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],R=1===P?0:M+(P-2)*O;if(0!==this.ctx.clip_path.length){var j=this.path;w=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(w,this.posX+this.margin[3],-R+D+this.ctx.prevPageLastElemOffset),x.call(this,"fill",!0),this.path=j}var B=JSON.parse(JSON.stringify(N));B=y([B],this.posX+this.margin[3],-R+D+this.ctx.prevPageLastElemOffset)[0];var q=(P>L||P<T)&&m.call(this);q&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],I,O,null).clip().discardPath()),this.pdf.addImage(t,"JPEG",B.x,B.y,B.w,B.h,null,null,_),q&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(t,"JPEG",N.x,N.y,N.w,N.h,null,null,_)};var g=function(t,e,n){var r=[];e=e||this.pdf.internal.pageSize.width,n=n||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var s=this.posY+this.ctx.prevPageLastElemOffset;switch(t.type){default:case"mt":case"lt":r.push(Math.floor((t.y+s)/n)+1);break;case"arc":r.push(Math.floor((t.y+s-t.radius)/n)+1),r.push(Math.floor((t.y+s+t.radius)/n)+1);break;case"qct":var i=M(this.ctx.lastPoint.x,this.ctx.lastPoint.y,t.x1,t.y1,t.x,t.y);r.push(Math.floor((i.y+s)/n)+1),r.push(Math.floor((i.y+i.h+s)/n)+1);break;case"bct":var a=O(this.ctx.lastPoint.x,this.ctx.lastPoint.y,t.x1,t.y1,t.x2,t.y2,t.x,t.y);r.push(Math.floor((a.y+s)/n)+1),r.push(Math.floor((a.y+a.h+s)/n)+1);break;case"rect":r.push(Math.floor((t.y+s)/n)+1),r.push(Math.floor((t.y+t.h+s)/n)+1)}for(var o=0;o<r.length;o+=1)for(;this.pdf.internal.getNumberOfPages()<r[o];)v.call(this);return r},v=function(){var t=this.fillStyle,e=this.strokeStyle,n=this.font,r=this.lineCap,s=this.lineWidth,i=this.lineJoin;this.pdf.addPage(),this.fillStyle=t,this.strokeStyle=e,this.font=n,this.lineCap=r,this.lineWidth=s,this.lineJoin=i},y=function(t,e,n){for(var r=0;r<t.length;r++)switch(t[r].type){case"bct":t[r].x2+=e,t[r].y2+=n;case"qct":t[r].x1+=e,t[r].y1+=n;default:t[r].x+=e,t[r].y+=n}return t},b=function(t){return t.sort(function(t,e){return t-e})},w=function(t,e){for(var n,r,s=this.fillStyle,i=this.strokeStyle,a=this.lineCap,o=this.lineWidth,l=Math.abs(o*this.ctx.transform.scaleX),c=this.lineJoin,u=JSON.parse(JSON.stringify(this.path)),h=JSON.parse(JSON.stringify(this.path)),d=[],f=0;f<h.length;f++)if(void 0!==h[f].x)for(var p=g.call(this,h[f]),w=0;w<p.length;w+=1)-1===d.indexOf(p[w])&&d.push(p[w]);for(var S=0;S<d.length;S++)for(;this.pdf.internal.getNumberOfPages()<d[S];)v.call(this);if(b(d),this.autoPaging)for(var _=d[0],A=d[d.length-1],N=_;N<A+1;N++){this.pdf.setPage(N),this.fillStyle=s,this.strokeStyle=i,this.lineCap=a,this.lineWidth=l,this.lineJoin=c;var E=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],k=1===N?this.posY+this.margin[0]:this.margin[0],C=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],L=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],T=1===N?0:C+(N-2)*L;if(0!==this.ctx.clip_path.length){var P=this.path;n=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(n,this.posX+this.margin[3],-T+k+this.ctx.prevPageLastElemOffset),x.call(this,t,!0),this.path=P}if(r=JSON.parse(JSON.stringify(u)),this.path=y(r,this.posX+this.margin[3],-T+k+this.ctx.prevPageLastElemOffset),!1===e||0===N){var I=(N>_||N<A)&&m.call(this);I&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],E,L,null).clip().discardPath()),x.call(this,t,e),I&&this.pdf.restoreGraphicsState()}this.lineWidth=o}else this.lineWidth=l,x.call(this,t,e),this.lineWidth=o;this.path=u},x=function(t,e){if(("stroke"!==t||e||!p.call(this))&&("stroke"===t||e||!f.call(this))){for(var n,r,s=[],i=this.path,a=0;a<i.length;a++){var o=i[a];switch(o.type){case"begin":s.push({begin:!0});break;case"close":s.push({close:!0});break;case"mt":s.push({start:o,deltas:[],abs:[]});break;case"lt":var l=s.length;if(i[a-1]&&!isNaN(i[a-1].x)&&(n=[o.x-i[a-1].x,o.y-i[a-1].y],l>0))for(;l>=0;l--)if(!0!==s[l-1].close&&!0!==s[l-1].begin){s[l-1].deltas.push(n),s[l-1].abs.push(o);break}break;case"bct":n=[o.x1-i[a-1].x,o.y1-i[a-1].y,o.x2-i[a-1].x,o.y2-i[a-1].y,o.x-i[a-1].x,o.y-i[a-1].y],s[s.length-1].deltas.push(n);break;case"qct":var c=i[a-1].x+2/3*(o.x1-i[a-1].x),u=i[a-1].y+2/3*(o.y1-i[a-1].y),h=o.x+2/3*(o.x1-o.x),d=o.y+2/3*(o.y1-o.y),m=o.x,g=o.y;n=[c-i[a-1].x,u-i[a-1].y,h-i[a-1].x,d-i[a-1].y,m-i[a-1].x,g-i[a-1].y],s[s.length-1].deltas.push(n);break;case"arc":s.push({deltas:[],abs:[],arc:!0}),Array.isArray(s[s.length-1].abs)&&s[s.length-1].abs.push(o)}}r=e?null:"stroke"===t?"stroke":"fill";for(var v=!1,y=0;y<s.length;y++)if(s[y].arc)for(var b=s[y].abs,w=0;w<b.length;w++){var x=b[w];"arc"===x.type?A.call(this,x.x,x.y,x.radius,x.startAngle,x.endAngle,x.counterclockwise,void 0,e,!v):L.call(this,x.x,x.y),v=!0}else if(!0===s[y].close)this.pdf.internal.out("h"),v=!1;else if(!0!==s[y].begin){var S=s[y].start.x,_=s[y].start.y;T.call(this,s[y].deltas,S,_),v=!0}r&&N.call(this,r),e&&E.call(this)}},S=function(t){var e=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,n=e*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return t-n;case"top":return t+e-n;case"hanging":return t+e-2*n;case"middle":return t+e/2-n;default:return t}},_=function(t){return t+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var t=function(){};return t.colorStops=[],t.addColorStop=function(t,e){this.colorStops.push([t,e])},t.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},t.isCanvasGradient=!0,t},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var A=function(t,e,n,r,s,i,a,o,l){for(var c=I.call(this,n,r,s,i),u=0;u<c.length;u++){var h=c[u];0===u&&(l?k.call(this,h.x1+t,h.y1+e):L.call(this,h.x1+t,h.y1+e)),P.call(this,t,e,h.x2,h.y2,h.x3,h.y3,h.x4,h.y4)}o?E.call(this):N.call(this,a)},N=function(t){switch(t){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},E=function(){this.pdf.clip(),this.pdf.discardPath()},k=function(t,e){this.pdf.internal.out(n(t)+" "+r(e)+" m")},C=function(t){var e;switch(t.align){case"right":case"end":e="right";break;case"center":e="center";break;default:e="left"}var n=this.pdf.getTextDimensions(t.text),r=S.call(this,t.y),s=_.call(this,r)-n.h,i=this.ctx.transform.applyToPoint(new a(t.x,r)),c=this.ctx.transform.decompose(),u=new l;u=(u=(u=u.multiply(c.translate)).multiply(c.skew)).multiply(c.scale);for(var h,d,f,p=this.ctx.transform.applyToRectangle(new o(t.x,r,n.w,n.h)),v=u.applyToRectangle(new o(t.x,s,n.w,n.h)),w=g.call(this,v),A=[],N=0;N<w.length;N+=1)-1===A.indexOf(w[N])&&A.push(w[N]);if(b(A),this.autoPaging)for(var E=A[0],k=A[A.length-1],C=E;C<k+1;C++){this.pdf.setPage(C);var L=1===C?this.posY+this.margin[0]:this.margin[0],T=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],P=this.pdf.internal.pageSize.height-this.margin[2],I=P-this.margin[0],D=this.pdf.internal.pageSize.width-this.margin[1],F=D-this.margin[3],M=1===C?0:T+(C-2)*I;if(0!==this.ctx.clip_path.length){var O=this.path;h=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(h,this.posX+this.margin[3],-1*M+L),x.call(this,"fill",!0),this.path=O}var R=y([JSON.parse(JSON.stringify(v))],this.posX+this.margin[3],-M+L+this.ctx.prevPageLastElemOffset)[0];t.scale>=.01&&(d=this.pdf.internal.getFontSize(),this.pdf.setFontSize(d*t.scale),f=this.lineWidth,this.lineWidth=f*t.scale);var j="text"!==this.autoPaging;if(j||R.y+R.h<=P){if(j||R.y>=L&&R.x<=D){var B=j?t.text:this.pdf.splitTextToSize(t.text,t.maxWidth||D-R.x)[0],q=y([JSON.parse(JSON.stringify(p))],this.posX+this.margin[3],-M+L+this.ctx.prevPageLastElemOffset)[0],U=j&&(C>E||C<k)&&m.call(this);U&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],F,I,null).clip().discardPath()),this.pdf.text(B,q.x,q.y,{angle:t.angle,align:e,renderingMode:t.renderingMode}),U&&this.pdf.restoreGraphicsState()}}else R.y<P&&(this.ctx.prevPageLastElemOffset+=P-R.y);t.scale>=.01&&(this.pdf.setFontSize(d),this.lineWidth=f)}else t.scale>=.01&&(d=this.pdf.internal.getFontSize(),this.pdf.setFontSize(d*t.scale),f=this.lineWidth,this.lineWidth=f*t.scale),this.pdf.text(t.text,i.x+this.posX,i.y+this.posY,{angle:t.angle,align:e,renderingMode:t.renderingMode,maxWidth:t.maxWidth}),t.scale>=.01&&(this.pdf.setFontSize(d),this.lineWidth=f)},L=function(t,e,s,i){s=s||0,i=i||0,this.pdf.internal.out(n(t+s)+" "+r(e+i)+" l")},T=function(t,e,n){return this.pdf.lines(t,e,n,null,null)},P=function(t,n,r,a,o,l,c,u){this.pdf.internal.out([e(s(r+t)),e(i(a+n)),e(s(o+t)),e(i(l+n)),e(s(c+t)),e(i(u+n)),"c"].join(" "))},I=function(t,e,n,r){for(var s=2*Math.PI,i=Math.PI/2;e>n;)e-=s;var a=Math.abs(n-e);a<s&&r&&(a=s-a);for(var o=[],l=r?-1:1,c=e;a>1e-5;){var u=c+l*Math.min(a,i);o.push(D.call(this,t,c,u)),a-=Math.abs(u-c),c=u}return o},D=function(t,e,n){var r=(n-e)/2,s=t*Math.cos(r),i=t*Math.sin(r),a=s,o=-i,l=a*a+o*o,c=l+a*s+o*i,u=4/3*(Math.sqrt(2*l*c)-c)/(a*i-o*s),h=a-u*o,d=o+u*a,f=h,p=-d,m=r+e,g=Math.cos(m),v=Math.sin(m);return{x1:t*Math.cos(e),y1:t*Math.sin(e),x2:h*g-d*v,y2:h*v+d*g,x3:f*g-p*v,y3:f*v+p*g,x4:t*Math.cos(n),y4:t*Math.sin(n)}},F=function(t){return 180*t/Math.PI},M=function(t,e,n,r,s,i){var a=t+.5*(n-t),l=e+.5*(r-e),c=s+.5*(n-s),u=i+.5*(r-i),h=Math.min(t,s,a,c),d=Math.max(t,s,a,c),f=Math.min(e,i,l,u),p=Math.max(e,i,l,u);return new o(h,f,d-h,p-f)},O=function(t,e,n,r,s,i,a,l){var c,u,h,d,f,p,m,g,v,y,b,w,x,S,_=n-t,A=r-e,N=s-n,E=i-r,k=a-s,C=l-i;for(u=0;u<41;u++)v=(m=(h=t+(c=u/40)*_)+c*((f=n+c*N)-h))+c*(f+c*(s+c*k-f)-m),y=(g=(d=e+c*A)+c*((p=r+c*E)-d))+c*(p+c*(i+c*C-p)-g),0==u?(b=v,w=y,x=v,S=y):(b=Math.min(b,v),w=Math.min(w,y),x=Math.max(x,v),S=Math.max(S,y));return new o(Math.round(b),Math.round(w),Math.round(x-b),Math.round(S-w))},R=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var t,e,n=(t=this.ctx.lineDash,e=this.ctx.lineDashOffset,JSON.stringify({lineDash:t,lineDashOffset:e}));this.prevLineDash!==n&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=n)}}}(aN.API),
/**
 * @license
 * jsPDF filters PlugIn
 * Copyright (c) 2014 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(t){var e=function(t){var e,n,r,s,i,a,o,l,c,u;for(n=[],r=0,s=(t+=e="\0\0\0\0".slice(t.length%4||4)).length;s>r;r+=4)0!==(i=(t.charCodeAt(r)<<24)+(t.charCodeAt(r+1)<<16)+(t.charCodeAt(r+2)<<8)+t.charCodeAt(r+3))?(a=(i=((i=((i=((i=(i-(u=i%85))/85)-(c=i%85))/85)-(l=i%85))/85)-(o=i%85))/85)%85,n.push(a+33,o+33,l+33,c+33,u+33)):n.push(122);return function(t,e){for(var n=e;n>0;n--)t.pop()}(n,e.length),String.fromCharCode.apply(String,n)+"~>"},n=function(t){var e,n,r,s,i,a=String,o="length",l=255,c="charCodeAt",u="slice",h="replace";for(t[u](-2),t=t[u](0,-2)[h](/\s/g,"")[h]("z","!!!!!"),r=[],s=0,i=(t+=e="uuuuu"[u](t[o]%5||5))[o];i>s;s+=5)n=52200625*(t[c](s)-33)+614125*(t[c](s+1)-33)+7225*(t[c](s+2)-33)+85*(t[c](s+3)-33)+(t[c](s+4)-33),r.push(l&n>>24,l&n>>16,l&n>>8,l&n);return function(t,e){for(var n=e;n>0;n--)t.pop()}(r,e[o]),a.fromCharCode.apply(a,r)},r=function(t){var e=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(t=t.replace(/\s/g,"")).indexOf(">")&&(t=t.substr(0,t.indexOf(">"))),t.length%2&&(t+="0"),!1===e.test(t))return"";for(var n="",r=0;r<t.length;r+=2)n+=String.fromCharCode("0x"+(t[r]+t[r+1]));return n},s=function(t){for(var e=new Uint8Array(t.length),n=t.length;n--;)e[n]=t.charCodeAt(n);return(e=AA(e)).reduce(function(t,e){return t+String.fromCharCode(e)},"")};t.processDataByFilters=function(t,i){var a=0,o=t||"",l=[];for("string"==typeof(i=i||[])&&(i=[i]),a=0;a<i.length;a+=1)switch(i[a]){case"ASCII85Decode":case"/ASCII85Decode":o=n(o),l.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":o=e(o),l.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":o=r(o),l.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":o=o.split("").map(function(t){return("0"+t.charCodeAt().toString(16)).slice(-2)}).join("")+">",l.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":o=s(o),l.push("/FlateDecode");break;default:throw new Error('The filter: "'+i[a]+'" is not implemented')}return{data:o,reverseChain:l.reverse().join(" ")}}}(aN.API),
/**
 * @license
 * jsPDF fileloading PlugIn
 * Copyright (c) 2018 Aras Abbasi (aras.abbasi@gmail.com)
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(t){t.loadFile=function(t,e,n){return function(t,e,n){e=!1!==e,n="function"==typeof n?n:function(){};var r=void 0;try{r=function(t,e,n){var r=new XMLHttpRequest,s=0,i=function(t){var e=t.length,n=[],r=String.fromCharCode;for(s=0;s<e;s+=1)n.push(r(255&t.charCodeAt(s)));return n.join("")};if(r.open("GET",t,!e),r.overrideMimeType("text/plain; charset=x-user-defined"),!1===e&&(r.onload=function(){200===r.status?n(i(this.responseText)):n(void 0)}),r.send(null),e&&200===r.status)return i(r.responseText)}(t,e,n)}catch(s){}return r}(t,e,n)},t.loadImageFile=t.loadFile}(aN.API),function(t){function e(){return(kA.html2canvas?Promise.resolve(kA.html2canvas):D_(()=>import("./html2canvas.esm-BTH0Ap93.js"),[])).catch(function(t){return Promise.reject(new Error("Could not load html2canvas: "+t))}).then(function(t){return t.default?t.default:t})}function n(){return(kA.DOMPurify?Promise.resolve(kA.DOMPurify):D_(()=>import("./purify.es-TwCFItbS.js"),[])).catch(function(t){return Promise.reject(new Error("Could not load dompurify: "+t))}).then(function(t){return t.default?t.default:t})}var r=function(t){var e=F_(t);return"undefined"===e?"undefined":"string"===e||t instanceof String?"string":"number"===e||t instanceof Number?"number":"function"===e||t instanceof Function?"function":t&&t.constructor===Array?"array":t&&1===t.nodeType?"element":"object"===e?"object":"unknown"},s=function(t,e){var n=document.createElement(t);for(var r in e.className&&(n.className=e.className),e.innerHTML&&e.dompurify&&(n.innerHTML=e.dompurify.sanitize(e.innerHTML)),e.style)n.style[r]=e.style[r];return n},i=function t(e){var n=Object.assign(t.convert(Promise.resolve()),JSON.parse(JSON.stringify(t.template))),r=t.convert(Promise.resolve(),n);return(r=r.setProgress(1,t,1,[t])).set(e)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(t,e){return t.__proto__=e||i.prototype,t},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(t,e){return this.then(function(){switch(e=e||function(t){switch(r(t)){case"string":return"string";case"element":return"canvas"===t.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(t)){case"string":return this.then(n).then(function(e){return this.set({src:s("div",{innerHTML:t,dompurify:e})})});case"element":return this.set({src:t});case"canvas":return this.set({canvas:t});case"img":return this.set({img:t});default:return this.error("Unknown source type.")}})},i.prototype.to=function(t){switch(t){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var t={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},e=function t(e,n){for(var r=3===e.nodeType?document.createTextNode(e.nodeValue):e.cloneNode(!1),s=e.firstChild;s;s=s.nextSibling)!0!==n&&1===s.nodeType&&"SCRIPT"===s.nodeName||r.appendChild(t(s,n));return 1===e.nodeType&&("CANVAS"===e.nodeName?(r.width=e.width,r.height=e.height,r.getContext("2d").drawImage(e,0,0)):"TEXTAREA"!==e.nodeName&&"SELECT"!==e.nodeName||(r.value=e.value),r.addEventListener("load",function(){r.scrollTop=e.scrollTop,r.scrollLeft=e.scrollLeft},!0)),r}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===e.tagName&&(t.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:t}),this.prop.container.appendChild(e),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var t=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(t).then(e).then(function(t){var e=Object.assign({},this.opt.html2canvas);return delete e.onrendered,t(this.prop.container,e)}).then(function(t){(this.opt.html2canvas.onrendered||function(){})(t),this.prop.canvas=t,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var t=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(t).then(e).then(function(t){var e=this.opt.jsPDF,n=this.opt.fontFaces,r="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,s=Object.assign({async:!0,allowTaint:!0,scale:r,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete s.onrendered,e.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,e.context2d.posX=this.opt.x,e.context2d.posY=this.opt.y,e.context2d.margin=this.opt.margin,e.context2d.fontFaces=n,n)for(var i=0;i<n.length;++i){var a=n[i],o=a.src.find(function(t){return"truetype"===t.format});o&&e.addFont(o.url,a.ref.name,a.ref.style)}return s.windowHeight=s.windowHeight||0,s.windowHeight=0==s.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):s.windowHeight,e.context2d.save(!0),t(this.prop.container,s)}).then(function(t){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(t),this.prop.canvas=t,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var t=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=t})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(t,e,n){return"img"===(n=n||"pdf").toLowerCase()||"image"===n.toLowerCase()?this.outputImg(t,e):this.outputPdf(t,e)},i.prototype.outputPdf=function(t,e){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(t,e)})},i.prototype.outputImg=function(t){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(t){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+t+'" is not supported.'}})},i.prototype.save=function(t){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(t?{filename:t}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(t){if("object"!==r(t))return this;var e=Object.keys(t||{}).map(function(e){if(e in i.template.prop)return function(){this.prop[e]=t[e]};switch(e){case"margin":return this.setMargin.bind(this,t.margin);case"jsPDF":return function(){return this.opt.jsPDF=t.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,t.pageSize);default:return function(){this.opt[e]=t[e]}}},this);return this.then(function(){return this.thenList(e)})},i.prototype.get=function(t,e){return this.then(function(){var n=t in i.template.prop?this.prop[t]:this.opt[t];return e?e(n):n})},i.prototype.setMargin=function(t){return this.then(function(){switch(r(t)){case"number":t=[t,t,t,t];case"array":if(2===t.length&&(t=[t[0],t[1],t[0],t[1]]),4===t.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=t}).then(this.setPageSize)},i.prototype.setPageSize=function(t){function e(t,e){return Math.floor(t*e/72*96)}return this.then(function(){(t=t||aN.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(t.inner={width:t.width-this.opt.margin[1]-this.opt.margin[3],height:t.height-this.opt.margin[0]-this.opt.margin[2]},t.inner.px={width:e(t.inner.width,t.k),height:e(t.inner.height,t.k)},t.inner.ratio=t.inner.height/t.inner.width),this.prop.pageSize=t})},i.prototype.setProgress=function(t,e,n,r){return null!=t&&(this.progress.val=t),null!=e&&(this.progress.state=e),null!=n&&(this.progress.n=n),null!=r&&(this.progress.stack=r),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(t,e,n,r){return this.setProgress(t?this.progress.val+t:null,e||null,n?this.progress.n+n:null,r?this.progress.stack.concat(r):null)},i.prototype.then=function(t,e){var n=this;return this.thenCore(t,e,function(t,e){return n.updateProgress(null,null,1,[t]),Promise.prototype.then.call(this,function(e){return n.updateProgress(null,t),e}).then(t,e).then(function(t){return n.updateProgress(1),t})})},i.prototype.thenCore=function(t,e,n){n=n||Promise.prototype.then,t&&(t=t.bind(this)),e&&(e=e.bind(this));var r=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?this:i.convert(Object.assign({},this),Promise.prototype),s=n.call(r,t,e);return i.convert(s,this.__proto__)},i.prototype.thenExternal=function(t,e){return Promise.prototype.then.call(this,t,e)},i.prototype.thenList=function(t){var e=this;return t.forEach(function(t){e=e.thenCore(t)}),e},i.prototype.catch=function(t){t&&(t=t.bind(this));var e=Promise.prototype.catch.call(this,t);return i.convert(e,this)},i.prototype.catchExternal=function(t){return Promise.prototype.catch.call(this,t)},i.prototype.error=function(t){return this.then(function(){throw new Error(t)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,aN.getPageSize=function(t,e,n){if("object"===F_(t)){var r=t;t=r.orientation,e=r.unit||e,n=r.format||n}e=e||"mm",n=n||"a4",t=(""+(t||"P")).toLowerCase();var s,i=(""+n).toLowerCase(),a={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(e){case"pt":s=1;break;case"mm":s=72/25.4;break;case"cm":s=72/2.54;break;case"in":s=72;break;case"px":s=.75;break;case"pc":case"em":s=12;break;case"ex":s=6;break;default:throw"Invalid unit: "+e}var o,l=0,c=0;if(a.hasOwnProperty(i))l=a[i][1]/s,c=a[i][0]/s;else try{l=n[1],c=n[0]}catch(KN){throw new Error("Invalid format: "+n)}if("p"===t||"portrait"===t)t="p",c>l&&(o=c,c=l,l=o);else{if("l"!==t&&"landscape"!==t)throw"Invalid orientation: "+t;t="l",l>c&&(o=c,c=l,l=o)}return{width:c,height:l,unit:e,k:s,orientation:t}},t.html=function(t,e){(e=e||{}).callback=e.callback||function(){},e.html2canvas=e.html2canvas||{},e.html2canvas.canvas=e.html2canvas.canvas||this.canvas,e.jsPDF=e.jsPDF||this,e.fontFaces=e.fontFaces?e.fontFaces.map(rE):null;var n=new i(e);return e.worker?n:n.from(t).doCallback()}}(aN.API),aN.API.addJS=function(t){return fE=t,this.internal.events.subscribe("postPutResources",function(){hE=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(hE+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),dE=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+fE+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==hE&&void 0!==dE&&this.internal.out("/Names <</JavaScript "+hE+" 0 R>>")}),this},
/**
 * @license
 * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(t){var e;t.events.push(["postPutResources",function(){var t=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=t.outline.render().split(/\r\n/),s=0;s<r.length;s++){var i=r[s],a=n.exec(i);if(null!=a){var o=a[1];t.internal.newObjectDeferredBegin(o,!1)}t.internal.write(i)}if(this.outline.createNamedDestinations){var l=this.internal.pages.length,c=[];for(s=0;s<l;s++){var u=t.internal.newObject();c.push(u);var h=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var d=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<c.length;s++)t.internal.write("(page_"+(s+1)+")"+c[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+d+" 0 R"),t.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(t,e,n){var r={title:e,options:n,children:[]};return null==t&&(t=this.root),t.children.push(r),r},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(e){e.id=t.internal.newObjectDeferred();for(var n=0;n<e.children.length;n++)this.genIds_r(e.children[n])},t.outline.renderRoot=function(t){this.objStart(t),this.line("/Type /Outlines"),t.children.length>0&&(this.line("/First "+this.makeRef(t.children[0])),this.line("/Last "+this.makeRef(t.children[t.children.length-1]))),this.line("/Count "+this.count_r({count:0},t)),this.objEnd()},t.outline.renderItems=function(e){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,r=0;r<e.children.length;r++){var s=e.children[r];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(e)),r>0&&this.line("/Prev "+this.makeRef(e.children[r-1])),r<e.children.length-1&&this.line("/Next "+this.makeRef(e.children[r+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var i=this.count=this.count_r({count:0},s);if(i>0&&this.line("/Count "+i),s.options&&s.options.pageNumber){var a=t.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+a.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var o=0;o<e.children.length;o++)this.renderItems(e.children[o])},t.outline.line=function(t){this.ctx.val+=t+"\r\n"},t.outline.makeRef=function(t){return t.id+" 0 R"},t.outline.makeString=function(e){return"("+t.internal.pdfEscape(e)+")"},t.outline.objStart=function(t){this.ctx.val+="\r\n"+t.id+" 0 obj\r\n<<\r\n"},t.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},t.outline.count_r=function(t,e){for(var n=0;n<e.children.length;n++)t.count++,this.count_r(t,e.children[n]);return t.count}}])}(aN.API),
/**
 * @license
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(t,n,r,s,i,a){var o,l=this.decode.DCT_DECODE,c=null;if("string"==typeof t||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=i||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(o=function(t){for(var n,r=256*t.charCodeAt(4)+t.charCodeAt(5),s=t.length,i={width:0,height:0,numcomponents:1},a=4;a<s;a+=2){if(a+=r,-1!==e.indexOf(t.charCodeAt(a+1))){n=256*t.charCodeAt(a+5)+t.charCodeAt(a+6),i={width:256*t.charCodeAt(a+7)+t.charCodeAt(a+8),height:n,numcomponents:t.charCodeAt(a+9)};break}r=256*t.charCodeAt(a+2)+t.charCodeAt(a+3)}return i}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}c={data:t,width:o.width,height:o.height,colorSpace:a,bitsPerComponent:8,filter:l,index:n,alias:r}}return c}}(aN.API);var mE,gE,vE,yE,bE,wE=function(){var t,e,n;function r(t){var e,n,r,s,i,a,o,l,c,u,h,d,f,p;for(this.data=t,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},a=null;;){switch(e=this.readUInt32(),c=function(){var t,e;for(e=[],t=0;t<4;++t)e.push(String.fromCharCode(this.data[this.pos++]));return e}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(e);break;case"fcTL":a&&this.animation.frames.push(a),this.pos+=4,a={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},i=this.readUInt16(),s=this.readUInt16()||100,a.delay=1e3*i/s,a.disposeOp=this.data[this.pos++],a.blendOp=this.data[this.pos++],a.data=[];break;case"IDAT":case"fdAT":for("fdAT"===c&&(this.pos+=4,e-=4),t=(null!=a?a.data:void 0)||this.imgData,d=0;0<=e?d<e:d>e;0<=e?++d:--d)t.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(r=this.palette.length/3,this.transparency.indexed=this.read(e),this.transparency.indexed.length>r)throw new Error("More transparent colors than palette size");if((u=r-this.transparency.indexed.length)>0)for(f=0;0<=u?f<u:f>u;0<=u?++f:--f)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(e)[0];break;case 2:this.transparency.rgb=this.read(e)}break;case"tEXt":o=(h=this.read(e)).indexOf(0),l=String.fromCharCode.apply(String,h.slice(0,o)),this.text[l]=String.fromCharCode.apply(String,h.slice(o+1));break;case"IEND":return a&&this.animation.frames.push(a),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(p=this.colorType)||6===p,n=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*n,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=e}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(t){var e,n;for(n=[],e=0;0<=t?e<t:e>t;0<=t?++e:--e)n.push(this.data[this.pos++]);return n},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(t){var e=this.pixelBitlength/8,n=new Uint8Array(this.width*this.height*e),r=0,s=this;if(null==t&&(t=this.imgData),0===t.length)return new Uint8Array(0);function i(i,a,o,l){var c,u,h,d,f,p,m,g,v,y,b,w,x,S,_,A,N,E,k,C,L,T=Math.ceil((s.width-i)/o),P=Math.ceil((s.height-a)/l),I=s.width==T&&s.height==P;for(S=e*T,w=I?n:new Uint8Array(S*P),p=t.length,x=0,u=0;x<P&&r<p;){switch(t[r++]){case 0:for(d=N=0;N<S;d=N+=1)w[u++]=t[r++];break;case 1:for(d=E=0;E<S;d=E+=1)c=t[r++],f=d<e?0:w[u-e],w[u++]=(c+f)%256;break;case 2:for(d=k=0;k<S;d=k+=1)c=t[r++],h=(d-d%e)/e,_=x&&w[(x-1)*S+h*e+d%e],w[u++]=(_+c)%256;break;case 3:for(d=C=0;C<S;d=C+=1)c=t[r++],h=(d-d%e)/e,f=d<e?0:w[u-e],_=x&&w[(x-1)*S+h*e+d%e],w[u++]=(c+Math.floor((f+_)/2))%256;break;case 4:for(d=L=0;L<S;d=L+=1)c=t[r++],h=(d-d%e)/e,f=d<e?0:w[u-e],0===x?_=A=0:(_=w[(x-1)*S+h*e+d%e],A=h&&w[(x-1)*S+(h-1)*e+d%e]),m=f+_-A,g=Math.abs(m-f),y=Math.abs(m-_),b=Math.abs(m-A),v=g<=y&&g<=b?f:y<=b?_:A,w[u++]=(c+v)%256;break;default:throw new Error("Invalid filter algorithm: "+t[r-1])}if(!I){var D=((a+x*l)*s.width+i)*e,F=x*S;for(d=0;d<T;d+=1){for(var M=0;M<e;M+=1)n[D++]=w[F++];D+=(o-1)*e}}x++}}return t=NA(t),1==s.interlaceMethod?(i(0,0,8,8),i(4,0,8,8),i(0,4,4,8),i(2,0,4,4),i(0,2,2,4),i(1,0,2,2),i(0,1,1,2)):i(0,0,1,1),n},r.prototype.decodePalette=function(){var t,e,n,r,s,i,a,o,l;for(n=this.palette,i=this.transparency.indexed||[],s=new Uint8Array((i.length||0)+n.length),r=0,t=0,e=a=0,o=n.length;a<o;e=a+=3)s[r++]=n[e],s[r++]=n[e+1],s[r++]=n[e+2],s[r++]=null!=(l=i[t++])?l:255;return s},r.prototype.copyToImageData=function(t,e){var n,r,s,i,a,o,l,c,u,h,d;if(r=this.colors,u=null,n=this.hasAlphaChannel,this.palette.length&&(u=null!=(d=this._decodedPalette)?d:this._decodedPalette=this.decodePalette(),r=4,n=!0),c=(s=t.data||t).length,a=u||e,i=o=0,1===r)for(;i<c;)l=u?4*e[i/4]:o,h=a[l++],s[i++]=h,s[i++]=h,s[i++]=h,s[i++]=n?a[l++]:255,o=l;else for(;i<c;)l=u?4*e[i/4]:o,s[i++]=a[l++],s[i++]=a[l++],s[i++]=a[l++],s[i++]=n?a[l++]:255,o=l},r.prototype.decode=function(){var t;return t=new Uint8Array(this.width*this.height*4),this.copyToImageData(t,this.decodePixels()),t};var s=function(){if("[object Window]"===Object.prototype.toString.call(kA)){try{e=kA.document.createElement("canvas"),n=e.getContext("2d")}catch(t){return!1}return!0}return!1};return s(),t=function(t){var r;if(!0===s())return n.width=t.width,n.height=t.height,n.clearRect(0,0,t.width,t.height),n.putImageData(t,0,0),(r=new Image).src=e.toDataURL(),r;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(e){var n,r,s,i,a,o,l,c;if(this.animation){for(c=[],r=a=0,o=(l=this.animation.frames).length;a<o;r=++a)n=l[r],s=e.createImageData(n.width,n.height),i=this.decodePixels(new Uint8Array(n.data)),this.copyToImageData(s,i),n.imageData=s,c.push(n.image=t(s));return c}},r.prototype.renderFrame=function(t,e){var n,r,s;return n=(r=this.animation.frames)[e],s=r[e-1],0===e&&t.clearRect(0,0,this.width,this.height),1===(null!=s?s.disposeOp:void 0)?t.clearRect(s.xOffset,s.yOffset,s.width,s.height):2===(null!=s?s.disposeOp:void 0)&&t.putImageData(s.imageData,s.xOffset,s.yOffset),0===n.blendOp&&t.clearRect(n.xOffset,n.yOffset,n.width,n.height),t.drawImage(n.image,n.xOffset,n.yOffset)},r.prototype.animate=function(t){var e,n,r,s,i,a,o=this;return n=0,a=this.animation,s=a.numFrames,r=a.frames,i=a.numPlays,(e=function(){var a,l;if(a=n++%s,l=r[a],o.renderFrame(t,a),s>1&&n/s<i)return o.animation._timeout=setTimeout(e,l.delay)})()},r.prototype.stopAnimation=function(){var t;return clearTimeout(null!=(t=this.animation)?t._timeout:void 0)},r.prototype.render=function(t){var e,n;return t._png&&t._png.stopAnimation(),t._png=this,t.width=this.width,t.height=this.height,e=t.getContext("2d"),this.animation?(this.decodeFrames(e),this.animate(e)):(n=e.createImageData(this.width,this.height),this.copyToImageData(n,this.decodePixels()),e.putImageData(n,0,0))},r}();
/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */
/**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function xE(t){var e=0;if(71!==t[e++]||73!==t[e++]||70!==t[e++]||56!==t[e++]||56!=(t[e++]+1&253)||97!==t[e++])throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,s=t[e++],i=s>>7,a=1<<1+(7&s);t[e++],t[e++];var o=null,l=null;i&&(o=e,l=a,e+=3*a);var c=!0,u=[],h=0,d=null,f=0,p=null;for(this.width=n,this.height=r;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(11!==t[e]||78==t[e+1]&&69==t[e+2]&&84==t[e+3]&&83==t[e+4]&&67==t[e+5]&&65==t[e+6]&&80==t[e+7]&&69==t[e+8]&&50==t[e+9]&&46==t[e+10]&&48==t[e+11]&&3==t[e+12]&&1==t[e+13]&&0==t[e+16])e+=14,p=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((k=t[e++])>=0))throw Error("Invalid block size");if(0===k)break;e+=k}break;case 249:if(4!==t[e++]||0!==t[e+4])throw new Error("Invalid graphics extension block.");var m=t[e++];h=t[e++]|t[e++]<<8,d=t[e++],!(1&m)&&(d=null),f=m>>2&7,e++;break;case 254:for(;;){if(!((k=t[e++])>=0))throw Error("Invalid block size");if(0===k)break;e+=k}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var g=t[e++]|t[e++]<<8,v=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,w=t[e++],x=w>>6&1,S=1<<1+(7&w),_=o,A=l,N=!1;w>>7&&(N=!0,_=e,A=S,e+=3*S);var E=e;for(e++;;){var k;if(!((k=t[e++])>=0))throw Error("Invalid block size");if(0===k)break;e+=k}u.push({x:g,y:v,width:y,height:b,has_local_palette:N,palette_offset:_,palette_size:A,data_offset:E,data_length:e-E,transparent_index:d,interlaced:!!x,delay:h,disposal:f});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return p},this.frameInfo=function(t){if(t<0||t>=u.length)throw new Error("Frame index out of range.");return u[t]},this.decodeAndBlitFrameBGRA=function(e,r){var s=this.frameInfo(e),i=s.width*s.height,a=new Uint8Array(i);SE(t,s.data_offset,a,i);var o=s.palette_offset,l=s.transparent_index;null===l&&(l=256);var c=s.width,u=n-c,h=c,d=4*(s.y*n+s.x),f=4*((s.y+s.height)*n+s.x),p=d,m=4*u;!0===s.interlaced&&(m+=4*n*7);for(var g=8,v=0,y=a.length;v<y;++v){var b=a[v];if(0===h&&(h=c,(p+=m)>=f&&(m=4*u+4*n*(g-1),p=d+(c+u)*(g<<1),g>>=1)),b===l)p+=4;else{var w=t[o+3*b],x=t[o+3*b+1],S=t[o+3*b+2];r[p++]=S,r[p++]=x,r[p++]=w,r[p++]=255}--h}},this.decodeAndBlitFrameRGBA=function(e,r){var s=this.frameInfo(e),i=s.width*s.height,a=new Uint8Array(i);SE(t,s.data_offset,a,i);var o=s.palette_offset,l=s.transparent_index;null===l&&(l=256);var c=s.width,u=n-c,h=c,d=4*(s.y*n+s.x),f=4*((s.y+s.height)*n+s.x),p=d,m=4*u;!0===s.interlaced&&(m+=4*n*7);for(var g=8,v=0,y=a.length;v<y;++v){var b=a[v];if(0===h&&(h=c,(p+=m)>=f&&(m=4*u+4*n*(g-1),p=d+(c+u)*(g<<1),g>>=1)),b===l)p+=4;else{var w=t[o+3*b],x=t[o+3*b+1],S=t[o+3*b+2];r[p++]=w,r[p++]=x,r[p++]=S,r[p++]=255}--h}}}function SE(t,e,n,r){for(var s=t[e++],i=1<<s,a=i+1,o=a+1,l=s+1,c=(1<<l)-1,u=0,h=0,d=0,f=t[e++],p=new Int32Array(4096),m=null;;){for(;u<16&&0!==f;)h|=t[e++]<<u,u+=8,1===f?f=t[e++]:--f;if(u<l)break;var g=h&c;if(h>>=l,u-=l,g!==i){if(g===a)break;for(var v=g<o?g:m,y=0,b=v;b>i;)b=p[b]>>8,++y;var w=b;if(d+y+(v!==g?1:0)>r)return void LA.log("Warning, gif stream longer than expected.");n[d++]=w;var x=d+=y;for(v!==g&&(n[d++]=w),b=v;y--;)b=p[b],n[--x]=255&b,b>>=8;null!==m&&o<4096&&(p[o++]=m<<8|w,o>=c+1&&l<12&&(++l,c=c<<1|1)),m=g}else o=a+1,c=(1<<(l=s+1))-1,m=null}return d!==r&&LA.log("Warning, gif stream shorter than expected."),n
/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/}function _E(t){var e,n,r,s,i,a=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),h=new Array(65535),d=new Array(65535),f=new Array(64),p=new Array(64),m=[],g=0,v=7,y=new Array(64),b=new Array(64),w=new Array(64),x=new Array(256),S=new Array(2048),_=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],A=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],N=[0,1,2,3,4,5,6,7,8,9,10,11],E=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],k=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],C=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],T=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],P=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function I(t,e){for(var n=0,r=0,s=new Array,i=1;i<=16;i++){for(var a=1;a<=t[i];a++)s[e[r]]=[],s[e[r]][0]=n,s[e[r]][1]=i,r++,n++;n*=2}return s}function D(t){for(var e=t[0],n=t[1]-1;n>=0;)e&1<<n&&(g|=1<<v),n--,--v<0&&(255==g?(F(255),F(0)):F(g),v=7,g=0)}function F(t){m.push(t)}function M(t){F(t>>8&255),F(255&t)}function O(t,e,n,r,s){for(var i,a=s[0],o=s[240],l=function(t,e){var n,r,s,i,a,o,l,c,u,h,d=0;for(u=0;u<8;++u){n=t[d],r=t[d+1],s=t[d+2],i=t[d+3],a=t[d+4],o=t[d+5],l=t[d+6];var p=n+(c=t[d+7]),m=n-c,g=r+l,v=r-l,y=s+o,b=s-o,w=i+a,x=i-a,S=p+w,_=p-w,A=g+y,N=g-y;t[d]=S+A,t[d+4]=S-A;var E=.707106781*(N+_);t[d+2]=_+E,t[d+6]=_-E;var k=.382683433*((S=x+b)-(N=v+m)),C=.5411961*S+k,L=1.306562965*N+k,T=.707106781*(A=b+v),P=m+T,I=m-T;t[d+5]=I+C,t[d+3]=I-C,t[d+1]=P+L,t[d+7]=P-L,d+=8}for(d=0,u=0;u<8;++u){n=t[d],r=t[d+8],s=t[d+16],i=t[d+24],a=t[d+32],o=t[d+40],l=t[d+48];var D=n+(c=t[d+56]),F=n-c,M=r+l,O=r-l,R=s+o,j=s-o,B=i+a,q=i-a,U=D+B,V=D-B,z=M+R,H=M-R;t[d]=U+z,t[d+32]=U-z;var $=.707106781*(H+V);t[d+16]=V+$,t[d+48]=V-$;var W=.382683433*((U=q+j)-(H=O+F)),G=.5411961*U+W,K=1.306562965*H+W,Y=.707106781*(z=j+O),X=F+Y,Q=F-Y;t[d+40]=Q+G,t[d+24]=Q-G,t[d+8]=X+K,t[d+56]=X-K,d++}for(u=0;u<64;++u)h=t[u]*e[u],f[u]=h>0?h+.5|0:h-.5|0;return f}(t,e),c=0;c<64;++c)p[_[c]]=l[c];var u=p[0]-n;n=p[0],0==u?D(r[0]):(D(r[d[i=32767+u]]),D(h[i]));for(var m=63;m>0&&0==p[m];)m--;if(0==m)return D(a),n;for(var g,v=1;v<=m;){for(var y=v;0==p[v]&&v<=m;)++v;var b=v-y;if(b>=16){g=b>>4;for(var w=1;w<=g;++w)D(o);b&=15}i=32767+p[v],D(s[(b<<4)+d[i]]),D(h[i]),v++}return 63!=m&&D(a),n}function R(t){t=Math.min(Math.max(t,1),100),i!=t&&(function(t){for(var e=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;n<64;n++){var r=a((e[n]*t+50)/100);r=Math.min(Math.max(r,1),255),o[_[n]]=r}for(var s=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],i=0;i<64;i++){var h=a((s[i]*t+50)/100);h=Math.min(Math.max(h,1),255),l[_[i]]=h}for(var d=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],f=0,p=0;p<8;p++)for(var m=0;m<8;m++)c[f]=1/(o[_[f]]*d[p]*d[m]*8),u[f]=1/(l[_[f]]*d[p]*d[m]*8),f++}(t<50?Math.floor(5e3/t):Math.floor(200-2*t)),i=t)}this.encode=function(t,i){var a,h;i&&R(i),m=new Array,g=0,v=7,M(65496),M(65504),M(16),F(74),F(70),F(73),F(70),F(0),F(1),F(1),F(0),M(1),M(1),F(0),F(0),function(){M(65499),M(132),F(0);for(var t=0;t<64;t++)F(o[t]);F(1);for(var e=0;e<64;e++)F(l[e])}(),a=t.width,h=t.height,M(65472),M(17),F(8),M(h),M(a),F(3),F(1),F(17),F(0),F(2),F(17),F(1),F(3),F(17),F(1),function(){M(65476),M(418),F(0);for(var t=0;t<16;t++)F(A[t+1]);for(var e=0;e<=11;e++)F(N[e]);F(16);for(var n=0;n<16;n++)F(E[n+1]);for(var r=0;r<=161;r++)F(k[r]);F(1);for(var s=0;s<16;s++)F(C[s+1]);for(var i=0;i<=11;i++)F(L[i]);F(17);for(var a=0;a<16;a++)F(T[a+1]);for(var o=0;o<=161;o++)F(P[o])}(),M(65498),M(12),F(3),F(1),F(0),F(2),F(17),F(3),F(17),F(0),F(63),F(0);var d=0,f=0,p=0;g=0,v=7,this.encode.displayName="_encode_";for(var x,_,I,j,B,q,U,V,z,H=t.data,$=t.width,W=t.height,G=4*$,K=0;K<W;){for(x=0;x<G;){for(B=G*K+x,U=-1,V=0,z=0;z<64;z++)q=B+(V=z>>3)*G+(U=4*(7&z)),K+V>=W&&(q-=G*(K+1+V-W)),x+U>=G&&(q-=x+U-G+4),_=H[q++],I=H[q++],j=H[q++],y[z]=(S[_]+S[I+256|0]+S[j+512|0]>>16)-128,b[z]=(S[_+768|0]+S[I+1024|0]+S[j+1280|0]>>16)-128,w[z]=(S[_+1280|0]+S[I+1536|0]+S[j+1792|0]>>16)-128;d=O(y,c,d,e,r),f=O(b,u,f,n,s),p=O(w,u,p,n,s),x+=32}K+=8}if(v>=0){var Y=[];Y[1]=v+1,Y[0]=(1<<v+1)-1,D(Y)}return M(65497),new Uint8Array(m)},t=t||50,function(){for(var t=String.fromCharCode,e=0;e<256;e++)x[e]=t(e)}(),e=I(A,N),n=I(C,L),r=I(E,k),s=I(T,P),function(){for(var t=1,e=2,n=1;n<=15;n++){for(var r=t;r<e;r++)d[32767+r]=n,h[32767+r]=[],h[32767+r][1]=n,h[32767+r][0]=r;for(var s=-(e-1);s<=-t;s++)d[32767+s]=n,h[32767+s]=[],h[32767+s][1]=n,h[32767+s][0]=e-1+s;t<<=1,e<<=1}}(),function(){for(var t=0;t<256;t++)S[t]=19595*t,S[t+256|0]=38470*t,S[t+512|0]=7471*t+32768,S[t+768|0]=-11059*t,S[t+1024|0]=-21709*t,S[t+1280|0]=32768*t+8421375,S[t+1536|0]=-27439*t,S[t+1792|0]=-5329*t}(),R(t)}
/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function AE(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function NE(t){function e(t){if(!t)throw Error("assert :P")}function n(t,e,n){for(var r=0;4>r;r++)if(t[e+r]!=n.charCodeAt(r))return!0;return!1}function r(t,e,n,r,s){for(var i=0;i<s;i++)t[e+i]=n[r+i]}function s(t,e,n,r){for(var s=0;s<r;s++)t[e+s]=n}function i(t){return new Int32Array(t)}function a(t,e){for(var n=[],r=0;r<t;r++)n.push(new e);return n}function o(t,e){var n=[];return function t(n,r,s){for(var i=s[r],a=0;a<i&&(n.push(s.length>r+1?[]:new e),!(s.length<r+1));a++)t(n[a],r+1,s)}(n,0,t),n}var l=function(){var t=this;function l(t,e){for(var n=1<<e-1>>>0;t&n;)n>>>=1;return n?(t&n-1)+n:t}function c(t,n,r,s,i){e(!(s%r));do{t[n+(s-=r)]=i}while(0<s)}function u(t,n,r,s,a){if(e(2328>=a),512>=a)var o=i(512);else if(null==(o=i(a)))return 0;return function(t,n,r,s,a,o){var u,d,f=n,p=1<<r,m=i(16),g=i(16);for(e(0!=a),e(null!=s),e(null!=t),e(0<r),d=0;d<a;++d){if(15<s[d])return 0;++m[s[d]]}if(m[0]==a)return 0;for(g[1]=0,u=1;15>u;++u){if(m[u]>1<<u)return 0;g[u+1]=g[u]+m[u]}for(d=0;d<a;++d)u=s[d],0<s[d]&&(o[g[u]++]=d);if(1==g[15])return(s=new h).g=0,s.value=o[0],c(t,f,1,p,s),p;var v,y=-1,b=p-1,w=0,x=1,S=1,_=1<<r;for(d=0,u=1,a=2;u<=r;++u,a<<=1){if(x+=S<<=1,0>(S-=m[u]))return 0;for(;0<m[u];--m[u])(s=new h).g=u,s.value=o[d++],c(t,f+w,a,_,s),w=l(w,u)}for(u=r+1,a=2;15>=u;++u,a<<=1){if(x+=S<<=1,0>(S-=m[u]))return 0;for(;0<m[u];--m[u]){if(s=new h,(w&b)!=y){for(f+=_,v=1<<(y=u)-r;15>y&&!(0>=(v-=m[y]));)++y,v<<=1;p+=_=1<<(v=y-r),t[n+(y=w&b)].g=v+r,t[n+y].value=f-n-y}s.g=u-r,s.value=o[d++],c(t,f+(w>>r),a,_,s),w=l(w,u)}}return x!=2*g[15]-1?0:p}(t,n,r,s,a,o)}function h(){this.value=this.g=0}function d(){this.value=this.g=0}function f(){this.G=a(5,h),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(jn,d)}function p(t,n,r,s){e(null!=t),e(null!=n),e(2147483648>s),t.Ca=254,t.I=0,t.b=-8,t.Ka=0,t.oa=n,t.pa=r,t.Jd=n,t.Yc=r+s,t.Zc=4<=s?r+s-4+1:r,E(t)}function m(t,e){for(var n=0;0<e--;)n|=C(t,128)<<e;return n}function g(t,e){var n=m(t,e);return k(t)?-n:n}function v(t,n,r,s){var i,a=0;for(e(null!=t),e(null!=n),e(4294967288>s),t.Sb=s,t.Ra=0,t.u=0,t.h=0,4<s&&(s=4),i=0;i<s;++i)a+=n[r+i]<<8*i;t.Ra=a,t.bb=s,t.oa=n,t.pa=r}function y(t){for(;8<=t.u&&t.bb<t.Sb;)t.Ra>>>=8,t.Ra+=t.oa[t.pa+t.bb]<<Un-8>>>0,++t.bb,t.u-=8;_(t)&&(t.h=1,t.u=0)}function b(t,n){if(e(0<=n),!t.h&&n<=qn){var r=S(t)&Bn[n];return t.u+=n,y(t),r}return t.h=1,t.u=0}function w(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function x(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function S(t){return t.Ra>>>(t.u&Un-1)>>>0}function _(t){return e(t.bb<=t.Sb),t.h||t.bb==t.Sb&&t.u>Un}function A(t,e){t.u=e,t.h=_(t)}function N(t){t.u>=Vn&&(e(t.u>=Vn),y(t))}function E(t){e(null!=t&&null!=t.oa),t.pa<t.Zc?(t.I=(t.oa[t.pa++]|t.I<<8)>>>0,t.b+=8):(e(null!=t&&null!=t.oa),t.pa<t.Yc?(t.b+=8,t.I=t.oa[t.pa++]|t.I<<8):t.Ka?t.b=0:(t.I<<=8,t.b+=8,t.Ka=1))}function k(t){return m(t,1)}function C(t,e){var n=t.Ca;0>t.b&&E(t);var r=t.b,s=n*e>>>8,i=(t.I>>>r>s)+0;for(i?(n-=s,t.I-=s+1<<r>>>0):n=s+1,r=n,s=0;256<=r;)s+=8,r>>=8;return r=7^s+zn[r],t.b-=r,t.Ca=(n<<r)-1,i}function L(t,e,n){t[e+0]=n>>24&255,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=255&n}function T(t,e){return t[e+0]|t[e+1]<<8}function P(t,e){return T(t,e)|t[e+2]<<16}function I(t,e){return T(t,e)|T(t,e+2)<<16}function D(t,n){var r=1<<n;return e(null!=t),e(0<n),t.X=i(r),null==t.X?0:(t.Mb=32-n,t.Xa=n,1)}function F(t,n){e(null!=t),e(null!=n),e(t.Xa==n.Xa),r(n.X,0,t.X,0,1<<n.Xa)}function M(){this.X=[],this.Xa=this.Mb=0}function O(t,n,r,s){e(null!=r),e(null!=s);var i=r[0],a=s[0];return 0==i&&(i=(t*a+n/2)/n),0==a&&(a=(n*i+t/2)/t),0>=i||0>=a?0:(r[0]=i,s[0]=a,1)}function R(t,e){return t+(1<<e)-1>>>e}function j(t,e){return((4278255360&t)+(4278255360&e)>>>0&4278255360)+((16711935&t)+(16711935&e)>>>0&16711935)>>>0}function B(e,n){t[n]=function(n,r,s,i,a,o,l){var c;for(c=0;c<a;++c){var u=t[e](o[l+c-1],s,i+c);o[l+c]=j(n[r+c],u)}}}function q(){this.ud=this.hd=this.jd=0}function U(t,e){return((4278124286&(t^e))>>>1)+(t&e)>>>0}function V(t){return 0<=t&&256>t?t:0>t?0:255<t?255:void 0}function z(t,e){return V(t+(t-e+.5>>1))}function H(t,e,n){return Math.abs(e-n)-Math.abs(t-n)}function $(t,e,n,r,s,i,a){for(r=i[a-1],n=0;n<s;++n)i[a+n]=r=j(t[e+n],r)}function W(t,e,n,r,s){var i;for(i=0;i<n;++i){var a=t[e+i],o=a>>8&255,l=16711935&(l=(l=16711935&a)+((o<<16)+o));r[s+i]=(4278255360&a)+l>>>0}}function G(t,e){e.jd=255&t,e.hd=t>>8&255,e.ud=t>>16&255}function K(t,e,n,r,s,i){var a;for(a=0;a<r;++a){var o=e[n+a],l=o>>>8,c=o,u=255&(u=(u=o>>>16)+((t.jd<<24>>24)*(l<<24>>24)>>>5));c=255&(c=(c+=(t.hd<<24>>24)*(l<<24>>24)>>>5)+((t.ud<<24>>24)*(u<<24>>24)>>>5)),s[i+a]=(4278255360&o)+(u<<16)+c}}function Y(e,n,r,s,i){t[n]=function(t,e,n,r,a,o,l,c,u){for(r=l;r<c;++r)for(l=0;l<u;++l)a[o++]=i(n[s(t[e++])])},t[e]=function(e,n,a,o,l,c,u){var h=8>>e.b,d=e.Ea,f=e.K[0],p=e.w;if(8>h)for(e=(1<<e.b)-1,p=(1<<h)-1;n<a;++n){var m,g=0;for(m=0;m<d;++m)m&e||(g=s(o[l++])),c[u++]=i(f[g&p]),g>>=h}else t["VP8LMapColor"+r](o,l,f,p,c,u,n,a,d)}}function X(t,e,n,r,s){for(n=e+n;e<n;){var i=t[e++];r[s++]=i>>16&255,r[s++]=i>>8&255,r[s++]=255&i}}function Q(t,e,n,r,s){for(n=e+n;e<n;){var i=t[e++];r[s++]=i>>16&255,r[s++]=i>>8&255,r[s++]=255&i,r[s++]=i>>24&255}}function J(t,e,n,r,s){for(n=e+n;e<n;){var i=(a=t[e++])>>16&240|a>>12&15,a=240&a|a>>28&15;r[s++]=i,r[s++]=a}}function Z(t,e,n,r,s){for(n=e+n;e<n;){var i=(a=t[e++])>>16&248|a>>13&7,a=a>>5&224|a>>3&31;r[s++]=i,r[s++]=a}}function tt(t,e,n,r,s){for(n=e+n;e<n;){var i=t[e++];r[s++]=255&i,r[s++]=i>>8&255,r[s++]=i>>16&255}}function et(t,e,n,s,i,a){if(0==a)for(n=e+n;e<n;)L(s,((a=t[e++])[0]>>24|a[1]>>8&65280|a[2]<<8&16711680|a[3]<<24)>>>0),i+=32;else r(s,i,t,e,n)}function nt(e,n){t[n][0]=t[e+"0"],t[n][1]=t[e+"1"],t[n][2]=t[e+"2"],t[n][3]=t[e+"3"],t[n][4]=t[e+"4"],t[n][5]=t[e+"5"],t[n][6]=t[e+"6"],t[n][7]=t[e+"7"],t[n][8]=t[e+"8"],t[n][9]=t[e+"9"],t[n][10]=t[e+"10"],t[n][11]=t[e+"11"],t[n][12]=t[e+"12"],t[n][13]=t[e+"13"],t[n][14]=t[e+"0"],t[n][15]=t[e+"0"]}function rt(t){return t==Vr||t==zr||t==Hr||t==$r}function st(){this.eb=[],this.size=this.A=this.fb=0}function it(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function at(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new st,this.f.kb=new it,this.sd=null}function ot(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function lt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ct(t){return alert("todo:WebPSamplerProcessPlane"),t.T}function ut(t,e){var n=t.T,s=e.ba.f.RGBA,i=s.eb,a=s.fb+t.ka*s.A,o=gs[e.ba.S],l=t.y,c=t.O,u=t.f,h=t.N,d=t.ea,f=t.W,p=e.cc,m=e.dc,g=e.Mc,v=e.Nc,y=t.ka,b=t.ka+t.T,w=t.U,x=w+1>>1;for(0==y?o(l,c,null,null,u,h,d,f,u,h,d,f,i,a,null,null,w):(o(e.ec,e.fc,l,c,p,m,g,v,u,h,d,f,i,a-s.A,i,a,w),++n);y+2<b;y+=2)p=u,m=h,g=d,v=f,h+=t.Rc,f+=t.Rc,a+=2*s.A,o(l,(c+=2*t.fa)-t.fa,l,c,p,m,g,v,u,h,d,f,i,a-s.A,i,a,w);return c+=t.fa,t.j+b<t.o?(r(e.ec,e.fc,l,c,w),r(e.cc,e.dc,u,h,x),r(e.Mc,e.Nc,d,f,x),n--):1&b||o(l,c,null,null,u,h,d,f,u,h,d,f,i,a+s.A,null,null,w),n}function ht(t,n,r){var s=t.F,i=[t.J];if(null!=s){var a=t.U,o=n.ba.S,l=o==Br||o==Hr;n=n.ba.f.RGBA;var c=[0],u=t.ka;c[0]=t.T,t.Kb&&(0==u?--c[0]:(--u,i[0]-=t.width),t.j+t.ka+t.T==t.o&&(c[0]=t.o-t.j-u));var h=n.eb;u=n.fb+u*n.A,t=Ar(s,i[0],t.width,a,c,h,u+(l?0:3),n.A),e(r==c),t&&rt(o)&&Sr(h,u,l,a,c,n.A)}return 0}function dt(t){var e=t.ma,n=e.ba.S,r=11>n,s=n==Or||n==jr||n==Br||n==qr||12==n||rt(n);if(e.memory=null,e.Ib=null,e.Jb=null,e.Nd=null,!Mn(e.Oa,t,s?11:12))return 0;if(s&&rt(n)&&yn(),t.da)alert("todo:use_scaling");else{if(r){if(e.Ib=ct,t.Kb){if(n=t.U+1>>1,e.memory=i(t.U+2*n),null==e.memory)return 0;e.ec=e.memory,e.fc=0,e.cc=e.ec,e.dc=e.fc+t.U,e.Mc=e.cc,e.Nc=e.dc+n,e.Ib=ut,yn()}}else alert("todo:EmitYUV");s&&(e.Jb=ht,r&&gn())}if(r&&!Ls){for(t=0;256>t;++t)Ts[t]=89858*(t-128)+Ns>>As,Ds[t]=-22014*(t-128)+Ns,Is[t]=-45773*(t-128),Ps[t]=113618*(t-128)+Ns>>As;for(t=Es;t<ks;++t)e=76283*(t-16)+Ns>>As,Fs[t-Es]=$t(e,255),Ms[t-Es]=$t(e+8>>4,15);Ls=1}return 1}function ft(t){var n=t.ma,r=t.U,s=t.T;return e(!(1&t.ka)),0>=r||0>=s?0:(r=n.Ib(t,n),null!=n.Jb&&n.Jb(t,n,r),n.Dc+=r,1)}function pt(t){t.ma.memory=null}function mt(t,e,n,r){return 47!=b(t,8)?0:(e[0]=b(t,14)+1,n[0]=b(t,14)+1,r[0]=b(t,1),0!=b(t,3)?0:!t.h)}function gt(t,e){if(4>t)return t+1;var n=t-2>>1;return(2+(1&t)<<n)+b(e,n)+1}function vt(t,e){return 120<e?e-120:1<=(n=((n=Qr[e-1])>>4)*t+(8-(15&n)))?n:1;var n}function yt(t,e,n){var r=S(n),s=t[e+=255&r].g-8;return 0<s&&(A(n,n.u+8),r=S(n),e+=t[e].value,e+=r&(1<<s)-1),A(n,n.u+t[e].g),t[e].value}function bt(t,n,r){return r.g+=t.g,r.value+=t.value<<n>>>0,e(8>=r.g),t.g}function wt(t,n,r){var s=t.xc;return e((n=0==s?0:t.vc[t.md*(r>>s)+(n>>s)])<t.Wb),t.Ya[n]}function xt(t,n,s,i){var a=t.ab,o=t.c*n,l=t.C;n=l+n;var c=s,u=i;for(i=t.Ta,s=t.Ua;0<a--;){var h=t.gc[a],d=l,f=n,p=c,m=u,g=(u=i,c=s,h.Ea);switch(e(d<f),e(f<=h.nc),h.hc){case 2:Wn(p,m,(f-d)*g,u,c);break;case 0:var v=d,y=f,b=u,w=c,x=(E=h).Ea;0==v&&(Hn(p,m,null,null,1,b,w),$(p,m+1,0,0,x-1,b,w+1),m+=x,w+=x,++v);for(var S=1<<E.b,_=S-1,A=R(x,E.b),N=E.K,E=E.w+(v>>E.b)*A;v<y;){var k=N,C=E,L=1;for($n(p,m,b,w-x,1,b,w);L<x;){var T=(L&~_)+S;T>x&&(T=x),(0,Qn[k[C++]>>8&15])(p,m+ +L,b,w+L-x,T-L,b,w+L),L=T}m+=x,w+=x,++v&_||(E+=A)}f!=h.nc&&r(u,c-g,u,c+(f-d-1)*g,g);break;case 1:for(g=p,y=m,x=(p=h.Ea)-(w=p&~(b=(m=1<<h.b)-1)),v=R(p,h.b),S=h.K,h=h.w+(d>>h.b)*v;d<f;){for(_=S,A=h,N=new q,E=y+w,k=y+p;y<E;)G(_[A++],N),Jn(N,g,y,m,u,c),y+=m,c+=m;y<k&&(G(_[A++],N),Jn(N,g,y,x,u,c),y+=x,c+=x),++d&b||(h+=v)}break;case 3:if(p==u&&m==c&&0<h.b){for(y=u,p=g=c+(f-d)*g-(w=(f-d)*R(h.Ea,h.b)),m=u,b=c,v=[],w=(x=w)-1;0<=w;--w)v[w]=m[b+w];for(w=x-1;0<=w;--w)y[p+w]=v[w];Gn(h,d,f,u,g,u,c)}else Gn(h,d,f,p,m,u,c)}c=i,u=s}u!=s&&r(i,s,c,u,o)}function St(t,n){var r=t.V,s=t.Ba+t.c*t.C,i=n-t.C;if(e(n<=t.l.o),e(16>=i),0<i){var a=t.l,o=t.Ta,l=t.Ua,c=a.width;if(xt(t,i,r,s),i=l=[l],e((r=t.C)<(s=n)),e(a.v<a.va),s>a.o&&(s=a.o),r<a.j){var u=a.j-r;r=a.j,i[0]+=u*c}if(r>=s?r=0:(i[0]+=4*a.v,a.ka=r-a.j,a.U=a.va-a.v,a.T=s-r,r=1),r){if(l=l[0],11>(r=t.ca).S){var h=r.f.RGBA,d=(s=r.S,i=a.U,a=a.T,u=h.eb,h.A),f=a;for(h=h.fb+t.Ma*h.A;0<f--;){var p=o,m=l,g=i,v=u,y=h;switch(s){case Mr:Zn(p,m,g,v,y);break;case Or:tr(p,m,g,v,y);break;case Vr:tr(p,m,g,v,y),Sr(v,y,0,g,1,0);break;case Rr:rr(p,m,g,v,y);break;case jr:et(p,m,g,v,y,1);break;case zr:et(p,m,g,v,y,1),Sr(v,y,0,g,1,0);break;case Br:et(p,m,g,v,y,0);break;case Hr:et(p,m,g,v,y,0),Sr(v,y,1,g,1,0);break;case qr:er(p,m,g,v,y);break;case $r:er(p,m,g,v,y),_r(v,y,g,1,0);break;case Ur:nr(p,m,g,v,y);break;default:e(0)}l+=c,h+=d}t.Ma+=a}else alert("todo:EmitRescaledRowsYUVA");e(t.Ma<=r.height)}}t.C=n,e(t.C<=t.i)}function _t(t){var e;if(0<t.ua)return 0;for(e=0;e<t.Wb;++e){var n=t.Ya[e].G,r=t.Ya[e].H;if(0<n[1][r[1]+0].g||0<n[2][r[2]+0].g||0<n[3][r[3]+0].g)return 0}return 1}function At(t,n,r,s,i,a){if(0!=t.Z){var o=t.qd,l=t.rd;for(e(null!=ms[t.Z]);n<r;++n)ms[t.Z](o,l,s,i,s,i,a),o=s,l=i,i+=a;t.qd=o,t.rd=l}}function Nt(t,n){var r=t.l.ma,s=0==r.Z||1==r.Z?t.l.j:t.C;if(s=t.C<s?s:t.C,e(n<=t.l.o),n>s){var i=t.l.width,a=r.ca,o=r.tb+i*s,l=t.V,c=t.Ba+t.c*s,u=t.gc;e(1==t.ab),e(3==u[0].hc),Yn(u[0],s,n,l,c,a,o),At(r,s,n,a,o,i)}t.C=t.Ma=n}function Et(t,n,r,s,i,a,o){var l=t.$/s,c=t.$%s,u=t.m,h=t.s,d=r+t.$,f=d;i=r+s*i;var p=r+s*a,m=280+h.ua,g=t.Pb?l:16777216,v=0<h.ua?h.Wa:null,y=h.wc,b=d<p?wt(h,c,l):null;e(t.C<a),e(p<=i);var w=!1;t:for(;;){for(;w||d<p;){var x=0;if(l>=g){var E=d-r;e((g=t).Pb),g.wd=g.m,g.xd=E,0<g.s.ua&&F(g.s.Wa,g.s.vb),g=l+Zr}if(c&y||(b=wt(h,c,l)),e(null!=b),b.Qb&&(n[d]=b.qb,w=!0),!w)if(N(u),b.jc){x=u,E=n;var k=d,C=b.pd[S(x)&jn-1];e(b.jc),256>C.g?(A(x,x.u+C.g),E[k]=C.value,x=0):(A(x,x.u+C.g-256),e(256<=C.value),x=C.value),0==x&&(w=!0)}else x=yt(b.G[0],b.H[0],u);if(u.h)break;if(w||256>x){if(!w)if(b.nd)n[d]=(b.qb|x<<8)>>>0;else{if(N(u),w=yt(b.G[1],b.H[1],u),N(u),E=yt(b.G[2],b.H[2],u),k=yt(b.G[3],b.H[3],u),u.h)break;n[d]=(k<<24|w<<16|x<<8|E)>>>0}if(w=!1,++d,++c>=s&&(c=0,++l,null!=o&&l<=a&&!(l%16)&&o(t,l),null!=v))for(;f<d;)x=n[f++],v.X[(506832829*x&4294967295)>>>v.Mb]=x}else if(280>x){if(x=gt(x-256,u),E=yt(b.G[4],b.H[4],u),N(u),E=vt(s,E=gt(E,u)),u.h)break;if(d-r<E||i-d<x)break t;for(k=0;k<x;++k)n[d+k]=n[d+k-E];for(d+=x,c+=x;c>=s;)c-=s,++l,null!=o&&l<=a&&!(l%16)&&o(t,l);if(e(d<=i),c&y&&(b=wt(h,c,l)),null!=v)for(;f<d;)x=n[f++],v.X[(506832829*x&4294967295)>>>v.Mb]=x}else{if(!(x<m))break t;for(w=x-280,e(null!=v);f<d;)x=n[f++],v.X[(506832829*x&4294967295)>>>v.Mb]=x;x=d,e(!(w>>>(E=v).Xa)),n[x]=E.X[w],w=!0}w||e(u.h==_(u))}if(t.Pb&&u.h&&d<i)e(t.m.h),t.a=5,t.m=t.wd,t.$=t.xd,0<t.s.ua&&F(t.s.vb,t.s.Wa);else{if(u.h)break t;null!=o&&o(t,l>a?a:l),t.a=0,t.$=d-r}return 1}return t.a=3,0}function kt(t){e(null!=t),t.vc=null,t.yc=null,t.Ya=null;var n=t.Wa;null!=n&&(n.X=null),t.vb=null,e(null!=t)}function Ct(){var e=new an;return null==e?null:(e.a=0,e.xb=ps,nt("Predictor","VP8LPredictors"),nt("Predictor","VP8LPredictors_C"),nt("PredictorAdd","VP8LPredictorsAdd"),nt("PredictorAdd","VP8LPredictorsAdd_C"),Wn=W,Jn=K,Zn=X,tr=Q,er=J,nr=Z,rr=tt,t.VP8LMapColor32b=Kn,t.VP8LMapColor8b=Xn,e)}function Lt(t,n,r,o,l){var c=1,d=[t],p=[n],m=o.m,g=o.s,v=null,y=0;t:for(;;){if(r)for(;c&&b(m,1);){var w=d,x=p,_=o,E=1,k=_.m,C=_.gc[_.ab],L=b(k,2);if(_.Oc&1<<L)c=0;else{switch(_.Oc|=1<<L,C.hc=L,C.Ea=w[0],C.nc=x[0],C.K=[null],++_.ab,e(4>=_.ab),L){case 0:case 1:C.b=b(k,3)+2,E=Lt(R(C.Ea,C.b),R(C.nc,C.b),0,_,C.K),C.K=C.K[0];break;case 3:var T,P=b(k,8)+1,I=16<P?0:4<P?1:2<P?2:3;if(w[0]=R(C.Ea,I),C.b=I,T=E=Lt(P,1,0,_,C.K)){var F,M=P,O=C,B=1<<(8>>O.b),q=i(B);if(null==q)T=0;else{var U=O.K[0],V=O.w;for(q[0]=O.K[0][0],F=1;F<1*M;++F)q[F]=j(U[V+F],q[F-1]);for(;F<4*B;++F)q[F]=0;O.K[0]=null,O.K[0]=q,T=1}}E=T;break;case 2:break;default:e(0)}c=E}}if(d=d[0],p=p[0],c&&b(m,1)&&!(c=1<=(y=b(m,4))&&11>=y)){o.a=3;break t}var z;if(z=c)e:{var H,$,W,G=o,K=d,Y=p,X=y,Q=r,J=G.m,Z=G.s,tt=[null],et=1,nt=0,rt=Jr[X];n:for(;;){if(Q&&b(J,1)){var st=b(J,3)+2,it=R(K,st),at=R(Y,st),ot=it*at;if(!Lt(it,at,0,G,tt))break n;for(tt=tt[0],Z.xc=st,H=0;H<ot;++H){var lt=tt[H]>>8&65535;tt[H]=lt,lt>=et&&(et=lt+1)}}if(J.h)break n;for($=0;5>$;++$){var ct=Kr[$];!$&&0<X&&(ct+=1<<X),nt<ct&&(nt=ct)}var ut=a(et*rt,h),ht=et,dt=a(ht,f);if(null==dt)var ft=null;else e(65536>=ht),ft=dt;var pt=i(nt);if(null==ft||null==pt||null==ut){G.a=1;break n}var mt=ut;for(H=W=0;H<et;++H){var gt=ft[H],vt=gt.G,yt=gt.H,wt=0,xt=1,St=0;for($=0;5>$;++$){ct=Kr[$],vt[$]=mt,yt[$]=W,!$&&0<X&&(ct+=1<<X);r:{var _t,At=ct,Nt=G,Ct=pt,Tt=mt,Pt=W,It=0,Dt=Nt.m,Ft=b(Dt,1);if(s(Ct,0,0,At),Ft){var Mt=b(Dt,1)+1,Ot=b(Dt,1),Rt=b(Dt,0==Ot?1:8);Ct[Rt]=1,2==Mt&&(Ct[Rt=b(Dt,8)]=1);var jt=1}else{var Bt=i(19),qt=b(Dt,4)+4;if(19<qt){Nt.a=3;var Ut=0;break r}for(_t=0;_t<qt;++_t)Bt[Xr[_t]]=b(Dt,3);var Vt=void 0,zt=void 0,Ht=Nt,$t=Bt,Wt=At,Gt=Ct,Kt=0,Yt=Ht.m,Xt=8,Qt=a(128,h);s:for(;u(Qt,0,7,$t,19);){if(b(Yt,1)){var Jt=2+2*b(Yt,3);if((Vt=2+b(Yt,Jt))>Wt)break s}else Vt=Wt;for(zt=0;zt<Wt&&Vt--;){N(Yt);var Zt=Qt[0+(127&S(Yt))];A(Yt,Yt.u+Zt.g);var te=Zt.value;if(16>te)Gt[zt++]=te,0!=te&&(Xt=te);else{var ee=16==te,ne=te-16,re=Gr[ne],se=b(Yt,Wr[ne])+re;if(zt+se>Wt)break s;for(var ie=ee?Xt:0;0<se--;)Gt[zt++]=ie}}Kt=1;break s}Kt||(Ht.a=3),jt=Kt}(jt=jt&&!Dt.h)&&(It=u(Tt,Pt,8,Ct,At)),jt&&0!=It?Ut=It:(Nt.a=3,Ut=0)}if(0==Ut)break n;if(xt&&1==Yr[$]&&(xt=0==mt[W].g),wt+=mt[W].g,W+=Ut,3>=$){var ae,oe=pt[0];for(ae=1;ae<ct;++ae)pt[ae]>oe&&(oe=pt[ae]);St+=oe}}if(gt.nd=xt,gt.Qb=0,xt&&(gt.qb=(vt[3][yt[3]+0].value<<24|vt[1][yt[1]+0].value<<16|vt[2][yt[2]+0].value)>>>0,0==wt&&256>vt[0][yt[0]+0].value&&(gt.Qb=1,gt.qb+=vt[0][yt[0]+0].value<<8)),gt.jc=!gt.Qb&&6>St,gt.jc){var le,ce=gt;for(le=0;le<jn;++le){var ue=le,he=ce.pd[ue],de=ce.G[0][ce.H[0]+ue];256<=de.value?(he.g=de.g+256,he.value=de.value):(he.g=0,he.value=0,ue>>=bt(de,8,he),ue>>=bt(ce.G[1][ce.H[1]+ue],16,he),ue>>=bt(ce.G[2][ce.H[2]+ue],0,he),bt(ce.G[3][ce.H[3]+ue],24,he))}}}Z.vc=tt,Z.Wb=et,Z.Ya=ft,Z.yc=ut,z=1;break e}z=0}if(!(c=z)){o.a=3;break t}if(0<y){if(g.ua=1<<y,!D(g.Wa,y)){o.a=1,c=0;break t}}else g.ua=0;var fe=o,pe=d,me=p,ge=fe.s,ve=ge.xc;if(fe.c=pe,fe.i=me,ge.md=R(pe,ve),ge.wc=0==ve?-1:(1<<ve)-1,r){o.xb=fs;break t}if(null==(v=i(d*p))){o.a=1,c=0;break t}c=(c=Et(o,v,0,d,p,p,null))&&!m.h;break t}return c?(null!=l?l[0]=v:(e(null==v),e(r)),o.$=0,r||kt(g)):kt(g),c}function Tt(t,n){var r=t.c*t.i,s=r+n+16*n;return e(t.c<=n),t.V=i(s),null==t.V?(t.Ta=null,t.Ua=0,t.a=1,0):(t.Ta=t.V,t.Ua=t.Ba+r+n,1)}function Pt(t,n){var r=t.C,s=n-r,i=t.V,a=t.Ba+t.c*r;for(e(n<=t.l.o);0<s;){var o=16<s?16:s,l=t.l.ma,c=t.l.width,u=c*o,h=l.ca,d=l.tb+c*r,f=t.Ta,p=t.Ua;xt(t,o,i,a),Nr(f,p,h,d,u),At(l,r,r+o,h,d,c),s-=o,i+=o*t.c,r+=o}e(r==n),t.C=t.Ma=n}function It(){this.ub=this.yd=this.td=this.Rb=0}function Dt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ft(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Mt(){var t;this.Yb=(function t(e,n,r){for(var s=r[n],i=0;i<s&&(e.push(r.length>n+1?[]:0),!(r.length<n+1));i++)t(e[i],n+1,r)}(t=[],0,[3,11]),t)}function Ot(){this.jb=i(3),this.Wc=o([4,8],Mt),this.Xc=o([4,17],Mt)}function Rt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function jt(){this.ld=this.La=this.dd=this.tc=0}function Bt(){this.Na=this.la=0}function qt(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ut(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Vt(){this.uc=this.M=this.Nb=0,this.wa=Array(new jt),this.Y=0,this.ya=Array(new Ut),this.aa=0,this.l=new Wt}function zt(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Ht(){this.cb=this.a=0,this.sc="",this.m=new w,this.Od=new It,this.Kc=new Dt,this.ed=new Rt,this.Qa=new Ft,this.Ic=this.$c=this.Aa=0,this.D=new Vt,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,w),this.ia=0,this.pb=a(4,qt),this.Pa=new Ot,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new zt),this.Hd=0,this.rb=Array(new Bt),this.sb=0,this.wa=Array(new jt),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ut),this.L=this.aa=0,this.gd=o([4,2],jt),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function $t(t,e){return 0>t?0:t>e?e:t}function Wt(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Gt(){var t=new Ht;return null!=t&&(t.a=0,t.sc="OK",t.cb=0,t.Xb=0,ns||(ns=Qt)),t}function Kt(t,e,n){return 0==t.a&&(t.a=e,t.sc=n,t.cb=0),0}function Yt(t,e,n){return 3<=n&&157==t[e+0]&&1==t[e+1]&&42==t[e+2]}function Xt(t,n){if(null==t)return 0;if(t.a=0,t.sc="OK",null==n)return Kt(t,2,"null VP8Io passed to VP8GetHeaders()");var r=n.data,i=n.w,a=n.ha;if(4>a)return Kt(t,7,"Truncated header.");var o=r[i+0]|r[i+1]<<8|r[i+2]<<16,l=t.Od;if(l.Rb=!(1&o),l.td=o>>1&7,l.yd=o>>4&1,l.ub=o>>5,3<l.td)return Kt(t,3,"Incorrect keyframe parameters.");if(!l.yd)return Kt(t,4,"Frame not displayable.");i+=3,a-=3;var c=t.Kc;if(l.Rb){if(7>a)return Kt(t,7,"cannot parse picture header");if(!Yt(r,i,a))return Kt(t,3,"Bad code word");c.c=16383&(r[i+4]<<8|r[i+3]),c.Td=r[i+4]>>6,c.i=16383&(r[i+6]<<8|r[i+5]),c.Ud=r[i+6]>>6,i+=7,a-=7,t.za=c.c+15>>4,t.Ub=c.i+15>>4,n.width=c.c,n.height=c.i,n.Da=0,n.j=0,n.v=0,n.va=n.width,n.o=n.height,n.da=0,n.ib=n.width,n.hb=n.height,n.U=n.width,n.T=n.height,s((o=t.Pa).jb,0,255,o.jb.length),e(null!=(o=t.Qa)),o.Cb=0,o.Bb=0,o.Fb=1,s(o.Zb,0,0,o.Zb.length),s(o.Lb,0,0,o.Lb)}if(l.ub>a)return Kt(t,7,"bad partition length");p(o=t.m,r,i,l.ub),i+=l.ub,a-=l.ub,l.Rb&&(c.Ld=k(o),c.Kd=k(o)),c=t.Qa;var u,h=t.Pa;if(e(null!=o),e(null!=c),c.Cb=k(o),c.Cb){if(c.Bb=k(o),k(o)){for(c.Fb=k(o),u=0;4>u;++u)c.Zb[u]=k(o)?g(o,7):0;for(u=0;4>u;++u)c.Lb[u]=k(o)?g(o,6):0}if(c.Bb)for(u=0;3>u;++u)h.jb[u]=k(o)?m(o,8):255}else c.Bb=0;if(o.Ka)return Kt(t,3,"cannot parse segment header");if((c=t.ed).zd=k(o),c.Tb=m(o,6),c.wb=m(o,3),c.Pc=k(o),c.Pc&&k(o)){for(h=0;4>h;++h)k(o)&&(c.vd[h]=g(o,6));for(h=0;4>h;++h)k(o)&&(c.od[h]=g(o,6))}if(t.L=0==c.Tb?0:c.zd?1:2,o.Ka)return Kt(t,3,"cannot parse filter header");var d=a;if(a=u=i,i=u+d,c=d,t.Xb=(1<<m(t.m,2))-1,d<3*(h=t.Xb))r=7;else{for(u+=3*h,c-=3*h,d=0;d<h;++d){var f=r[a+0]|r[a+1]<<8|r[a+2]<<16;f>c&&(f=c),p(t.Jc[+d],r,u,f),u+=f,c-=f,a+=3}p(t.Jc[+h],r,u,c),r=u<i?0:5}if(0!=r)return Kt(t,r,"cannot parse partitions");for(r=m(u=t.m,7),a=k(u)?g(u,4):0,i=k(u)?g(u,4):0,c=k(u)?g(u,4):0,h=k(u)?g(u,4):0,u=k(u)?g(u,4):0,d=t.Qa,f=0;4>f;++f){if(d.Cb){var v=d.Zb[f];d.Fb||(v+=r)}else{if(0<f){t.pb[f]=t.pb[0];continue}v=r}var y=t.pb[f];y.Sc[0]=ts[$t(v+a,127)],y.Sc[1]=es[$t(v+0,127)],y.Eb[0]=2*ts[$t(v+i,127)],y.Eb[1]=101581*es[$t(v+c,127)]>>16,8>y.Eb[1]&&(y.Eb[1]=8),y.Qc[0]=ts[$t(v+h,117)],y.Qc[1]=es[$t(v+u,127)],y.lc=v+u}if(!l.Rb)return Kt(t,4,"Not a key frame.");for(k(o),l=t.Pa,r=0;4>r;++r){for(a=0;8>a;++a)for(i=0;3>i;++i)for(c=0;11>c;++c)h=C(o,ls[r][a][i][c])?m(o,8):as[r][a][i][c],l.Wc[r][a].Yb[i][c]=h;for(a=0;17>a;++a)l.Xc[r][a]=l.Wc[r][cs[a]]}return t.kc=k(o),t.kc&&(t.Bd=m(o,8)),t.cb=1}function Qt(t,e,n,r,s,i,a){var o=e[s].Yb[n];for(n=0;16>s;++s){if(!C(t,o[n+0]))return s;for(;!C(t,o[n+1]);)if(o=e[++s].Yb[0],n=0,16==s)return 16;var l=e[s+1].Yb;if(C(t,o[n+2])){var c=t,u=0;if(C(c,(d=o)[(h=n)+3]))if(C(c,d[h+6])){for(o=0,h=2*(u=C(c,d[h+8]))+(d=C(c,d[h+9+u])),u=0,d=rs[h];d[o];++o)u+=u+C(c,d[o]);u+=3+(8<<h)}else C(c,d[h+7])?(u=7+2*C(c,165),u+=C(c,145)):u=5+C(c,159);else u=C(c,d[h+4])?3+C(c,d[h+5]):2;o=l[2]}else u=1,o=l[1];l=a+ss[s],0>(c=t).b&&E(c);var h,d=c.b,f=(h=c.Ca>>1)-(c.I>>d)>>31;--c.b,c.Ca+=f,c.Ca|=1,c.I-=(h+1&f)<<d,i[l]=((u^f)-f)*r[(0<s)+0]}return 16}function Jt(t){var e=t.rb[t.sb-1];e.la=0,e.Na=0,s(t.zc,0,0,t.zc.length),t.ja=0}function Zt(t,e,n,r,s){s=t[e+n+32*r]+(s>>3),t[e+n+32*r]=-256&s?0>s?0:255:s}function te(t,e,n,r,s,i){Zt(t,e,0,n,r+s),Zt(t,e,1,n,r+i),Zt(t,e,2,n,r-i),Zt(t,e,3,n,r-s)}function ee(t){return(20091*t>>16)+t}function ne(t,e,n,r){var s,a=0,o=i(16);for(s=0;4>s;++s){var l=t[e+0]+t[e+8],c=t[e+0]-t[e+8],u=(35468*t[e+4]>>16)-ee(t[e+12]),h=ee(t[e+4])+(35468*t[e+12]>>16);o[a+0]=l+h,o[a+1]=c+u,o[a+2]=c-u,o[a+3]=l-h,a+=4,e++}for(s=a=0;4>s;++s)l=(t=o[a+0]+4)+o[a+8],c=t-o[a+8],u=(35468*o[a+4]>>16)-ee(o[a+12]),Zt(n,r,0,0,l+(h=ee(o[a+4])+(35468*o[a+12]>>16))),Zt(n,r,1,0,c+u),Zt(n,r,2,0,c-u),Zt(n,r,3,0,l-h),a++,r+=32}function re(t,e,n,r){var s=t[e+0]+4,i=35468*t[e+4]>>16,a=ee(t[e+4]),o=35468*t[e+1]>>16;te(n,r,0,s+a,t=ee(t[e+1]),o),te(n,r,1,s+i,t,o),te(n,r,2,s-i,t,o),te(n,r,3,s-a,t,o)}function se(t,e,n,r,s){ne(t,e,n,r),s&&ne(t,e+16,n,r+4)}function ie(t,e,n,r){ir(t,e+0,n,r,1),ir(t,e+32,n,r+128,1)}function ae(t,e,n,r){var s;for(t=t[e+0]+4,s=0;4>s;++s)for(e=0;4>e;++e)Zt(n,r,e,s,t)}function oe(t,e,n,r){t[e+0]&&lr(t,e+0,n,r),t[e+16]&&lr(t,e+16,n,r+4),t[e+32]&&lr(t,e+32,n,r+128),t[e+48]&&lr(t,e+48,n,r+128+4)}function le(t,e,n,r){var s,a=i(16);for(s=0;4>s;++s){var o=t[e+0+s]+t[e+12+s],l=t[e+4+s]+t[e+8+s],c=t[e+4+s]-t[e+8+s],u=t[e+0+s]-t[e+12+s];a[0+s]=o+l,a[8+s]=o-l,a[4+s]=u+c,a[12+s]=u-c}for(s=0;4>s;++s)o=(t=a[0+4*s]+3)+a[3+4*s],l=a[1+4*s]+a[2+4*s],c=a[1+4*s]-a[2+4*s],u=t-a[3+4*s],n[r+0]=o+l>>3,n[r+16]=u+c>>3,n[r+32]=o-l>>3,n[r+48]=u-c>>3,r+=64}function ce(t,e,n){var r,s=e-32,i=Dr,a=255-t[s-1];for(r=0;r<n;++r){var o,l=i,c=a+t[e-1];for(o=0;o<n;++o)t[e+o]=l[c+t[s+o]];e+=32}}function ue(t,e){ce(t,e,4)}function he(t,e){ce(t,e,8)}function de(t,e){ce(t,e,16)}function fe(t,e){var n;for(n=0;16>n;++n)r(t,e+32*n,t,e-32,16)}function pe(t,e){var n;for(n=16;0<n;--n)s(t,e,t[e-1],16),e+=32}function me(t,e,n){var r;for(r=0;16>r;++r)s(e,n+32*r,t,16)}function ge(t,e){var n,r=16;for(n=0;16>n;++n)r+=t[e-1+32*n]+t[e+n-32];me(r>>5,t,e)}function ve(t,e){var n,r=8;for(n=0;16>n;++n)r+=t[e-1+32*n];me(r>>4,t,e)}function ye(t,e){var n,r=8;for(n=0;16>n;++n)r+=t[e+n-32];me(r>>4,t,e)}function be(t,e){me(128,t,e)}function we(t,e,n){return t+2*e+n+2>>2}function xe(t,e){var n,s=e-32;for(s=new Uint8Array([we(t[s-1],t[s+0],t[s+1]),we(t[s+0],t[s+1],t[s+2]),we(t[s+1],t[s+2],t[s+3]),we(t[s+2],t[s+3],t[s+4])]),n=0;4>n;++n)r(t,e+32*n,s,0,s.length)}function Se(t,e){var n=t[e-1],r=t[e-1+32],s=t[e-1+64],i=t[e-1+96];L(t,e+0,16843009*we(t[e-1-32],n,r)),L(t,e+32,16843009*we(n,r,s)),L(t,e+64,16843009*we(r,s,i)),L(t,e+96,16843009*we(s,i,i))}function _e(t,e){var n,r=4;for(n=0;4>n;++n)r+=t[e+n-32]+t[e-1+32*n];for(r>>=3,n=0;4>n;++n)s(t,e+32*n,r,4)}function Ae(t,e){var n=t[e-1+0],r=t[e-1+32],s=t[e-1+64],i=t[e-1-32],a=t[e+0-32],o=t[e+1-32],l=t[e+2-32],c=t[e+3-32];t[e+0+96]=we(r,s,t[e-1+96]),t[e+1+96]=t[e+0+64]=we(n,r,s),t[e+2+96]=t[e+1+64]=t[e+0+32]=we(i,n,r),t[e+3+96]=t[e+2+64]=t[e+1+32]=t[e+0+0]=we(a,i,n),t[e+3+64]=t[e+2+32]=t[e+1+0]=we(o,a,i),t[e+3+32]=t[e+2+0]=we(l,o,a),t[e+3+0]=we(c,l,o)}function Ne(t,e){var n=t[e+1-32],r=t[e+2-32],s=t[e+3-32],i=t[e+4-32],a=t[e+5-32],o=t[e+6-32],l=t[e+7-32];t[e+0+0]=we(t[e+0-32],n,r),t[e+1+0]=t[e+0+32]=we(n,r,s),t[e+2+0]=t[e+1+32]=t[e+0+64]=we(r,s,i),t[e+3+0]=t[e+2+32]=t[e+1+64]=t[e+0+96]=we(s,i,a),t[e+3+32]=t[e+2+64]=t[e+1+96]=we(i,a,o),t[e+3+64]=t[e+2+96]=we(a,o,l),t[e+3+96]=we(o,l,l)}function Ee(t,e){var n=t[e-1+0],r=t[e-1+32],s=t[e-1+64],i=t[e-1-32],a=t[e+0-32],o=t[e+1-32],l=t[e+2-32],c=t[e+3-32];t[e+0+0]=t[e+1+64]=i+a+1>>1,t[e+1+0]=t[e+2+64]=a+o+1>>1,t[e+2+0]=t[e+3+64]=o+l+1>>1,t[e+3+0]=l+c+1>>1,t[e+0+96]=we(s,r,n),t[e+0+64]=we(r,n,i),t[e+0+32]=t[e+1+96]=we(n,i,a),t[e+1+32]=t[e+2+96]=we(i,a,o),t[e+2+32]=t[e+3+96]=we(a,o,l),t[e+3+32]=we(o,l,c)}function ke(t,e){var n=t[e+0-32],r=t[e+1-32],s=t[e+2-32],i=t[e+3-32],a=t[e+4-32],o=t[e+5-32],l=t[e+6-32],c=t[e+7-32];t[e+0+0]=n+r+1>>1,t[e+1+0]=t[e+0+64]=r+s+1>>1,t[e+2+0]=t[e+1+64]=s+i+1>>1,t[e+3+0]=t[e+2+64]=i+a+1>>1,t[e+0+32]=we(n,r,s),t[e+1+32]=t[e+0+96]=we(r,s,i),t[e+2+32]=t[e+1+96]=we(s,i,a),t[e+3+32]=t[e+2+96]=we(i,a,o),t[e+3+64]=we(a,o,l),t[e+3+96]=we(o,l,c)}function Ce(t,e){var n=t[e-1+0],r=t[e-1+32],s=t[e-1+64],i=t[e-1+96];t[e+0+0]=n+r+1>>1,t[e+2+0]=t[e+0+32]=r+s+1>>1,t[e+2+32]=t[e+0+64]=s+i+1>>1,t[e+1+0]=we(n,r,s),t[e+3+0]=t[e+1+32]=we(r,s,i),t[e+3+32]=t[e+1+64]=we(s,i,i),t[e+3+64]=t[e+2+64]=t[e+0+96]=t[e+1+96]=t[e+2+96]=t[e+3+96]=i}function Le(t,e){var n=t[e-1+0],r=t[e-1+32],s=t[e-1+64],i=t[e-1+96],a=t[e-1-32],o=t[e+0-32],l=t[e+1-32],c=t[e+2-32];t[e+0+0]=t[e+2+32]=n+a+1>>1,t[e+0+32]=t[e+2+64]=r+n+1>>1,t[e+0+64]=t[e+2+96]=s+r+1>>1,t[e+0+96]=i+s+1>>1,t[e+3+0]=we(o,l,c),t[e+2+0]=we(a,o,l),t[e+1+0]=t[e+3+32]=we(n,a,o),t[e+1+32]=t[e+3+64]=we(r,n,a),t[e+1+64]=t[e+3+96]=we(s,r,n),t[e+1+96]=we(i,s,r)}function Te(t,e){var n;for(n=0;8>n;++n)r(t,e+32*n,t,e-32,8)}function Pe(t,e){var n;for(n=0;8>n;++n)s(t,e,t[e-1],8),e+=32}function Ie(t,e,n){var r;for(r=0;8>r;++r)s(e,n+32*r,t,8)}function De(t,e){var n,r=8;for(n=0;8>n;++n)r+=t[e+n-32]+t[e-1+32*n];Ie(r>>4,t,e)}function Fe(t,e){var n,r=4;for(n=0;8>n;++n)r+=t[e+n-32];Ie(r>>3,t,e)}function Me(t,e){var n,r=4;for(n=0;8>n;++n)r+=t[e-1+32*n];Ie(r>>3,t,e)}function Oe(t,e){Ie(128,t,e)}function Re(t,e,n){var r=t[e-n],s=t[e+0],i=3*(s-r)+Pr[1020+t[e-2*n]-t[e+n]],a=Ir[112+(i+4>>3)];t[e-n]=Dr[255+r+Ir[112+(i+3>>3)]],t[e+0]=Dr[255+s-a]}function je(t,e,n,r){var s=t[e+0],i=t[e+n];return Fr[255+t[e-2*n]-t[e-n]]>r||Fr[255+i-s]>r}function Be(t,e,n,r){return 4*Fr[255+t[e-n]-t[e+0]]+Fr[255+t[e-2*n]-t[e+n]]<=r}function qe(t,e,n,r,s){var i=t[e-3*n],a=t[e-2*n],o=t[e-n],l=t[e+0],c=t[e+n],u=t[e+2*n],h=t[e+3*n];return 4*Fr[255+o-l]+Fr[255+a-c]>r?0:Fr[255+t[e-4*n]-i]<=s&&Fr[255+i-a]<=s&&Fr[255+a-o]<=s&&Fr[255+h-u]<=s&&Fr[255+u-c]<=s&&Fr[255+c-l]<=s}function Ue(t,e,n,r){var s=2*r+1;for(r=0;16>r;++r)Be(t,e+r,n,s)&&Re(t,e+r,n)}function Ve(t,e,n,r){var s=2*r+1;for(r=0;16>r;++r)Be(t,e+r*n,1,s)&&Re(t,e+r*n,1)}function ze(t,e,n,r){var s;for(s=3;0<s;--s)Ue(t,e+=4*n,n,r)}function He(t,e,n,r){var s;for(s=3;0<s;--s)Ve(t,e+=4,n,r)}function $e(t,e,n,r,s,i,a,o){for(i=2*i+1;0<s--;){if(qe(t,e,n,i,a))if(je(t,e,n,o))Re(t,e,n);else{var l=t,c=e,u=n,h=l[c-2*u],d=l[c-u],f=l[c+0],p=l[c+u],m=l[c+2*u],g=27*(y=Pr[1020+3*(f-d)+Pr[1020+h-p]])+63>>7,v=18*y+63>>7,y=9*y+63>>7;l[c-3*u]=Dr[255+l[c-3*u]+y],l[c-2*u]=Dr[255+h+v],l[c-u]=Dr[255+d+g],l[c+0]=Dr[255+f-g],l[c+u]=Dr[255+p-v],l[c+2*u]=Dr[255+m-y]}e+=r}}function We(t,e,n,r,s,i,a,o){for(i=2*i+1;0<s--;){if(qe(t,e,n,i,a))if(je(t,e,n,o))Re(t,e,n);else{var l=t,c=e,u=n,h=l[c-u],d=l[c+0],f=l[c+u],p=Ir[112+(4+(m=3*(d-h))>>3)],m=Ir[112+(m+3>>3)],g=p+1>>1;l[c-2*u]=Dr[255+l[c-2*u]+g],l[c-u]=Dr[255+h+m],l[c+0]=Dr[255+d-p],l[c+u]=Dr[255+f-g]}e+=r}}function Ge(t,e,n,r,s,i){$e(t,e,n,1,16,r,s,i)}function Ke(t,e,n,r,s,i){$e(t,e,1,n,16,r,s,i)}function Ye(t,e,n,r,s,i){var a;for(a=3;0<a;--a)We(t,e+=4*n,n,1,16,r,s,i)}function Xe(t,e,n,r,s,i){var a;for(a=3;0<a;--a)We(t,e+=4,1,n,16,r,s,i)}function Qe(t,e,n,r,s,i,a,o){$e(t,e,s,1,8,i,a,o),$e(n,r,s,1,8,i,a,o)}function Je(t,e,n,r,s,i,a,o){$e(t,e,1,s,8,i,a,o),$e(n,r,1,s,8,i,a,o)}function Ze(t,e,n,r,s,i,a,o){We(t,e+4*s,s,1,8,i,a,o),We(n,r+4*s,s,1,8,i,a,o)}function tn(t,e,n,r,s,i,a,o){We(t,e+4,1,s,8,i,a,o),We(n,r+4,1,s,8,i,a,o)}function en(){this.ba=new at,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new lt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function nn(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function rn(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function sn(){this.ua=0,this.Wa=new M,this.vb=new M,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new f,this.yc=new h}function an(){this.xb=this.a=0,this.l=new Wt,this.ca=new at,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new x,this.Pb=0,this.wd=new x,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new sn,this.ab=0,this.gc=a(4,rn),this.Oc=0}function on(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Wt,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ln(t,e,n,r,s,i,a){for(t=null==t?0:t[e+0],e=0;e<a;++e)s[i+e]=t+n[r+e]&255,t=s[i+e]}function cn(t,e,n,r,s,i,a){var o;if(null==t)ln(null,null,n,r,s,i,a);else for(o=0;o<a;++o)s[i+o]=t[e+o]+n[r+o]&255}function un(t,e,n,r,s,i,a){if(null==t)ln(null,null,n,r,s,i,a);else{var o,l=t[e+0],c=l,u=l;for(o=0;o<a;++o)c=u+(l=t[e+o])-c,u=n[r+o]+(-256&c?0>c?0:255:c)&255,c=l,s[i+o]=u}}function hn(t,n,s,a){var o=n.width,l=n.o;if(e(null!=t&&null!=n),0>s||0>=a||s+a>l)return null;if(!t.Cc){if(null==t.ga){var c;if(t.ga=new on,(c=null==t.ga)||(c=n.width*n.o,e(0==t.Gb.length),t.Gb=i(c),t.Uc=0,null==t.Gb?c=0:(t.mb=t.Gb,t.nb=t.Uc,t.rc=null,c=1),c=!c),!c){c=t.ga;var u=t.Fa,h=t.P,d=t.qc,f=t.mb,p=t.nb,m=h+1,g=d-1,y=c.l;if(e(null!=u&&null!=f&&null!=n),ms[0]=null,ms[1]=ln,ms[2]=cn,ms[3]=un,c.ca=f,c.tb=p,c.c=n.width,c.i=n.height,e(0<c.c&&0<c.i),1>=d)n=0;else if(c.$a=3&u[h+0],c.Z=u[h+0]>>2&3,c.Lc=u[h+0]>>4&3,h=u[h+0]>>6&3,0>c.$a||1<c.$a||4<=c.Z||1<c.Lc||h)n=0;else if(y.put=ft,y.ac=dt,y.bc=pt,y.ma=c,y.width=n.width,y.height=n.height,y.Da=n.Da,y.v=n.v,y.va=n.va,y.j=n.j,y.o=n.o,c.$a)t:{e(1==c.$a),n=Ct();e:for(;;){if(null==n){n=0;break t}if(e(null!=c),c.mc=n,n.c=c.c,n.i=c.i,n.l=c.l,n.l.ma=c,n.l.width=c.c,n.l.height=c.i,n.a=0,v(n.m,u,m,g),!Lt(c.c,c.i,1,n,null))break e;if(1==n.ab&&3==n.gc[0].hc&&_t(n.s)?(c.ic=1,u=n.c*n.i,n.Ta=null,n.Ua=0,n.V=i(u),n.Ba=0,null==n.V?(n.a=1,n=0):n=1):(c.ic=0,n=Tt(n,c.c)),!n)break e;n=1;break t}c.mc=null,n=0}else n=g>=c.c*c.i;c=!n}if(c)return null;1!=t.ga.Lc?t.Ga=0:a=l-s}e(null!=t.ga),e(s+a<=l);t:{if(n=(u=t.ga).c,l=u.l.o,0==u.$a){if(m=t.rc,g=t.Vc,y=t.Fa,h=t.P+1+s*n,d=t.mb,f=t.nb+s*n,e(h<=t.P+t.qc),0!=u.Z)for(e(null!=ms[u.Z]),c=0;c<a;++c)ms[u.Z](m,g,y,h,d,f,n),m=d,g=f,f+=n,h+=n;else for(c=0;c<a;++c)r(d,f,y,h,n),m=d,g=f,f+=n,h+=n;t.rc=m,t.Vc=g}else{if(e(null!=u.mc),n=s+a,e(null!=(c=u.mc)),e(n<=c.i),c.C>=n)n=1;else if(u.ic||gn(),u.ic){u=c.V,m=c.Ba,g=c.c;var b=c.i,w=(y=1,h=c.$/g,d=c.$%g,f=c.m,p=c.s,c.$),x=g*b,S=g*n,A=p.wc,E=w<S?wt(p,d,h):null;e(w<=x),e(n<=b),e(_t(p));e:for(;;){for(;!f.h&&w<S;){if(d&A||(E=wt(p,d,h)),e(null!=E),N(f),256>(b=yt(E.G[0],E.H[0],f)))u[m+w]=b,++w,++d>=g&&(d=0,++h<=n&&!(h%16)&&Nt(c,h));else{if(!(280>b)){y=0;break e}b=gt(b-256,f);var k,C=yt(E.G[4],E.H[4],f);if(N(f),!(w>=(C=vt(g,C=gt(C,f)))&&x-w>=b)){y=0;break e}for(k=0;k<b;++k)u[m+w+k]=u[m+w+k-C];for(w+=b,d+=b;d>=g;)d-=g,++h<=n&&!(h%16)&&Nt(c,h);w<S&&d&A&&(E=wt(p,d,h))}e(f.h==_(f))}Nt(c,h>n?n:h);break e}!y||f.h&&w<x?(y=0,c.a=f.h?5:3):c.$=w,n=y}else n=Et(c,c.V,c.Ba,c.c,c.i,n,Pt);if(!n){a=0;break t}}s+a>=l&&(t.Cc=1),a=1}if(!a)return null;if(t.Cc&&(null!=(a=t.ga)&&(a.mc=null),t.ga=null,0<t.Ga))return alert("todo:WebPDequantizeLevels"),null}return t.nb+s*o}function dn(t,e,n,r,s,i){for(;0<s--;){var a,o=t,l=e+(n?1:0),c=t,u=e+(n?0:3);for(a=0;a<r;++a){var h=c[u+4*a];255!=h&&(h*=32897,o[l+4*a+0]=o[l+4*a+0]*h>>23,o[l+4*a+1]=o[l+4*a+1]*h>>23,o[l+4*a+2]=o[l+4*a+2]*h>>23)}e+=i}}function fn(t,e,n,r,s){for(;0<r--;){var i;for(i=0;i<n;++i){var a=t[e+2*i+0],o=15&(c=t[e+2*i+1]),l=4369*o,c=(240&c|c>>4)*l>>16;t[e+2*i+0]=(240&a|a>>4)*l>>16&240|(15&a|a<<4)*l>>16>>4&15,t[e+2*i+1]=240&c|o}e+=s}}function pn(t,e,n,r,s,i,a,o){var l,c,u=255;for(c=0;c<s;++c){for(l=0;l<r;++l){var h=t[e+l];i[a+4*l]=h,u&=h}e+=n,a+=o}return 255!=u}function mn(t,e,n,r,s){var i;for(i=0;i<s;++i)n[r+i]=t[e+i]>>8}function gn(){Sr=dn,_r=fn,Ar=pn,Nr=mn}function vn(n,r,s){t[n]=function(t,n,i,a,o,l,c,u,h,d,f,p,m,g,v,y,b){var w,x=b-1>>1,S=o[l+0]|c[u+0]<<16,_=h[d+0]|f[p+0]<<16;e(null!=t);var A=3*S+_+131074>>2;for(r(t[n+0],255&A,A>>16,m,g),null!=i&&(A=3*_+S+131074>>2,r(i[a+0],255&A,A>>16,v,y)),w=1;w<=x;++w){var N=o[l+w]|c[u+w]<<16,E=h[d+w]|f[p+w]<<16,k=S+N+_+E+524296,C=k+2*(N+_)>>3;A=C+S>>1,S=(k=k+2*(S+E)>>3)+N>>1,r(t[n+2*w-1],255&A,A>>16,m,g+(2*w-1)*s),r(t[n+2*w-0],255&S,S>>16,m,g+(2*w-0)*s),null!=i&&(A=k+_>>1,S=C+E>>1,r(i[a+2*w-1],255&A,A>>16,v,y+(2*w-1)*s),r(i[a+2*w+0],255&S,S>>16,v,y+(2*w+0)*s)),S=N,_=E}1&b||(A=3*S+_+131074>>2,r(t[n+b-1],255&A,A>>16,m,g+(b-1)*s),null!=i&&(A=3*_+S+131074>>2,r(i[a+b-1],255&A,A>>16,v,y+(b-1)*s)))}}function yn(){gs[Mr]=vs,gs[Or]=bs,gs[Rr]=ys,gs[jr]=ws,gs[Br]=xs,gs[qr]=Ss,gs[Ur]=_s,gs[Vr]=bs,gs[zr]=ws,gs[Hr]=xs,gs[$r]=Ss}function bn(t){return-16384&t?0>t?0:255:t>>Cs}function wn(t,e){return bn((19077*t>>8)+(26149*e>>8)-14234)}function xn(t,e,n){return bn((19077*t>>8)-(6419*e>>8)-(13320*n>>8)+8708)}function Sn(t,e){return bn((19077*t>>8)+(33050*e>>8)-17685)}function _n(t,e,n,r,s){r[s+0]=wn(t,n),r[s+1]=xn(t,e,n),r[s+2]=Sn(t,e)}function An(t,e,n,r,s){r[s+0]=Sn(t,e),r[s+1]=xn(t,e,n),r[s+2]=wn(t,n)}function Nn(t,e,n,r,s){var i=xn(t,e,n);e=i<<3&224|Sn(t,e)>>3,r[s+0]=248&wn(t,n)|i>>5,r[s+1]=e}function En(t,e,n,r,s){var i=240&Sn(t,e)|15;r[s+0]=240&wn(t,n)|xn(t,e,n)>>4,r[s+1]=i}function kn(t,e,n,r,s){r[s+0]=255,_n(t,e,n,r,s+1)}function Cn(t,e,n,r,s){An(t,e,n,r,s),r[s+3]=255}function Ln(t,e,n,r,s){_n(t,e,n,r,s),r[s+3]=255}function $t(t,e){return 0>t?0:t>e?e:t}function Tn(e,n,r){t[e]=function(t,e,s,i,a,o,l,c,u){for(var h=c+(-2&u)*r;c!=h;)n(t[e+0],s[i+0],a[o+0],l,c),n(t[e+1],s[i+0],a[o+0],l,c+r),e+=2,++i,++o,c+=2*r;1&u&&n(t[e+0],s[i+0],a[o+0],l,c)}}function Pn(t,e,n){return 0==n?0==t?0==e?6:5:0==e?4:0:n}function In(t,e,n,r,s){switch(t>>>30){case 3:ir(e,n,r,s,0);break;case 2:ar(e,n,r,s);break;case 1:lr(e,n,r,s)}}function Dn(t,e){var n,i,a=e.M,o=e.Nb,l=t.oc,c=t.pc+40,u=t.oc,h=t.pc+584,d=t.oc,f=t.pc+600;for(n=0;16>n;++n)l[c+32*n-1]=129;for(n=0;8>n;++n)u[h+32*n-1]=129,d[f+32*n-1]=129;for(0<a?l[c-1-32]=u[h-1-32]=d[f-1-32]=129:(s(l,c-32-1,127,21),s(u,h-32-1,127,9),s(d,f-32-1,127,9)),i=0;i<t.za;++i){var p=e.ya[e.aa+i];if(0<i){for(n=-1;16>n;++n)r(l,c+32*n-4,l,c+32*n+12,4);for(n=-1;8>n;++n)r(u,h+32*n-4,u,h+32*n+4,4),r(d,f+32*n-4,d,f+32*n+4,4)}var m=t.Gd,g=t.Hd+i,v=p.ad,y=p.Hc;if(0<a&&(r(l,c-32,m[g].y,0,16),r(u,h-32,m[g].f,0,8),r(d,f-32,m[g].ea,0,8)),p.Za){var b=l,w=c-32+16;for(0<a&&(i>=t.za-1?s(b,w,m[g].y[15],4):r(b,w,m[g+1].y,0,4)),n=0;4>n;n++)b[w+128+n]=b[w+256+n]=b[w+384+n]=b[w+0+n];for(n=0;16>n;++n,y<<=2)b=l,w=c+Os[n],hs[p.Ob[n]](b,w),In(y,v,16*+n,b,w)}else if(b=Pn(i,a,p.Ob[0]),us[b](l,c),0!=y)for(n=0;16>n;++n,y<<=2)In(y,v,16*+n,l,c+Os[n]);for(n=p.Gc,b=Pn(i,a,p.Dd),ds[b](u,h),ds[b](d,f),y=v,b=u,w=h,255&(p=n|0)&&(170&p?or(y,256,b,w):cr(y,256,b,w)),p=d,y=f,255&(n>>=8)&&(170&n?or(v,320,p,y):cr(v,320,p,y)),a<t.Ub-1&&(r(m[g].y,0,l,c+480,16),r(m[g].f,0,u,h+224,8),r(m[g].ea,0,d,f+224,8)),n=8*o*t.B,m=t.sa,g=t.ta+16*i+16*o*t.R,v=t.qa,p=t.ra+8*i+n,y=t.Ha,b=t.Ia+8*i+n,n=0;16>n;++n)r(m,g+n*t.R,l,c+32*n,16);for(n=0;8>n;++n)r(v,p+n*t.B,u,h+32*n,8),r(y,b+n*t.B,d,f+32*n,8)}}function Fn(t,r,s,i,a,o,l,c,u){var h=[0],d=[0],f=0,p=null!=u?u.kd:0,m=null!=u?u:new nn;if(null==t||12>s)return 7;m.data=t,m.w=r,m.ha=s,r=[r],s=[s],m.gb=[m.gb];t:{var g=r,y=s,b=m.gb;if(e(null!=t),e(null!=y),e(null!=b),b[0]=0,12<=y[0]&&!n(t,g[0],"RIFF")){if(n(t,g[0]+8,"WEBP")){b=3;break t}var w=I(t,g[0]+4);if(12>w||4294967286<w){b=3;break t}if(p&&w>y[0]-8){b=7;break t}b[0]=w,g[0]+=12,y[0]-=12}b=0}if(0!=b)return b;for(w=0<m.gb[0],s=s[0];;){t:{var S=t;y=r,b=s;var _=h,A=d,N=g=[0];if((C=f=[f])[0]=0,8>b[0])b=7;else{if(!n(S,y[0],"VP8X")){if(10!=I(S,y[0]+4)){b=3;break t}if(18>b[0]){b=7;break t}var E=I(S,y[0]+8),k=1+P(S,y[0]+12);if(2147483648<=k*(S=1+P(S,y[0]+15))){b=3;break t}null!=N&&(N[0]=E),null!=_&&(_[0]=k),null!=A&&(A[0]=S),y[0]+=18,b[0]-=18,C[0]=1}b=0}}if(f=f[0],g=g[0],0!=b)return b;if(y=!!(2&g),!w&&f)return 3;if(null!=o&&(o[0]=!!(16&g)),null!=l&&(l[0]=y),null!=c&&(c[0]=0),l=h[0],g=d[0],f&&y&&null==u){b=0;break}if(4>s){b=7;break}if(w&&f||!w&&!f&&!n(t,r[0],"ALPH")){s=[s],m.na=[m.na],m.P=[m.P],m.Sa=[m.Sa];t:{E=t,b=r,w=s;var C=m.gb;_=m.na,A=m.P,N=m.Sa,k=22,e(null!=E),e(null!=w),S=b[0];var L=w[0];for(e(null!=_),e(null!=N),_[0]=null,A[0]=null,N[0]=0;;){if(b[0]=S,w[0]=L,8>L){b=7;break t}var T=I(E,S+4);if(4294967286<T){b=3;break t}var D=8+T+1&-2;if(k+=D,0<C&&k>C){b=3;break t}if(!n(E,S,"VP8 ")||!n(E,S,"VP8L")){b=0;break t}if(L[0]<D){b=7;break t}n(E,S,"ALPH")||(_[0]=E,A[0]=S+8,N[0]=T),S+=D,L-=D}}if(s=s[0],m.na=m.na[0],m.P=m.P[0],m.Sa=m.Sa[0],0!=b)break}s=[s],m.Ja=[m.Ja],m.xa=[m.xa];t:if(C=t,b=r,w=s,_=m.gb[0],A=m.Ja,N=m.xa,E=b[0],S=!n(C,E,"VP8 "),k=!n(C,E,"VP8L"),e(null!=C),e(null!=w),e(null!=A),e(null!=N),8>w[0])b=7;else{if(S||k){if(C=I(C,E+4),12<=_&&C>_-12){b=3;break t}if(p&&C>w[0]-8){b=7;break t}A[0]=C,b[0]+=8,w[0]-=8,N[0]=k}else N[0]=5<=w[0]&&47==C[E+0]&&!(C[E+4]>>5),A[0]=w[0];b=0}if(s=s[0],m.Ja=m.Ja[0],m.xa=m.xa[0],r=r[0],0!=b)break;if(4294967286<m.Ja)return 3;if(null==c||y||(c[0]=m.xa?2:1),l=[l],g=[g],m.xa){if(5>s){b=7;break}c=l,p=g,y=o,null==t||5>s?t=0:5<=s&&47==t[r+0]&&!(t[r+4]>>5)?(w=[0],C=[0],_=[0],v(A=new x,t,r,s),mt(A,w,C,_)?(null!=c&&(c[0]=w[0]),null!=p&&(p[0]=C[0]),null!=y&&(y[0]=_[0]),t=1):t=0):t=0}else{if(10>s){b=7;break}c=g,null==t||10>s||!Yt(t,r+3,s-3)?t=0:(p=t[r+0]|t[r+1]<<8|t[r+2]<<16,y=16383&(t[r+7]<<8|t[r+6]),t=16383&(t[r+9]<<8|t[r+8]),1&p||3<(p>>1&7)||!(p>>4&1)||p>>5>=m.Ja||!y||!t?t=0:(l&&(l[0]=y),c&&(c[0]=t),t=1))}if(!t)return 3;if(l=l[0],g=g[0],f&&(h[0]!=l||d[0]!=g))return 3;null!=u&&(u[0]=m,u.offset=r-u.w,e(4294967286>r-u.w),e(u.offset==u.ha-s));break}return 0==b||7==b&&f&&null==u?(null!=o&&(o[0]|=null!=m.na&&0<m.na.length),null!=i&&(i[0]=l),null!=a&&(a[0]=g),0):b}function Mn(t,e,n){var r=e.width,s=e.height,i=0,a=0,o=r,l=s;if(e.Da=null!=t&&0<t.Da,e.Da&&(o=t.cd,l=t.bd,i=t.v,a=t.j,11>n||(i&=-2,a&=-2),0>i||0>a||0>=o||0>=l||i+o>r||a+l>s))return 0;if(e.v=i,e.j=a,e.va=i+o,e.o=a+l,e.U=o,e.T=l,e.da=null!=t&&0<t.da,e.da){if(!O(o,l,n=[t.ib],i=[t.hb]))return 0;e.ib=n[0],e.hb=i[0]}return e.ob=null!=t&&t.ob,e.Kb=null==t||!t.Sd,e.da&&(e.ob=e.ib<3*r/4&&e.hb<3*s/4,e.Kb=0),1}function On(t){if(null==t)return 2;if(11>t.S){var e=t.f.RGBA;e.fb+=(t.height-1)*e.A,e.A=-e.A}else e=t.f.kb,t=t.height,e.O+=(t-1)*e.fa,e.fa=-e.fa,e.N+=(t-1>>1)*e.Ab,e.Ab=-e.Ab,e.W+=(t-1>>1)*e.Db,e.Db=-e.Db,null!=e.F&&(e.J+=(t-1)*e.lb,e.lb=-e.lb);return 0}function Rn(t,e,n,r){if(null==r||0>=t||0>=e)return 2;if(null!=n){if(n.Da){var s=n.cd,a=n.bd,o=-2&n.v,l=-2&n.j;if(0>o||0>l||0>=s||0>=a||o+s>t||l+a>e)return 2;t=s,e=a}if(n.da){if(!O(t,e,s=[n.ib],a=[n.hb]))return 2;t=s[0],e=a[0]}}r.width=t,r.height=e;t:{var c=r.width,u=r.height;if(t=r.S,0>=c||0>=u||!(t>=Mr&&13>t))t=2;else{if(0>=r.Rd&&null==r.sd){o=a=s=e=0;var h=(l=c*qs[t])*u;if(11>t||(a=(u+1)/2*(e=(c+1)/2),12==t&&(o=(s=c)*u)),null==(u=i(h+2*a+o))){t=1;break t}r.sd=u,11>t?((c=r.f.RGBA).eb=u,c.fb=0,c.A=l,c.size=h):((c=r.f.kb).y=u,c.O=0,c.fa=l,c.Fd=h,c.f=u,c.N=0+h,c.Ab=e,c.Cd=a,c.ea=u,c.W=0+h+a,c.Db=e,c.Ed=a,12==t&&(c.F=u,c.J=0+h+2*a),c.Tc=o,c.lb=s)}if(e=1,s=r.S,a=r.width,o=r.height,s>=Mr&&13>s)if(11>s)t=r.f.RGBA,e&=(l=Math.abs(t.A))*(o-1)+a<=t.size,e&=l>=a*qs[s],e&=null!=t.eb;else{t=r.f.kb,l=(a+1)/2,h=(o+1)/2,c=Math.abs(t.fa),u=Math.abs(t.Ab);var d=Math.abs(t.Db),f=Math.abs(t.lb),p=f*(o-1)+a;e&=c*(o-1)+a<=t.Fd,e&=u*(h-1)+l<=t.Cd,e=(e&=d*(h-1)+l<=t.Ed)&c>=a&u>=l&d>=l,e&=null!=t.y,e&=null!=t.f,e&=null!=t.ea,12==s&&(e&=f>=a,e&=p<=t.Tc,e&=null!=t.F)}else e=0;t=e?0:2}}return 0!=t||null!=n&&n.fd&&(t=On(r)),t}var jn=64,Bn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],qn=24,Un=32,Vn=8,zn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];B("Predictor0","PredictorAdd0"),t.Predictor0=function(){return 4278190080},t.Predictor1=function(t){return t},t.Predictor2=function(t,e,n){return e[n+0]},t.Predictor3=function(t,e,n){return e[n+1]},t.Predictor4=function(t,e,n){return e[n-1]},t.Predictor5=function(t,e,n){return U(U(t,e[n+1]),e[n+0])},t.Predictor6=function(t,e,n){return U(t,e[n-1])},t.Predictor7=function(t,e,n){return U(t,e[n+0])},t.Predictor8=function(t,e,n){return U(e[n-1],e[n+0])},t.Predictor9=function(t,e,n){return U(e[n+0],e[n+1])},t.Predictor10=function(t,e,n){return U(U(t,e[n-1]),U(e[n+0],e[n+1]))},t.Predictor11=function(t,e,n){var r=e[n+0];return 0>=H(r>>24&255,t>>24&255,(e=e[n-1])>>24&255)+H(r>>16&255,t>>16&255,e>>16&255)+H(r>>8&255,t>>8&255,e>>8&255)+H(255&r,255&t,255&e)?r:t},t.Predictor12=function(t,e,n){var r=e[n+0];return(V((t>>24&255)+(r>>24&255)-((e=e[n-1])>>24&255))<<24|V((t>>16&255)+(r>>16&255)-(e>>16&255))<<16|V((t>>8&255)+(r>>8&255)-(e>>8&255))<<8|V((255&t)+(255&r)-(255&e)))>>>0},t.Predictor13=function(t,e,n){var r=e[n-1];return(z((t=U(t,e[n+0]))>>24&255,r>>24&255)<<24|z(t>>16&255,r>>16&255)<<16|z(t>>8&255,r>>8&255)<<8|z(255&t,255&r))>>>0};var Hn=t.PredictorAdd0;t.PredictorAdd1=$,B("Predictor2","PredictorAdd2"),B("Predictor3","PredictorAdd3"),B("Predictor4","PredictorAdd4"),B("Predictor5","PredictorAdd5"),B("Predictor6","PredictorAdd6"),B("Predictor7","PredictorAdd7"),B("Predictor8","PredictorAdd8"),B("Predictor9","PredictorAdd9"),B("Predictor10","PredictorAdd10"),B("Predictor11","PredictorAdd11"),B("Predictor12","PredictorAdd12"),B("Predictor13","PredictorAdd13");var $n=t.PredictorAdd2;Y("ColorIndexInverseTransform","MapARGB","32b",function(t){return t>>8&255},function(t){return t}),Y("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(t){return t},function(t){return t>>8&255});var Wn,Gn=t.ColorIndexInverseTransform,Kn=t.MapARGB,Yn=t.VP8LColorIndexInverseTransformAlpha,Xn=t.MapAlpha,Qn=t.VP8LPredictorsAdd=[];Qn.length=16,(t.VP8LPredictors=[]).length=16,(t.VP8LPredictorsAdd_C=[]).length=16,(t.VP8LPredictors_C=[]).length=16;var Jn,Zn,tr,er,nr,rr,sr,ir,ar,or,lr,cr,ur,hr,dr,fr,pr,mr,gr,vr,yr,br,wr,xr,Sr,_r,Ar,Nr,Er=i(511),kr=i(2041),Cr=i(225),Lr=i(767),Tr=0,Pr=kr,Ir=Cr,Dr=Lr,Fr=Er,Mr=0,Or=1,Rr=2,jr=3,Br=4,qr=5,Ur=6,Vr=7,zr=8,Hr=9,$r=10,Wr=[2,3,7],Gr=[3,3,11],Kr=[280,256,256,256,40],Yr=[0,1,1,1,0],Xr=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Qr=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Jr=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Zr=8,ts=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],es=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ns=null,rs=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],ss=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],is=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],as=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],os=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ls=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],cs=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],us=[],hs=[],ds=[],fs=1,ps=2,ms=[],gs=[];vn("UpsampleRgbLinePair",_n,3),vn("UpsampleBgrLinePair",An,3),vn("UpsampleRgbaLinePair",Ln,4),vn("UpsampleBgraLinePair",Cn,4),vn("UpsampleArgbLinePair",kn,4),vn("UpsampleRgba4444LinePair",En,2),vn("UpsampleRgb565LinePair",Nn,2);var vs=t.UpsampleRgbLinePair,ys=t.UpsampleBgrLinePair,bs=t.UpsampleRgbaLinePair,ws=t.UpsampleBgraLinePair,xs=t.UpsampleArgbLinePair,Ss=t.UpsampleRgba4444LinePair,_s=t.UpsampleRgb565LinePair,As=16,Ns=1<<As-1,Es=-227,ks=482,Cs=6,Ls=0,Ts=i(256),Ps=i(256),Is=i(256),Ds=i(256),Fs=i(ks-Es),Ms=i(ks-Es);Tn("YuvToRgbRow",_n,3),Tn("YuvToBgrRow",An,3),Tn("YuvToRgbaRow",Ln,4),Tn("YuvToBgraRow",Cn,4),Tn("YuvToArgbRow",kn,4),Tn("YuvToRgba4444Row",En,2),Tn("YuvToRgb565Row",Nn,2);var Os=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Rs=[0,2,8],js=[8,7,6,4,4,2,2,2,1,1,1,1],Bs=1;this.WebPDecodeRGBA=function(t,n,o,l,c){var u=Or,h=new en,d=new at;h.ba=d,d.S=u,d.width=[d.width],d.height=[d.height];var f=d.width,p=d.height,m=new ot;if(null==m||null==t)var g=2;else e(null!=m),g=Fn(t,n,o,m.width,m.height,m.Pd,m.Qd,m.format,null);if(0!=g?f=0:(null!=f&&(f[0]=m.width[0]),null!=p&&(p[0]=m.height[0]),f=1),f){d.width=d.width[0],d.height=d.height[0],null!=l&&(l[0]=d.width),null!=c&&(c[0]=d.height);t:{if(l=new Wt,(c=new nn).data=t,c.w=n,c.ha=o,c.kd=1,n=[0],e(null!=c),(0==(t=Fn(c.data,c.w,c.ha,null,null,null,n,null,c))||7==t)&&n[0]&&(t=4),0==(n=t)){if(e(null!=h),l.data=c.data,l.w=c.w+c.offset,l.ha=c.ha-c.offset,l.put=ft,l.ac=dt,l.bc=pt,l.ma=h,c.xa){if(null==(t=Ct())){h=1;break t}if(function(t,n){var r=[0],s=[0],i=[0];e:for(;;){if(null==t)return 0;if(null==n)return t.a=2,0;if(t.l=n,t.a=0,v(t.m,n.data,n.w,n.ha),!mt(t.m,r,s,i)){t.a=3;break e}if(t.xb=ps,n.width=r[0],n.height=s[0],!Lt(r[0],s[0],1,t,null))break e;return 1}return e(0!=t.a),0}(t,l)){if(l=0==(n=Rn(l.width,l.height,h.Oa,h.ba))){e:{l=t;n:for(;;){if(null==l){l=0;break e}if(e(null!=l.s.yc),e(null!=l.s.Ya),e(0<l.s.Wb),e(null!=(o=l.l)),e(null!=(c=o.ma)),0!=l.xb){if(l.ca=c.ba,l.tb=c.tb,e(null!=l.ca),!Mn(c.Oa,o,jr)){l.a=2;break n}if(!Tt(l,o.width))break n;if(o.da)break n;if((o.da||rt(l.ca.S))&&gn(),11>l.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=l.ca.f.kb.F&&gn()),l.Pb&&0<l.s.ua&&null==l.s.vb.X&&!D(l.s.vb,l.s.Wa.Xa)){l.a=1;break n}l.xb=0}if(!Et(l,l.V,l.Ba,l.c,l.i,o.o,St))break n;c.Dc=l.Ma,l=1;break e}e(0!=l.a),l=0}l=!l}l&&(n=t.a)}else n=t.a}else{if(null==(t=new Gt)){h=1;break t}if(t.Fa=c.na,t.P=c.P,t.qc=c.Sa,Xt(t,l)){if(0==(n=Rn(l.width,l.height,h.Oa,h.ba))){if(t.Aa=0,o=h.Oa,e(null!=(c=t)),null!=o){if(0<(f=0>(f=o.Md)?0:100<f?255:255*f/100)){for(p=m=0;4>p;++p)12>(g=c.pb[p]).lc&&(g.ia=f*js[0>g.lc?0:g.lc]>>3),m|=g.ia;m&&(alert("todo:VP8InitRandom"),c.ia=1)}c.Ga=o.Id,100<c.Ga?c.Ga=100:0>c.Ga&&(c.Ga=0)}(function(t,n){if(null==t)return 0;if(null==n)return Kt(t,2,"NULL VP8Io parameter in VP8Decode().");if(!t.cb&&!Xt(t,n))return 0;if(e(t.cb),null==n.ac||n.ac(n)){n.ob&&(t.L=0);var o=Rs[t.L];if(2==t.L?(t.yb=0,t.zb=0):(t.yb=n.v-o>>4,t.zb=n.j-o>>4,0>t.yb&&(t.yb=0),0>t.zb&&(t.zb=0)),t.Va=n.o+15+o>>4,t.Hb=n.va+15+o>>4,t.Hb>t.za&&(t.Hb=t.za),t.Va>t.Ub&&(t.Va=t.Ub),0<t.L){var l=t.ed;for(o=0;4>o;++o){var c;if(t.Qa.Cb){var u=t.Qa.Lb[o];t.Qa.Fb||(u+=l.Tb)}else u=l.Tb;for(c=0;1>=c;++c){var h=t.gd[o][c],d=u;if(l.Pc&&(d+=l.vd[0],c&&(d+=l.od[0])),0<(d=0>d?0:63<d?63:d)){var f=d;0<l.wb&&(f=4<l.wb?f>>2:f>>1)>9-l.wb&&(f=9-l.wb),1>f&&(f=1),h.dd=f,h.tc=2*d+f,h.ld=40<=d?2:15<=d?1:0}else h.tc=0;h.La=c}}}o=0}else Kt(t,6,"Frame setup failed"),o=t.a;if(o=0==o){if(o){t.$c=0,0<t.Aa||(t.Ic=Bs);e:{o=t.Ic,l=4*(f=t.za);var p=32*f,m=f+1,g=0<t.L?f*(0<t.Aa?2:1):0,v=(2==t.Aa?2:1)*f;if((h=l+832+(c=3*(16*o+Rs[t.L])/2*p)+(u=null!=t.Fa&&0<t.Fa.length?t.Kc.c*t.Kc.i:0))!=h)o=0;else{if(h>t.Vb){if(t.Vb=0,t.Ec=i(h),t.Fc=0,null==t.Ec){o=Kt(t,1,"no memory during frame initialization.");break e}t.Vb=h}h=t.Ec,d=t.Fc,t.Ac=h,t.Bc=d,d+=l,t.Gd=a(p,zt),t.Hd=0,t.rb=a(m+1,Bt),t.sb=1,t.wa=g?a(g,jt):null,t.Y=0,t.D.Nb=0,t.D.wa=t.wa,t.D.Y=t.Y,0<t.Aa&&(t.D.Y+=f),e(!0),t.oc=h,t.pc=d,d+=832,t.ya=a(v,Ut),t.aa=0,t.D.ya=t.ya,t.D.aa=t.aa,2==t.Aa&&(t.D.aa+=f),t.R=16*f,t.B=8*f,f=(p=Rs[t.L])*t.R,p=p/2*t.B,t.sa=h,t.ta=d+f,t.qa=t.sa,t.ra=t.ta+16*o*t.R+p,t.Ha=t.qa,t.Ia=t.ra+8*o*t.B+p,t.$c=0,d+=c,t.mb=u?h:null,t.nb=u?d:null,e(d+u<=t.Fc+t.Vb),Jt(t),s(t.Ac,t.Bc,0,l),o=1}}if(o){if(n.ka=0,n.y=t.sa,n.O=t.ta,n.f=t.qa,n.N=t.ra,n.ea=t.Ha,n.Vd=t.Ia,n.fa=t.R,n.Rc=t.B,n.F=null,n.J=0,!Tr){for(o=-255;255>=o;++o)Er[255+o]=0>o?-o:o;for(o=-1020;1020>=o;++o)kr[1020+o]=-128>o?-128:127<o?127:o;for(o=-112;112>=o;++o)Cr[112+o]=-16>o?-16:15<o?15:o;for(o=-255;510>=o;++o)Lr[255+o]=0>o?0:255<o?255:o;Tr=1}sr=le,ir=se,or=ie,lr=ae,cr=oe,ar=re,ur=Ge,hr=Ke,dr=Qe,fr=Je,pr=Ye,mr=Xe,gr=Ze,vr=tn,yr=Ue,br=Ve,wr=ze,xr=He,hs[0]=_e,hs[1]=ue,hs[2]=xe,hs[3]=Se,hs[4]=Ae,hs[5]=Ee,hs[6]=Ne,hs[7]=ke,hs[8]=Le,hs[9]=Ce,us[0]=ge,us[1]=de,us[2]=fe,us[3]=pe,us[4]=ve,us[5]=ye,us[6]=be,ds[0]=De,ds[1]=he,ds[2]=Te,ds[3]=Pe,ds[4]=Me,ds[5]=Fe,ds[6]=Oe,o=1}else o=0}o&&(o=function(t,n){for(t.M=0;t.M<t.Va;++t.M){var a,o=t.Jc[t.M&t.Xb],l=t.m,c=t;for(a=0;a<c.za;++a){var u=l,h=c,d=h.Ac,f=h.Bc+4*a,p=h.zc,m=h.ya[h.aa+a];if(h.Qa.Bb?m.$b=C(u,h.Pa.jb[0])?2+C(u,h.Pa.jb[2]):C(u,h.Pa.jb[1]):m.$b=0,h.kc&&(m.Ad=C(u,h.Bd)),m.Za=!C(u,145)+0,m.Za){var g=m.Ob,v=0;for(h=0;4>h;++h){var y,b=p[0+h];for(y=0;4>y;++y){b=os[d[f+y]][b];for(var w=is[C(u,b[0])];0<w;)w=is[2*w+C(u,b[w])];b=-w,d[f+y]=b}r(g,v,d,f,4),v+=4,p[0+h]=b}}else b=C(u,156)?C(u,128)?1:3:C(u,163)?2:0,m.Ob[0]=b,s(d,f,b,4),s(p,0,b,4);m.Dd=C(u,142)?C(u,114)?C(u,183)?1:3:2:0}if(c.m.Ka)return Kt(t,7,"Premature end-of-partition0 encountered.");for(;t.ja<t.za;++t.ja){if(c=o,u=(l=t).rb[l.sb-1],d=l.rb[l.sb+l.ja],a=l.ya[l.aa+l.ja],f=l.kc?a.Ad:0)u.la=d.la=0,a.Za||(u.Na=d.Na=0),a.Hc=0,a.Gc=0,a.ia=0;else{var x,S;if(u=d,d=c,f=l.Pa.Xc,p=l.ya[l.aa+l.ja],m=l.pb[p.$b],h=p.ad,g=0,v=l.rb[l.sb-1],b=y=0,s(h,g,0,384),p.Za)var _=0,A=f[3];else{w=i(16);var N=u.Na+v.Na;if(N=ns(d,f[1],N,m.Eb,0,w,0),u.Na=v.Na=(0<N)+0,1<N)sr(w,0,h,g);else{var E=w[0]+3>>3;for(w=0;256>w;w+=16)h[g+w]=E}_=1,A=f[0]}var k=15&u.la,L=15&v.la;for(w=0;4>w;++w){var T=1&L;for(E=S=0;4>E;++E)k=k>>1|(T=(N=ns(d,A,N=T+(1&k),m.Sc,_,h,g))>_)<<7,S=S<<2|(3<N?3:1<N?2:0!=h[g+0]),g+=16;k>>=4,L=L>>1|T<<7,y=(y<<8|S)>>>0}for(A=k,_=L>>4,x=0;4>x;x+=2){for(S=0,k=u.la>>4+x,L=v.la>>4+x,w=0;2>w;++w){for(T=1&L,E=0;2>E;++E)N=T+(1&k),k=k>>1|(T=0<(N=ns(d,f[2],N,m.Qc,0,h,g)))<<3,S=S<<2|(3<N?3:1<N?2:0!=h[g+0]),g+=16;k>>=2,L=L>>1|T<<5}b|=S<<4*x,A|=k<<4<<x,_|=(240&L)<<x}u.la=A,v.la=_,p.Hc=y,p.Gc=b,p.ia=43690&b?0:m.ia,f=!(y|b)}if(0<l.L&&(l.wa[l.Y+l.ja]=l.gd[a.$b][a.Za],l.wa[l.Y+l.ja].La|=!f),c.Ka)return Kt(t,7,"Premature end-of-file encountered.")}if(Jt(t),l=n,c=1,a=(o=t).D,u=0<o.L&&o.M>=o.zb&&o.M<=o.Va,0==o.Aa)e:{if(a.M=o.M,a.uc=u,Dn(o,a),c=1,a=(S=o.D).Nb,u=(b=Rs[o.L])*o.R,d=b/2*o.B,w=16*a*o.R,E=8*a*o.B,f=o.sa,p=o.ta-u+w,m=o.qa,h=o.ra-d+E,g=o.Ha,v=o.Ia-d+E,L=0==(k=S.M),y=k>=o.Va-1,2==o.Aa&&Dn(o,S),S.uc)for(T=(N=o).D.M,e(N.D.uc),S=N.yb;S<N.Hb;++S){_=S,A=T;var P=(I=(U=N).D).Nb;x=U.R;var I=I.wa[I.Y+_],D=U.sa,F=U.ta+16*P*x+16*_,M=I.dd,O=I.tc;if(0!=O)if(e(3<=O),1==U.L)0<_&&br(D,F,x,O+4),I.La&&xr(D,F,x,O),0<A&&yr(D,F,x,O+4),I.La&&wr(D,F,x,O);else{var R=U.B,j=U.qa,B=U.ra+8*P*R+8*_,q=U.Ha,U=U.Ia+8*P*R+8*_;P=I.ld,0<_&&(hr(D,F,x,O+4,M,P),fr(j,B,q,U,R,O+4,M,P)),I.La&&(mr(D,F,x,O,M,P),vr(j,B,q,U,R,O,M,P)),0<A&&(ur(D,F,x,O+4,M,P),dr(j,B,q,U,R,O+4,M,P)),I.La&&(pr(D,F,x,O,M,P),gr(j,B,q,U,R,O,M,P))}}if(o.ia&&alert("todo:DitherRow"),null!=l.put){if(S=16*k,k=16*(k+1),L?(l.y=o.sa,l.O=o.ta+w,l.f=o.qa,l.N=o.ra+E,l.ea=o.Ha,l.W=o.Ia+E):(S-=b,l.y=f,l.O=p,l.f=m,l.N=h,l.ea=g,l.W=v),y||(k-=b),k>l.o&&(k=l.o),l.F=null,l.J=null,null!=o.Fa&&0<o.Fa.length&&S<k&&(l.J=hn(o,l,S,k-S),l.F=o.mb,null==l.F&&0==l.F.length)){c=Kt(o,3,"Could not decode alpha data.");break e}S<l.j&&(b=l.j-S,S=l.j,e(!(1&b)),l.O+=o.R*b,l.N+=o.B*(b>>1),l.W+=o.B*(b>>1),null!=l.F&&(l.J+=l.width*b)),S<k&&(l.O+=l.v,l.N+=l.v>>1,l.W+=l.v>>1,null!=l.F&&(l.J+=l.v),l.ka=S-l.j,l.U=l.va-l.v,l.T=k-S,c=l.put(l))}a+1!=o.Ic||y||(r(o.sa,o.ta-u,f,p+16*o.R,u),r(o.qa,o.ra-d,m,h+8*o.B,d),r(o.Ha,o.Ia-d,g,v+8*o.B,d))}if(!c)return Kt(t,6,"Output aborted.")}return 1}(t,n)),null!=n.bc&&n.bc(n),o&=1}return o?(t.cb=0,o):0})(t,l)||(n=t.a)}}else n=t.a}0==n&&null!=h.Oa&&h.Oa.fd&&(n=On(h.ba))}h=n}u=0!=h?null:11>u?d.f.RGBA.eb:d.f.kb.y}else u=null;return u};var qs=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(t,e){for(var n="",r=0;r<4;r++)n+=String.fromCharCode(t[e++]);return n}function u(t,e){return(t[e+0]|t[e+1]<<8|t[e+2]<<16)>>>0}function h(t,e){return(t[e+0]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}new l;var d=[0],f=[0],p=[],m=new l,g=t,v=function(t,e){var n={},r=0,s=!1,i=0,a=0;if(n.frames=[],!
/** @license
       * Copyright (c) 2017 Dominik Homberger
      Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
      The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
      THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
      https://webpjs.appspot.com
      WebPRiffParser dominikhlbg@gmail.com
      */
function(t,e){for(var n=0;n<4;n++)if(t[e+n]!="RIFF".charCodeAt(n))return!0;return!1}(t,e)){var o,l;for(h(t,e+=4),e+=8;e<t.length;){var d=c(t,e),f=h(t,e+=4);e+=4;var p=f+(1&f);switch(d){case"VP8 ":case"VP8L":void 0===n.frames[r]&&(n.frames[r]={}),(v=n.frames[r]).src_off=s?a:e-8,v.src_size=i+f+8,r++,s&&(s=!1,i=0,a=0);break;case"VP8X":(v=n.header={}).feature_flags=t[e];var m=e+4;v.canvas_width=1+u(t,m),m+=3,v.canvas_height=1+u(t,m),m+=3;break;case"ALPH":s=!0,i=p+8,a=e-8;break;case"ANIM":(v=n.header).bgcolor=h(t,e),m=e+4,v.loop_count=(o=t)[(l=m)+0]|o[l+1]<<8,m+=2;break;case"ANMF":var g,v;(v=n.frames[r]={}).offset_x=2*u(t,e),e+=3,v.offset_y=2*u(t,e),e+=3,v.width=1+u(t,e),e+=3,v.height=1+u(t,e),e+=3,v.duration=u(t,e),e+=3,g=t[e++],v.dispose=1&g,v.blend=g>>1&1}"ANMF"!=d&&(e+=p)}return n}}(g,0);v.response=g,v.rgbaoutput=!0,v.dataurl=!1;var y=v.header?v.header:null,b=v.frames?v.frames:null;if(y){y.loop_counter=y.loop_count,d=[y.canvas_height],f=[y.canvas_width];for(var w=0;w<b.length&&0!=b[w].blend;w++);}var x=b[0],S=m.WebPDecodeRGBA(g,x.src_off,x.src_size,f,d);x.rgba=S,x.imgwidth=f[0],x.imgheight=d[0];for(var _=0;_<f[0]*d[0]*4;_++)p[_]=S[_];return this.width=f,this.height=d,this.data=p,this}!function(t){var e=function(e,r,l,c){var u=4,h=i;switch(c){case t.image_compression.FAST:u=1,h=s;break;case t.image_compression.MEDIUM:u=6,h=a;break;case t.image_compression.SLOW:u=9,h=o}var d=AA(e=n(e,r,l,h),{level:u});return t.__addimage__.arrayBufferToBinaryString(d)},n=function(t,e,n,r){for(var s,i,a,o=t.length/e,l=new Uint8Array(t.length+o),h=c(),d=0;d<o;d+=1){if(a=d*e,s=t.subarray(a,a+e),r)l.set(r(s,n,i),a+d);else{for(var f,p=h.length,m=[];f<p;f+=1)m[f]=h[f](s,n,i);var g=u(m.concat());l.set(m[g],a+d)}i=s}return l},r=function(t){var e=Array.apply([],t);return e.unshift(0),e},s=function(t,e){var n,r=[],s=t.length;r[0]=1;for(var i=0;i<s;i+=1)n=t[i-e]||0,r[i+1]=t[i]-n+256&255;return r},i=function(t,e,n){var r,s=[],i=t.length;s[0]=2;for(var a=0;a<i;a+=1)r=n&&n[a]||0,s[a+1]=t[a]-r+256&255;return s},a=function(t,e,n){var r,s,i=[],a=t.length;i[0]=3;for(var o=0;o<a;o+=1)r=t[o-e]||0,s=n&&n[o]||0,i[o+1]=t[o]+256-(r+s>>>1)&255;return i},o=function(t,e,n){var r,s,i,a,o=[],c=t.length;o[0]=4;for(var u=0;u<c;u+=1)r=t[u-e]||0,s=n&&n[u]||0,i=n&&n[u-e]||0,a=l(r,s,i),o[u+1]=t[u]-a+256&255;return o},l=function(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),s=Math.abs(t-n),i=Math.abs(t+e-n-n);return r<=s&&r<=i?t:s<=i?e:n},c=function(){return[r,s,i,a,o]},u=function(t){var e=t.map(function(t){return t.reduce(function(t,e){return t+Math.abs(e)},0)});return e.indexOf(Math.min.apply(null,e))};t.processPNG=function(n,r,s,i){var a,o,l,c,u,h,d,f,p,m,g,v,y,b,w,x=this.decode.FLATE_DECODE,S="";if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){if(n=(l=new wE(n)).imgData,o=l.bits,a=l.colorSpace,u=l.colors,-1!==[4,6].indexOf(l.colorType)){if(8===l.bits){p=(f=32==l.pixelBitlength?new Uint32Array(l.decodePixels().buffer):16==l.pixelBitlength?new Uint16Array(l.decodePixels().buffer):new Uint8Array(l.decodePixels().buffer)).length,g=new Uint8Array(p*l.colors),m=new Uint8Array(p);var _,A=l.pixelBitlength-l.bits;for(b=0,w=0;b<p;b++){for(y=f[b],_=0;_<A;)g[w++]=y>>>_&255,_+=l.bits;m[b]=y>>>_&255}}if(16===l.bits){p=(f=new Uint32Array(l.decodePixels().buffer)).length,g=new Uint8Array(p*(32/l.pixelBitlength)*l.colors),m=new Uint8Array(p*(32/l.pixelBitlength)),v=l.colors>1,b=0,w=0;for(var N=0;b<p;)y=f[b++],g[w++]=y>>>0&255,v&&(g[w++]=y>>>16&255,y=f[b++],g[w++]=y>>>0&255),m[N++]=y>>>16&255;o=8}i!==t.image_compression.NONE?(n=e(g,l.width*l.colors,l.colors,i),d=e(m,l.width,1,i)):(n=g,d=m,x=void 0)}if(3===l.colorType&&(a=this.color_spaces.INDEXED,h=l.palette,l.transparency.indexed)){var E=l.transparency.indexed,k=0;for(b=0,p=E.length;b<p;++b)k+=E[b];if((k/=255)==p-1&&-1!==E.indexOf(0))c=[E.indexOf(0)];else if(k!==p){for(f=l.decodePixels(),m=new Uint8Array(f.length),b=0,p=f.length;b<p;b++)m[b]=E[f[b]];d=e(m,l.width,1)}}var C=function(e){var n;switch(e){case t.image_compression.FAST:n=11;break;case t.image_compression.MEDIUM:n=13;break;case t.image_compression.SLOW:n=14;break;default:n=12}return n}(i);return x===this.decode.FLATE_DECODE&&(S="/Predictor "+C+" "),S+="/Colors "+u+" /BitsPerComponent "+o+" /Columns "+l.width,(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(d&&this.__addimage__.isArrayBuffer(d)||this.__addimage__.isArrayBufferView(d))&&(d=this.__addimage__.arrayBufferToBinaryString(d)),{alias:s,data:n,index:r,filter:x,decodeParameters:S,transparency:c,palette:h,sMask:d,predictor:C,width:l.width,height:l.height,bitsPerComponent:o,colorSpace:a}}}}(aN.API),function(t){t.processGIF89A=function(e,n,r,s){var i=new xE(e),a=i.width,o=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:a,height:o},u=new _E(100).encode(c,100);return t.processJPEG.call(this,u,n,r,s)},t.processGIF87A=t.processGIF89A}(aN.API),AE.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:r,blue:n,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},AE.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){LA.log("bit decode error:"+n)}},AE.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,s=0;s<e;s++)for(var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*s*4,o=0;o<8&&8*s+o<this.width;o++){var l=this.palette[i>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}0!==n&&(this.pos+=4-n)}},AE.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<t;s++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*s*4,o=i>>4,l=15&i,c=this.palette[o];if(this.data[a]=c.blue,this.data[a+1]=c.green,this.data[a+2]=c.red,this.data[a+3]=255,2*s+1>=this.width)break;c=this.palette[l],this.data[a+4]=c.blue,this.data[a+4+1]=c.green,this.data[a+4+2]=c.red,this.data[a+4+3]=255}0!==e&&(this.pos+=4-e)}},AE.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+4*r;if(s<this.palette.length){var a=this.palette[s];this.data[i]=a.red,this.data[i+1]=a.green,this.data[i+2]=a.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}0!==t&&(this.pos+=4-t)}},AE.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(i&e)/e*255|0,o=(i>>5&e)/e*255|0,l=(i>>10&e)/e*255|0,c=i>>15?255:0,u=r*this.width*4+4*s;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=a,this.data[u+3]=c}this.pos+=t}},AE.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&n)/n*255|0,c=(a>>11)/e*255|0,u=s*this.width*4+4*i;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=255}this.pos+=t}},AE.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=i,this.data[a+1]=s,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},AE.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=i,this.data[o+1]=s,this.data[o+2]=r,this.data[o+3]=a}},AE.prototype.getData=function(){return this.data},
/**
 * @license
 * Copyright (c) 2018 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(t){t.processBMP=function(e,n,r,s){var i=new AE(e,!1),a=i.width,o=i.height,l={data:i.getData(),width:a,height:o},c=new _E(100).encode(l,100);return t.processJPEG.call(this,c,n,r,s)}}(aN.API),NE.prototype.getData=function(){return this.data},
/**
 * @license
 * Copyright (c) 2019 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(t){t.processWEBP=function(e,n,r,s){var i=new NE(e),a=i.width,o=i.height,l={data:i.getData(),width:a,height:o},c=new _E(100).encode(l,100);return t.processJPEG.call(this,c,n,r,s)}}(aN.API),aN.API.processRGBA=function(t,e,n){for(var r=t.data,s=r.length,i=new Uint8Array(s/4*3),a=new Uint8Array(s/4),o=0,l=0,c=0;c<s;c+=4){var u=r[c],h=r[c+1],d=r[c+2],f=r[c+3];i[o++]=u,i[o++]=h,i[o++]=d,a[l++]=f}var p=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:p,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},aN.API.setLanguage=function(t){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]&&(this.internal.languageSettings.languageCode=t,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},mE=aN.API,gE=mE.getCharWidthsArray=function(t,e){var n,r,s=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:s.metadata.Unicode.widths,l=o.fof?o.fof:1,c=e.kerning?e.kerning:s.metadata.Unicode.kerning,u=c.fof?c.fof:1,h=!1!==e.doKerning,d=0,f=t.length,p=0,m=o[0]||l,g=[];for(n=0;n<f;n++)r=t.charCodeAt(n),"function"==typeof s.metadata.widthOfString?g.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(r))+a*(1e3/i)||0)/1e3):(d=h&&"object"===F_(c[r])&&!isNaN(parseInt(c[r][p],10))?c[r][p]/u:0,g.push((o[r]||m)/l+d)),p=r;return g},vE=mE.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return mE.processArabic&&(t=mE.processArabic(t)),"function"==typeof r.metadata.widthOfString?r.metadata.widthOfString(t,n,s)/n:gE.apply(this,arguments).reduce(function(t,e){return t+e},0)},yE=function(t,e,n,r){for(var s=[],i=0,a=t.length,o=0;i!==a&&o+e[i]<n;)o+=e[i],i++;s.push(t.slice(0,i));var l=i;for(o=0;i!==a;)o+e[i]>r&&(s.push(t.slice(l,i)),o=0,l=i),o+=e[i],i++;return l!==i&&s.push(t.slice(l,i)),s},bE=function(t,e,n){n||(n={});var r,s,i,a,o,l,c,u=[],h=[u],d=n.textIndent||0,f=0,p=0,m=t.split(" "),g=gE.apply(this,[" ",n])[0];if(l=-1===n.lineIndent?m[0].length+2:n.lineIndent||0){var v=Array(l).join(" "),y=[];m.map(function(t){(t=t.split(/\s*\n/)).length>1?y=y.concat(t.map(function(t,e){return(e&&t.length?"\n":"")+t})):y.push(t[0])}),m=y,l=vE.apply(this,[v,n])}for(i=0,a=m.length;i<a;i++){var b=0;if(r=m[i],l&&"\n"==r[0]&&(r=r.substr(1),b=1),d+f+(p=(s=gE.apply(this,[r,n])).reduce(function(t,e){return t+e},0))>e||b){if(p>e){for(o=yE.apply(this,[r,s,e-(d+f),e]),u.push(o.shift()),u=[o.pop()];o.length;)h.push([o.shift()]);p=s.slice(r.length-(u[0]?u[0].length:0)).reduce(function(t,e){return t+e},0)}else u=[r];h.push(u),d=p+l,f=g}else u.push(r),d+=f+p,f=g}return c=l?function(t,e){return(e?v:"")+t.join(" ")}:function(t){return t.join(" ")},h.map(c)},mE.splitTextToSize=function(t,e,n){var r,s=(n=n||{}).fontSize||this.internal.getFontSize(),i=function(t){if(t.widths&&t.kerning)return{widths:t.widths,kerning:t.kerning};var e=this.internal.getFont(t.fontName,t.fontStyle);return e.metadata.Unicode?{widths:e.metadata.Unicode.widths||{0:1},kerning:e.metadata.Unicode.kerning||{}}:{font:e.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/s;i.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=n.lineIndent;var o,l,c=[];for(o=0,l=r.length;o<l;o++)c=c.concat(bE.apply(this,[r[o],a,i]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},s=0;s<16;s++)n[e[s]]="0123456789abcdef"[s],r["0123456789abcdef"[s]]=e[s];var i=function(t){return"0x"+parseInt(t,10).toString(16)},a=t.__fontmetrics__.compress=function(t){var e,n,s,o,l=["{"];for(var c in t){if(e=t[c],isNaN(parseInt(c,10))?n="'"+c+"'":(c=parseInt(c,10),n=(n=i(c).slice(2)).slice(0,-1)+r[n.slice(-1)]),"number"==typeof e)e<0?(s=i(e).slice(3),o="-"):(s=i(e).slice(2),o=""),s=o+s.slice(0,-1)+r[s.slice(-1)];else{if("object"!==F_(e))throw new Error("Don't know what to do with value type "+F_(e)+".");s=a(e)}l.push(n+s)}return l.push("}"),l.join("")},o=t.__fontmetrics__.uncompress=function(t){if("string"!=typeof t)throw new Error("Invalid argument passed to uncompress.");for(var e,r,s,i,a={},o=1,l=a,c=[],u="",h="",d=t.length-1,f=1;f<d;f+=1)"'"==(i=t[f])?e?(s=e.join(""),e=void 0):e=[]:e?e.push(i):"{"==i?(c.push([l,s]),l={},s=void 0):"}"==i?((r=c.pop())[0][r[1]]=l,s=void 0,l=r[0]):"-"==i?o=-1:void 0===s?n.hasOwnProperty(i)?(u+=n[i],s=parseInt(u,16)*o,o=1,u=""):u+=i:n.hasOwnProperty(i)?(h+=n[i],l[s]=parseInt(h,16)*o,o=1,s=void 0,h=""):h+=i;return a},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(t){var e=t.font,n=u.Unicode[e.postScriptName];n&&(e.metadata.Unicode={},e.metadata.Unicode.widths=n.widths,e.metadata.Unicode.kerning=n.kerning);var r=c.Unicode[e.postScriptName];r&&(e.metadata.Unicode.encoding=r,e.encoding=r.codePages[0])}])}(aN.API),
/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(t){var e=function(t){for(var e=t.length,n=new Uint8Array(e),r=0;r<e;r++)n[r]=t.charCodeAt(r);return n};t.API.events.push(["addFont",function(n){var r,s,i=void 0,a=n.font,o=n.instance;if(!a.isStandardFont){if(void 0===o)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if("string"!=typeof(i=!1===o.existsFileInVFS(a.postScriptName)?o.loadFile(a.postScriptName):o.getFileFromVFS(a.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");r=a,s=/^\x00\x01\x00\x00/.test(s=i)?e(s):e(DA(s)),r.metadata=t.API.TTFFont.open(s),r.metadata.Unicode=r.metadata.Unicode||{encoding:{},kerning:{},widths:[]},r.metadata.glyIdsUsed=[0]}}])}(aN),aN.API.addSvgAsImage=function(t,e,n,r,s,i,a,o){if(isNaN(e)||isNaN(n))throw LA.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(s))throw LA.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=s;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(kA.canvg?Promise.resolve(kA.canvg):D_(()=>import("./index.es-C9FiiNmD.js"),[])).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t}).then(function(e){return e.fromString(c,t,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(t){return t.render(u)}).then(function(){h.addImage(l.toDataURL("image/jpeg",1),e,n,r,s,a,o)})},aN.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var s=0;s<this.internal.pages[r].length;s++)this.internal.pages[r][s]=this.internal.pages[r][s].replace(e,n);return this},aN.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,s,i,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],c=0,u=0,h=0;function d(t,e){var n,r=!1;for(n=0;n<t.length;n+=1)t[n]===e&&(r=!0);return r}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,"reset"===t||!0===e){var f=o.length;for(h=0;h<f;h+=1)n[o[h]].value=n[o[h]].defaultValue,n[o[h]].explicitSet=!1}if("object"===F_(t))for(s in t)if(i=t[s],d(o,s)&&void 0!==i){if("boolean"===n[s].type&&"boolean"==typeof i)n[s].value=i;else if("name"===n[s].type&&d(n[s].valueSet,i))n[s].value=i;else if("integer"===n[s].type&&Number.isInteger(i))n[s].value=i;else if("array"===n[s].type){for(c=0;c<i.length;c+=1)if(r=!0,1===i[c].length&&"number"==typeof i[c][0])l.push(String(i[c]-1));else if(i[c].length>1){for(u=0;u<i[c].length;u+=1)"number"!=typeof i[c][u]&&(r=!1);!0===r&&l.push([i[c][0]-1,i[c][1]-1].join(" "))}n[s].value="["+l.join(" ")+"]"}else n[s].value=n[s].defaultValue;n[s].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var t,e=[];for(t in n)!0===n[t].explicitSet&&("name"===n[t].type?e.push("/"+t+" /"+n[t].value):e.push("/"+t+" "+n[t].value));0!==e.length&&this.internal.write("/ViewerPreferences\n<<\n"+e.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},
/** ====================================================================
 * @license
 * jsPDF XMP metadata plugin
 * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */
function(t){var e=function(){var t='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',e=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),n=unescape(encodeURIComponent(t)),r=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),s=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),i=unescape(encodeURIComponent("</x:xmpmeta>")),a=n.length+r.length+s.length+e.length+i.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+a+" >>"),this.internal.write("stream"),this.internal.write(e+n+r+s+i),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(t,r){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:t,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(aN.API),function(t){var e=t.API,n=e.pdfEscape16=function(t,e){for(var n,r=e.metadata.Unicode.widths,s=["","0","00","000","0000"],i=[""],a=0,o=t.length;a<o;++a){if(n=e.metadata.characterToGlyph(t.charCodeAt(a)),e.metadata.glyIdsUsed.push(n),e.metadata.toUnicode[n]=t.charCodeAt(a),-1==r.indexOf(n)&&(r.push(n),r.push([parseInt(e.metadata.widthOfGlyph(n),10)])),"0"==n)return i.join("");n=n.toString(16),i.push(s[4-n.length],n)}return i.join("")},r=function(t){var e,n,r,s,i,a,o;for(i="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",r=[],a=0,o=(n=Object.keys(t).sort(function(t,e){return t-e})).length;a<o;a++)e=n[a],r.length>=100&&(i+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar",r=[]),void 0!==t[e]&&null!==t[e]&&"function"==typeof t[e].toString&&(s=("0000"+t[e].toString(16)).slice(-4),e=("0000"+(+e).toString(16)).slice(-4),r.push("<"+e+"><"+s+">"));return r.length&&(i+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar\n"),i+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};e.events.push(["putFont",function(e){!function(e){var n=e.font,s=e.out,i=e.newObject,a=e.putStream;if(n.metadata instanceof t.API.TTFFont&&"Identity-H"===n.encoding){for(var o=n.metadata.Unicode.widths,l=n.metadata.subset.encode(n.metadata.glyIdsUsed,1),c="",u=0;u<l.length;u++)c+=String.fromCharCode(l[u]);var h=i();a({data:c,addLength1:!0,objectId:h}),s("endobj");var d=i();a({data:r(n.metadata.toUnicode),addLength1:!0,objectId:d}),s("endobj");var f=i();s("<<"),s("/Type /FontDescriptor"),s("/FontName /"+tN(n.fontName)),s("/FontFile2 "+h+" 0 R"),s("/FontBBox "+t.API.PDFObject.convert(n.metadata.bbox)),s("/Flags "+n.metadata.flags),s("/StemV "+n.metadata.stemV),s("/ItalicAngle "+n.metadata.italicAngle),s("/Ascent "+n.metadata.ascender),s("/Descent "+n.metadata.decender),s("/CapHeight "+n.metadata.capHeight),s(">>"),s("endobj");var p=i();s("<<"),s("/Type /Font"),s("/BaseFont /"+tN(n.fontName)),s("/FontDescriptor "+f+" 0 R"),s("/W "+t.API.PDFObject.convert(o)),s("/CIDToGIDMap /Identity"),s("/DW 1000"),s("/Subtype /CIDFontType2"),s("/CIDSystemInfo"),s("<<"),s("/Supplement 0"),s("/Registry (Adobe)"),s("/Ordering ("+n.encoding+")"),s(">>"),s(">>"),s("endobj"),n.objectNumber=i(),s("<<"),s("/Type /Font"),s("/Subtype /Type0"),s("/ToUnicode "+d+" 0 R"),s("/BaseFont /"+tN(n.fontName)),s("/Encoding /"+n.encoding),s("/DescendantFonts ["+p+" 0 R]"),s(">>"),s("endobj"),n.isAlreadyPutted=!0}}(e)}]),e.events.push(["putFont",function(e){!function(e){var n=e.font,s=e.out,i=e.newObject,a=e.putStream;if(n.metadata instanceof t.API.TTFFont&&"WinAnsiEncoding"===n.encoding){for(var o=n.metadata.rawData,l="",c=0;c<o.length;c++)l+=String.fromCharCode(o[c]);var u=i();a({data:l,addLength1:!0,objectId:u}),s("endobj");var h=i();a({data:r(n.metadata.toUnicode),addLength1:!0,objectId:h}),s("endobj");var d=i();s("<<"),s("/Descent "+n.metadata.decender),s("/CapHeight "+n.metadata.capHeight),s("/StemV "+n.metadata.stemV),s("/Type /FontDescriptor"),s("/FontFile2 "+u+" 0 R"),s("/Flags 96"),s("/FontBBox "+t.API.PDFObject.convert(n.metadata.bbox)),s("/FontName /"+tN(n.fontName)),s("/ItalicAngle "+n.metadata.italicAngle),s("/Ascent "+n.metadata.ascender),s(">>"),s("endobj"),n.objectNumber=i();for(var f=0;f<n.metadata.hmtx.widths.length;f++)n.metadata.hmtx.widths[f]=parseInt(n.metadata.hmtx.widths[f]*(1e3/n.metadata.head.unitsPerEm));s("<</Subtype/TrueType/Type/Font/ToUnicode "+h+" 0 R/BaseFont/"+tN(n.fontName)+"/FontDescriptor "+d+" 0 R/Encoding/"+n.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(n.metadata.hmtx.widths)+">>"),s("endobj"),n.isAlreadyPutted=!0}}(e)}]);var s=function(t){var e,r=t.text||"",s=t.x,i=t.y,a=t.options||{},o=t.mutex||{},l=o.pdfEscape,c=o.activeFontKey,u=o.fonts,h=c,d="",f=0,p="",m=u[h].encoding;if("Identity-H"!==u[h].encoding)return{text:r,x:s,y:i,options:a,mutex:o};for(p=r,h=c,Array.isArray(r)&&(p=r[0]),f=0;f<p.length;f+=1)u[h].metadata.hasOwnProperty("cmap")&&(e=u[h].metadata.cmap.unicode.codeMap[p[f].charCodeAt(0)]),e||p[f].charCodeAt(0)<256&&u[h].metadata.hasOwnProperty("Unicode")?d+=p[f]:d+="";var g="";return parseInt(h.slice(1))<14||"WinAnsiEncoding"===m?g=l(d,h).split("").map(function(t){return t.charCodeAt(0).toString(16)}).join(""):"Identity-H"===m&&(g=n(d,u[h])),o.isHex=!0,{text:g,x:s,y:i,options:a,mutex:o}};e.events.push(["postProcessText",function(t){var e=t.text||"",n=[],r={text:e,x:t.x,y:t.y,options:t.options,mutex:t.mutex};if(Array.isArray(e)){var i=0;for(i=0;i<e.length;i+=1)Array.isArray(e[i])&&3===e[i].length?n.push([s(Object.assign({},r,{text:e[i][0]})).text,e[i][1],e[i][2]]):n.push(s(Object.assign({},r,{text:e[i]})).text);t.text=n}else t.text=s(Object.assign({},r,{text:e})).text}])}(aN),
/**
 * @license
 * jsPDF virtual FileSystem functionality
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(t){var e=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(t){return e.call(this),void 0!==this.internal.vFS[t]},t.addFileToVFS=function(t,n){return e.call(this),this.internal.vFS[t]=n,this},t.getFileFromVFS=function(t){return e.call(this),void 0!==this.internal.vFS[t]?this.internal.vFS[t]:null}}(aN.API),
/**
 * @license
 * Unicode Bidi Engine based on the work of Alex Shensis (@asthensis)
 * MIT License
 */
function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(t){var n,r,s,i,a,o,l,c=e,u=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],d={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},f={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},p=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],m=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),g=!1,v=0;this.__bidiEngine__={};var y=function(t){var e=t.charCodeAt(),n=e>>8,r=f[n];return void 0!==r?c[256*r+(255&e)]:252===n||253===n?"AL":m.test(n)?"L":8===n?"R":"N"},b=function(t){for(var e,n=0;n<t.length;n++){if("L"===(e=y(t.charAt(n))))return!1;if("R"===e)return!0}return!1},w=function(t,e,a,o){var l,c,u,h,d=e[o];switch(d){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":g=!1;break;case"N":case"AN":break;case"EN":g&&(d="AN");break;case"AL":g=!0,d="R";break;case"WS":case"BN":d="N";break;case"CS":o<1||o+1>=e.length||"EN"!==(l=a[o-1])&&"AN"!==l||"EN"!==(c=e[o+1])&&"AN"!==c?d="N":g&&(c="AN"),d=c===l?c:"N";break;case"ES":d="EN"===(l=o>0?a[o-1]:"B")&&o+1<e.length&&"EN"===e[o+1]?"EN":"N";break;case"ET":if(o>0&&"EN"===a[o-1]){d="EN";break}if(g){d="N";break}for(u=o+1,h=e.length;u<h&&"ET"===e[u];)u++;d=u<h&&"EN"===e[u]?"EN":"N";break;case"NSM":if(s&&!i){for(h=e.length,u=o+1;u<h&&"NSM"===e[u];)u++;if(u<h){var f=t[o],p=f>=1425&&f<=2303||64286===f;if(l=e[u],p&&("R"===l||"AL"===l)){d="R";break}}}d=o<1||"B"===(l=e[o-1])?"N":a[o-1];break;case"B":g=!1,n=!0,d=v;break;case"S":r=!0,d="N"}return d},x=function(t,e,n){var r=t.split("");return n&&S(r,n,{hiLevel:v}),r.reverse(),e&&e.reverse(),r.join("")},S=function(t,e,s){var i,a,o,l,c,f=-1,p=t.length,m=0,b=[],x=v?h:u,S=[];for(g=!1,n=!1,r=!1,a=0;a<p;a++)S[a]=y(t[a]);for(o=0;o<p;o++){if(c=m,b[o]=w(t,S,b,o),i=240&(m=x[c][d[b[o]]]),m&=15,e[o]=l=x[m][5],i>0)if(16===i){for(a=f;a<o;a++)e[a]=1;f=-1}else f=-1;if(x[m][6])-1===f&&(f=o);else if(f>-1){for(a=f;a<o;a++)e[a]=l;f=-1}"B"===S[o]&&(e[o]=0),s.hiLevel|=l}r&&function(t,e,n){for(var r=0;r<n;r++)if("S"===t[r]){e[r]=v;for(var s=r-1;s>=0&&"WS"===t[s];s--)e[s]=v}}(S,e,p)},_=function(t,e,r,s,i){if(!(i.hiLevel<t)){if(1===t&&1===v&&!n)return e.reverse(),void(r&&r.reverse());for(var a,o,l,c,u=e.length,h=0;h<u;){if(s[h]>=t){for(l=h+1;l<u&&s[l]>=t;)l++;for(c=h,o=l-1;c<o;c++,o--)a=e[c],e[c]=e[o],e[o]=a,r&&(a=r[c],r[c]=r[o],r[o]=a);h=l}h++}}},A=function(t,e,n){var r=t.split(""),s={hiLevel:v};return n||(n=[]),S(r,n,s),function(t,e,n){if(0!==n.hiLevel&&l)for(var r,s=0;s<t.length;s++)1===e[s]&&(r=p.indexOf(t[s]))>=0&&(t[s]=p[r+1])}(r,n,s),_(2,r,e,n,s),_(1,r,e,n,s),r.join("")};return this.__bidiEngine__.doBidiReorder=function(t,e,n){if(function(t,e){if(e)for(var n=0;n<t.length;n++)e[n]=n;void 0===i&&(i=b(t)),void 0===o&&(o=b(t))}(t,e),s||!a||o)if(s&&a&&i^o)v=i?1:0,t=x(t,e,n);else if(!s&&a&&o)v=i?1:0,t=A(t,e,n),t=x(t,e);else if(!s||i||a||o){if(s&&!a&&i^o)t=x(t,e),i?(v=0,t=A(t,e,n)):(v=1,t=A(t,e,n),t=x(t,e));else if(s&&i&&!a&&o)v=1,t=A(t,e,n),t=x(t,e);else if(!s&&!a&&i^o){var r=l;i?(v=1,t=A(t,e,n),v=0,l=!1,t=A(t,e,n),l=r):(v=0,t=A(t,e,n),t=x(t,e),v=1,l=!1,t=A(t,e,n),l=r,t=x(t,e))}}else v=0,t=A(t,e,n);else v=i?1:0,t=A(t,e,n);return t},this.__bidiEngine__.setOptions=function(t){t&&(s=t.isInputVisual,a=t.isOutputVisual,i=t.isInputRtl,o=t.isOutputRtl,l=t.isSymmetricSwapping)},this.__bidiEngine__.setOptions(t),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(t){var e=t.text,r=(t.x,t.y,t.options||{}),s=(t.mutex,r.lang,[]);if(r.isInputVisual="boolean"!=typeof r.isInputVisual||r.isInputVisual,n.setOptions(r),"[object Array]"===Object.prototype.toString.call(e)){var i=0;for(s=[],i=0;i<e.length;i+=1)"[object Array]"===Object.prototype.toString.call(e[i])?s.push([n.doBidiReorder(e[i][0]),e[i][1],e[i][2]]):s.push([n.doBidiReorder(e[i])]);t.text=s}else t.text=n.doBidiReorder(e);n.setOptions({isInputVisual:!0})}])}(aN),aN.API.TTFFont=function(){function t(t){var e;if(this.rawData=t,e=this.contents=new kE(t),this.contents.pos=4,"ttcf"===e.readString(4))throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new WE(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new CE(this.contents),this.head=new PE(this),this.name=new jE(this),this.cmap=new DE(this),this.toUnicode={},this.hhea=new FE(this),this.maxp=new BE(this),this.hmtx=new qE(this),this.post=new OE(this),this.os2=new ME(this),this.loca=new $E(this),this.glyf=new VE(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var t,e,n,r,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var e,n,r,s;for(s=[],e=0,n=(r=this.bbox).length;e<n;e++)t=r[e],s.push(Math.round(t*this.scaleFactor));return s}.call(this),this.stemV=0,this.post.exists?(n=255&(r=this.post.italic_angle),!!(32768&(e=r>>16))&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(s=this.familyClass)||2===s||3===s||4===s||5===s||7===s,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(t){var e;return(null!=(e=this.cmap.unicode)?e.codeMap[t]:void 0)||0},t.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},t.prototype.widthOfString=function(t,e,n){var r,s,i,a;for(i=0,s=0,a=(t=""+t).length;0<=a?s<a:s>a;s=0<=a?++s:--s)r=t.charCodeAt(s),i+=this.widthOfGlyph(this.characterToGlyph(r))+n*(1e3/e)||0;return i*(e/1e3)},t.prototype.lineHeight=function(t,e){var n;return null==e&&(e=!1),n=e?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},t}();var EE,kE=function(){function t(t){this.data=null!=t?t:[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(t){return this.data[this.pos++]=t},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},t.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},t.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},t.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},t.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},t.prototype.readString=function(t){var e,n;for(n=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)n[e]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(t){var e,n,r;for(r=[],e=0,n=t.length;0<=n?e<n:e>n;e=0<=n?++e:--e)r.push(this.writeByte(t.charCodeAt(e)));return r},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(t){return this.writeInt16(t)},t.prototype.readLongLong=function(){var t,e,n,r,s,i,a,o;return t=this.readByte(),e=this.readByte(),n=this.readByte(),r=this.readByte(),s=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^n)+4294967296*(255^r)+16777216*(255^s)+65536*(255^i)+256*(255^a)+(255^o)+1):72057594037927940*t+281474976710656*e+1099511627776*n+4294967296*r+16777216*s+65536*i+256*a+o},t.prototype.writeLongLong=function(t){var e,n;return e=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(t){return this.writeInt32(t)},t.prototype.read=function(t){var e,n;for(e=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)e.push(this.readByte());return e},t.prototype.write=function(t){var e,n,r,s;for(s=[],n=0,r=t.length;n<r;n++)e=t[n],s.push(this.writeByte(e));return s},t}(),CE=function(){var t;function e(t){var e,n,r;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},n=0,r=this.tableCount;0<=r?n<r:n>r;n=0<=r?++n:--n)e={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[e.tag]=e}return e.prototype.encode=function(e){var n,r,s,i,a,o,l,c,u,h,d,f,p;for(p in d=Object.keys(e).length,o=Math.log(2),u=16*Math.floor(Math.log(d)/o),i=Math.floor(u/o),c=16*d-u,(r=new kE).writeInt(this.scalarType),r.writeShort(d),r.writeShort(u),r.writeShort(i),r.writeShort(c),s=16*d,l=r.pos+s,a=null,f=[],e)for(h=e[p],r.writeString(p),r.writeInt(t(h)),r.writeInt(l),r.writeInt(h.length),f=f.concat(h),"head"===p&&(a=l),l+=h.length;l%4;)f.push(0),l++;return r.write(f),n=2981146554-t(r.data),r.pos=a+8,r.writeUInt32(n),r.data},t=function(t){var e,n,r,s;for(t=UE.call(t);t.length%4;)t.push(0);for(r=new kE(t),n=0,e=0,s=t.length;e<s;e=e+=4)n+=r.readUInt32();return 4294967295&n},e}(),LE={}.hasOwnProperty,TE=function(t,e){for(var n in e)LE.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};EE=function(){function t(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var PE=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return TE(t,EE),t.prototype.tag="head",t.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},t.prototype.encode=function(t){var e;return(e=new kE).writeInt(this.version),e.writeInt(this.revision),e.writeInt(this.checkSumAdjustment),e.writeInt(this.magicNumber),e.writeShort(this.flags),e.writeShort(this.unitsPerEm),e.writeLongLong(this.created),e.writeLongLong(this.modified),e.writeShort(this.xMin),e.writeShort(this.yMin),e.writeShort(this.xMax),e.writeShort(this.yMax),e.writeShort(this.macStyle),e.writeShort(this.lowestRecPPEM),e.writeShort(this.fontDirectionHint),e.writeShort(t),e.writeShort(this.glyphDataFormat),e.data},t}(),IE=function(){function t(t,e){var n,r,s,i,a,o,l,c,u,h,d,f,p,m,g,v,y;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),u=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(o=0;o<256;++o)this.codeMap[o]=t.readByte();break;case 4:for(d=t.readUInt16(),h=d/2,t.pos+=6,s=function(){var e,n;for(n=[],o=e=0;0<=h?e<h:e>h;o=0<=h?++e:--e)n.push(t.readUInt16());return n}(),t.pos+=2,p=function(){var e,n;for(n=[],o=e=0;0<=h?e<h:e>h;o=0<=h?++e:--e)n.push(t.readUInt16());return n}(),l=function(){var e,n;for(n=[],o=e=0;0<=h?e<h:e>h;o=0<=h?++e:--e)n.push(t.readUInt16());return n}(),c=function(){var e,n;for(n=[],o=e=0;0<=h?e<h:e>h;o=0<=h?++e:--e)n.push(t.readUInt16());return n}(),r=(this.length-t.pos+this.offset)/2,a=function(){var e,n;for(n=[],o=e=0;0<=r?e<r:e>r;o=0<=r?++e:--e)n.push(t.readUInt16());return n}(),o=g=0,y=s.length;g<y;o=++g)for(m=s[o],n=v=f=p[o];f<=m?v<=m:v>=m;n=f<=m?++v:--v)0===c[o]?i=n+l[o]:0!==(i=a[c[o]/2+(n-f)-(h-o)]||0)&&(i+=l[o]),this.codeMap[n]=65535&i}t.pos=u}return t.encode=function(t,e){var n,r,s,i,a,o,l,c,u,h,d,f,p,m,g,v,y,b,w,x,S,_,A,N,E,k,C,L,T,P,I,D,F,M,O,R,j,B,q,U,V,z,H,$,W,G;switch(L=new kE,i=Object.keys(t).sort(function(t,e){return t-e}),e){case"macroman":for(p=0,m=function(){var t=[];for(f=0;f<256;++f)t.push(0);return t}(),v={0:0},s={},T=0,F=i.length;T<F;T++)null==v[H=t[r=i[T]]]&&(v[H]=++p),s[r]={old:t[r],new:v[t[r]]},m[r]=v[t[r]];return L.writeUInt16(1),L.writeUInt16(0),L.writeUInt32(12),L.writeUInt16(0),L.writeUInt16(262),L.writeUInt16(0),L.write(m),{charMap:s,subtable:L.data,maxGlyphID:p+1};case"unicode":for(k=[],u=[],y=0,v={},n={},g=l=null,P=0,M=i.length;P<M;P++)null==v[w=t[r=i[P]]]&&(v[w]=++y),n[r]={old:w,new:v[w]},a=v[w]-r,null!=g&&a===l||(g&&u.push(g),k.push(r),l=a),g=r;for(g&&u.push(g),u.push(65535),k.push(65535),N=2*(A=k.length),_=2*Math.pow(Math.log(A)/Math.LN2,2),h=Math.log(_/2)/Math.LN2,S=2*A-_,o=[],x=[],d=[],f=I=0,O=k.length;I<O;f=++I){if(E=k[f],c=u[f],65535===E){o.push(0),x.push(0);break}if(E-(C=n[E].new)>=32768)for(o.push(0),x.push(2*(d.length+A-f)),r=D=E;E<=c?D<=c:D>=c;r=E<=c?++D:--D)d.push(n[r].new);else o.push(C-E),x.push(0)}for(L.writeUInt16(3),L.writeUInt16(1),L.writeUInt32(12),L.writeUInt16(4),L.writeUInt16(16+8*A+2*d.length),L.writeUInt16(0),L.writeUInt16(N),L.writeUInt16(_),L.writeUInt16(h),L.writeUInt16(S),V=0,R=u.length;V<R;V++)r=u[V],L.writeUInt16(r);for(L.writeUInt16(0),z=0,j=k.length;z<j;z++)r=k[z],L.writeUInt16(r);for($=0,B=o.length;$<B;$++)a=o[$],L.writeUInt16(a);for(W=0,q=x.length;W<q;W++)b=x[W],L.writeUInt16(b);for(G=0,U=d.length;G<U;G++)p=d[G],L.writeUInt16(p);return{charMap:n,subtable:L.data,maxGlyphID:y+1}}},t}(),DE=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return TE(t,EE),t.prototype.tag="cmap",t.prototype.parse=function(t){var e,n,r;for(t.pos=this.offset,this.version=t.readUInt16(),r=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=r?n<r:n>r;n=0<=r?++n:--n)e=new IE(t,this.offset),this.tables.push(e),e.isUnicode&&null==this.unicode&&(this.unicode=e);return!0},t.encode=function(t,e){var n,r;return null==e&&(e="macroman"),n=IE.encode(t,e),(r=new kE).writeUInt16(0),r.writeUInt16(1),n.table=r.data.concat(n.subtable),n},t}(),FE=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return TE(t,EE),t.prototype.tag="hhea",t.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},t}(),ME=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return TE(t,EE),t.prototype.tag="OS/2",t.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var e,n;for(n=[],e=0;e<10;++e)n.push(t.readByte());return n}(),this.charRange=function(){var e,n;for(n=[],e=0;e<4;++e)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var e,n;for(n=[],e=0;e<2;e=++e)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},t}(),OE=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return TE(t,EE),t.prototype.tag="post",t.prototype.parse=function(t){var e,n,r;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(n=t.readUInt16(),this.glyphNameIndex=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],r=[];t.pos<this.offset+this.length;)e=t.readByte(),r.push(this.names.push(t.readString(e)));return r;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=function(){var e,n,r;for(r=[],s=e=0,n=this.file.maxp.numGlyphs;0<=n?e<n:e>n;s=0<=n?++e:--e)r.push(t.readUInt32());return r}.call(this)}},t}(),RE=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},jE=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return TE(t,EE),t.prototype.tag="name",t.prototype.parse=function(t){var e,n,r,s,i,a,o,l,c,u,h;for(t.pos=this.offset,t.readShort(),e=t.readShort(),a=t.readShort(),n=[],s=0;0<=e?s<e:s>e;s=0<=e?++s:--s)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+a+t.readShort()});for(o={},s=c=0,u=n.length;c<u;s=++c)r=n[s],t.pos=r.offset,l=t.readString(r.length),i=new RE(l,r),null==o[h=r.nameID]&&(o[h]=[]),o[r.nameID].push(i);this.strings=o,this.copyright=o[0],this.fontFamily=o[1],this.fontSubfamily=o[2],this.uniqueSubfamily=o[3],this.fontName=o[4],this.version=o[5];try{this.postscriptName=o[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(d){this.postscriptName=o[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=o[7],this.manufacturer=o[8],this.designer=o[9],this.description=o[10],this.vendorUrl=o[11],this.designerUrl=o[12],this.license=o[13],this.licenseUrl=o[14],this.preferredFamily=o[15],this.preferredSubfamily=o[17],this.compatibleFull=o[18],this.sampleText=o[19]},t}(),BE=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return TE(t,EE),t.prototype.tag="maxp",t.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},t}(),qE=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return TE(t,EE),t.prototype.tag="hmtx",t.prototype.parse=function(t){var e,n,r,s,i,a,o;for(t.pos=this.offset,this.metrics=[],e=0,a=this.file.hhea.numberOfMetrics;0<=a?e<a:e>a;e=0<=a?++e:--e)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var n,s;for(s=[],e=n=0;0<=r?n<r:n>r;e=0<=r?++n:--n)s.push(t.readInt16());return s}(),this.widths=function(){var t,e,n,r;for(r=[],t=0,e=(n=this.metrics).length;t<e;t++)s=n[t],r.push(s.advance);return r}.call(this),n=this.widths[this.widths.length-1],o=[],e=i=0;0<=r?i<r:i>r;e=0<=r?++i:--i)o.push(this.widths.push(n));return o},t.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},t}(),UE=[].slice,VE=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return TE(t,EE),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(t){var e,n,r,s,i,a,o,l,c,u;return t in this.cache?this.cache[t]:(s=this.file.loca,e=this.file.contents,n=s.indexOf(t),0===(r=s.lengthOf(t))?this.cache[t]=null:(e.pos=this.offset+n,i=(a=new kE(e.read(r))).readShort(),l=a.readShort(),u=a.readShort(),o=a.readShort(),c=a.readShort(),this.cache[t]=-1===i?new HE(a,l,u,o,c):new zE(a,i,l,u,o,c),this.cache[t]))},t.prototype.encode=function(t,e,n){var r,s,i,a,o;for(i=[],s=[],a=0,o=e.length;a<o;a++)r=t[e[a]],s.push(i.length),r&&(i=i.concat(r.encode(n)));return s.push(i.length),{table:i,offsets:s}},t}(),zE=function(){function t(t,e,n,r,s,i){this.raw=t,this.numberOfContours=e,this.xMin=n,this.yMin=r,this.xMax=s,this.yMax=i,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),HE=function(){function t(t,e,n,r,s){var i,a;for(this.raw=t,this.xMin=e,this.yMin=n,this.xMax=r,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],i=this.raw;a=i.readShort(),this.glyphOffsets.push(i.pos),this.glyphIDs.push(i.readUInt16()),32&a;)i.pos+=1&a?4:2,128&a?i.pos+=8:64&a?i.pos+=4:8&a&&(i.pos+=2)}return t.prototype.encode=function(){var t,e,n;for(e=new kE(UE.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)e.pos=this.glyphOffsets[t];return e.data},t}(),$E=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return TE(t,EE),t.prototype.tag="loca",t.prototype.parse=function(t){var e,n;return t.pos=this.offset,e=this.file.head.indexToLocFormat,this.offsets=0===e?function(){var e,r;for(r=[],n=0,e=this.length;n<e;n+=2)r.push(2*t.readUInt16());return r}.call(this):function(){var e,r;for(r=[],n=0,e=this.length;n<e;n+=4)r.push(t.readUInt32());return r}.call(this)},t.prototype.indexOf=function(t){return this.offsets[t]},t.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},t.prototype.encode=function(t,e){for(var n=new Uint32Array(this.offsets.length),r=0,s=0,i=0;i<n.length;++i)if(n[i]=r,s<e.length&&e[s]==i){++s,n[i]=r;var a=this.offsets[i],o=this.offsets[i+1]-a;o>0&&(r+=o)}for(var l=new Array(4*n.length),c=0;c<n.length;++c)l[4*c+3]=255&n[c],l[4*c+2]=(65280&n[c])>>8,l[4*c+1]=(16711680&n[c])>>16,l[4*c]=(4278190080&n[c])>>24;return l},t}(),WE=function(){function t(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var t,e,n,r,s;for(e in r=this.font.cmap.tables[0].codeMap,t={},s=this.subset)n=s[e],t[e]=r[n];return t},t.prototype.glyphsFor=function(t){var e,n,r,s,i,a,o;for(r={},i=0,a=t.length;i<a;i++)r[s=t[i]]=this.font.glyf.glyphFor(s);for(s in e=[],r)(null!=(n=r[s])?n.compound:void 0)&&e.push.apply(e,n.glyphIDs);if(e.length>0)for(s in o=this.glyphsFor(e))n=o[s],r[s]=n;return r},t.prototype.encode=function(t,e){var n,r,s,i,a,o,l,c,u,h,d,f,p,m,g;for(r in n=DE.encode(this.generateCmap(),"unicode"),i=this.glyphsFor(t),d={0:0},g=n.charMap)d[(o=g[r]).old]=o.new;for(f in h=n.maxGlyphID,i)f in d||(d[f]=h++);return c=function(t){var e,n;for(e in n={},t)n[t[e]]=e;return n}(d),u=Object.keys(c).sort(function(t,e){return t-e}),p=function(){var t,e,n;for(n=[],t=0,e=u.length;t<e;t++)a=u[t],n.push(c[a]);return n}(),s=this.font.glyf.encode(i,p,d),l=this.font.loca.encode(s.offsets,p),m={cmap:this.font.cmap.raw(),glyf:s.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(m["OS/2"]=this.font.os2.raw()),this.font.directory.encode(m)},t}();aN.API.PDFObject=function(){var t;function e(){}return t=function(t,e){return(Array(e+1).join("0")+t).slice(-e)},e.convert=function(n){var r,s,i,a;if(Array.isArray(n))return"["+function(){var t,s,i;for(i=[],t=0,s=n.length;t<s;t++)r=n[t],i.push(e.convert(r));return i}().join(" ")+"]";if("string"==typeof n)return"/"+n;if(null!=n?n.isString:void 0)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(n)){for(s in i=["<<"],n)a=n[s],i.push("/"+s+" "+e.convert(a));return i.push(">>"),i.join("\n")}return""+n},e}();const GE=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:XN,AcroFormAppearance:WN,AcroFormButton:BN,AcroFormCheckBox:zN,AcroFormChoiceField:MN,AcroFormComboBox:RN,AcroFormEditBox:jN,AcroFormListBox:ON,AcroFormPasswordField:$N,AcroFormPushButton:qN,AcroFormRadioButton:UN,AcroFormTextField:HN,GState:nN,ShadingPattern:sN,TilingPattern:iN,default:aN,jsPDF:aN},Symbol.toStringTag,{value:"Module"}));var KE="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function YE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function XE(t){if(t.__esModule)return t;var e=t.default;if("function"==typeof e){var n=function t(){return this instanceof t?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(e){var r=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(n,e,r.get?r:{enumerable:!0,get:function(){return t[e]}})}),n}const QE=XE(GE);
/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */var JE;"undefined"!=typeof globalThis?globalThis:void 0!==KE||("undefined"!=typeof window?window:"undefined"!=typeof self&&self),JE=function(t){return function(){var e={172:function(t,e){var n=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.CellHookData=e.HookData=void 0;var r=function(){return function(t,e,n){this.table=e,this.pageNumber=e.pageNumber,this.pageCount=this.pageNumber,this.settings=e.settings,this.cursor=n,this.doc=t.getDocument()}}();e.HookData=r;var s=function(t){function e(e,n,r,s,i,a){var o=t.call(this,e,n,a)||this;return o.cell=r,o.row=s,o.column=i,o.section=s.section,o}return n(e,t),e}(r);e.CellHookData=s},340:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),s=n(136),i=n(744),a=n(776),o=n(664),l=n(972);e.default=function(t){t.API.autoTable=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];1===e.length?t=e[0]:(console.error("Use of deprecated autoTable initiation"),(t=e[2]||{}).columns=e[0],t.body=e[1]);var r=(0,a.parseInput)(this,t),s=(0,l.createTable)(this,r);return(0,o.drawTable)(this,s),this},t.API.lastAutoTable=!1,t.API.previousAutoTable=!1,t.API.autoTable.previous=!1,t.API.autoTableText=function(t,e,n,r){(0,s.default)(t,e,n,r,this)},t.API.autoTableSetDefaults=function(t){return i.DocHandler.setDefaults(t,this),this},t.autoTableSetDefaults=function(t,e){i.DocHandler.setDefaults(t,e)},t.API.autoTableHtmlToJson=function(t,e){var n;if(void 0===e&&(e=!1),"undefined"==typeof window)return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var s=new i.DocHandler(this),a=(0,r.parseHtml)(s,t,window,e,!1),o=a.head,l=a.body;return{columns:(null===(n=o[0])||void 0===n?void 0:n.map(function(t){return t.content}))||[],rows:l,data:l}},t.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var t=this.lastAutoTable;return t&&t.finalY?t.finalY:0},t.API.autoTableAddPageContent=function(e){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),t.API.autoTable.globalDefaults||(t.API.autoTable.globalDefaults={}),t.API.autoTable.globalDefaults.addPageContent=e,this},t.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}},136:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,r,s){r=r||{};var i=s.internal.scaleFactor,a=s.internal.getFontSize()/i,o=a*(s.getLineHeightFactor?s.getLineHeightFactor():1.15),l="",c=1;if("middle"!==r.valign&&"bottom"!==r.valign&&"center"!==r.halign&&"right"!==r.halign||(c=(l="string"==typeof t?t.split(/\r\n|\r|\n/g):t).length||1),n+=a*(2-1.15),"middle"===r.valign?n-=c/2*o:"bottom"===r.valign&&(n-=c*o),"center"===r.halign||"right"===r.halign){var u=a;if("center"===r.halign&&(u*=.5),l&&c>=1){for(var h=0;h<l.length;h++)s.text(l[h],e-s.getStringUnitWidth(l[h])*u,n),n+=o;return s}e-=s.getStringUnitWidth(t)*u}return"justify"===r.halign?s.text(t,e,n,{maxWidth:r.maxWidth||100,align:"justify"}):s.text(t,e,n),s}},420:function(t,e){function n(t,e){var n=t>0,r=e||0===e;return n&&r?"DF":n?"S":r?"F":null}function r(t,e){var n,r,s,i;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(3===t.length)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(2===t.length)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t=1===t.length?t[0]:e}return"object"==typeof t?("number"==typeof t.vertical&&(t.top=t.vertical,t.bottom=t.vertical),"number"==typeof t.horizontal&&(t.right=t.horizontal,t.left=t.horizontal),{left:null!==(n=t.left)&&void 0!==n?n:e,top:null!==(r=t.top)&&void 0!==r?r:e,right:null!==(s=t.right)&&void 0!==s?s:e,bottom:null!==(i=t.bottom)&&void 0!==i?i:e}):("number"!=typeof t&&(t=e),{top:t,right:t,bottom:t,left:t})}Object.defineProperty(e,"__esModule",{value:!0}),e.getPageAvailableWidth=e.parseSpacing=e.getFillStyle=e.addTableBorder=e.getStringWidth=void 0,e.getStringWidth=function(t,e,n){return n.applyStyles(e,!0),(Array.isArray(t)?t:[t]).map(function(t){return n.getTextWidth(t)}).reduce(function(t,e){return Math.max(t,e)},0)},e.addTableBorder=function(t,e,r,s){var i=e.settings.tableLineWidth,a=e.settings.tableLineColor;t.applyStyles({lineWidth:i,lineColor:a});var o=n(i,!1);o&&t.rect(r.x,r.y,e.getWidth(t.pageSize().width),s.y-r.y,o)},e.getFillStyle=n,e.parseSpacing=r,e.getPageAvailableWidth=function(t,e){var n=r(e.settings.margin,0);return t.pageSize().width-(n.left+n.right)}},796:function(t,e){var n=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.getTheme=e.defaultStyles=e.HtmlRowInput=void 0;var r=function(t){function e(e){var n=t.call(this)||this;return n._element=e,n}return n(e,t),e}(Array);e.HtmlRowInput=r,e.defaultStyles=function(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}},e.getTheme=function(t){return{striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}}[t]}},903:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.parseCss=void 0;var r=n(420);function s(t,e){var n=i(t,e);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var s=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])];return 0===parseInt(r[4])||isNaN(s[0])||isNaN(s[1])||isNaN(s[2])?null:s}function i(t,e){var n=e(t);return"rgba(0, 0, 0, 0)"===n||"transparent"===n||"initial"===n||"inherit"===n?null==t.parentElement?null:i(t.parentElement,e):n}e.parseCss=function(t,e,n,i,a){var o={},l=96/72,c=s(e,function(t){return a.getComputedStyle(t).backgroundColor});null!=c&&(o.fillColor=c);var u=s(e,function(t){return a.getComputedStyle(t).color});null!=u&&(o.textColor=u);var h=function(t,e){var n=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],s=96/(72/e),i=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,a=n.map(function(t){return parseInt(t||"0")/s}),o=(0,r.parseSpacing)(a,0);return i>o.top&&(o.top=i),i>o.bottom&&(o.bottom=i),o}(i,n);h&&(o.cellPadding=h);var d="borderTopColor",f=l*n,p=i.borderTopWidth;if(i.borderBottomWidth===p&&i.borderRightWidth===p&&i.borderLeftWidth===p){var m=(parseFloat(p)||0)/f;m&&(o.lineWidth=m)}else o.lineWidth={top:(parseFloat(i.borderTopWidth)||0)/f,right:(parseFloat(i.borderRightWidth)||0)/f,bottom:(parseFloat(i.borderBottomWidth)||0)/f,left:(parseFloat(i.borderLeftWidth)||0)/f},o.lineWidth.top||(o.lineWidth.right?d="borderRightColor":o.lineWidth.bottom?d="borderBottomColor":o.lineWidth.left&&(d="borderLeftColor"));var g=s(e,function(t){return a.getComputedStyle(t)[d]});null!=g&&(o.lineColor=g);var v=["left","right","center","justify"];-1!==v.indexOf(i.textAlign)&&(o.halign=i.textAlign),-1!==(v=["middle","bottom","top"]).indexOf(i.verticalAlign)&&(o.valign=i.verticalAlign);var y=parseInt(i.fontSize||"");isNaN(y)||(o.fontSize=y/l);var b=function(t){var e="";return("bold"===t.fontWeight||"bolder"===t.fontWeight||parseInt(t.fontWeight)>=700)&&(e="bold"),"italic"!==t.fontStyle&&"oblique"!==t.fontStyle||(e+="italic"),e}(i);b&&(o.fontStyle=b);var w=(i.fontFamily||"").toLowerCase();return-1!==t.indexOf(w)&&(o.font=w),o}},744:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.DocHandler=void 0;var n={},r=function(){function t(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(t,e){void 0===e&&(e=null),e?e.__autoTableDocumentDefaults=t:n=t},t.unifyColor=function(t){return Array.isArray(t)?t:"number"==typeof t?[t,t,t]:"string"==typeof t?[t]:null},t.prototype.applyStyles=function(e,n){var r,s,i;void 0===n&&(n=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var a=this.jsPDFDocument.internal.getFont(),o=a.fontStyle,l=a.fontName;if(e.font&&(l=e.font),e.fontStyle){o=e.fontStyle;var c=this.getFontList()[l];c&&-1===c.indexOf(o)&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(c[0]),o=c[0])}if(this.jsPDFDocument.setFont(l,o),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!n){var u=t.unifyColor(e.fillColor);u&&(r=this.jsPDFDocument).setFillColor.apply(r,u),(u=t.unifyColor(e.textColor))&&(s=this.jsPDFDocument).setTextColor.apply(s,u),(u=t.unifyColor(e.lineColor))&&(i=this.jsPDFDocument).setDrawColor.apply(i,u),"number"==typeof e.lineWidth&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(t,e,n){return this.jsPDFDocument.splitTextToSize(t,e,n)},t.prototype.rect=function(t,e,n,r,s){return this.jsPDFDocument.rect(t,e,n,r,s)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return n||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return null==t.width&&(t={width:t.getWidth(),height:t.getHeight()}),t},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}();e.DocHandler=r},4:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.parseHtml=void 0;var r=n(903),s=n(796);function i(t,e,n,i,o,l){for(var c=new s.HtmlRowInput(i),u=0;u<i.cells.length;u++){var h=i.cells[u],d=n.getComputedStyle(h);if(o||"none"!==d.display){var f=void 0;l&&(f=(0,r.parseCss)(t,h,e,d,n)),c.push({rowSpan:h.rowSpan,colSpan:h.colSpan,styles:f,_element:h,content:a(h)})}}var p=n.getComputedStyle(i);if(c.length>0&&(o||"none"!==p.display))return c}function a(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(t){return t.trim()}).join("\n"),e.innerText||e.textContent||""}e.parseHtml=function(t,e,n,r,s){var a,o,l;void 0===r&&(r=!1),void 0===s&&(s=!1),l="string"==typeof e?n.document.querySelector(e):e;var c=Object.keys(t.getFontList()),u=t.scaleFactor(),h=[],d=[],f=[];if(!l)return console.error("Html table could not be found with input: ",e),{head:h,body:d,foot:f};for(var p=0;p<l.rows.length;p++){var m=l.rows[p],g=null===(o=null===(a=null==m?void 0:m.parentElement)||void 0===a?void 0:a.tagName)||void 0===o?void 0:o.toLowerCase(),v=i(c,u,n,m,r,s);v&&("thead"===g?h.push(v):"tfoot"===g?f.push(v):d.push(v))}return{head:h,body:d,foot:f}}},776:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.parseInput=void 0;var r=n(4),s=n(356),i=n(420),a=n(744),o=n(792);e.parseInput=function(t,e){var n=new a.DocHandler(t),l=n.getDocumentOptions(),c=n.getGlobalOptions();(0,o.default)(n,c,l,e);var u,h=(0,s.assign)({},c,l,e);"undefined"!=typeof window&&(u=window);var d=function(t,e,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(i){if("columnStyles"===i){var a=t[i],o=e[i],l=n[i];r.columnStyles=(0,s.assign)({},a,o,l)}else{var c=[t,e,n].map(function(t){return t[i]||{}});r[i]=(0,s.assign)({},c[0],c[1],c[2])}},a=0,o=Object.keys(r);a<o.length;a++)i(o[a]);return r}(c,l,e),f=function(t,e,n){for(var r={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,i=[t,e,n];s<i.length;s++){var a=i[s];a.didParseCell&&r.didParseCell.push(a.didParseCell),a.willDrawCell&&r.willDrawCell.push(a.willDrawCell),a.didDrawCell&&r.didDrawCell.push(a.didDrawCell),a.willDrawPage&&r.willDrawPage.push(a.willDrawPage),a.didDrawPage&&r.didDrawPage.push(a.didDrawPage)}return r}(c,l,e),p=function(t,e){var n,r,s,a,o,l,c,u,h,d,f,p,m,g,v=(0,i.parseSpacing)(e.margin,40/t.scaleFactor()),y=null!==(n=function(t,e){var n=t.getLastAutoTable(),r=t.scaleFactor(),s=t.pageNumber(),i=!1;return n&&n.startPageNumber&&(i=n.startPageNumber+n.pageNumber-1===s),"number"==typeof e?e:null!=e&&!1!==e||!i||null==(null==n?void 0:n.finalY)?null:n.finalY+20/r}(t,e.startY))&&void 0!==n?n:v.top;m=!0===e.showFoot?"everyPage":!1===e.showFoot?"never":null!==(r=e.showFoot)&&void 0!==r?r:"everyPage",g=!0===e.showHead?"everyPage":!1===e.showHead?"never":null!==(s=e.showHead)&&void 0!==s?s:"everyPage";var b=null!==(a=e.useCss)&&void 0!==a&&a,w=e.theme||(b?"plain":"striped"),x=!!e.horizontalPageBreak,S=null!==(o=e.horizontalPageBreakRepeat)&&void 0!==o?o:null;return{includeHiddenHtml:null!==(l=e.includeHiddenHtml)&&void 0!==l&&l,useCss:b,theme:w,startY:y,margin:v,pageBreak:null!==(c=e.pageBreak)&&void 0!==c?c:"auto",rowPageBreak:null!==(u=e.rowPageBreak)&&void 0!==u?u:"auto",tableWidth:null!==(h=e.tableWidth)&&void 0!==h?h:"auto",showHead:g,showFoot:m,tableLineWidth:null!==(d=e.tableLineWidth)&&void 0!==d?d:0,tableLineColor:null!==(f=e.tableLineColor)&&void 0!==f?f:200,horizontalPageBreak:x,horizontalPageBreakRepeat:S,horizontalPageBreakBehaviour:null!==(p=e.horizontalPageBreakBehaviour)&&void 0!==p?p:"afterAllRows"}}(n,h),m=function(t,e,n){var s=e.head||[],i=e.body||[],a=e.foot||[];if(e.html){var o=e.includeHiddenHtml;if(n){var l=(0,r.parseHtml)(t,e.html,n,o,e.useCss)||{};s=l.head||s,i=l.body||s,a=l.foot||s}else console.error("Cannot parse html in non browser environment")}var c=e.columns||function(t,e,n){var r=t[0]||e[0]||n[0]||[],s=[];return Object.keys(r).filter(function(t){return"_element"!==t}).forEach(function(t){var e,n=1;"object"!=typeof(e=Array.isArray(r)?r[parseInt(t)]:r[t])||Array.isArray(e)||(n=(null==e?void 0:e.colSpan)||1);for(var i=0;i<n;i++){var a={dataKey:Array.isArray(r)?s.length:t+(i>0?"_".concat(i):"")};s.push(a)}}),s}(s,i,a);return{columns:c,head:s,body:i,foot:a}}(n,h,u);return{id:e.tableId,content:m,hooks:f,styles:d,settings:p}}},792:function(t,e){function n(t){t.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),t.minCellHeight||(t.minCellHeight=t.rowHeight)):t.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),t.cellWidth||(t.cellWidth=t.columnWidth))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r,s){for(var i=function(e){e&&"object"!=typeof e&&console.error("The options parameter should be of type object, is: "+typeof e),void 0!==e.extendWidth&&(e.tableWidth=e.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),void 0!==e.margins&&(void 0===e.margin&&(e.margin=e.margins),console.error("Use of deprecated option: margins, use margin instead.")),e.startY&&"number"!=typeof e.startY&&(console.error("Invalid value for startY option",e.startY),delete e.startY),!e.didDrawPage&&(e.afterPageContent||e.beforePageContent||e.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),e.didDrawPage=function(n){t.applyStyles(t.userStyles),e.beforePageContent&&e.beforePageContent(n),t.applyStyles(t.userStyles),e.afterPageContent&&e.afterPageContent(n),t.applyStyles(t.userStyles),e.afterPageAdd&&n.pageNumber>1&&n.afterPageAdd(n),t.applyStyles(t.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(t){e[t]&&console.error('The "'.concat(t,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(t){var n=t[0],r=t[1];e[r]&&(console.error("Use of deprecated option ".concat(r,". Use ").concat(n," instead")),e[n]=e[r])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(t){var n="string"==typeof t?t:t[0],r="string"==typeof t?t:t[1];void 0!==e[n]&&(void 0===e.styles[r]&&(e.styles[r]=e[n]),console.error("Use of deprecated option: "+n+", use the style "+r+" instead."))});for(var r=0,s=["styles","bodyStyles","headStyles","footStyles"];r<s.length;r++)n(e[s[r]]||{});for(var i=e.columnStyles||{},a=0,o=Object.keys(i);a<o.length;a++)n(i[o[a]]||{})},a=0,o=[e,r,s];a<o.length;a++)i(o[a])}},260:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.Column=e.Cell=e.Row=e.Table=void 0;var r=n(796),s=n(172),i=n(420),a=function(){function t(t,e){this.pageNumber=1,this.pageCount=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=e.columns,this.head=e.head,this.body=e.body,this.foot=e.foot}return t.prototype.getHeadHeight=function(t){return this.head.reduce(function(e,n){return e+n.getMaxCellHeight(t)},0)},t.prototype.getFootHeight=function(t){return this.foot.reduce(function(e,n){return e+n.getMaxCellHeight(t)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(t,e,n,r,i,a){for(var o=0,l=e;o<l.length;o++){var c=!1===(0,l[o])(new s.CellHookData(t,this,n,r,i,a));if(n.text=Array.isArray(n.text)?n.text:[n.text],c)return!1}return!0},t.prototype.callEndPageHooks=function(t,e){t.applyStyles(t.userStyles);for(var n=0,r=this.hooks.didDrawPage;n<r.length;n++)(0,r[n])(new s.HookData(t,this,e))},t.prototype.callWillDrawPageHooks=function(t,e){for(var n=0,r=this.hooks.willDrawPage;n<r.length;n++)(0,r[n])(new s.HookData(t,this,e))},t.prototype.getWidth=function(t){if("number"==typeof this.settings.tableWidth)return this.settings.tableWidth;if("wrap"===this.settings.tableWidth)return this.columns.reduce(function(t,e){return t+e.wrappedWidth},0);var e=this.settings.margin;return t-e.left-e.right},t}();e.Table=a;var o=function(){function t(t,e,n,s,i){void 0===i&&(i=!1),this.height=0,this.raw=t,t instanceof r.HtmlRowInput&&(this.raw=t._element,this.element=t._element),this.index=e,this.section=n,this.cells=s,this.spansMultiplePages=i}return t.prototype.getMaxCellHeight=function(t){var e=this;return t.reduce(function(t,n){var r;return Math.max(t,(null===(r=e.cells[n.index])||void 0===r?void 0:r.height)||0)},0)},t.prototype.hasRowSpan=function(t){var e=this;return t.filter(function(t){var n=e.cells[t.index];return!!n&&n.rowSpan>1}).length>0},t.prototype.canEntireRowFit=function(t,e){return this.getMaxCellHeight(e)<=t},t.prototype.getMinimumRowHeight=function(t,e){var n=this;return t.reduce(function(t,r){var s=n.cells[r.index];if(!s)return 0;var i=e.getLineHeight(s.styles.fontSize),a=s.padding("vertical")+i;return a>t?a:t},0)},t}();e.Row=o;var l=function(){function t(t,e,n){var r,s;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=e,this.section=n,this.raw=t;var i=t;null==t||"object"!=typeof t||Array.isArray(t)?(this.rowSpan=1,this.colSpan=1):(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,i=null!==(s=null!==(r=t.content)&&void 0!==r?r:t.title)&&void 0!==s?s:t,t._element&&(this.raw=t._element));var a=null!=i?""+i:"";this.text=a.split(/\r\n|\r|\n/g)}return t.prototype.getTextPos=function(){var t,e;if("top"===this.styles.valign)t=this.y+this.padding("top");else if("bottom"===this.styles.valign)t=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");t=this.y+n/2+this.padding("top")}if("right"===this.styles.halign)e=this.x+this.width-this.padding("right");else if("center"===this.styles.halign){var r=this.width-this.padding("horizontal");e=this.x+r/2+this.padding("left")}else e=this.x+this.padding("left");return{x:e,y:t}},t.prototype.getContentHeight=function(t,e){void 0===e&&(e=1.15);var n=(Array.isArray(this.text)?this.text.length:1)*(this.styles.fontSize/t*e)+this.padding("vertical");return Math.max(n,this.styles.minCellHeight)},t.prototype.padding=function(t){var e=(0,i.parseSpacing)(this.styles.cellPadding,0);return"vertical"===t?e.top+e.bottom:"horizontal"===t?e.left+e.right:e[t]},t}();e.Cell=l;var c=function(){function t(t,e,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=e,this.index=n}return t.prototype.getMaxCustomCellWidth=function(t){for(var e=0,n=0,r=t.allRows();n<r.length;n++){var s=r[n].cells[this.index];s&&"number"==typeof s.styles.cellWidth&&(e=Math.max(e,s.styles.cellWidth))}return e},t}();e.Column=c},356:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.assign=void 0,e.assign=function(t,e,n,r,s){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),a=1;a<arguments.length;a++){var o=arguments[a];if(null!=o)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(i[l]=o[l])}return i}},972:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.createTable=void 0;var r=n(744),s=n(260),i=n(324),a=n(796),o=n(356);function l(t,e,n,r,i,a){var o={};return e.map(function(e,l){for(var c=0,h={},d=0,f=0,p=0,m=n;p<m.length;p++){var g=m[p];if(null==o[g.index]||0===o[g.index].left)if(0===f){var v=void 0,y={};"object"!=typeof(v=Array.isArray(e)?e[g.index-d-c]:e[g.dataKey])||Array.isArray(v)||(y=(null==v?void 0:v.styles)||{});var b=u(t,g,l,i,r,a,y),w=new s.Cell(v,b,t);h[g.dataKey]=w,h[g.index]=w,f=w.colSpan-1,o[g.index]={left:w.rowSpan-1,times:f}}else f--,d++;else o[g.index].left--,f=o[g.index].times,c++}return new s.Row(e,l,t,h)})}function c(t,e){var n={};return t.forEach(function(t){if(null!=t.raw){var r=function(t,e){if("head"===t){if("object"==typeof e)return e.header||e.title||null;if("string"==typeof e||"number"==typeof e)return e}else if("foot"===t&&"object"==typeof e)return e.footer;return null}(e,t.raw);null!=r&&(n[t.dataKey]=r)}}),Object.keys(n).length>0?n:null}function u(t,e,n,r,s,i,l){var c,u=(0,a.getTheme)(r);"head"===t?c=s.headStyles:"body"===t?c=s.bodyStyles:"foot"===t&&(c=s.footStyles);var h=(0,o.assign)({},u.table,u[t],s.styles,c),d=s.columnStyles[e.dataKey]||s.columnStyles[e.index]||{},f="body"===t?d:{},p="body"===t&&n%2==0?(0,o.assign)({},u.alternateRow,s.alternateRowStyles):{},m=(0,a.defaultStyles)(i),g=(0,o.assign)({},m,h,p,f);return(0,o.assign)(g,l)}e.createTable=function(t,e){var n=new r.DocHandler(t),a=function(t,e){var n,r=t.content,i=function(t){return t.map(function(t,e){var n,r,i;return i="object"==typeof t&&null!==(r=null!==(n=t.dataKey)&&void 0!==n?n:t.key)&&void 0!==r?r:e,new s.Column(i,t,e)})}(r.columns);0===r.head.length&&(n=c(i,"head"))&&r.head.push(n),0===r.foot.length&&(n=c(i,"foot"))&&r.foot.push(n);var a=t.settings.theme,o=t.styles;return{columns:i,head:l("head",r.head,i,o,a,e),body:l("body",r.body,i,o,a,e),foot:l("foot",r.foot,i,o,a,e)}}(e,n.scaleFactor()),o=new s.Table(e,a);return(0,i.calculateWidths)(n,o),n.applyStyles(n.userStyles),o}},664:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.addPage=e.drawTable=void 0;var r=n(420),s=n(260),i=n(744),a=n(356),o=n(136),l=n(224);function c(t,e,n,r){var s=e.settings;t.applyStyles(t.userStyles),"firstPage"!==s.showHead&&"everyPage"!==s.showHead||e.head.forEach(function(s){return p(t,e,s,n,r)})}function u(t,e,n,r,s,i){t.applyStyles(t.userStyles),i=null!=i?i:e.body.length;var a=Math.min(n+i,e.body.length),o=-1;return e.body.slice(n,a).forEach(function(i,a){var l=n+a===e.body.length-1,c=g(t,e,l,r);i.canEntireRowFit(c,s)&&(p(t,e,i,r,s),o=n+a)}),o}function h(t,e,n,r){var s=e.settings;t.applyStyles(t.userStyles),"lastPage"!==s.showFoot&&"everyPage"!==s.showFoot||e.foot.forEach(function(s){return p(t,e,s,n,r)})}function d(t,e,n){var r=n.getLineHeight(t.styles.fontSize),s=t.padding("vertical"),i=Math.floor((e-s)/r);return Math.max(0,i)}function f(t,e,n,r,i,o,l){var c=g(t,e,r,o);if(n.canEntireRowFit(c,l))p(t,e,n,o,l);else if(function(t,e,n,r){var s=t.pageSize().height,i=r.settings.margin,a=s-(i.top+i.bottom);"body"===e.section&&(a-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var o=e.getMinimumRowHeight(r.columns,t),l=o<n;if(o>a)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!l)return!1;var c=e.hasRowSpan(r.columns);return e.getMaxCellHeight(r.columns)>a?(c&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!c&&"avoid"!==r.settings.rowPageBreak}(t,n,c,e)){var u=function(t,e,n,r){var i={};t.spansMultiplePages=!0,t.height=0;for(var o=0,l=0,c=n.columns;l<c.length;l++){var u=c[l];if(b=t.cells[u.index]){Array.isArray(b.text)||(b.text=[b.text]);var h=new s.Cell(b.raw,b.styles,b.section);(h=(0,a.assign)(h,b)).text=[];var f=d(b,e,r);b.text.length>f&&(h.text=b.text.splice(f,b.text.length));var p=r.scaleFactor(),m=r.getLineHeightFactor();b.contentHeight=b.getContentHeight(p,m),b.contentHeight>=e&&(b.contentHeight=e,h.styles.minCellHeight-=e),b.contentHeight>t.height&&(t.height=b.contentHeight),h.contentHeight=h.getContentHeight(p,m),h.contentHeight>o&&(o=h.contentHeight),i[u.index]=h}}var g=new s.Row(t.raw,-1,t.section,i,!0);g.height=o;for(var v=0,y=n.columns;v<y.length;v++){var b;u=y[v],(h=g.cells[u.index])&&(h.height=g.height),(b=t.cells[u.index])&&(b.height=t.height)}return g}(n,c,e,t);p(t,e,n,o,l),v(t,e,i,o,l),f(t,e,u,r,i,o,l)}else v(t,e,i,o,l),f(t,e,n,r,i,o,l)}function p(t,e,n,r,s){r.x=e.settings.margin.left;for(var i=0,a=s;i<a.length;i++){var l=a[i],c=n.cells[l.index];if(c)if(t.applyStyles(c.styles),c.x=r.x,c.y=r.y,!1!==e.callCellHooks(t,e.hooks.willDrawCell,c,n,l,r)){m(t,c,r);var u=c.getTextPos();(0,o.default)(c.text,u.x,u.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,c,n,l,r),r.x+=l.width}else r.x+=l.width;else r.x+=l.width}r.y+=n.height}function m(t,e,n){var s=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),"number"==typeof s.lineWidth){var i=(0,r.getFillStyle)(s.lineWidth,s.fillColor);i&&t.rect(e.x,n.y,e.width,e.height,i)}else"object"==typeof s.lineWidth&&(s.fillColor&&t.rect(e.x,n.y,e.width,e.height,"F"),function(t,e,n,r){var s,i,a,o;function l(e,n,r,s,i){t.getDocument().setLineWidth(e),t.getDocument().line(n,r,s,i,"S")}r.top&&(s=n.x,i=n.y,a=n.x+e.width,o=n.y,r.right&&(a+=.5*r.right),r.left&&(s-=.5*r.left),l(r.top,s,i,a,o)),r.bottom&&(s=n.x,i=n.y+e.height,a=n.x+e.width,o=n.y+e.height,r.right&&(a+=.5*r.right),r.left&&(s-=.5*r.left),l(r.bottom,s,i,a,o)),r.left&&(s=n.x,i=n.y,a=n.x,o=n.y+e.height,r.top&&(i-=.5*r.top),r.bottom&&(o+=.5*r.bottom),l(r.left,s,i,a,o)),r.right&&(s=n.x+e.width,i=n.y,a=n.x+e.width,o=n.y+e.height,r.top&&(i-=.5*r.top),r.bottom&&(o+=.5*r.bottom),l(r.right,s,i,a,o))}(t,e,n,s.lineWidth))}function g(t,e,n,r){var s=e.settings.margin.bottom,i=e.settings.showFoot;return("everyPage"===i||"lastPage"===i&&n)&&(s+=e.getFootHeight(e.columns)),t.pageSize().height-r.y-s}function v(t,e,n,s,i,a){void 0===i&&(i=[]),void 0===a&&(a=!1),t.applyStyles(t.userStyles),"everyPage"!==e.settings.showFoot||a||e.foot.forEach(function(n){return p(t,e,n,s,i)}),e.callEndPageHooks(t,s);var o=e.settings.margin;(0,r.addTableBorder)(t,e,n,s),y(t),e.pageNumber++,e.pageCount++,s.x=o.left,s.y=o.top,n.y=o.top,e.callWillDrawPageHooks(t,s),"everyPage"===e.settings.showHead&&(e.head.forEach(function(n){return p(t,e,n,s,i)}),t.applyStyles(t.userStyles))}function y(t){var e=t.pageNumber();return t.setPage(e+1),t.pageNumber()===e&&(t.addPage(),!0)}e.drawTable=function(t,e){var n=e.settings,s=n.startY,o=n.margin,d={x:o.left,y:s},m=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),g=s+o.bottom+m;"avoid"===n.pageBreak&&(g+=e.body.reduce(function(t,e){return t+e.height},0));var b=new i.DocHandler(t);("always"===n.pageBreak||null!=n.startY&&g>b.pageSize().height)&&(y(b),d.y=o.top),e.callWillDrawPageHooks(b,d);var w=(0,a.assign)({},d);e.startPageNumber=b.pageNumber(),n.horizontalPageBreak?function(t,e,n,r){var s=(0,l.calculateAllColumnsCanFitInPage)(t,e),i=e.settings;if("afterAllRows"===i.horizontalPageBreakBehaviour)s.forEach(function(s,i){t.applyStyles(t.userStyles),i>0?v(t,e,n,r,s.columns,!0):c(t,e,r,s.columns),function(t,e,n,r,s){t.applyStyles(t.userStyles),e.body.forEach(function(i,a){var o=a===e.body.length-1;f(t,e,i,o,n,r,s)})}(t,e,n,r,s.columns),h(t,e,r,s.columns)});else for(var a=-1,o=s[0],d=function(){var i=a;if(o){t.applyStyles(t.userStyles);var l=o.columns;a>=0?v(t,e,n,r,l,!0):c(t,e,r,l),i=u(t,e,a+1,r,l),h(t,e,r,l)}var d=i-a;s.slice(1).forEach(function(s){t.applyStyles(t.userStyles),v(t,e,n,r,s.columns,!0),u(t,e,a+1,r,s.columns,d),h(t,e,r,s.columns)}),a=i};a<e.body.length-1;)d()}(b,e,w,d):(b.applyStyles(b.userStyles),"firstPage"!==n.showHead&&"everyPage"!==n.showHead||e.head.forEach(function(t){return p(b,e,t,d,e.columns)}),b.applyStyles(b.userStyles),e.body.forEach(function(t,n){var r=n===e.body.length-1;f(b,e,t,r,w,d,e.columns)}),b.applyStyles(b.userStyles),"lastPage"!==n.showFoot&&"everyPage"!==n.showFoot||e.foot.forEach(function(t){return p(b,e,t,d,e.columns)})),(0,r.addTableBorder)(b,e,w,d),e.callEndPageHooks(b,d),e.finalY=d.y,t.lastAutoTable=e,t.previousAutoTable=e,t.autoTable&&(t.autoTable.previous=e),b.applyStyles(b.userStyles)},e.addPage=v},224:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.calculateAllColumnsCanFitInPage=void 0;var r=n(420);function s(t,e,n){var s;void 0===n&&(n={});var i=(0,r.getPageAvailableWidth)(t,e),a=new Map,o=[],l=[],c=[];e.settings.horizontalPageBreakRepeat,Array.isArray(e.settings.horizontalPageBreakRepeat)?c=e.settings.horizontalPageBreakRepeat:"string"!=typeof e.settings.horizontalPageBreakRepeat&&"number"!=typeof e.settings.horizontalPageBreakRepeat||(c=[e.settings.horizontalPageBreakRepeat]),c.forEach(function(t){var n=e.columns.find(function(e){return e.dataKey===t||e.index===t});n&&!a.has(n.index)&&(a.set(n.index,!0),o.push(n.index),l.push(e.columns[n.index]),i-=n.wrappedWidth)});for(var u=!0,h=null!==(s=null==n?void 0:n.start)&&void 0!==s?s:0;h<e.columns.length;)if(a.has(h))h++;else{var d=e.columns[h].wrappedWidth;if(!(u||i>=d))break;u=!1,o.push(h),l.push(e.columns[h]),i-=d,h++}return{colIndexes:o,columns:l,lastIndex:h-1}}e.calculateAllColumnsCanFitInPage=function(t,e){for(var n=[],r=0;r<e.columns.length;r++){var i=s(t,e,{start:r});i.columns.length&&(n.push(i),r=i.lastIndex)}return n}},324:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.ellipsize=e.resizeColumns=e.calculateWidths=void 0;var r=n(420);function s(t,e,n){for(var r=e,i=t.reduce(function(t,e){return t+e.wrappedWidth},0),a=0;a<t.length;a++){var o=t[a],l=r*(o.wrappedWidth/i),c=o.width+l,u=n(o),h=c<u?u:c;e-=h-o.width,o.width=h}if(e=Math.round(1e10*e)/1e10){var d=t.filter(function(t){return!(e<0)||t.width>n(t)});d.length&&(e=s(d,e,n))}return e}function i(t,e,n,s,i){return t.map(function(t){return function(t,e,n,s,i){var a=1e4*s.scaleFactor();if((e=Math.ceil(e*a)/a)>=(0,r.getStringWidth)(t,n,s))return t;for(;e<(0,r.getStringWidth)(t+i,n,s)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+i}(t,e,n,s,i)})}e.calculateWidths=function(t,e){!function(t,e){var n=t.scaleFactor(),s=e.settings.horizontalPageBreak,i=(0,r.getPageAvailableWidth)(t,e);e.allRows().forEach(function(a){for(var o=0,l=e.columns;o<l.length;o++){var c=l[o],u=a.cells[c.index];if(u){var h=e.hooks.didParseCell;e.callCellHooks(t,h,u,a,c,null);var d=u.padding("horizontal");u.contentWidth=(0,r.getStringWidth)(u.text,u.styles,t)+d;var f=(0,r.getStringWidth)(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,t);if(u.minReadableWidth=f+u.padding("horizontal"),"number"==typeof u.styles.cellWidth)u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if("wrap"===u.styles.cellWidth||!0===s)u.contentWidth>i?(u.minWidth=i,u.wrappedWidth=i):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var p=10/n;u.minWidth=u.styles.minCellWidth||p,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),e.allRows().forEach(function(t){for(var n=0,r=e.columns;n<r.length;n++){var s=r[n],i=t.cells[s.index];if(i&&1===i.colSpan)s.wrappedWidth=Math.max(s.wrappedWidth,i.wrappedWidth),s.minWidth=Math.max(s.minWidth,i.minWidth),s.minReadableWidth=Math.max(s.minReadableWidth,i.minReadableWidth);else{var a=e.styles.columnStyles[s.dataKey]||e.styles.columnStyles[s.index]||{},o=a.cellWidth||a.minCellWidth;o&&"number"==typeof o&&(s.minWidth=o,s.wrappedWidth=o)}i&&(i.colSpan>1&&!s.minWidth&&(s.minWidth=i.minWidth),i.colSpan>1&&!s.wrappedWidth&&(s.wrappedWidth=i.minWidth))}})}(t,e);var n=[],a=0;e.columns.forEach(function(t){var r=t.getMaxCustomCellWidth(e);r?t.width=r:(t.width=t.wrappedWidth,n.push(t)),a+=t.width});var o=e.getWidth(t.pageSize().width)-a;o&&(o=s(n,o,function(t){return Math.max(t.minReadableWidth,t.minWidth)})),o&&(o=s(n,o,function(t){return t.minWidth})),o=Math.abs(o),!e.settings.horizontalPageBreak&&o>.1/t.scaleFactor()&&(o=o<1?o:Math.round(o),console.warn("Of the table content, ".concat(o," units width could not fit page"))),function(t){for(var e=t.allRows(),n=0;n<e.length;n++)for(var r=e[n],s=null,i=0,a=0,o=0;o<t.columns.length;o++){var l=t.columns[o];if((a-=1)>1&&t.columns[o+1])i+=l.width,delete r.cells[l.index];else if(s){var c=s;delete r.cells[l.index],s=null,c.width=l.width+i}else{if(!(c=r.cells[l.index]))continue;if(a=c.colSpan,i=0,c.colSpan>1){s=c,i+=l.width;continue}c.width=l.width+i}}}(e),function(t,e){for(var n={count:0,height:0},r=0,s=t.allRows();r<s.length;r++){for(var a=s[r],o=0,l=t.columns;o<l.length;o++){var c=l[o],u=a.cells[c.index];if(u){e.applyStyles(u.styles,!0);var h=u.width-u.padding("horizontal");if("linebreak"===u.styles.overflow)u.text=e.splitTextToSize(u.text,h+1/e.scaleFactor(),{fontSize:u.styles.fontSize});else if("ellipsize"===u.styles.overflow)u.text=i(u.text,h,u.styles,e,"...");else if("hidden"===u.styles.overflow)u.text=i(u.text,h,u.styles,e,"");else if("function"==typeof u.styles.overflow){var d=u.styles.overflow(u.text,h);u.text="string"==typeof d?[d]:d}u.contentHeight=u.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var f=u.contentHeight/u.rowSpan;u.rowSpan>1&&n.count*n.height<f*u.rowSpan?n={height:f,count:u.rowSpan}:n&&n.count>0&&n.height>f&&(f=n.height),f>a.height&&(a.height=f)}}n.count--}}(e,t),function(t){for(var e={},n=1,r=t.allRows(),s=0;s<r.length;s++)for(var i=r[s],a=0,o=t.columns;a<o.length;a++){var l=o[a],c=e[l.index];if(n>1)n--,delete i.cells[l.index];else if(c)c.cell.height+=i.height,n=c.cell.colSpan,delete i.cells[l.index],c.left--,c.left<=1&&delete e[l.index];else{var u=i.cells[l.index];if(!u)continue;if(u.height=i.height,u.rowSpan>1){var h=r.length-s,d=u.rowSpan>h?h:u.rowSpan;e[l.index]={cell:u,left:d,row:i}}}}}(e)},e.resizeColumns=s,e.ellipsize=i},964:function(e){if(void 0===t){var n=new Error("Cannot find module 'undefined'");throw n.code="MODULE_NOT_FOUND",n}e.exports=t}},n={};function r(t){var s=n[t];if(void 0!==s)return s.exports;var i=n[t]={exports:{}};return e[t].call(i.exports,i,i.exports,r),i.exports}var s={};return function(){var t=s;Object.defineProperty(t,"__esModule",{value:!0}),t.Cell=t.Column=t.Row=t.Table=t.CellHookData=t.__drawTable=t.__createTable=t.applyPlugin=void 0;var e=r(340),n=r(776),i=r(664),a=r(972),o=r(260);Object.defineProperty(t,"Table",{enumerable:!0,get:function(){return o.Table}});var l=r(172);Object.defineProperty(t,"CellHookData",{enumerable:!0,get:function(){return l.CellHookData}});var c=r(260);function u(t){(0,e.default)(t)}Object.defineProperty(t,"Cell",{enumerable:!0,get:function(){return c.Cell}}),Object.defineProperty(t,"Column",{enumerable:!0,get:function(){return c.Column}}),Object.defineProperty(t,"Row",{enumerable:!0,get:function(){return c.Row}}),t.applyPlugin=u,t.__createTable=function(t,e){var r=(0,n.parseInput)(t,e);return(0,a.createTable)(t,r)},t.__drawTable=function(t,e){(0,i.drawTable)(t,e)};try{var h=r(964);h.jsPDF&&(h=h.jsPDF),u(h)}catch(d){}t.default=function(t,e){var r=(0,n.parseInput)(t,e),s=(0,a.createTable)(t,r);(0,i.drawTable)(t,s)}}(),s}()},JE(function(){try{return QE}catch(YN){}}());const ZE={name:"Reports",data:()=>({CONSTANTS:Ig,exams:[],marks:[],students:[],selectedExam:null,attendedStudents:[],loading:!0}),computed:{completedExams(){return this.exams.filter(t=>t.status===Ig.EXAM_STATUS.COMPLETED)},averageMark(){const t=this.attendedStudents.filter(t=>null!=t.mark&&""!==t.mark);if(0===t.length)return 0;const e=t.reduce((t,e)=>t+(e.mark||0),0);return Math.round(e/t.length)},highestMark(){const t=this.attendedStudents.filter(t=>null!=t.mark&&""!==t.mark);return 0===t.length?0:Math.max(...t.map(t=>t.mark||0))},passRate(){const t=this.attendedStudents.filter(t=>null!=t.mark&&""!==t.mark);if(0===t.length)return 0;const e=t.filter(t=>(t.mark||0)>=40);return Math.round(e.length/t.length*100)}},async mounted(){await this.loadData();const t=this.$route.query.exam;if(t){const e=this.completedExams.find(e=>e.id===t);e&&await this.selectExam(e)}},methods:{async loadData(){try{Og("Loading reports data"),this.loading=!0;const[t,e]=await Promise.all([nv.getAll(),Zg.getAll()]);this.exams=t,this.students=e,jg(`Loaded ${t.length} exams and ${e.length} students`)}catch(t){Rg("Error loading reports data",t),this.showToast("Failed to load data","error")}finally{this.loading=!1}},async selectExam(t){try{Og(`Selecting exam ${t.subject} for marks management`),this.selectedExam=t;const e=Object.keys(t.studentRecords||{});Og(`Found ${e.length} students who attended the exam`),this.attendedStudents=e.map(e=>{const n=this.students.find(t=>t.indexNo===e);if(!n)return null;const r=t.studentRecords[e];return{...n,mark:(null==r?void 0:r.mark)||"",grade:(null==r?void 0:r.mark)?this.calculateGradeFromMark(r.mark):"",examRecord:r}}).filter(Boolean),this.attendedStudents.sort((t,e)=>t.indexNo.localeCompare(e.indexNo)),jg(`Loaded ${this.attendedStudents.length} students for marks management`)}catch(e){Rg("Error selecting exam",e),this.showToast("Failed to load exam data","error")}},calculateGrade(t){null!=t.mark&&""!==t.mark?t.grade=this.calculateGradeFromMark(t.mark):t.grade=""},calculateGradeFromMark:t=>t>=75?"A":t>=65?"B":t>=55?"C":t>=40?"S":"F",getGradeClass(t){switch(t){case"A":return"grade-a";case"B":return"grade-b";case"C":return"grade-c";case"S":return"grade-s";case"F":return"grade-f";default:return""}},hasMarks(t){const e=this.exams.find(e=>e.id===t);return!(!e||!e.studentRecords)&&Object.values(e.studentRecords).some(t=>null!=t.mark)},getAttendedCount:t=>t.studentRecords?Object.keys(t.studentRecords).length:0,async generateReport(){try{if(!this.selectedExam||!this.hasMarks(this.selectedExam.id))return Bg("Cannot generate report - no marks available"),void this.showToast("Please add marks before generating report","error");Og(`Generating PDF report for exam ${this.selectedExam.subject}`);const t=new aN;t.setFontSize(20),t.setFont(void 0,"bold"),t.text(Ig.APP_NAME,105,20,{align:"center"}),t.setFontSize(12),t.setFont(void 0,"italic"),t.text(Ig.APP_SLOGAN,105,30,{align:"center"}),t.setFontSize(16),t.setFont(void 0,"bold"),t.text(`${this.selectedExam.subject} - ${this.selectedExam.batch}`,105,45,{align:"center"}),t.setFontSize(12),t.setFont(void 0,"normal"),t.text(`Exam Date: ${this.formatDate(this.selectedExam.date)}`,105,55,{align:"center"});const e=Object.keys(this.selectedExam.studentRecords).map(t=>{const e=this.students.find(e=>e.indexNo===t),n=this.selectedExam.studentRecords[t];return e&&n.mark?[e.indexNo,e.name,n.mark,this.calculateGradeFromMark(n.mark)]:null}).filter(Boolean);Og(`Generating report with ${e.length} student records`),t.autoTable({head:[["Index No","Student Name","Marks","Grade"]],body:e,startY:70,theme:"striped",headStyles:{fillColor:[102,126,234],textColor:255,fontStyle:"bold"},styles:{fontSize:10,cellPadding:5},columnStyles:{0:{cellWidth:25},1:{cellWidth:80},2:{cellWidth:25,halign:"center"},3:{cellWidth:25,halign:"center"}}});const n=t.lastAutoTable.finalY+20;t.setFontSize(12),t.setFont(void 0,"bold"),t.text("Summary:",20,n),t.setFont(void 0,"normal"),t.text(`Total Students: ${this.attendedStudents.length}`,20,n+10),t.text(`Average Mark: ${this.averageMark}%`,20,n+20),t.text(`Highest Mark: ${this.highestMark}%`,20,n+30),t.text(`Pass Rate: ${this.passRate}%`,20,n+40),t.setFontSize(8),t.text(`Generated on: ${(new Date).toLocaleDateString("en-GB")}`,20,280),t.text("Pesalai Undergraduates Admin System",105,280,{align:"center"});const r=`${this.selectedExam.subject}_${this.selectedExam.batch}_${this.selectedExam.date}.pdf`;t.save(r),jg(`PDF report generated successfully: ${r}`),this.showToast("Report generated successfully","success")}catch(t){Rg("Error generating report",t),this.showToast("Failed to generate report","error")}},formatDate:t=>new Date(t).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),showToast(t,e="success"){const n=document.createElement("div");n.className=`toast ${e}`,n.innerHTML=`\n        <div style="display: flex; align-items: center; gap: 8px;">\n          <i class="fas fa-${"success"===e?"check-circle":"exclamation-triangle"}"></i>\n          <span>${t}</span>\n        </div>\n      `,document.body.appendChild(n),setTimeout(()=>{n.remove()},3e3)}}},tk={class:"reports-page"},ek={class:"reports-content"},nk={class:"container-fluid"},rk={key:0,class:"loading-state"},sk={key:1,class:"empty-state"},ik={key:2,class:"reports-sections"},ak={class:"exam-selection"},ok={class:"exams-grid"},lk=["onClick"],ck={class:"exam-header"},uk={class:"exam-batch"},hk={class:"exam-details"},dk={class:"detail-item"},fk={class:"detail-item"},pk={class:"detail-item"},mk={class:"exam-status"},gk={key:0,class:"marks-section"},vk={class:"section-header"},yk={class:"section-actions"},bk={class:"marks-table-container"},wk={key:0,class:"no-students"},xk={key:1,class:"marks-table"},Sk={class:"table-body"},_k={class:"table-cell"},Ak={class:"table-cell"},Nk={class:"table-cell"},Ek={class:"mark-display"},kk={class:"table-cell"},Ck={class:"marks-summary"},Lk={class:"summary-stats"},Tk={class:"stat-item"},Pk={class:"value"},Ik={class:"stat-item"},Dk={class:"value"},Fk={class:"stat-item"},Mk={class:"value"},Ok={class:"stat-item"},Rk={class:"value"},jk={class:"bottom-nav"};const Bk=[{path:"/",name:"Login",component:Qg,meta:{requiresAuth:!1}},{path:"/dashboard",name:"Dashboard",component:kv,meta:{requiresAuth:!0}},{path:"/students",name:"Students",component:tb,meta:{requiresAuth:!0}},{path:"/classes",name:"Classes",component:$b,meta:{requiresAuth:!0}},{path:"/attendance",name:"Attendance",component:Rw,meta:{requiresAuth:!0}},{path:"/exams",name:"Exams",component:LS,meta:{requiresAuth:!0}},{path:"/finance",name:"Finance",component:P_,meta:{requiresAuth:!0}},{path:"/reports",name:"Reports",component:di(ZE,[["render",function(t,e,n,r,s,i){const a=En("router-link");return Vr(),Wr("div",tk,[e[24]||(e[24]=es('<div class="page-header" data-v-5da67d30><div class="container-fluid" data-v-5da67d30><div class="header-content" data-v-5da67d30><div class="header-left" data-v-5da67d30><h1 data-v-5da67d30><i class="fas fa-file-pdf" data-v-5da67d30></i> Reports &amp; Marks</h1><p data-v-5da67d30>Generate PDF reports and manage student marks</p></div></div></div></div>',1)),Qr("div",ek,[Qr("div",nk,[s.loading?(Vr(),Wr("div",rk,[...e[1]||(e[1]=[Qr("div",{class:"spinner"},null,-1),Qr("p",null,"Loading exams...",-1)])])):0===i.completedExams.length?(Vr(),Wr("div",sk,[e[3]||(e[3]=Qr("i",{class:"fas fa-file-pdf"},null,-1)),e[4]||(e[4]=Qr("h3",null,"No completed exams",-1)),e[5]||(e[5]=Qr("p",null,"Complete exams to generate reports",-1)),Jr(a,{to:"/exams",class:"btn btn-primary"},{default:Xe(()=>[...e[2]||(e[2]=[Qr("i",{class:"fas fa-clipboard-list"},null,-1),ts(" Go to Exams ",-1)])]),_:1})])):(Vr(),Wr("div",ik,[Qr("div",ak,[e[10]||(e[10]=Qr("h3",null,"Select Exam for Report",-1)),Qr("div",ok,[(Vr(!0),Wr(Or,null,Ln(i.completedExams,t=>{var n;return Vr(),Wr("div",{key:t.id,class:z(["exam-card",{selected:(null==(n=s.selectedExam)?void 0:n.id)===t.id}]),onClick:e=>i.selectExam(t)},[Qr("div",ck,[Qr("h4",null,Y(t.subject),1),Qr("span",uk,Y(t.batch),1)]),Qr("div",hk,[Qr("div",dk,[e[6]||(e[6]=Qr("i",{class:"fas fa-calendar"},null,-1)),Qr("span",null,Y(i.formatDate(t.date)),1)]),Qr("div",fk,[e[7]||(e[7]=Qr("i",{class:"fas fa-users"},null,-1)),Qr("span",null,Y(i.getAttendedCount(t))+" students",1)]),Qr("div",pk,[e[8]||(e[8]=Qr("i",{class:"fas fa-dollar-sign"},null,-1)),Qr("span",null,"Rs. "+Y(t.totalIncome||0),1)])]),Qr("div",mk,[e[9]||(e[9]=Qr("i",{class:"fas fa-check-circle"},null,-1)),Qr("span",null,Y(i.hasMarks(t.id)?"Marks Added":"Marks Pending"),1)])],10,lk)}),128))])]),s.selectedExam?(Vr(),Wr("div",gk,[Qr("div",vk,[Qr("h3",null,"Manage Marks - "+Y(s.selectedExam.subject)+" ("+Y(s.selectedExam.batch)+")",1),Qr("div",yk,[Qr("button",{onClick:e[0]||(e[0]=(...t)=>i.generateReport&&i.generateReport(...t)),class:"btn btn-primary"},[...e[11]||(e[11]=[Qr("i",{class:"fas fa-file-pdf"},null,-1),ts(" Generate PDF Report ",-1)])])])]),Qr("div",bk,[0===s.attendedStudents.length?(Vr(),Wr("div",wk,[...e[12]||(e[12]=[Qr("p",null,"No students attended this exam",-1)])])):(Vr(),Wr("div",xk,[e[13]||(e[13]=es('<div class="table-header" data-v-5da67d30><div class="header-cell" data-v-5da67d30>Index No</div><div class="header-cell" data-v-5da67d30>Student Name</div><div class="header-cell" data-v-5da67d30>Marks</div><div class="header-cell" data-v-5da67d30>Grade</div></div>',1)),Qr("div",Sk,[(Vr(!0),Wr(Or,null,Ln(s.attendedStudents,t=>(Vr(),Wr("div",{key:t.indexNo,class:"table-row"},[Qr("div",_k,Y(t.indexNo),1),Qr("div",Ak,Y(t.name),1),Qr("div",Nk,[Qr("span",Ek,Y(t.mark||"-"),1)]),Qr("div",kk,[Qr("span",{class:z(["grade-badge",i.getGradeClass(t.grade)])},Y(t.grade||"-"),3)])]))),128))])]))]),Qr("div",Ck,[Qr("div",Lk,[Qr("div",Tk,[e[14]||(e[14]=Qr("span",{class:"label"},"Total Students:",-1)),Qr("span",Pk,Y(s.attendedStudents.length),1)]),Qr("div",Ik,[e[15]||(e[15]=Qr("span",{class:"label"},"Average Mark:",-1)),Qr("span",Dk,Y(i.averageMark)+"%",1)]),Qr("div",Fk,[e[16]||(e[16]=Qr("span",{class:"label"},"Highest Mark:",-1)),Qr("span",Mk,Y(i.highestMark)+"%",1)]),Qr("div",Ok,[e[17]||(e[17]=Qr("span",{class:"label"},"Pass Rate:",-1)),Qr("span",Rk,Y(i.passRate)+"%",1)])])])])):ns("",!0)]))])]),Qr("nav",jk,[Jr(a,{to:"/dashboard",class:"nav-link"},{default:Xe(()=>[...e[18]||(e[18]=[Qr("i",{class:"fas fa-home"},null,-1),Qr("span",null,"Dashboard",-1)])]),_:1}),Jr(a,{to:"/students",class:"nav-link"},{default:Xe(()=>[...e[19]||(e[19]=[Qr("i",{class:"fas fa-users"},null,-1),Qr("span",null,"Students",-1)])]),_:1}),Jr(a,{to:"/attendance",class:"nav-link"},{default:Xe(()=>[...e[20]||(e[20]=[Qr("i",{class:"fas fa-calendar-check"},null,-1),Qr("span",null,"Attendance",-1)])]),_:1}),Jr(a,{to:"/exams",class:"nav-link"},{default:Xe(()=>[...e[21]||(e[21]=[Qr("i",{class:"fas fa-clipboard-list"},null,-1),Qr("span",null,"Exams",-1)])]),_:1}),Jr(a,{to:"/finance",class:"nav-link"},{default:Xe(()=>[...e[22]||(e[22]=[Qr("i",{class:"fas fa-chart-line"},null,-1),Qr("span",null,"Finance",-1)])]),_:1}),Jr(a,{to:"/reports",class:"nav-link active"},{default:Xe(()=>[...e[23]||(e[23]=[Qr("i",{class:"fas fa-file-pdf"},null,-1),Qr("span",null,"Reports",-1)])]),_:1})])])}],["__scopeId","data-v-5da67d30"]]),meta:{requiresAuth:!0}},{path:"/:pathMatch(.*)*",redirect:"/"}],qk=function(t){const e=_a(t.routes,t),n=t.parseQuery||Pa,r=t.stringifyQuery||Ia,s=t.history,i=Ba(),a=Ba(),o=Ba(),l=be(Gi,!0);let c=Gi;mi&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=yi.bind(null,t=>""+t),h=yi.bind(null,ji),d=yi.bind(null,Bi);function f(t,i){if(i=vi({},i||l.value),"string"==typeof t){const r=Ui(n,t,i.path),a=e.resolve({path:r.path},i),o=s.createHref(r.fullPath);return vi(r,a,{params:d(a.params),hash:Bi(r.hash),redirectedFrom:void 0,href:o})}let a;if(null!=t.path)a=vi({},t,{path:Ui(n,t.path,i.path).path});else{const e=vi({},t.params);for(const t in e)null==e[t]&&delete e[t];a=vi({},t,{params:h(e)}),i.params=h(i.params)}const o=e.resolve(a,i),c=t.hash||"";o.params=u(d(o.params));const f=function(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}(r,vi({},t,{hash:(p=c,Mi(p).replace(Pi,"{").replace(Di,"}").replace(Li,"^")),path:o.path}));var p;const m=s.createHref(f);return vi({fullPath:f,hash:c,query:r===Ia?Da(t.query):t.query||{}},o,{redirectedFrom:void 0,href:m})}function p(t){return"string"==typeof t?Ui(n,t,l.value.path):vi({},t)}function m(t,e){if(c!==t)return da(8,{from:e,to:t})}function g(t){return y(t)}function v(t){const e=t.matched[t.matched.length-1];if(e&&e.redirect){const{redirect:n}=e;let r="function"==typeof n?n(t):n;return"string"==typeof r&&(r=r.includes("?")||r.includes("#")?r=p(r):{path:r},r.params={}),vi({query:t.query,hash:t.hash,params:null!=r.path?{}:t.params},r)}}function y(t,e){const n=c=f(t),s=l.value,i=t.state,a=t.force,o=!0===t.replace,u=v(n);if(u)return y(vi(p(u),{state:"object"==typeof u?vi({},i,u.state):i,force:a,replace:o}),e||n);const h=n;let d;return h.redirectedFrom=e,!a&&function(t,e,n){const r=e.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&zi(e.matched[r],n.matched[s])&&Hi(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}(r,s,n)&&(d=da(16,{to:h,from:s}),P(s,s,!0,!1)),(d?Promise.resolve(d):x(h,s)).catch(t=>fa(t)?fa(t,2)?t:T(t):L(t,h,s)).then(t=>{if(t){if(fa(t,2))return y(vi({replace:o},p(t.to),{state:"object"==typeof t.to?vi({},i,t.to.state):i,force:a}),e||h)}else t=_(h,s,!0,o,i);return S(h,s,t),t})}function b(t,e){const n=m(t,e);return n?Promise.reject(n):Promise.resolve()}function w(t){const e=F.values().next().value;return e&&"function"==typeof e.runWithContext?e.runWithContext(t):t()}function x(t,e){let n;const[r,s,o]=function(t,e){const n=[],r=[],s=[],i=Math.max(e.matched.length,t.matched.length);for(let a=0;a<i;a++){const i=e.matched[a];i&&(t.matched.find(t=>zi(t,i))?r.push(i):n.push(i));const o=t.matched[a];o&&(e.matched.find(t=>zi(t,o))||s.push(o))}return[n,r,s]}(t,e);n=Ua(r.reverse(),"beforeRouteLeave",t,e);for(const i of r)i.leaveGuards.forEach(r=>{n.push(qa(r,t,e))});const l=b.bind(null,t,e);return n.push(l),O(n).then(()=>{n=[];for(const r of i.list())n.push(qa(r,t,e));return n.push(l),O(n)}).then(()=>{n=Ua(s,"beforeRouteUpdate",t,e);for(const r of s)r.updateGuards.forEach(r=>{n.push(qa(r,t,e))});return n.push(l),O(n)}).then(()=>{n=[];for(const r of o)if(r.beforeEnter)if(wi(r.beforeEnter))for(const s of r.beforeEnter)n.push(qa(s,t,e));else n.push(qa(r.beforeEnter,t,e));return n.push(l),O(n)}).then(()=>(t.matched.forEach(t=>t.enterCallbacks={}),n=Ua(o,"beforeRouteEnter",t,e,w),n.push(l),O(n))).then(()=>{n=[];for(const r of a.list())n.push(qa(r,t,e));return n.push(l),O(n)}).catch(t=>fa(t,8)?t:Promise.reject(t))}function S(t,e,n){o.list().forEach(r=>w(()=>r(t,e,n)))}function _(t,e,n,r,i){const a=m(t,e);if(a)return a;const o=e===Gi,c=mi?history.state:{};n&&(r||o?s.replace(t.fullPath,vi({scroll:o&&c&&c.scroll},i)):s.push(t.fullPath,i)),l.value=t,P(t,e,n,o),T()}let A;function N(){A||(A=s.listen((t,e,n)=>{if(!M.listening)return;const r=f(t),i=v(r);if(i)return void y(vi(i,{replace:!0,force:!0}),r).catch(bi);c=r;const a=l.value;var o,u;mi&&(o=ra(a.fullPath,n.delta),u=ea(),sa.set(o,u)),x(r,a).catch(t=>fa(t,12)?t:fa(t,2)?(y(vi(p(t.to),{force:!0}),r).then(t=>{fa(t,20)&&!n.delta&&n.type===Ki.pop&&s.go(-1,!1)}).catch(bi),Promise.reject()):(n.delta&&s.go(-n.delta,!1),L(t,r,a))).then(t=>{(t=t||_(r,a,!1))&&(n.delta&&!fa(t,8)?s.go(-n.delta,!1):n.type===Ki.pop&&fa(t,20)&&s.go(-1,!1)),S(r,a,t)}).catch(bi)}))}let E,k=Ba(),C=Ba();function L(t,e,n){T(t);const r=C.list();return r.length?r.forEach(r=>r(t,e,n)):console.error(t),Promise.reject(t)}function T(t){return E||(E=!t,N(),k.list().forEach(([e,n])=>t?n(t):e()),k.reset()),t}function P(e,n,r,s){const{scrollBehavior:i}=t;if(!mi||!i)return Promise.resolve();const a=!r&&function(t){const e=sa.get(t);return sa.delete(t),e}(ra(e.fullPath,0))||(s||!r)&&history.state&&history.state.scroll||null;return qe().then(()=>i(e,n,a)).then(t=>t&&na(t)).catch(t=>L(t,e,n))}const I=t=>s.go(t);let D;const F=new Set,M={currentRoute:l,listening:!0,addRoute:function(t,n){let r,s;return la(t)?(r=e.getRecordMatcher(t),s=n):s=t,e.addRoute(s,r)},removeRoute:function(t){const n=e.getRecordMatcher(t);n&&e.removeRoute(n)},clearRoutes:e.clearRoutes,hasRoute:function(t){return!!e.getRecordMatcher(t)},getRoutes:function(){return e.getRoutes().map(t=>t.record)},resolve:f,options:t,push:g,replace:function(t){return g(vi(p(t),{replace:!0}))},go:I,back:()=>I(-1),forward:()=>I(1),beforeEach:i.add,beforeResolve:a.add,afterEach:o.add,onError:C.add,isReady:function(){return E&&l.value!==Gi?Promise.resolve():new Promise((t,e)=>{k.add([t,e])})},install(t){t.component("RouterLink",za),t.component("RouterView",Ka),t.config.globalProperties.$router=this,Object.defineProperty(t.config.globalProperties,"$route",{enumerable:!0,get:()=>xe(l)}),mi&&!D&&l.value===Gi&&(D=!0,g(s.location).catch(t=>{}));const e={};for(const r in Gi)Object.defineProperty(e,r,{get:()=>l.value[r],enumerable:!0});t.provide(Oa,this),t.provide(Ra,le(e)),t.provide(ja,l);const n=t.unmount;F.add(t),t.unmount=function(){F.delete(t),F.size<1&&(c=Gi,A&&A(),A=null,l.value=Gi,D=!1,E=!1),n()}}};function O(t){return t.reduce((t,e)=>t.then(()=>w(e)),Promise.resolve())}return M}({history:function(t){const e=oa(t=Ji(t)),n=function(t,e,n,r){let s=[],i=[],a=null;const o=({state:i})=>{const o=ia(t,location),l=n.value,c=e.value;let u=0;if(i){if(n.value=o,e.value=i,a&&a===l)return void(a=null);u=c?i.position-c.position:0}else r(o);s.forEach(t=>{t(n.value,l,{delta:u,type:Ki.pop,direction:u?u>0?Xi.forward:Xi.back:Xi.unknown})})};function l(){const{history:t}=window;t.state&&t.replaceState(vi({},t.state,{scroll:ea()}),"")}return window.addEventListener("popstate",o),window.addEventListener("beforeunload",l,{passive:!0}),{pauseListeners:function(){a=n.value},listen:function(t){s.push(t);const e=()=>{const e=s.indexOf(t);e>-1&&s.splice(e,1)};return i.push(e),e},destroy:function(){for(const t of i)t();i=[],window.removeEventListener("popstate",o),window.removeEventListener("beforeunload",l)}}}(t,e.state,e.location,e.replace),r=vi({location:"",base:t,go:function(t,e=!0){e||n.pauseListeners(),history.go(t)},createHref:ta.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}(),routes:Bk});qk.beforeEach((t,e,n)=>{const r=localStorage.getItem("pesalai_auth")===Ig.ADMIN_PASSWORD;t.meta.requiresAuth&&!r?n("/"):"Login"===t.name&&r?n("/dashboard"):n()});const Uk=((...t)=>{const e=(hi||(hi=pr(ui))).createApp(...t),{mount:n}=e;return e.mount=t=>{const r=function(t){if(g(t)){return document.querySelector(t)}return t}(t);if(!r)return;const s=e._component;m(s)||s.render||s.template||(s.template=r.innerHTML),1===r.nodeType&&(r.textContent="");const i=n(r,!1,function(t){if(t instanceof SVGElement)return"svg";if("function"==typeof MathMLElement&&t instanceof MathMLElement)return"mathml"}(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),i},e})(pi);Uk.use(qk),Uk.mount("#app");export{F_ as _,KE as c,YE as g};
